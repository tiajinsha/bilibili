var GJ=Object.defineProperty,$J=Object.defineProperties;var KJ=Object.getOwnPropertyDescriptors;var Ax=Object.getOwnPropertySymbols;var NI=Object.prototype.hasOwnProperty,kI=Object.prototype.propertyIsEnumerable;var OI=(t,e,n)=>e in t?GJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,nt=(t,e)=>{for(var n in e||(e={}))NI.call(e,n)&&OI(t,n,e[n]);if(Ax)for(var n of Ax(e))kI.call(e,n)&&OI(t,n,e[n]);return t},Jt=(t,e)=>$J(t,KJ(e));var Hh=(t,e)=>{var n={};for(var r in t)NI.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Ax)for(var r of Ax(t))e.indexOf(r)<0&&kI.call(t,r)&&(n[r]=t[r]);return n};function qJ(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}const XJ=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}};XJ();var Ca=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function QOe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var rT={},g1={exports:{}},rs={},v={exports:{}},ir={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H0=Symbol.for("react.element"),YJ=Symbol.for("react.portal"),ZJ=Symbol.for("react.fragment"),JJ=Symbol.for("react.strict_mode"),QJ=Symbol.for("react.profiler"),eQ=Symbol.for("react.provider"),tQ=Symbol.for("react.context"),nQ=Symbol.for("react.forward_ref"),rQ=Symbol.for("react.suspense"),iQ=Symbol.for("react.memo"),oQ=Symbol.for("react.lazy"),II=Symbol.iterator;function aQ(t){return t===null||typeof t!="object"?null:(t=II&&t[II]||t["@@iterator"],typeof t=="function"?t:null)}var l8={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},u8=Object.assign,c8={};function km(t,e,n){this.props=t,this.context=e,this.refs=c8,this.updater=n||l8}km.prototype.isReactComponent={};km.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};km.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function d8(){}d8.prototype=km.prototype;function RR(t,e,n){this.props=t,this.context=e,this.refs=c8,this.updater=n||l8}var OR=RR.prototype=new d8;OR.constructor=RR;u8(OR,km.prototype);OR.isPureReactComponent=!0;var LI=Array.isArray,f8=Object.prototype.hasOwnProperty,NR={current:null},h8={key:!0,ref:!0,__self:!0,__source:!0};function p8(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)f8.call(e,r)&&!h8.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:H0,type:t,key:o,ref:a,props:i,_owner:NR.current}}function sQ(t,e){return{$$typeof:H0,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function kR(t){return typeof t=="object"&&t!==null&&t.$$typeof===H0}function lQ(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var DI=/\/+/g;function GE(t,e){return typeof t=="object"&&t!==null&&t.key!=null?lQ(""+t.key):e.toString(36)}function dw(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case H0:case YJ:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+GE(a,0):r,LI(i)?(n="",t!=null&&(n=t.replace(DI,"$&/")+"/"),dw(i,e,n,"",function(u){return u})):i!=null&&(kR(i)&&(i=sQ(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(DI,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",LI(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+GE(o,s);a+=dw(o,e,n,l,i)}else if(l=aQ(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+GE(o,s++),a+=dw(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Rx(t,e,n){if(t==null)return t;var r=[],i=0;return dw(t,r,"","",function(o){return e.call(n,o,i++)}),r}function uQ(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var pa={current:null},fw={transition:null},cQ={ReactCurrentDispatcher:pa,ReactCurrentBatchConfig:fw,ReactCurrentOwner:NR};ir.Children={map:Rx,forEach:function(t,e,n){Rx(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Rx(t,function(){e++}),e},toArray:function(t){return Rx(t,function(e){return e})||[]},only:function(t){if(!kR(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ir.Component=km;ir.Fragment=ZJ;ir.Profiler=QJ;ir.PureComponent=RR;ir.StrictMode=JJ;ir.Suspense=rQ;ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cQ;ir.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=u8({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=NR.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)f8.call(e,l)&&!h8.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:H0,type:t.type,key:i,ref:o,props:r,_owner:a}};ir.createContext=function(t){return t={$$typeof:tQ,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:eQ,_context:t},t.Consumer=t};ir.createElement=p8;ir.createFactory=function(t){var e=p8.bind(null,t);return e.type=t,e};ir.createRef=function(){return{current:null}};ir.forwardRef=function(t){return{$$typeof:nQ,render:t}};ir.isValidElement=kR;ir.lazy=function(t){return{$$typeof:oQ,_payload:{_status:-1,_result:t},_init:uQ}};ir.memo=function(t,e){return{$$typeof:iQ,type:t,compare:e===void 0?null:e}};ir.startTransition=function(t){var e=fw.transition;fw.transition={};try{t()}finally{fw.transition=e}};ir.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ir.useCallback=function(t,e){return pa.current.useCallback(t,e)};ir.useContext=function(t){return pa.current.useContext(t)};ir.useDebugValue=function(){};ir.useDeferredValue=function(t){return pa.current.useDeferredValue(t)};ir.useEffect=function(t,e){return pa.current.useEffect(t,e)};ir.useId=function(){return pa.current.useId()};ir.useImperativeHandle=function(t,e,n){return pa.current.useImperativeHandle(t,e,n)};ir.useInsertionEffect=function(t,e){return pa.current.useInsertionEffect(t,e)};ir.useLayoutEffect=function(t,e){return pa.current.useLayoutEffect(t,e)};ir.useMemo=function(t,e){return pa.current.useMemo(t,e)};ir.useReducer=function(t,e,n){return pa.current.useReducer(t,e,n)};ir.useRef=function(t){return pa.current.useRef(t)};ir.useState=function(t){return pa.current.useState(t)};ir.useSyncExternalStore=function(t,e,n){return pa.current.useSyncExternalStore(t,e,n)};ir.useTransition=function(){return pa.current.useTransition()};ir.version="18.1.0";v.exports=ir;var ln=v.exports,m8={exports:{}},v8={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,Y){var Z=H.length;H.push(Y);e:for(;0<Z;){var oe=Z-1>>>1,re=H[oe];if(0<i(re,Y))H[oe]=Y,H[Z]=re,Z=oe;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var Y=H[0],Z=H.pop();if(Z!==Y){H[0]=Z;e:for(var oe=0,re=H.length,se=re>>>1;oe<se;){var ce=2*(oe+1)-1,ye=H[ce],fe=ce+1,De=H[fe];if(0>i(ye,Z))fe<re&&0>i(De,ye)?(H[oe]=De,H[fe]=Z,oe=fe):(H[oe]=ye,H[ce]=Z,oe=ce);else if(fe<re&&0>i(De,Z))H[oe]=De,H[fe]=Z,oe=fe;else break e}}return Y}function i(H,Y){var Z=H.sortIndex-Y.sortIndex;return Z!==0?Z:H.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,h=null,f=3,m=!1,y=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(H){for(var Y=n(u);Y!==null;){if(Y.callback===null)r(u);else if(Y.startTime<=H)r(u),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=n(u)}}function M(H){if(x=!1,C(H),!y)if(n(l)!==null)y=!0,j(T);else{var Y=n(u);Y!==null&&G(M,Y.startTime-H)}}function T(H,Y){y=!1,x&&(x=!1,w(A),A=-1),m=!0;var Z=f;try{for(C(Y),h=n(l);h!==null&&(!(h.expirationTime>Y)||H&&!D());){var oe=h.callback;if(typeof oe=="function"){h.callback=null,f=h.priorityLevel;var re=oe(h.expirationTime<=Y);Y=t.unstable_now(),typeof re=="function"?h.callback=re:h===n(l)&&r(l),C(Y)}else r(l);h=n(l)}if(h!==null)var se=!0;else{var ce=n(u);ce!==null&&G(M,ce.startTime-Y),se=!1}return se}finally{h=null,f=Z,m=!1}}var R=!1,I=null,A=-1,N=5,L=-1;function D(){return!(t.unstable_now()-L<N)}function W(){if(I!==null){var H=t.unstable_now();L=H;var Y=!0;try{Y=I(!0,H)}finally{Y?V():(R=!1,I=null)}}else R=!1}var V;if(typeof S=="function")V=function(){S(W)};else if(typeof MessageChannel!="undefined"){var B=new MessageChannel,K=B.port2;B.port1.onmessage=W,V=function(){K.postMessage(null)}}else V=function(){b(W,0)};function j(H){I=H,R||(R=!0,V())}function G(H,Y){A=b(function(){H(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,j(T))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(H){switch(f){case 1:case 2:case 3:var Y=3;break;default:Y=f}var Z=f;f=Y;try{return H()}finally{f=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,Y){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Z=f;f=H;try{return Y()}finally{f=Z}},t.unstable_scheduleCallback=function(H,Y,Z){var oe=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?oe+Z:oe):Z=oe,H){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=Z+re,H={id:c++,callback:Y,priorityLevel:H,startTime:Z,expirationTime:re,sortIndex:-1},Z>oe?(H.sortIndex=Z,e(u,H),n(l)===null&&H===n(u)&&(x?(w(A),A=-1):x=!0,G(M,Z-oe))):(H.sortIndex=re,e(l,H),y||m||(y=!0,j(T))),H},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(H){var Y=f;return function(){var Z=f;f=Y;try{return H.apply(this,arguments)}finally{f=Z}}}})(v8);m8.exports=v8;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g8=v.exports,ns=m8.exports;function yt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y8=new Set,Xg={};function eh(t,e){im(t,e),im(t+"Capture",e)}function im(t,e){for(Xg[t]=e,t=0;t<e.length;t++)y8.add(e[t])}var Qu=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),iT=Object.prototype.hasOwnProperty,dQ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,FI={},zI={};function fQ(t){return iT.call(zI,t)?!0:iT.call(FI,t)?!1:dQ.test(t)?zI[t]=!0:(FI[t]=!0,!1)}function hQ(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function pQ(t,e,n,r){if(e===null||typeof e=="undefined"||hQ(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ma(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Oo={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Oo[t]=new ma(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Oo[e]=new ma(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Oo[t]=new ma(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Oo[t]=new ma(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Oo[t]=new ma(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Oo[t]=new ma(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Oo[t]=new ma(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Oo[t]=new ma(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Oo[t]=new ma(t,5,!1,t.toLowerCase(),null,!1,!1)});var IR=/[\-:]([a-z])/g;function LR(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(IR,LR);Oo[e]=new ma(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(IR,LR);Oo[e]=new ma(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(IR,LR);Oo[e]=new ma(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Oo[t]=new ma(t,1,!1,t.toLowerCase(),null,!1,!1)});Oo.xlinkHref=new ma("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Oo[t]=new ma(t,1,!1,t.toLowerCase(),null,!0,!0)});function DR(t,e,n,r){var i=Oo.hasOwnProperty(e)?Oo[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(pQ(e,n,i,r)&&(n=null),r||i===null?fQ(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var oc=g8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ox=Symbol.for("react.element"),Mp=Symbol.for("react.portal"),Tp=Symbol.for("react.fragment"),FR=Symbol.for("react.strict_mode"),oT=Symbol.for("react.profiler"),x8=Symbol.for("react.provider"),b8=Symbol.for("react.context"),zR=Symbol.for("react.forward_ref"),aT=Symbol.for("react.suspense"),sT=Symbol.for("react.suspense_list"),BR=Symbol.for("react.memo"),Yc=Symbol.for("react.lazy"),w8=Symbol.for("react.offscreen"),BI=Symbol.iterator;function Ov(t){return t===null||typeof t!="object"?null:(t=BI&&t[BI]||t["@@iterator"],typeof t=="function"?t:null)}var Si=Object.assign,$E;function ug(t){if($E===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);$E=e&&e[1]||""}return`
`+$E+t}var KE=!1;function qE(t,e){if(!t||KE)return"";KE=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{KE=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ug(t):""}function mQ(t){switch(t.tag){case 5:return ug(t.type);case 16:return ug("Lazy");case 13:return ug("Suspense");case 19:return ug("SuspenseList");case 0:case 2:case 15:return t=qE(t.type,!1),t;case 11:return t=qE(t.type.render,!1),t;case 1:return t=qE(t.type,!0),t;default:return""}}function lT(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Tp:return"Fragment";case Mp:return"Portal";case oT:return"Profiler";case FR:return"StrictMode";case aT:return"Suspense";case sT:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case b8:return(t.displayName||"Context")+".Consumer";case x8:return(t._context.displayName||"Context")+".Provider";case zR:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case BR:return e=t.displayName||null,e!==null?e:lT(t.type)||"Memo";case Yc:e=t._payload,t=t._init;try{return lT(t(e))}catch{}}return null}function vQ(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return lT(e);case 8:return e===FR?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function xd(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _8(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function gQ(t){var e=_8(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Nx(t){t._valueTracker||(t._valueTracker=gQ(t))}function S8(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=_8(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ww(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch{return t.body}}function uT(t,e){var n=e.checked;return Si({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function VI(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=xd(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function C8(t,e){e=e.checked,e!=null&&DR(t,"checked",e,!1)}function cT(t,e){C8(t,e);var n=xd(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?dT(t,e.type,n):e.hasOwnProperty("defaultValue")&&dT(t,e.type,xd(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function UI(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function dT(t,e,n){(e!=="number"||Ww(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var cg=Array.isArray;function Gp(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+xd(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function fT(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(yt(91));return Si({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function HI(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(yt(92));if(cg(n)){if(1<n.length)throw Error(yt(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:xd(n)}}function E8(t,e){var n=xd(e.value),r=xd(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function WI(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function M8(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hT(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?M8(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var kx,T8=function(t){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(kx=kx||document.createElement("div"),kx.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=kx.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Yg(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var _g={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yQ=["Webkit","ms","Moz","O"];Object.keys(_g).forEach(function(t){yQ.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),_g[e]=_g[t]})});function P8(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||_g.hasOwnProperty(t)&&_g[t]?(""+e).trim():e+"px"}function A8(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=P8(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var xQ=Si({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pT(t,e){if(e){if(xQ[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(yt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(yt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(yt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(yt(62))}}function mT(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vT=null;function VR(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gT=null,$p=null,Kp=null;function jI(t){if(t=G0(t)){if(typeof gT!="function")throw Error(yt(280));var e=t.stateNode;e&&(e=_1(e),gT(t.stateNode,t.type,e))}}function R8(t){$p?Kp?Kp.push(t):Kp=[t]:$p=t}function O8(){if($p){var t=$p,e=Kp;if(Kp=$p=null,jI(t),e)for(t=0;t<e.length;t++)jI(e[t])}}function N8(t,e){return t(e)}function k8(){}var XE=!1;function I8(t,e,n){if(XE)return t(e,n);XE=!0;try{return N8(t,e,n)}finally{XE=!1,($p!==null||Kp!==null)&&(k8(),O8())}}function Zg(t,e){var n=t.stateNode;if(n===null)return null;var r=_1(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(yt(231,e,typeof n));return n}var yT=!1;if(Qu)try{var Nv={};Object.defineProperty(Nv,"passive",{get:function(){yT=!0}}),window.addEventListener("test",Nv,Nv),window.removeEventListener("test",Nv,Nv)}catch{yT=!1}function bQ(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Sg=!1,jw=null,Gw=!1,xT=null,wQ={onError:function(t){Sg=!0,jw=t}};function _Q(t,e,n,r,i,o,a,s,l){Sg=!1,jw=null,bQ.apply(wQ,arguments)}function SQ(t,e,n,r,i,o,a,s,l){if(_Q.apply(this,arguments),Sg){if(Sg){var u=jw;Sg=!1,jw=null}else throw Error(yt(198));Gw||(Gw=!0,xT=u)}}function th(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function L8(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function GI(t){if(th(t)!==t)throw Error(yt(188))}function CQ(t){var e=t.alternate;if(!e){if(e=th(t),e===null)throw Error(yt(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return GI(i),t;if(o===r)return GI(i),e;o=o.sibling}throw Error(yt(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(yt(189))}}if(n.alternate!==r)throw Error(yt(190))}if(n.tag!==3)throw Error(yt(188));return n.stateNode.current===n?t:e}function D8(t){return t=CQ(t),t!==null?F8(t):null}function F8(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=F8(t);if(e!==null)return e;t=t.sibling}return null}var z8=ns.unstable_scheduleCallback,$I=ns.unstable_cancelCallback,EQ=ns.unstable_shouldYield,MQ=ns.unstable_requestPaint,Ui=ns.unstable_now,TQ=ns.unstable_getCurrentPriorityLevel,UR=ns.unstable_ImmediatePriority,B8=ns.unstable_UserBlockingPriority,$w=ns.unstable_NormalPriority,PQ=ns.unstable_LowPriority,V8=ns.unstable_IdlePriority,y1=null,Ul=null;function AQ(t){if(Ul&&typeof Ul.onCommitFiberRoot=="function")try{Ul.onCommitFiberRoot(y1,t,void 0,(t.current.flags&128)===128)}catch{}}var sl=Math.clz32?Math.clz32:NQ,RQ=Math.log,OQ=Math.LN2;function NQ(t){return t>>>=0,t===0?32:31-(RQ(t)/OQ|0)|0}var Ix=64,Lx=4194304;function dg(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Kw(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=dg(s):(o&=a,o!==0&&(r=dg(o)))}else a=n&~i,a!==0?r=dg(a):o!==0&&(r=dg(o));if(r===0)return 0;if(e!==0&&e!==r&&(e&i)===0&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if((r&4)!==0&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-sl(e),i=1<<n,r|=t[n],e&=~i;return r}function kQ(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function IQ(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-sl(o),s=1<<a,l=i[a];l===-1?((s&n)===0||(s&r)!==0)&&(i[a]=kQ(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function bT(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function U8(){var t=Ix;return Ix<<=1,(Ix&4194240)===0&&(Ix=64),t}function YE(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function W0(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-sl(e),t[e]=n}function LQ(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-sl(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function HR(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-sl(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ir=0;function H8(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var W8,WR,j8,G8,$8,wT=!1,Dx=[],ud=null,cd=null,dd=null,Jg=new Map,Qg=new Map,Qc=[],DQ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function KI(t,e){switch(t){case"focusin":case"focusout":ud=null;break;case"dragenter":case"dragleave":cd=null;break;case"mouseover":case"mouseout":dd=null;break;case"pointerover":case"pointerout":Jg.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qg.delete(e.pointerId)}}function kv(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=G0(e),e!==null&&WR(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function FQ(t,e,n,r,i){switch(e){case"focusin":return ud=kv(ud,t,e,n,r,i),!0;case"dragenter":return cd=kv(cd,t,e,n,r,i),!0;case"mouseover":return dd=kv(dd,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Jg.set(o,kv(Jg.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Qg.set(o,kv(Qg.get(o)||null,t,e,n,r,i)),!0}return!1}function K8(t){var e=_f(t.target);if(e!==null){var n=th(e);if(n!==null){if(e=n.tag,e===13){if(e=L8(n),e!==null){t.blockedOn=e,$8(t.priority,function(){j8(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hw(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=_T(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);vT=r,n.target.dispatchEvent(r),vT=null}else return e=G0(n),e!==null&&WR(e),t.blockedOn=n,!1;e.shift()}return!0}function qI(t,e,n){hw(t)&&n.delete(e)}function zQ(){wT=!1,ud!==null&&hw(ud)&&(ud=null),cd!==null&&hw(cd)&&(cd=null),dd!==null&&hw(dd)&&(dd=null),Jg.forEach(qI),Qg.forEach(qI)}function Iv(t,e){t.blockedOn===e&&(t.blockedOn=null,wT||(wT=!0,ns.unstable_scheduleCallback(ns.unstable_NormalPriority,zQ)))}function e0(t){function e(i){return Iv(i,t)}if(0<Dx.length){Iv(Dx[0],t);for(var n=1;n<Dx.length;n++){var r=Dx[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ud!==null&&Iv(ud,t),cd!==null&&Iv(cd,t),dd!==null&&Iv(dd,t),Jg.forEach(e),Qg.forEach(e),n=0;n<Qc.length;n++)r=Qc[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Qc.length&&(n=Qc[0],n.blockedOn===null);)K8(n),n.blockedOn===null&&Qc.shift()}var qp=oc.ReactCurrentBatchConfig,qw=!0;function BQ(t,e,n,r){var i=Ir,o=qp.transition;qp.transition=null;try{Ir=1,jR(t,e,n,r)}finally{Ir=i,qp.transition=o}}function VQ(t,e,n,r){var i=Ir,o=qp.transition;qp.transition=null;try{Ir=4,jR(t,e,n,r)}finally{Ir=i,qp.transition=o}}function jR(t,e,n,r){if(qw){var i=_T(t,e,n,r);if(i===null)aM(t,e,r,Xw,n),KI(t,r);else if(FQ(i,t,e,n,r))r.stopPropagation();else if(KI(t,r),e&4&&-1<DQ.indexOf(t)){for(;i!==null;){var o=G0(i);if(o!==null&&W8(o),o=_T(t,e,n,r),o===null&&aM(t,e,r,Xw,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else aM(t,e,r,null,n)}}var Xw=null;function _T(t,e,n,r){if(Xw=null,t=VR(r),t=_f(t),t!==null)if(e=th(t),e===null)t=null;else if(n=e.tag,n===13){if(t=L8(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Xw=t,null}function q8(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(TQ()){case UR:return 1;case B8:return 4;case $w:case PQ:return 16;case V8:return 536870912;default:return 16}default:return 16}}var nd=null,GR=null,pw=null;function X8(){if(pw)return pw;var t,e=GR,n=e.length,r,i="value"in nd?nd.value:nd.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return pw=i.slice(t,1<r?1-r:void 0)}function mw(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Fx(){return!0}function XI(){return!1}function is(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Fx:XI,this.isPropagationStopped=XI,this}return Si(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Fx)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Fx)},persist:function(){},isPersistent:Fx}),e}var Im={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$R=is(Im),j0=Si({},Im,{view:0,detail:0}),UQ=is(j0),ZE,JE,Lv,x1=Si({},j0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:KR,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Lv&&(Lv&&t.type==="mousemove"?(ZE=t.screenX-Lv.screenX,JE=t.screenY-Lv.screenY):JE=ZE=0,Lv=t),ZE)},movementY:function(t){return"movementY"in t?t.movementY:JE}}),YI=is(x1),HQ=Si({},x1,{dataTransfer:0}),WQ=is(HQ),jQ=Si({},j0,{relatedTarget:0}),QE=is(jQ),GQ=Si({},Im,{animationName:0,elapsedTime:0,pseudoElement:0}),$Q=is(GQ),KQ=Si({},Im,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qQ=is(KQ),XQ=Si({},Im,{data:0}),ZI=is(XQ),YQ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ZQ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},JQ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function QQ(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=JQ[t])?!!e[t]:!1}function KR(){return QQ}var eee=Si({},j0,{key:function(t){if(t.key){var e=YQ[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=mw(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ZQ[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:KR,charCode:function(t){return t.type==="keypress"?mw(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?mw(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tee=is(eee),nee=Si({},x1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),JI=is(nee),ree=Si({},j0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:KR}),iee=is(ree),oee=Si({},Im,{propertyName:0,elapsedTime:0,pseudoElement:0}),aee=is(oee),see=Si({},x1,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),lee=is(see),uee=[9,13,27,32],qR=Qu&&"CompositionEvent"in window,Cg=null;Qu&&"documentMode"in document&&(Cg=document.documentMode);var cee=Qu&&"TextEvent"in window&&!Cg,Y8=Qu&&(!qR||Cg&&8<Cg&&11>=Cg),QI=String.fromCharCode(32),eL=!1;function Z8(t,e){switch(t){case"keyup":return uee.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function J8(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pp=!1;function dee(t,e){switch(t){case"compositionend":return J8(e);case"keypress":return e.which!==32?null:(eL=!0,QI);case"textInput":return t=e.data,t===QI&&eL?null:t;default:return null}}function fee(t,e){if(Pp)return t==="compositionend"||!qR&&Z8(t,e)?(t=X8(),pw=GR=nd=null,Pp=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Y8&&e.locale!=="ko"?null:e.data;default:return null}}var hee={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tL(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!hee[t.type]:e==="textarea"}function Q8(t,e,n,r){R8(r),e=Yw(e,"onChange"),0<e.length&&(n=new $R("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Eg=null,t0=null;function pee(t){cB(t,0)}function b1(t){var e=Op(t);if(S8(e))return t}function mee(t,e){if(t==="change")return e}var eB=!1;if(Qu){var eM;if(Qu){var tM="oninput"in document;if(!tM){var nL=document.createElement("div");nL.setAttribute("oninput","return;"),tM=typeof nL.oninput=="function"}eM=tM}else eM=!1;eB=eM&&(!document.documentMode||9<document.documentMode)}function rL(){Eg&&(Eg.detachEvent("onpropertychange",tB),t0=Eg=null)}function tB(t){if(t.propertyName==="value"&&b1(t0)){var e=[];Q8(e,t0,t,VR(t)),I8(pee,e)}}function vee(t,e,n){t==="focusin"?(rL(),Eg=e,t0=n,Eg.attachEvent("onpropertychange",tB)):t==="focusout"&&rL()}function gee(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return b1(t0)}function yee(t,e){if(t==="click")return b1(e)}function xee(t,e){if(t==="input"||t==="change")return b1(e)}function bee(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ul=typeof Object.is=="function"?Object.is:bee;function n0(t,e){if(ul(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!iT.call(e,i)||!ul(t[i],e[i]))return!1}return!0}function iL(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function oL(t,e){var n=iL(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=iL(n)}}function nB(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?nB(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function rB(){for(var t=window,e=Ww();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ww(t.document)}return e}function XR(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function wee(t){var e=rB(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&nB(n.ownerDocument.documentElement,n)){if(r!==null&&XR(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=oL(n,o);var a=oL(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var _ee=Qu&&"documentMode"in document&&11>=document.documentMode,Ap=null,ST=null,Mg=null,CT=!1;function aL(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;CT||Ap==null||Ap!==Ww(r)||(r=Ap,"selectionStart"in r&&XR(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Mg&&n0(Mg,r)||(Mg=r,r=Yw(ST,"onSelect"),0<r.length&&(e=new $R("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ap)))}function zx(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Rp={animationend:zx("Animation","AnimationEnd"),animationiteration:zx("Animation","AnimationIteration"),animationstart:zx("Animation","AnimationStart"),transitionend:zx("Transition","TransitionEnd")},nM={},iB={};Qu&&(iB=document.createElement("div").style,"AnimationEvent"in window||(delete Rp.animationend.animation,delete Rp.animationiteration.animation,delete Rp.animationstart.animation),"TransitionEvent"in window||delete Rp.transitionend.transition);function w1(t){if(nM[t])return nM[t];if(!Rp[t])return t;var e=Rp[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in iB)return nM[t]=e[n];return t}var oB=w1("animationend"),aB=w1("animationiteration"),sB=w1("animationstart"),lB=w1("transitionend"),uB=new Map,sL="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Td(t,e){uB.set(t,e),eh(e,[t])}for(var rM=0;rM<sL.length;rM++){var iM=sL[rM],See=iM.toLowerCase(),Cee=iM[0].toUpperCase()+iM.slice(1);Td(See,"on"+Cee)}Td(oB,"onAnimationEnd");Td(aB,"onAnimationIteration");Td(sB,"onAnimationStart");Td("dblclick","onDoubleClick");Td("focusin","onFocus");Td("focusout","onBlur");Td(lB,"onTransitionEnd");im("onMouseEnter",["mouseout","mouseover"]);im("onMouseLeave",["mouseout","mouseover"]);im("onPointerEnter",["pointerout","pointerover"]);im("onPointerLeave",["pointerout","pointerover"]);eh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));eh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));eh("onBeforeInput",["compositionend","keypress","textInput","paste"]);eh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));eh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));eh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Eee=new Set("cancel close invalid load scroll toggle".split(" ").concat(fg));function lL(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,SQ(r,e,void 0,t),t.currentTarget=null}function cB(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;lL(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;lL(i,s,u),o=l}}}if(Gw)throw t=xT,Gw=!1,xT=null,t}function ti(t,e){var n=e[AT];n===void 0&&(n=e[AT]=new Set);var r=t+"__bubble";n.has(r)||(dB(e,t,2,!1),n.add(r))}function oM(t,e,n){var r=0;e&&(r|=4),dB(n,t,r,e)}var Bx="_reactListening"+Math.random().toString(36).slice(2);function r0(t){if(!t[Bx]){t[Bx]=!0,y8.forEach(function(n){n!=="selectionchange"&&(Eee.has(n)||oM(n,!1,t),oM(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Bx]||(e[Bx]=!0,oM("selectionchange",!1,e))}}function dB(t,e,n,r){switch(q8(e)){case 1:var i=BQ;break;case 4:i=VQ;break;default:i=jR}n=i.bind(null,e,n,t),i=void 0,!yT||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function aM(t,e,n,r,i){var o=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=_f(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}I8(function(){var u=o,c=VR(n),h=[];e:{var f=uB.get(t);if(f!==void 0){var m=$R,y=t;switch(t){case"keypress":if(mw(n)===0)break e;case"keydown":case"keyup":m=tee;break;case"focusin":y="focus",m=QE;break;case"focusout":y="blur",m=QE;break;case"beforeblur":case"afterblur":m=QE;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=YI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=WQ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=iee;break;case oB:case aB:case sB:m=$Q;break;case lB:m=aee;break;case"scroll":m=UQ;break;case"wheel":m=lee;break;case"copy":case"cut":case"paste":m=qQ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=JI}var x=(e&4)!==0,b=!x&&t==="scroll",w=x?f!==null?f+"Capture":null:f;x=[];for(var S=u,C;S!==null;){C=S;var M=C.stateNode;if(C.tag===5&&M!==null&&(C=M,w!==null&&(M=Zg(S,w),M!=null&&x.push(i0(S,M,C)))),b)break;S=S.return}0<x.length&&(f=new m(f,y,null,n,c),h.push({event:f,listeners:x}))}}if((e&7)===0){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==vT&&(y=n.relatedTarget||n.fromElement)&&(_f(y)||y[ec]))break e;if((m||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?_f(y):null,y!==null&&(b=th(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(x=YI,M="onMouseLeave",w="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(x=JI,M="onPointerLeave",w="onPointerEnter",S="pointer"),b=m==null?f:Op(m),C=y==null?f:Op(y),f=new x(M,S+"leave",m,n,c),f.target=b,f.relatedTarget=C,M=null,_f(c)===u&&(x=new x(w,S+"enter",y,n,c),x.target=C,x.relatedTarget=b,M=x),b=M,m&&y)t:{for(x=m,w=y,S=0,C=x;C;C=Wh(C))S++;for(C=0,M=w;M;M=Wh(M))C++;for(;0<S-C;)x=Wh(x),S--;for(;0<C-S;)w=Wh(w),C--;for(;S--;){if(x===w||w!==null&&x===w.alternate)break t;x=Wh(x),w=Wh(w)}x=null}else x=null;m!==null&&uL(h,f,m,x,!1),y!==null&&b!==null&&uL(h,b,y,x,!0)}}e:{if(f=u?Op(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var T=mee;else if(tL(f))if(eB)T=xee;else{T=gee;var R=vee}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=yee);if(T&&(T=T(t,u))){Q8(h,T,n,c);break e}R&&R(t,f,u),t==="focusout"&&(R=f._wrapperState)&&R.controlled&&f.type==="number"&&dT(f,"number",f.value)}switch(R=u?Op(u):window,t){case"focusin":(tL(R)||R.contentEditable==="true")&&(Ap=R,ST=u,Mg=null);break;case"focusout":Mg=ST=Ap=null;break;case"mousedown":CT=!0;break;case"contextmenu":case"mouseup":case"dragend":CT=!1,aL(h,n,c);break;case"selectionchange":if(_ee)break;case"keydown":case"keyup":aL(h,n,c)}var I;if(qR)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Pp?Z8(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(Y8&&n.locale!=="ko"&&(Pp||A!=="onCompositionStart"?A==="onCompositionEnd"&&Pp&&(I=X8()):(nd=c,GR="value"in nd?nd.value:nd.textContent,Pp=!0)),R=Yw(u,A),0<R.length&&(A=new ZI(A,t,null,n,c),h.push({event:A,listeners:R}),I?A.data=I:(I=J8(n),I!==null&&(A.data=I)))),(I=cee?dee(t,n):fee(t,n))&&(u=Yw(u,"onBeforeInput"),0<u.length&&(c=new ZI("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=I))}cB(h,e)})}function i0(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Yw(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Zg(t,n),o!=null&&r.unshift(i0(t,o,i)),o=Zg(t,e),o!=null&&r.push(i0(t,o,i))),t=t.return}return r}function Wh(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function uL(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=Zg(n,o),l!=null&&a.unshift(i0(n,l,s))):i||(l=Zg(n,o),l!=null&&a.push(i0(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var Mee=/\r\n?/g,Tee=/\u0000|\uFFFD/g;function cL(t){return(typeof t=="string"?t:""+t).replace(Mee,`
`).replace(Tee,"")}function Vx(t,e,n){if(e=cL(e),cL(t)!==e&&n)throw Error(yt(425))}function Zw(){}var ET=null,MT=null;function TT(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var PT=typeof setTimeout=="function"?setTimeout:void 0,Pee=typeof clearTimeout=="function"?clearTimeout:void 0,dL=typeof Promise=="function"?Promise:void 0,Aee=typeof queueMicrotask=="function"?queueMicrotask:typeof dL!="undefined"?function(t){return dL.resolve(null).then(t).catch(Ree)}:PT;function Ree(t){setTimeout(function(){throw t})}function sM(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),e0(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);e0(e)}function Uu(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function fL(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Lm=Math.random().toString(36).slice(2),Dl="__reactFiber$"+Lm,o0="__reactProps$"+Lm,ec="__reactContainer$"+Lm,AT="__reactEvents$"+Lm,Oee="__reactListeners$"+Lm,Nee="__reactHandles$"+Lm;function _f(t){var e=t[Dl];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ec]||n[Dl]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=fL(t);t!==null;){if(n=t[Dl])return n;t=fL(t)}return e}t=n,n=t.parentNode}return null}function G0(t){return t=t[Dl]||t[ec],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Op(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(yt(33))}function _1(t){return t[o0]||null}var RT=[],Np=-1;function Pd(t){return{current:t}}function ii(t){0>Np||(t.current=RT[Np],RT[Np]=null,Np--)}function Zr(t,e){Np++,RT[Np]=t.current,t.current=e}var bd={},Ko=Pd(bd),Ta=Pd(!1),Df=bd;function om(t,e){var n=t.type.contextTypes;if(!n)return bd;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Pa(t){return t=t.childContextTypes,t!=null}function Jw(){ii(Ta),ii(Ko)}function hL(t,e,n){if(Ko.current!==bd)throw Error(yt(168));Zr(Ko,e),Zr(Ta,n)}function fB(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(yt(108,vQ(t)||"Unknown",i));return Si({},n,r)}function Qw(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||bd,Df=Ko.current,Zr(Ko,t),Zr(Ta,Ta.current),!0}function pL(t,e,n){var r=t.stateNode;if(!r)throw Error(yt(169));n?(t=fB(t,e,Df),r.__reactInternalMemoizedMergedChildContext=t,ii(Ta),ii(Ko),Zr(Ko,t)):ii(Ta),Zr(Ta,n)}var Fu=null,S1=!1,lM=!1;function hB(t){Fu===null?Fu=[t]:Fu.push(t)}function kee(t){S1=!0,hB(t)}function Ad(){if(!lM&&Fu!==null){lM=!0;var t=0,e=Ir;try{var n=Fu;for(Ir=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Fu=null,S1=!1}catch(i){throw Fu!==null&&(Fu=Fu.slice(t+1)),z8(UR,Ad),i}finally{Ir=e,lM=!1}}return null}var Iee=oc.ReactCurrentBatchConfig;function tl(t,e){if(t&&t.defaultProps){e=Si({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var e_=Pd(null),t_=null,kp=null,YR=null;function ZR(){YR=kp=t_=null}function JR(t){var e=e_.current;ii(e_),t._currentValue=e}function OT(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Xp(t,e){t_=t,YR=kp=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(Ma=!0),t.firstContext=null)}function Ps(t){var e=t._currentValue;if(YR!==t)if(t={context:t,memoizedValue:e,next:null},kp===null){if(t_===null)throw Error(yt(308));kp=t,t_.dependencies={lanes:0,firstContext:t}}else kp=kp.next=t;return e}var ol=null,Zc=!1;function QR(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pB(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function $u(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function fd(t,e){var n=t.updateQueue;n!==null&&(n=n.shared,rV(t)?(t=n.interleaved,t===null?(e.next=e,ol===null?ol=[n]:ol.push(n)):(e.next=t.next,t.next=e),n.interleaved=e):(t=n.pending,t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e))}function vw(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,HR(t,n)}}function mL(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function n_(t,e,n,r){var i=t.updateQueue;Zc=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var h=i.baseState;a=0,c=u=l=null,s=o;do{var f=s.lane,m=s.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var y=t,x=s;switch(f=e,m=n,x.tag){case 1:if(y=x.payload,typeof y=="function"){h=y.call(m,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,f=typeof y=="function"?y.call(m,h,f):y,f==null)break e;h=Si({},h,f);break e;case 2:Zc=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[s]:f.push(s))}else m={eventTime:m,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=m,l=h):c=c.next=m,a|=f;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;f=s,s=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Bf|=a,t.lanes=a,t.memoizedState=h}}function vL(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(yt(191,i));i.call(r)}}}var mB=new g8.Component().refs;function NT(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Si({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var C1={isMounted:function(t){return(t=t._reactInternals)?th(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ca(),i=pd(t),o=$u(r,i);o.payload=e,n!=null&&(o.callback=n),fd(t,o),e=Ms(t,i,r),e!==null&&vw(e,t,i)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ca(),i=pd(t),o=$u(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),fd(t,o),e=Ms(t,i,r),e!==null&&vw(e,t,i)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ca(),r=pd(t),i=$u(n,r);i.tag=2,e!=null&&(i.callback=e),fd(t,i),e=Ms(t,r,n),e!==null&&vw(e,t,r)}};function gL(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!n0(n,r)||!n0(i,o):!0}function vB(t,e,n){var r=!1,i=bd,o=e.contextType;return typeof o=="object"&&o!==null?o=Ps(o):(i=Pa(e)?Df:Ko.current,r=e.contextTypes,o=(r=r!=null)?om(t,i):bd),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=C1,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function yL(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&C1.enqueueReplaceState(e,e.state,null)}function kT(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=mB,QR(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Ps(o):(o=Pa(e)?Df:Ko.current,i.context=om(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(NT(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&C1.enqueueReplaceState(i,i.state,null),n_(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}var Ip=[],Lp=0,r_=null,i_=0,bs=[],ws=0,Ff=null,Hu=1,Wu="";function cf(t,e){Ip[Lp++]=i_,Ip[Lp++]=r_,r_=t,i_=e}function gB(t,e,n){bs[ws++]=Hu,bs[ws++]=Wu,bs[ws++]=Ff,Ff=t;var r=Hu;t=Wu;var i=32-sl(r)-1;r&=~(1<<i),n+=1;var o=32-sl(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Hu=1<<32-sl(e)+i|n<<i|r,Wu=o+t}else Hu=1<<o|n<<i|r,Wu=t}function e3(t){t.return!==null&&(cf(t,1),gB(t,1,0))}function t3(t){for(;t===r_;)r_=Ip[--Lp],Ip[Lp]=null,i_=Ip[--Lp],Ip[Lp]=null;for(;t===Ff;)Ff=bs[--ws],bs[ws]=null,Wu=bs[--ws],bs[ws]=null,Hu=bs[--ws],bs[ws]=null}var Za=null,Ea=null,ui=!1,il=null;function yB(t,e){var n=Ss(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function xL(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Za=t,Ea=Uu(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Za=t,Ea=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ff!==null?{id:Hu,overflow:Wu}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ss(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Za=t,Ea=null,!0):!1;default:return!1}}function IT(t){return(t.mode&1)!==0&&(t.flags&128)===0}function LT(t){if(ui){var e=Ea;if(e){var n=e;if(!xL(t,e)){if(IT(t))throw Error(yt(418));e=Uu(n.nextSibling);var r=Za;e&&xL(t,e)?yB(r,n):(t.flags=t.flags&-4097|2,ui=!1,Za=t)}}else{if(IT(t))throw Error(yt(418));t.flags=t.flags&-4097|2,ui=!1,Za=t}}}function bL(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Za=t}function Dv(t){if(t!==Za)return!1;if(!ui)return bL(t),ui=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!TT(t.type,t.memoizedProps)),e&&(e=Ea)){if(IT(t)){for(t=Ea;t;)t=Uu(t.nextSibling);throw Error(yt(418))}for(;e;)yB(t,e),e=Uu(e.nextSibling)}if(bL(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(yt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ea=Uu(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ea=null}}else Ea=Za?Uu(t.stateNode.nextSibling):null;return!0}function am(){Ea=Za=null,ui=!1}function n3(t){il===null?il=[t]:il.push(t)}function Fv(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(yt(309));var r=n.stateNode}if(!r)throw Error(yt(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;s===mB&&(s=i.refs={}),a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(yt(284));if(!n._owner)throw Error(yt(290,t))}return t}function Ux(t,e){throw t=Object.prototype.toString.call(e),Error(yt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function wL(t){var e=t._init;return e(t._payload)}function xB(t){function e(w,S){if(t){var C=w.deletions;C===null?(w.deletions=[S],w.flags|=16):C.push(S)}}function n(w,S){if(!t)return null;for(;S!==null;)e(w,S),S=S.sibling;return null}function r(w,S){for(w=new Map;S!==null;)S.key!==null?w.set(S.key,S):w.set(S.index,S),S=S.sibling;return w}function i(w,S){return w=wd(w,S),w.index=0,w.sibling=null,w}function o(w,S,C){return w.index=C,t?(C=w.alternate,C!==null?(C=C.index,C<S?(w.flags|=2,S):C):(w.flags|=2,S)):(w.flags|=1048576,S)}function a(w){return t&&w.alternate===null&&(w.flags|=2),w}function s(w,S,C,M){return S===null||S.tag!==6?(S=pM(C,w.mode,M),S.return=w,S):(S=i(S,C),S.return=w,S)}function l(w,S,C,M){var T=C.type;return T===Tp?c(w,S,C.props.children,M,C.key):S!==null&&(S.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Yc&&wL(T)===S.type)?(M=i(S,C.props),M.ref=Fv(w,S,C),M.return=w,M):(M=ww(C.type,C.key,C.props,null,w.mode,M),M.ref=Fv(w,S,C),M.return=w,M)}function u(w,S,C,M){return S===null||S.tag!==4||S.stateNode.containerInfo!==C.containerInfo||S.stateNode.implementation!==C.implementation?(S=mM(C,w.mode,M),S.return=w,S):(S=i(S,C.children||[]),S.return=w,S)}function c(w,S,C,M,T){return S===null||S.tag!==7?(S=Af(C,w.mode,M,T),S.return=w,S):(S=i(S,C),S.return=w,S)}function h(w,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return S=pM(""+S,w.mode,C),S.return=w,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ox:return C=ww(S.type,S.key,S.props,null,w.mode,C),C.ref=Fv(w,null,S),C.return=w,C;case Mp:return S=mM(S,w.mode,C),S.return=w,S;case Yc:var M=S._init;return h(w,M(S._payload),C)}if(cg(S)||Ov(S))return S=Af(S,w.mode,C,null),S.return=w,S;Ux(w,S)}return null}function f(w,S,C,M){var T=S!==null?S.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return T!==null?null:s(w,S,""+C,M);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Ox:return C.key===T?l(w,S,C,M):null;case Mp:return C.key===T?u(w,S,C,M):null;case Yc:return T=C._init,f(w,S,T(C._payload),M)}if(cg(C)||Ov(C))return T!==null?null:c(w,S,C,M,null);Ux(w,C)}return null}function m(w,S,C,M,T){if(typeof M=="string"&&M!==""||typeof M=="number")return w=w.get(C)||null,s(S,w,""+M,T);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Ox:return w=w.get(M.key===null?C:M.key)||null,l(S,w,M,T);case Mp:return w=w.get(M.key===null?C:M.key)||null,u(S,w,M,T);case Yc:var R=M._init;return m(w,S,C,R(M._payload),T)}if(cg(M)||Ov(M))return w=w.get(C)||null,c(S,w,M,T,null);Ux(S,M)}return null}function y(w,S,C,M){for(var T=null,R=null,I=S,A=S=0,N=null;I!==null&&A<C.length;A++){I.index>A?(N=I,I=null):N=I.sibling;var L=f(w,I,C[A],M);if(L===null){I===null&&(I=N);break}t&&I&&L.alternate===null&&e(w,I),S=o(L,S,A),R===null?T=L:R.sibling=L,R=L,I=N}if(A===C.length)return n(w,I),ui&&cf(w,A),T;if(I===null){for(;A<C.length;A++)I=h(w,C[A],M),I!==null&&(S=o(I,S,A),R===null?T=I:R.sibling=I,R=I);return ui&&cf(w,A),T}for(I=r(w,I);A<C.length;A++)N=m(I,w,A,C[A],M),N!==null&&(t&&N.alternate!==null&&I.delete(N.key===null?A:N.key),S=o(N,S,A),R===null?T=N:R.sibling=N,R=N);return t&&I.forEach(function(D){return e(w,D)}),ui&&cf(w,A),T}function x(w,S,C,M){var T=Ov(C);if(typeof T!="function")throw Error(yt(150));if(C=T.call(C),C==null)throw Error(yt(151));for(var R=T=null,I=S,A=S=0,N=null,L=C.next();I!==null&&!L.done;A++,L=C.next()){I.index>A?(N=I,I=null):N=I.sibling;var D=f(w,I,L.value,M);if(D===null){I===null&&(I=N);break}t&&I&&D.alternate===null&&e(w,I),S=o(D,S,A),R===null?T=D:R.sibling=D,R=D,I=N}if(L.done)return n(w,I),ui&&cf(w,A),T;if(I===null){for(;!L.done;A++,L=C.next())L=h(w,L.value,M),L!==null&&(S=o(L,S,A),R===null?T=L:R.sibling=L,R=L);return ui&&cf(w,A),T}for(I=r(w,I);!L.done;A++,L=C.next())L=m(I,w,A,L.value,M),L!==null&&(t&&L.alternate!==null&&I.delete(L.key===null?A:L.key),S=o(L,S,A),R===null?T=L:R.sibling=L,R=L);return t&&I.forEach(function(W){return e(w,W)}),ui&&cf(w,A),T}function b(w,S,C,M){if(typeof C=="object"&&C!==null&&C.type===Tp&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Ox:e:{for(var T=C.key,R=S;R!==null;){if(R.key===T){if(T=C.type,T===Tp){if(R.tag===7){n(w,R.sibling),S=i(R,C.props.children),S.return=w,w=S;break e}}else if(R.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Yc&&wL(T)===R.type){n(w,R.sibling),S=i(R,C.props),S.ref=Fv(w,R,C),S.return=w,w=S;break e}n(w,R);break}else e(w,R);R=R.sibling}C.type===Tp?(S=Af(C.props.children,w.mode,M,C.key),S.return=w,w=S):(M=ww(C.type,C.key,C.props,null,w.mode,M),M.ref=Fv(w,S,C),M.return=w,w=M)}return a(w);case Mp:e:{for(R=C.key;S!==null;){if(S.key===R)if(S.tag===4&&S.stateNode.containerInfo===C.containerInfo&&S.stateNode.implementation===C.implementation){n(w,S.sibling),S=i(S,C.children||[]),S.return=w,w=S;break e}else{n(w,S);break}else e(w,S);S=S.sibling}S=mM(C,w.mode,M),S.return=w,w=S}return a(w);case Yc:return R=C._init,b(w,S,R(C._payload),M)}if(cg(C))return y(w,S,C,M);if(Ov(C))return x(w,S,C,M);Ux(w,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,S!==null&&S.tag===6?(n(w,S.sibling),S=i(S,C),S.return=w,w=S):(n(w,S),S=pM(C,w.mode,M),S.return=w,w=S),a(w)):n(w,S)}return b}var sm=xB(!0),bB=xB(!1),$0={},Hl=Pd($0),a0=Pd($0),s0=Pd($0);function Sf(t){if(t===$0)throw Error(yt(174));return t}function r3(t,e){switch(Zr(s0,e),Zr(a0,t),Zr(Hl,$0),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:hT(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=hT(e,t)}ii(Hl),Zr(Hl,e)}function lm(){ii(Hl),ii(a0),ii(s0)}function wB(t){Sf(s0.current);var e=Sf(Hl.current),n=hT(e,t.type);e!==n&&(Zr(a0,t),Zr(Hl,n))}function i3(t){a0.current===t&&(ii(Hl),ii(a0))}var bi=Pd(0);function o_(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var uM=[];function o3(){for(var t=0;t<uM.length;t++)uM[t]._workInProgressVersionPrimary=null;uM.length=0}var gw=oc.ReactCurrentDispatcher,cM=oc.ReactCurrentBatchConfig,zf=0,_i=null,io=null,xo=null,a_=!1,Tg=!1,l0=0,Lee=0;function Fo(){throw Error(yt(321))}function a3(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ul(t[n],e[n]))return!1;return!0}function s3(t,e,n,r,i,o){if(zf=o,_i=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,gw.current=t===null||t.memoizedState===null?Bee:Vee,t=n(r,i),Tg){o=0;do{if(Tg=!1,l0=0,25<=o)throw Error(yt(301));o+=1,xo=io=null,e.updateQueue=null,gw.current=Uee,t=n(r,i)}while(Tg)}if(gw.current=s_,e=io!==null&&io.next!==null,zf=0,xo=io=_i=null,a_=!1,e)throw Error(yt(300));return t}function l3(){var t=l0!==0;return l0=0,t}function Il(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xo===null?_i.memoizedState=xo=t:xo=xo.next=t,xo}function As(){if(io===null){var t=_i.alternate;t=t!==null?t.memoizedState:null}else t=io.next;var e=xo===null?_i.memoizedState:xo.next;if(e!==null)xo=e,io=t;else{if(t===null)throw Error(yt(310));io=t,t={memoizedState:io.memoizedState,baseState:io.baseState,baseQueue:io.baseQueue,queue:io.queue,next:null},xo===null?_i.memoizedState=xo=t:xo=xo.next=t}return xo}function u0(t,e){return typeof e=="function"?e(t):e}function dM(t){var e=As(),n=e.queue;if(n===null)throw Error(yt(311));n.lastRenderedReducer=t;var r=io,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((zf&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=h,a=r):l=l.next=h,_i.lanes|=c,Bf|=c}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,ul(r,e.memoizedState)||(Ma=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,_i.lanes|=o,Bf|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function fM(t){var e=As(),n=e.queue;if(n===null)throw Error(yt(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);ul(o,e.memoizedState)||(Ma=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function _B(){}function SB(t,e){var n=_i,r=As(),i=e(),o=!ul(r.memoizedState,i);if(o&&(r.memoizedState=i,Ma=!0),r=r.queue,u3(MB.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||xo!==null&&xo.memoizedState.tag&1){if(n.flags|=2048,c0(9,EB.bind(null,n,r,i,e),void 0,null),lo===null)throw Error(yt(349));(zf&30)!==0||CB(n,e,i)}return i}function CB(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=_i.updateQueue,e===null?(e={lastEffect:null,stores:null},_i.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function EB(t,e,n,r){e.value=n,e.getSnapshot=r,TB(e)&&Ms(t,1,-1)}function MB(t,e,n){return n(function(){TB(e)&&Ms(t,1,-1)})}function TB(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ul(t,n)}catch{return!0}}function _L(t){var e=Il();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u0,lastRenderedState:t},e.queue=t,t=t.dispatch=zee.bind(null,_i,t),[e.memoizedState,t]}function c0(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=_i.updateQueue,e===null?(e={lastEffect:null,stores:null},_i.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function PB(){return As().memoizedState}function yw(t,e,n,r){var i=Il();_i.flags|=t,i.memoizedState=c0(1|e,n,void 0,r===void 0?null:r)}function E1(t,e,n,r){var i=As();r=r===void 0?null:r;var o=void 0;if(io!==null){var a=io.memoizedState;if(o=a.destroy,r!==null&&a3(r,a.deps)){i.memoizedState=c0(e,n,o,r);return}}_i.flags|=t,i.memoizedState=c0(1|e,n,o,r)}function SL(t,e){return yw(8390656,8,t,e)}function u3(t,e){return E1(2048,8,t,e)}function AB(t,e){return E1(4,2,t,e)}function RB(t,e){return E1(4,4,t,e)}function OB(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function NB(t,e,n){return n=n!=null?n.concat([t]):null,E1(4,4,OB.bind(null,e,t),n)}function c3(){}function kB(t,e){var n=As();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&a3(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function IB(t,e){var n=As();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&a3(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function LB(t,e,n){return(zf&21)===0?(t.baseState&&(t.baseState=!1,Ma=!0),t.memoizedState=n):(ul(n,e)||(n=U8(),_i.lanes|=n,Bf|=n,t.baseState=!0),e)}function Dee(t,e){var n=Ir;Ir=n!==0&&4>n?n:4,t(!0);var r=cM.transition;cM.transition={};try{t(!1),e()}finally{Ir=n,cM.transition=r}}function DB(){return As().memoizedState}function Fee(t,e,n){var r=pd(t);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},FB(t)?zB(e,n):(BB(t,e,n),n=ca(),t=Ms(t,r,n),t!==null&&VB(t,e,r))}function zee(t,e,n){var r=pd(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(FB(t))zB(e,i);else{BB(t,e,i);var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,ul(s,a))return}catch{}finally{}n=ca(),t=Ms(t,r,n),t!==null&&VB(t,e,r)}}function FB(t){var e=t.alternate;return t===_i||e!==null&&e===_i}function zB(t,e){Tg=a_=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function BB(t,e,n){rV(t)?(t=e.interleaved,t===null?(n.next=n,ol===null?ol=[e]:ol.push(e)):(n.next=t.next,t.next=n),e.interleaved=n):(t=e.pending,t===null?n.next=n:(n.next=t.next,t.next=n),e.pending=n)}function VB(t,e,n){if((n&4194240)!==0){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,HR(t,n)}}var s_={readContext:Ps,useCallback:Fo,useContext:Fo,useEffect:Fo,useImperativeHandle:Fo,useInsertionEffect:Fo,useLayoutEffect:Fo,useMemo:Fo,useReducer:Fo,useRef:Fo,useState:Fo,useDebugValue:Fo,useDeferredValue:Fo,useTransition:Fo,useMutableSource:Fo,useSyncExternalStore:Fo,useId:Fo,unstable_isNewReconciler:!1},Bee={readContext:Ps,useCallback:function(t,e){return Il().memoizedState=[t,e===void 0?null:e],t},useContext:Ps,useEffect:SL,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,yw(4194308,4,OB.bind(null,e,t),n)},useLayoutEffect:function(t,e){return yw(4194308,4,t,e)},useInsertionEffect:function(t,e){return yw(4,2,t,e)},useMemo:function(t,e){var n=Il();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Il();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Fee.bind(null,_i,t),[r.memoizedState,t]},useRef:function(t){var e=Il();return t={current:t},e.memoizedState=t},useState:_L,useDebugValue:c3,useDeferredValue:function(t){return Il().memoizedState=t},useTransition:function(){var t=_L(!1),e=t[0];return t=Dee.bind(null,t[1]),Il().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=_i,i=Il();if(ui){if(n===void 0)throw Error(yt(407));n=n()}else{if(n=e(),lo===null)throw Error(yt(349));(zf&30)!==0||CB(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,SL(MB.bind(null,r,o,t),[t]),r.flags|=2048,c0(9,EB.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Il(),e=lo.identifierPrefix;if(ui){var n=Wu,r=Hu;n=(r&~(1<<32-sl(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=l0++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Lee++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Vee={readContext:Ps,useCallback:kB,useContext:Ps,useEffect:u3,useImperativeHandle:NB,useInsertionEffect:AB,useLayoutEffect:RB,useMemo:IB,useReducer:dM,useRef:PB,useState:function(){return dM(u0)},useDebugValue:c3,useDeferredValue:function(t){var e=As();return LB(e,io.memoizedState,t)},useTransition:function(){var t=dM(u0)[0],e=As().memoizedState;return[t,e]},useMutableSource:_B,useSyncExternalStore:SB,useId:DB,unstable_isNewReconciler:!1},Uee={readContext:Ps,useCallback:kB,useContext:Ps,useEffect:u3,useImperativeHandle:NB,useInsertionEffect:AB,useLayoutEffect:RB,useMemo:IB,useReducer:fM,useRef:PB,useState:function(){return fM(u0)},useDebugValue:c3,useDeferredValue:function(t){var e=As();return io===null?e.memoizedState=t:LB(e,io.memoizedState,t)},useTransition:function(){var t=fM(u0)[0],e=As().memoizedState;return[t,e]},useMutableSource:_B,useSyncExternalStore:SB,useId:DB,unstable_isNewReconciler:!1};function d3(t,e){try{var n="",r=e;do n+=mQ(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i}}function DT(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Hee=typeof WeakMap=="function"?WeakMap:Map;function UB(t,e,n){n=$u(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){u_||(u_=!0,GT=r),DT(t,e)},n}function HB(t,e,n){n=$u(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){DT(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){DT(t,e),typeof r!="function"&&(hd===null?hd=new Set([this]):hd.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function CL(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Hee;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=tte.bind(null,t,e,n),e.then(t,t))}function EL(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ML(t,e,n,r,i){return(t.mode&1)===0?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=$u(-1,1),e.tag=2,fd(n,e))),n.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var WB,FT,jB,GB;WB=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};FT=function(){};jB=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Sf(Hl.current);var o=null;switch(n){case"input":i=uT(t,i),r=uT(t,r),o=[];break;case"select":i=Si({},i,{value:void 0}),r=Si({},r,{value:void 0}),o=[];break;case"textarea":i=fT(t,i),r=fT(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Zw)}pT(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Xg.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Xg.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ti("scroll",t),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};GB=function(t,e,n,r){n!==r&&(e.flags|=4)};function zv(t,e){if(!ui)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function zo(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Wee(t,e,n){var r=e.pendingProps;switch(t3(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zo(e),null;case 1:return Pa(e.type)&&Jw(),zo(e),null;case 3:return r=e.stateNode,lm(),ii(Ta),ii(Ko),o3(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Dv(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,il!==null&&(qT(il),il=null))),FT(t,e),zo(e),null;case 5:i3(e);var i=Sf(s0.current);if(n=e.type,t!==null&&e.stateNode!=null)jB(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(yt(166));return zo(e),null}if(t=Sf(Hl.current),Dv(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Dl]=e,r[o0]=o,t=(e.mode&1)!==0,n){case"dialog":ti("cancel",r),ti("close",r);break;case"iframe":case"object":case"embed":ti("load",r);break;case"video":case"audio":for(i=0;i<fg.length;i++)ti(fg[i],r);break;case"source":ti("error",r);break;case"img":case"image":case"link":ti("error",r),ti("load",r);break;case"details":ti("toggle",r);break;case"input":VI(r,o),ti("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ti("invalid",r);break;case"textarea":HI(r,o),ti("invalid",r)}pT(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&Vx(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Vx(r.textContent,s,t),i=["children",""+s]):Xg.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&ti("scroll",r)}switch(n){case"input":Nx(r),UI(r,o,!0);break;case"textarea":Nx(r),WI(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Zw)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=M8(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Dl]=e,t[o0]=r,WB(t,e,!1,!1),e.stateNode=t;e:{switch(a=mT(n,r),n){case"dialog":ti("cancel",t),ti("close",t),i=r;break;case"iframe":case"object":case"embed":ti("load",t),i=r;break;case"video":case"audio":for(i=0;i<fg.length;i++)ti(fg[i],t);i=r;break;case"source":ti("error",t),i=r;break;case"img":case"image":case"link":ti("error",t),ti("load",t),i=r;break;case"details":ti("toggle",t),i=r;break;case"input":VI(t,r),i=uT(t,r),ti("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Si({},r,{value:void 0}),ti("invalid",t);break;case"textarea":HI(t,r),i=fT(t,r),ti("invalid",t);break;default:i=r}pT(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?A8(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&T8(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Yg(t,l):typeof l=="number"&&Yg(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Xg.hasOwnProperty(o)?l!=null&&o==="onScroll"&&ti("scroll",t):l!=null&&DR(t,o,l,a))}switch(n){case"input":Nx(t),UI(t,r,!1);break;case"textarea":Nx(t),WI(t);break;case"option":r.value!=null&&t.setAttribute("value",""+xd(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Gp(t,!!r.multiple,o,!1):r.defaultValue!=null&&Gp(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Zw)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return zo(e),null;case 6:if(t&&e.stateNode!=null)GB(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(yt(166));if(n=Sf(s0.current),Sf(Hl.current),Dv(e)){if(r=e.stateNode,n=e.memoizedProps,r[Dl]=e,(o=r.nodeValue!==n)&&(t=Za,t!==null))switch(t.tag){case 3:Vx(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Vx(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Dl]=e,e.stateNode=r}return zo(e),null;case 13:if(ii(bi),r=e.memoizedState,ui&&Ea!==null&&(e.mode&1)!==0&&(e.flags&128)===0){for(r=Ea;r;)r=Uu(r.nextSibling);return am(),e.flags|=98560,e}if(r!==null&&r.dehydrated!==null){if(r=Dv(e),t===null){if(!r)throw Error(yt(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(yt(317));r[Dl]=e}else am(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;return zo(e),null}return il!==null&&(qT(il),il=null),(e.flags&128)!==0?(e.lanes=n,e):(r=r!==null,n=!1,t===null?Dv(e):n=t.memoizedState!==null,r!==n&&r&&(e.child.flags|=8192,(e.mode&1)!==0&&(t===null||(bi.current&1)!==0?ao===0&&(ao=3):g3())),e.updateQueue!==null&&(e.flags|=4),zo(e),null);case 4:return lm(),FT(t,e),t===null&&r0(e.stateNode.containerInfo),zo(e),null;case 10:return JR(e.type._context),zo(e),null;case 17:return Pa(e.type)&&Jw(),zo(e),null;case 19:if(ii(bi),o=e.memoizedState,o===null)return zo(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)zv(o,!1);else{if(ao!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(a=o_(t),a!==null){for(e.flags|=128,zv(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Zr(bi,bi.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ui()>um&&(e.flags|=128,r=!0,zv(o,!1),e.lanes=4194304)}else{if(!r)if(t=o_(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),zv(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!ui)return zo(e),null}else 2*Ui()-o.renderingStartTime>um&&n!==1073741824&&(e.flags|=128,r=!0,zv(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ui(),e.sibling=null,n=bi.current,Zr(bi,r?n&1|2:n&1),e):(zo(e),null);case 22:case 23:return v3(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&(e.mode&1)!==0?($a&1073741824)!==0&&(zo(e),e.subtreeFlags&6&&(e.flags|=8192)):zo(e),null;case 24:return null;case 25:return null}throw Error(yt(156,e.tag))}var jee=oc.ReactCurrentOwner,Ma=!1;function aa(t,e,n,r){e.child=t===null?bB(e,null,n,r):sm(e,t.child,n,r)}function TL(t,e,n,r,i){n=n.render;var o=e.ref;return Xp(e,i),r=s3(t,e,n,r,o,i),n=l3(),t!==null&&!Ma?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,tc(t,e,i)):(ui&&n&&e3(e),e.flags|=1,aa(t,e,r,i),e.child)}function PL(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!y3(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,$B(t,e,o,r,i)):(t=ww(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,(t.lanes&i)===0){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:n0,n(a,r)&&t.ref===e.ref)return tc(t,e,i)}return e.flags|=1,t=wd(o,r),t.ref=e.ref,t.return=e,e.child=t}function $B(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(n0(o,r)&&t.ref===e.ref)if(Ma=!1,e.pendingProps=r=o,(t.lanes&i)!==0)(t.flags&131072)!==0&&(Ma=!0);else return e.lanes=t.lanes,tc(t,e,i)}return zT(t,e,n,r,i)}function KB(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Zr(Fp,$a),$a|=n;else if((n&1073741824)!==0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Zr(Fp,$a),$a|=r;else return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Zr(Fp,$a),$a|=t,null;else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Zr(Fp,$a),$a|=r;return aa(t,e,i,n),e.child}function qB(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function zT(t,e,n,r,i){var o=Pa(n)?Df:Ko.current;return o=om(e,o),Xp(e,i),n=s3(t,e,n,r,o,i),r=l3(),t!==null&&!Ma?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,tc(t,e,i)):(ui&&r&&e3(e),e.flags|=1,aa(t,e,n,i),e.child)}function AL(t,e,n,r,i){if(Pa(n)){var o=!0;Qw(e)}else o=!1;if(Xp(e,i),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),vB(e,n,r),kT(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ps(u):(u=Pa(n)?Df:Ko.current,u=om(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&yL(e,a,r,u),Zc=!1;var f=e.memoizedState;a.state=f,n_(e,r,a,i),l=e.memoizedState,s!==r||f!==l||Ta.current||Zc?(typeof c=="function"&&(NT(e,n,c,r),l=e.memoizedState),(s=Zc||gL(e,n,s,r,f,l,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,pB(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:tl(e.type,s),a.props=u,h=e.pendingProps,f=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ps(l):(l=Pa(n)?Df:Ko.current,l=om(e,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==h||f!==l)&&yL(e,a,r,l),Zc=!1,f=e.memoizedState,a.state=f,n_(e,r,a,i);var y=e.memoizedState;s!==h||f!==y||Ta.current||Zc?(typeof m=="function"&&(NT(e,n,m,r),y=e.memoizedState),(u=Zc||gL(e,n,u,r,f,y,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,y,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,y,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),a.props=r,a.state=y,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return BT(t,e,n,r,o,i)}function BT(t,e,n,r,i,o){qB(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&pL(e,n,!1),tc(t,e,o);r=e.stateNode,jee.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=sm(e,t.child,null,o),e.child=sm(e,null,s,o)):aa(t,e,s,o),e.memoizedState=r.state,i&&pL(e,n,!0),e.child}function XB(t){var e=t.stateNode;e.pendingContext?hL(t,e.pendingContext,e.pendingContext!==e.context):e.context&&hL(t,e.context,!1),r3(t,e.containerInfo)}function RL(t,e,n,r,i){return am(),n3(i),e.flags|=256,aa(t,e,n,r),e.child}var Hx={dehydrated:null,treeContext:null,retryLane:0};function Wx(t){return{baseLanes:t,cachePool:null,transitions:null}}function OL(t,e){return{baseLanes:t.baseLanes|e,cachePool:null,transitions:t.transitions}}function YB(t,e,n){var r=e.pendingProps,i=bi.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Zr(bi,i&1),t===null)return LT(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((e.mode&1)===0?e.lanes=1:t.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(i=r.children,t=r.fallback,o?(r=e.mode,o=e.child,i={mode:"hidden",children:i},(r&1)===0&&o!==null?(o.childLanes=0,o.pendingProps=i):o=f_(i,r,0,null),t=Af(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Wx(n),e.memoizedState=Hx,t):VT(e,i));if(i=t.memoizedState,i!==null){if(s=i.dehydrated,s!==null){if(a)return e.flags&256?(e.flags&=-257,jx(t,e,n,Error(yt(422)))):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=f_({mode:"visible",children:r.children},i,0,null),o=Af(o,i,n,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,(e.mode&1)!==0&&sm(e,t.child,null,n),e.child.memoizedState=Wx(n),e.memoizedState=Hx,o);if((e.mode&1)===0)e=jx(t,e,n,null);else if(s.data==="$!")e=jx(t,e,n,Error(yt(419)));else if(r=(n&t.childLanes)!==0,Ma||r){if(r=lo,r!==null){switch(n&-n){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}r=(o&(r.suspendedLanes|n))!==0?0:o,r!==0&&r!==i.retryLane&&(i.retryLane=r,Ms(t,r,-1))}g3(),e=jx(t,e,n,Error(yt(421)))}else s.data==="$?"?(e.flags|=128,e.child=t.child,e=nte.bind(null,t),s._reactRetry=e,e=null):(n=i.treeContext,Ea=Uu(s.nextSibling),Za=e,ui=!0,il=null,n!==null&&(bs[ws++]=Hu,bs[ws++]=Wu,bs[ws++]=Ff,Hu=n.id,Wu=n.overflow,Ff=e),e=VT(e,e.pendingProps.children),e.flags|=4096);return e}return o?(r=kL(t,e,r.children,r.fallback,n),o=e.child,i=t.child.memoizedState,o.memoizedState=i===null?Wx(n):OL(i,n),o.childLanes=t.childLanes&~n,e.memoizedState=Hx,r):(n=NL(t,e,r.children,n),e.memoizedState=null,n)}return o?(r=kL(t,e,r.children,r.fallback,n),o=e.child,i=t.child.memoizedState,o.memoizedState=i===null?Wx(n):OL(i,n),o.childLanes=t.childLanes&~n,e.memoizedState=Hx,r):(n=NL(t,e,r.children,n),e.memoizedState=null,n)}function VT(t,e){return e=f_({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function NL(t,e,n,r){var i=t.child;return t=i.sibling,n=wd(i,{mode:"visible",children:n}),(e.mode&1)===0&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n}function kL(t,e,n,r,i){var o=e.mode;t=t.child;var a=t.sibling,s={mode:"hidden",children:n};return(o&1)===0&&e.child!==t?(n=e.child,n.childLanes=0,n.pendingProps=s,e.deletions=null):(n=wd(t,s),n.subtreeFlags=t.subtreeFlags&14680064),a!==null?r=wd(a,r):(r=Af(r,o,i,null),r.flags|=2),r.return=e,n.return=e,n.sibling=r,e.child=n,r}function jx(t,e,n,r){return r!==null&&n3(r),sm(e,t.child,null,n),t=VT(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function IL(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),OT(t.return,e,n)}function hM(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function ZB(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(aa(t,e,r.children,n),r=bi.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&IL(t,n,e);else if(t.tag===19)IL(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Zr(bi,r),(e.mode&1)===0)e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&o_(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),hM(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&o_(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}hM(e,!0,n,null,o);break;case"together":hM(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function tc(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Bf|=e.lanes,(n&e.childLanes)===0)return null;if(t!==null&&e.child!==t.child)throw Error(yt(153));if(e.child!==null){for(t=e.child,n=wd(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=wd(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Gee(t,e,n){switch(e.tag){case 3:XB(e),am();break;case 5:wB(e);break;case 1:Pa(e.type)&&Qw(e);break;case 4:r3(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Zr(e_,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Zr(bi,bi.current&1),e.flags|=128,null):(n&e.child.childLanes)!==0?YB(t,e,n):(Zr(bi,bi.current&1),t=tc(t,e,n),t!==null?t.sibling:null);Zr(bi,bi.current&1);break;case 19:if(r=(n&e.childLanes)!==0,(t.flags&128)!==0){if(r)return ZB(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Zr(bi,bi.current),r)break;return null;case 22:case 23:return e.lanes=0,KB(t,e,n)}return tc(t,e,n)}function $ee(t,e){switch(t3(e),e.tag){case 1:return Pa(e.type)&&Jw(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return lm(),ii(Ta),ii(Ko),o3(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 5:return i3(e),null;case 13:if(ii(bi),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(yt(340));am()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ii(bi),null;case 4:return lm(),null;case 10:return JR(e.type._context),null;case 22:case 23:return v3(),null;case 24:return null;default:return null}}var Gx=!1,Wo=!1,Kee=typeof WeakSet=="function"?WeakSet:Set,jt=null;function Dp(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Pi(t,e,r)}else n.current=null}function UT(t,e,n){try{n()}catch(r){Pi(t,e,r)}}var LL=!1;function qee(t,e){if(ET=qw,t=rB(),XR(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,h=t,f=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(s=a+i),h!==o||r!==0&&h.nodeType!==3||(l=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++u===i&&(s=a),f===o&&++c===r&&(l=a),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(MT={focusedElem:t,selectionRange:n},qw=!1,jt=e;jt!==null;)if(e=jt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,jt=t;else for(;jt!==null;){e=jt;try{var y=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,b=y.memoizedState,w=e.stateNode,S=w.getSnapshotBeforeUpdate(e.elementType===e.type?x:tl(e.type,x),b);w.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var C=e.stateNode.containerInfo;if(C.nodeType===1)C.textContent="";else if(C.nodeType===9){var M=C.body;M!=null&&(M.textContent="")}break;case 5:case 6:case 4:case 17:break;default:throw Error(yt(163))}}catch(T){Pi(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,jt=t;break}jt=e.return}return y=LL,LL=!1,y}function Pg(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&UT(e,n,o)}i=i.next}while(i!==r)}}function M1(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function HT(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function JB(t){var e=t.alternate;e!==null&&(t.alternate=null,JB(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Dl],delete e[o0],delete e[AT],delete e[Oee],delete e[Nee])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function QB(t){return t.tag===5||t.tag===3||t.tag===4}function DL(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||QB(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function WT(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Zw));else if(r!==4&&(t=t.child,t!==null))for(WT(t,e,n),t=t.sibling;t!==null;)WT(t,e,n),t=t.sibling}function jT(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(jT(t,e,n),t=t.sibling;t!==null;)jT(t,e,n),t=t.sibling}var Po=null,rl=!1;function Ic(t,e,n){for(n=n.child;n!==null;)eV(t,e,n),n=n.sibling}function eV(t,e,n){if(Ul&&typeof Ul.onCommitFiberUnmount=="function")try{Ul.onCommitFiberUnmount(y1,n)}catch{}switch(n.tag){case 5:Wo||Dp(n,e);case 6:var r=Po,i=rl;Po=null,Ic(t,e,n),Po=r,rl=i,Po!==null&&(rl?(t=Po,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Po.removeChild(n.stateNode));break;case 18:Po!==null&&(rl?(t=Po,n=n.stateNode,t.nodeType===8?sM(t.parentNode,n):t.nodeType===1&&sM(t,n),e0(t)):sM(Po,n.stateNode));break;case 4:r=Po,i=rl,Po=n.stateNode.containerInfo,rl=!0,Ic(t,e,n),Po=r,rl=i;break;case 0:case 11:case 14:case 15:if(!Wo&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&((o&2)!==0||(o&4)!==0)&&UT(n,e,a),i=i.next}while(i!==r)}Ic(t,e,n);break;case 1:if(!Wo&&(Dp(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Pi(n,e,s)}Ic(t,e,n);break;case 21:Ic(t,e,n);break;case 22:n.mode&1?(Wo=(r=Wo)||n.memoizedState!==null,Ic(t,e,n),Wo=r):Ic(t,e,n);break;default:Ic(t,e,n)}}function FL(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Kee),e.forEach(function(r){var i=rte.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Gs(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:Po=s.stateNode,rl=!1;break e;case 3:Po=s.stateNode.containerInfo,rl=!0;break e;case 4:Po=s.stateNode.containerInfo,rl=!0;break e}s=s.return}if(Po===null)throw Error(yt(160));eV(o,a,i),Po=null,rl=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Pi(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)tV(e,t),e=e.sibling}function tV(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Gs(e,t),Ol(t),r&4){try{Pg(3,t,t.return),M1(3,t)}catch(y){Pi(t,t.return,y)}try{Pg(5,t,t.return)}catch(y){Pi(t,t.return,y)}}break;case 1:Gs(e,t),Ol(t),r&512&&n!==null&&Dp(n,n.return);break;case 5:if(Gs(e,t),Ol(t),r&512&&n!==null&&Dp(n,n.return),t.flags&32){var i=t.stateNode;try{Yg(i,"")}catch(y){Pi(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&C8(i,o),mT(s,a);var u=mT(s,o);for(a=0;a<l.length;a+=2){var c=l[a],h=l[a+1];c==="style"?A8(i,h):c==="dangerouslySetInnerHTML"?T8(i,h):c==="children"?Yg(i,h):DR(i,c,h,u)}switch(s){case"input":cT(i,o);break;case"textarea":E8(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?Gp(i,!!o.multiple,m,!1):f!==!!o.multiple&&(o.defaultValue!=null?Gp(i,!!o.multiple,o.defaultValue,!0):Gp(i,!!o.multiple,o.multiple?[]:"",!1))}i[o0]=o}catch(y){Pi(t,t.return,y)}}break;case 6:if(Gs(e,t),Ol(t),r&4){if(t.stateNode===null)throw Error(yt(162));u=t.stateNode,c=t.memoizedProps;try{u.nodeValue=c}catch(y){Pi(t,t.return,y)}}break;case 3:if(Gs(e,t),Ol(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{e0(e.containerInfo)}catch(y){Pi(t,t.return,y)}break;case 4:Gs(e,t),Ol(t);break;case 13:Gs(e,t),Ol(t),u=t.child,u.flags&8192&&u.memoizedState!==null&&(u.alternate===null||u.alternate.memoizedState===null)&&(p3=Ui()),r&4&&FL(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Wo=(c=Wo)||u,Gs(e,t),Wo=c):Gs(e,t),Ol(t),r&8192){c=t.memoizedState!==null;e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=P8("display",a))}catch(y){Pi(t,t.return,y)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(y){Pi(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}if(c&&!u&&(t.mode&1)!==0)for(jt=t,t=t.child;t!==null;){for(u=jt=t;jt!==null;){switch(c=jt,h=c.child,c.tag){case 0:case 11:case 14:case 15:Pg(4,c,c.return);break;case 1:if(Dp(c,c.return),o=c.stateNode,typeof o.componentWillUnmount=="function"){f=c,m=c.return;try{i=f,o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(y){Pi(f,m,y)}}break;case 5:Dp(c,c.return);break;case 22:if(c.memoizedState!==null){BL(u);continue}}h!==null?(h.return=c,jt=h):BL(u)}t=t.sibling}}break;case 19:Gs(e,t),Ol(t),r&4&&FL(t);break;case 21:break;default:Gs(e,t),Ol(t)}}function Ol(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(QB(n)){var r=n;break e}n=n.return}throw Error(yt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Yg(i,""),r.flags&=-33);var o=DL(t);jT(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=DL(t);WT(t,s,a);break;default:throw Error(yt(161))}}catch(l){Pi(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Xee(t,e,n){jt=t,nV(t)}function nV(t,e,n){for(var r=(t.mode&1)!==0;jt!==null;){var i=jt,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Gx;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Wo;s=Gx;var u=Wo;if(Gx=a,(Wo=l)&&!u)for(jt=i;jt!==null;)a=jt,l=a.child,a.tag===22&&a.memoizedState!==null?VL(i):l!==null?(l.return=a,jt=l):VL(i);for(;o!==null;)jt=o,nV(o),o=o.sibling;jt=i,Gx=s,Wo=u}zL(t)}else(i.subtreeFlags&8772)!==0&&o!==null?(o.return=i,jt=o):zL(t)}}function zL(t){for(;jt!==null;){var e=jt;if((e.flags&8772)!==0){var n=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:Wo||M1(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Wo)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:tl(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&vL(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}vL(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&e0(h)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(yt(163))}Wo||e.flags&512&&HT(e)}catch(f){Pi(e,e.return,f)}}if(e===t){jt=null;break}if(n=e.sibling,n!==null){n.return=e.return,jt=n;break}jt=e.return}}function BL(t){for(;jt!==null;){var e=jt;if(e===t){jt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,jt=n;break}jt=e.return}}function VL(t){for(;jt!==null;){var e=jt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{M1(4,e)}catch(l){Pi(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Pi(e,i,l)}}var o=e.return;try{HT(e)}catch(l){Pi(e,o,l)}break;case 5:var a=e.return;try{HT(e)}catch(l){Pi(e,a,l)}}}catch(l){Pi(e,e.return,l)}if(e===t){jt=null;break}var s=e.sibling;if(s!==null){s.return=e.return,jt=s;break}jt=e.return}}var Yee=Math.ceil,l_=oc.ReactCurrentDispatcher,f3=oc.ReactCurrentOwner,Es=oc.ReactCurrentBatchConfig,vr=0,lo=null,$i=null,Ao=0,$a=0,Fp=Pd(0),ao=0,d0=null,Bf=0,T1=0,h3=0,Ag=null,Sa=null,p3=0,um=1/0,Iu=null,u_=!1,GT=null,hd=null,$x=!1,rd=null,c_=0,Rg=0,$T=null,xw=-1,bw=0;function ca(){return(vr&6)!==0?Ui():xw!==-1?xw:xw=Ui()}function pd(t){return(t.mode&1)===0?1:(vr&2)!==0&&Ao!==0?Ao&-Ao:Iee.transition!==null?(bw===0&&(bw=U8()),bw):(t=Ir,t!==0||(t=window.event,t=t===void 0?16:q8(t.type)),t)}function Ms(t,e,n){if(50<Rg)throw Rg=0,$T=null,Error(yt(185));var r=P1(t,e);return r===null?null:(W0(r,e,n),((vr&2)===0||r!==lo)&&(r===lo&&((vr&2)===0&&(T1|=e),ao===4&&ed(r,Ao)),Aa(r,n),e===1&&vr===0&&(t.mode&1)===0&&(um=Ui()+500,S1&&Ad())),r)}function P1(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}function rV(t){return(lo!==null||ol!==null)&&(t.mode&1)!==0&&(vr&2)===0}function Aa(t,e){var n=t.callbackNode;IQ(t,e);var r=Kw(t,t===lo?Ao:0);if(r===0)n!==null&&$I(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&$I(n),e===1)t.tag===0?kee(UL.bind(null,t)):hB(UL.bind(null,t)),Aee(function(){vr===0&&Ad()}),n=null;else{switch(H8(r)){case 1:n=UR;break;case 4:n=B8;break;case 16:n=$w;break;case 536870912:n=V8;break;default:n=$w}n=dV(n,iV.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function iV(t,e){if(xw=-1,bw=0,(vr&6)!==0)throw Error(yt(327));var n=t.callbackNode;if(Yp()&&t.callbackNode!==n)return null;var r=Kw(t,t===lo?Ao:0);if(r===0)return null;if((r&30)!==0||(r&t.expiredLanes)!==0||e)e=d_(t,r);else{e=r;var i=vr;vr|=2;var o=aV();(lo!==t||Ao!==e)&&(Iu=null,um=Ui()+500,Pf(t,e));do try{Qee();break}catch(s){oV(t,s)}while(1);ZR(),l_.current=o,vr=i,$i!==null?e=0:(lo=null,Ao=0,e=ao)}if(e!==0){if(e===2&&(i=bT(t),i!==0&&(r=i,e=KT(t,i))),e===1)throw n=d0,Pf(t,0),ed(t,r),Aa(t,Ui()),n;if(e===6)ed(t,r);else{if(i=t.current.alternate,(r&30)===0&&!Zee(i)&&(e=d_(t,r),e===2&&(o=bT(t),o!==0&&(r=o,e=KT(t,o))),e===1))throw n=d0,Pf(t,0),ed(t,r),Aa(t,Ui()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(yt(345));case 2:df(t,Sa,Iu);break;case 3:if(ed(t,r),(r&130023424)===r&&(e=p3+500-Ui(),10<e)){if(Kw(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ca(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=PT(df.bind(null,t,Sa,Iu),e);break}df(t,Sa,Iu);break;case 4:if(ed(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-sl(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=Ui()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Yee(r/1960))-r,10<r){t.timeoutHandle=PT(df.bind(null,t,Sa,Iu),r);break}df(t,Sa,Iu);break;case 5:df(t,Sa,Iu);break;default:throw Error(yt(329))}}}return Aa(t,Ui()),t.callbackNode===n?iV.bind(null,t):null}function KT(t,e){var n=Ag;return t.current.memoizedState.isDehydrated&&(Pf(t,e).flags|=256),t=d_(t,e),t!==2&&(e=Sa,Sa=n,e!==null&&qT(e)),t}function qT(t){Sa===null?Sa=t:Sa.push.apply(Sa,t)}function Zee(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ul(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ed(t,e){for(e&=~h3,e&=~T1,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-sl(e),r=1<<n;t[n]=-1,e&=~r}}function UL(t){if((vr&6)!==0)throw Error(yt(327));Yp();var e=Kw(t,0);if((e&1)===0)return Aa(t,Ui()),null;var n=d_(t,e);if(t.tag!==0&&n===2){var r=bT(t);r!==0&&(e=r,n=KT(t,r))}if(n===1)throw n=d0,Pf(t,0),ed(t,e),Aa(t,Ui()),n;if(n===6)throw Error(yt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,df(t,Sa,Iu),Aa(t,Ui()),null}function m3(t,e){var n=vr;vr|=1;try{return t(e)}finally{vr=n,vr===0&&(um=Ui()+500,S1&&Ad())}}function Vf(t){rd!==null&&rd.tag===0&&(vr&6)===0&&Yp();var e=vr;vr|=1;var n=Es.transition,r=Ir;try{if(Es.transition=null,Ir=1,t)return t()}finally{Ir=r,Es.transition=n,vr=e,(vr&6)===0&&Ad()}}function v3(){$a=Fp.current,ii(Fp)}function Pf(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Pee(n)),$i!==null)for(n=$i.return;n!==null;){var r=n;switch(t3(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Jw();break;case 3:lm(),ii(Ta),ii(Ko),o3();break;case 5:i3(r);break;case 4:lm();break;case 13:ii(bi);break;case 19:ii(bi);break;case 10:JR(r.type._context);break;case 22:case 23:v3()}n=n.return}if(lo=t,$i=t=wd(t.current,null),Ao=$a=e,ao=0,d0=null,h3=T1=Bf=0,Sa=Ag=null,ol!==null){for(e=0;e<ol.length;e++)if(n=ol[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}ol=null}return t}function oV(t,e){do{var n=$i;try{if(ZR(),gw.current=s_,a_){for(var r=_i.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}a_=!1}if(zf=0,xo=io=_i=null,Tg=!1,l0=0,f3.current=null,n===null||n.return===null){ao=1,d0=e,$i=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=Ao,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,h=c.tag;if((c.mode&1)===0&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=EL(a);if(m!==null){m.flags&=-257,ML(m,a,s,o,e),m.mode&1&&CL(o,u,e),e=m,l=u;var y=e.updateQueue;if(y===null){var x=new Set;x.add(l),e.updateQueue=x}else y.add(l);break e}else{if((e&1)===0){CL(o,u,e),g3();break e}l=Error(yt(426))}}else if(ui&&s.mode&1){var b=EL(a);if(b!==null){(b.flags&65536)===0&&(b.flags|=256),ML(b,a,s,o,e),n3(l);break e}}o=l,ao!==4&&(ao=2),Ag===null?Ag=[o]:Ag.push(o),l=d3(l,s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=UB(s,l,e);mL(s,w);break e;case 1:o=l;var S=s.type,C=s.stateNode;if((s.flags&128)===0&&(typeof S.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(hd===null||!hd.has(C)))){s.flags|=65536,e&=-e,s.lanes|=e;var M=HB(s,o,e);mL(s,M);break e}}s=s.return}while(s!==null)}lV(n)}catch(T){e=T,$i===n&&n!==null&&($i=n=n.return);continue}break}while(1)}function aV(){var t=l_.current;return l_.current=s_,t===null?s_:t}function g3(){(ao===0||ao===3||ao===2)&&(ao=4),lo===null||(Bf&268435455)===0&&(T1&268435455)===0||ed(lo,Ao)}function d_(t,e){var n=vr;vr|=2;var r=aV();(lo!==t||Ao!==e)&&(Iu=null,Pf(t,e));do try{Jee();break}catch(i){oV(t,i)}while(1);if(ZR(),vr=n,l_.current=r,$i!==null)throw Error(yt(261));return lo=null,Ao=0,ao}function Jee(){for(;$i!==null;)sV($i)}function Qee(){for(;$i!==null&&!EQ();)sV($i)}function sV(t){var e=cV(t.alternate,t,$a);t.memoizedProps=t.pendingProps,e===null?lV(t):$i=e,f3.current=null}function lV(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&32768)===0){if(n=Wee(n,e,$a),n!==null){$i=n;return}}else{if(n=$ee(n,e),n!==null){n.flags&=32767,$i=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ao=6,$i=null;return}}if(e=e.sibling,e!==null){$i=e;return}$i=e=t}while(e!==null);ao===0&&(ao=5)}function df(t,e,n){var r=Ir,i=Es.transition;try{Es.transition=null,Ir=1,ete(t,e,n,r)}finally{Es.transition=i,Ir=r}return null}function ete(t,e,n,r){do Yp();while(rd!==null);if((vr&6)!==0)throw Error(yt(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(yt(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(LQ(t,o),t===lo&&($i=lo=null,Ao=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||$x||($x=!0,dV($w,function(){return Yp(),null})),o=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||o){o=Es.transition,Es.transition=null;var a=Ir;Ir=1;var s=vr;vr|=4,f3.current=null,qee(t,n),tV(n,t),wee(MT),qw=!!ET,MT=ET=null,t.current=n,Xee(n),MQ(),vr=s,Ir=a,Es.transition=o}else t.current=n;if($x&&($x=!1,rd=t,c_=i),o=t.pendingLanes,o===0&&(hd=null),AQ(n.stateNode),Aa(t,Ui()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)r(e[n]);if(u_)throw u_=!1,t=GT,GT=null,t;return(c_&1)!==0&&t.tag!==0&&Yp(),o=t.pendingLanes,(o&1)!==0?t===$T?Rg++:(Rg=0,$T=t):Rg=0,Ad(),null}function Yp(){if(rd!==null){var t=H8(c_),e=Es.transition,n=Ir;try{if(Es.transition=null,Ir=16>t?16:t,rd===null)var r=!1;else{if(t=rd,rd=null,c_=0,(vr&6)!==0)throw Error(yt(331));var i=vr;for(vr|=4,jt=t.current;jt!==null;){var o=jt,a=o.child;if((jt.flags&16)!==0){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(jt=u;jt!==null;){var c=jt;switch(c.tag){case 0:case 11:case 15:Pg(8,c,o)}var h=c.child;if(h!==null)h.return=c,jt=h;else for(;jt!==null;){c=jt;var f=c.sibling,m=c.return;if(JB(c),c===u){jt=null;break}if(f!==null){f.return=m,jt=f;break}jt=m}}}var y=o.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var b=x.sibling;x.sibling=null,x=b}while(x!==null)}}jt=o}}if((o.subtreeFlags&2064)!==0&&a!==null)a.return=o,jt=a;else e:for(;jt!==null;){if(o=jt,(o.flags&2048)!==0)switch(o.tag){case 0:case 11:case 15:Pg(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,jt=w;break e}jt=o.return}}var S=t.current;for(jt=S;jt!==null;){a=jt;var C=a.child;if((a.subtreeFlags&2064)!==0&&C!==null)C.return=a,jt=C;else e:for(a=S;jt!==null;){if(s=jt,(s.flags&2048)!==0)try{switch(s.tag){case 0:case 11:case 15:M1(9,s)}}catch(T){Pi(s,s.return,T)}if(s===a){jt=null;break e}var M=s.sibling;if(M!==null){M.return=s.return,jt=M;break e}jt=s.return}}if(vr=i,Ad(),Ul&&typeof Ul.onPostCommitFiberRoot=="function")try{Ul.onPostCommitFiberRoot(y1,t)}catch{}r=!0}return r}finally{Ir=n,Es.transition=e}}return!1}function HL(t,e,n){e=d3(n,e),e=UB(t,e,1),fd(t,e),e=ca(),t=P1(t,1),t!==null&&(W0(t,1,e),Aa(t,e))}function Pi(t,e,n){if(t.tag===3)HL(t,t,n);else for(;e!==null;){if(e.tag===3){HL(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(hd===null||!hd.has(r))){t=d3(n,t),t=HB(e,t,1),fd(e,t),t=ca(),e=P1(e,1),e!==null&&(W0(e,1,t),Aa(e,t));break}}e=e.return}}function tte(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ca(),t.pingedLanes|=t.suspendedLanes&n,lo===t&&(Ao&n)===n&&(ao===4||ao===3&&(Ao&130023424)===Ao&&500>Ui()-p3?Pf(t,0):h3|=n),Aa(t,e)}function uV(t,e){e===0&&((t.mode&1)===0?e=1:(e=Lx,Lx<<=1,(Lx&130023424)===0&&(Lx=4194304)));var n=ca();t=P1(t,e),t!==null&&(W0(t,e,n),Aa(t,n))}function nte(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),uV(t,n)}function rte(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(yt(314))}r!==null&&r.delete(e),uV(t,n)}var cV;cV=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ta.current)Ma=!0;else{if((t.lanes&n)===0&&(e.flags&128)===0)return Ma=!1,Gee(t,e,n);Ma=(t.flags&131072)!==0}else Ma=!1,ui&&(e.flags&1048576)!==0&&gB(e,i_,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps;var i=om(e,Ko.current);Xp(e,n),i=s3(null,e,r,t,i,n);var o=l3();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pa(r)?(o=!0,Qw(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,QR(e),i.updater=C1,e.stateNode=i,i._reactInternals=e,kT(e,r,t,n),e=BT(null,e,r,!0,o,n)):(e.tag=0,ui&&o&&e3(e),aa(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=ote(r),t=tl(r,t),i){case 0:e=zT(null,e,r,t,n);break e;case 1:e=AL(null,e,r,t,n);break e;case 11:e=TL(null,e,r,t,n);break e;case 14:e=PL(null,e,r,tl(r.type,t),n);break e}throw Error(yt(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tl(r,i),zT(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tl(r,i),AL(t,e,r,i,n);case 3:e:{if(XB(e),t===null)throw Error(yt(387));r=e.pendingProps,o=e.memoizedState,i=o.element,pB(t,e),n_(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Error(yt(423)),e=RL(t,e,r,n,i);break e}else if(r!==i){i=Error(yt(424)),e=RL(t,e,r,n,i);break e}else for(Ea=Uu(e.stateNode.containerInfo.firstChild),Za=e,ui=!0,il=null,n=bB(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(am(),r===i){e=tc(t,e,n);break e}aa(t,e,r,n)}e=e.child}return e;case 5:return wB(e),t===null&&LT(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,TT(r,i)?a=null:o!==null&&TT(r,o)&&(e.flags|=32),qB(t,e),aa(t,e,a,n),e.child;case 6:return t===null&&LT(e),null;case 13:return YB(t,e,n);case 4:return r3(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=sm(e,null,r,n):aa(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tl(r,i),TL(t,e,r,i,n);case 7:return aa(t,e,e.pendingProps,n),e.child;case 8:return aa(t,e,e.pendingProps.children,n),e.child;case 12:return aa(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,Zr(e_,r._currentValue),r._currentValue=a,o!==null)if(ul(o.value,a)){if(o.children===i.children&&!Ta.current){e=tc(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=$u(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),OT(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(yt(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),OT(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}aa(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Xp(e,n),i=Ps(i),r=r(i),e.flags|=1,aa(t,e,r,n),e.child;case 14:return r=e.type,i=tl(r,e.pendingProps),i=tl(r.type,i),PL(t,e,r,i,n);case 15:return $B(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tl(r,i),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,Pa(r)?(t=!0,Qw(e)):t=!1,Xp(e,n),vB(e,r,i),kT(e,r,i,n),BT(null,e,r,!0,t,n);case 19:return ZB(t,e,n);case 22:return KB(t,e,n)}throw Error(yt(156,e.tag))};function dV(t,e){return z8(t,e)}function ite(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ss(t,e,n,r){return new ite(t,e,n,r)}function y3(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ote(t){if(typeof t=="function")return y3(t)?1:0;if(t!=null){if(t=t.$$typeof,t===zR)return 11;if(t===BR)return 14}return 2}function wd(t,e){var n=t.alternate;return n===null?(n=Ss(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ww(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")y3(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Tp:return Af(n.children,i,o,e);case FR:a=8,i|=8;break;case oT:return t=Ss(12,n,e,i|2),t.elementType=oT,t.lanes=o,t;case aT:return t=Ss(13,n,e,i),t.elementType=aT,t.lanes=o,t;case sT:return t=Ss(19,n,e,i),t.elementType=sT,t.lanes=o,t;case w8:return f_(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case x8:a=10;break e;case b8:a=9;break e;case zR:a=11;break e;case BR:a=14;break e;case Yc:a=16,r=null;break e}throw Error(yt(130,t==null?t:typeof t,""))}return e=Ss(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Af(t,e,n,r){return t=Ss(7,t,r,e),t.lanes=n,t}function f_(t,e,n,r){return t=Ss(22,t,r,e),t.elementType=w8,t.lanes=n,t.stateNode={},t}function pM(t,e,n){return t=Ss(6,t,null,e),t.lanes=n,t}function mM(t,e,n){return e=Ss(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ate(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=YE(0),this.expirationTimes=YE(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=YE(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function x3(t,e,n,r,i,o,a,s,l){return t=new ate(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Ss(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},QR(o),t}function ste(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mp,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function fV(t){if(!t)return bd;t=t._reactInternals;e:{if(th(t)!==t||t.tag!==1)throw Error(yt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Pa(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(yt(171))}if(t.tag===1){var n=t.type;if(Pa(n))return fB(t,n,e)}return e}function hV(t,e,n,r,i,o,a,s,l){return t=x3(n,r,!0,t,i,o,a,s,l),t.context=fV(null),n=t.current,r=ca(),i=pd(n),o=$u(r,i),o.callback=e!=null?e:null,fd(n,o),t.current.lanes=i,W0(t,i,r),Aa(t,r),t}function A1(t,e,n,r){var i=e.current,o=ca(),a=pd(i);return n=fV(n),e.context===null?e.context=n:e.pendingContext=n,e=$u(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),fd(i,e),t=Ms(i,a,o),t!==null&&vw(t,i,a),a}function h_(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function WL(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function b3(t,e){WL(t,e),(t=t.alternate)&&WL(t,e)}function lte(){return null}var pV=typeof reportError=="function"?reportError:function(t){console.error(t)};function w3(t){this._internalRoot=t}R1.prototype.render=w3.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(yt(409));A1(t,e,null,null)};R1.prototype.unmount=w3.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Vf(function(){A1(null,t,null,null)}),e[ec]=null}};function R1(t){this._internalRoot=t}R1.prototype.unstable_scheduleHydration=function(t){if(t){var e=G8();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Qc.length&&e!==0&&e<Qc[n].priority;n++);Qc.splice(n,0,t),n===0&&K8(t)}};function _3(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function O1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function jL(){}function ute(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=h_(a);o.call(u)}}var a=hV(e,r,t,0,null,!1,!1,"",jL);return t._reactRootContainer=a,t[ec]=a.current,r0(t.nodeType===8?t.parentNode:t),Vf(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=h_(l);s.call(u)}}var l=x3(t,0,!1,null,null,!1,!1,"",jL);return t._reactRootContainer=l,t[ec]=l.current,r0(t.nodeType===8?t.parentNode:t),Vf(function(){A1(e,l,n,r)}),l}function N1(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=h_(a);s.call(l)}}A1(e,a,t,i)}else a=ute(n,e,t,i,r);return h_(a)}W8=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=dg(e.pendingLanes);n!==0&&(HR(e,n|1),Aa(e,Ui()),(vr&6)===0&&(um=Ui()+500,Ad()))}break;case 13:var r=ca();Vf(function(){return Ms(t,1,r)}),b3(t,1)}};WR=function(t){if(t.tag===13){var e=ca();Ms(t,134217728,e),b3(t,134217728)}};j8=function(t){if(t.tag===13){var e=ca(),n=pd(t);Ms(t,n,e),b3(t,n)}};G8=function(){return Ir};$8=function(t,e){var n=Ir;try{return Ir=t,e()}finally{Ir=n}};gT=function(t,e,n){switch(e){case"input":if(cT(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=_1(r);if(!i)throw Error(yt(90));S8(r),cT(r,i)}}}break;case"textarea":E8(t,n);break;case"select":e=n.value,e!=null&&Gp(t,!!n.multiple,e,!1)}};N8=m3;k8=Vf;var cte={usingClientEntryPoint:!1,Events:[G0,Op,_1,R8,O8,m3]},Bv={findFiberByHostInstance:_f,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},dte={bundleType:Bv.bundleType,version:Bv.version,rendererPackageName:Bv.rendererPackageName,rendererConfig:Bv.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oc.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=D8(t),t===null?null:t.stateNode},findFiberByHostInstance:Bv.findFiberByHostInstance||lte,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Kx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kx.isDisabled&&Kx.supportsFiber)try{y1=Kx.inject(dte),Ul=Kx}catch{}}rs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cte;rs.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_3(e))throw Error(yt(200));return ste(t,e,null,n)};rs.createRoot=function(t,e){if(!_3(t))throw Error(yt(299));var n=!1,r="",i=pV;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=x3(t,1,!1,null,null,n,!1,r,i),t[ec]=e.current,r0(t.nodeType===8?t.parentNode:t),new w3(e)};rs.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(yt(188)):(t=Object.keys(t).join(","),Error(yt(268,t)));return t=D8(e),t=t===null?null:t.stateNode,t};rs.flushSync=function(t){return Vf(t)};rs.hydrate=function(t,e,n){if(!O1(e))throw Error(yt(200));return N1(null,t,e,!0,n)};rs.hydrateRoot=function(t,e,n){if(!_3(t))throw Error(yt(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=pV;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=hV(e,null,t,1,n!=null?n:null,i,!1,o,a),t[ec]=e.current,r0(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new R1(e)};rs.render=function(t,e,n){if(!O1(e))throw Error(yt(200));return N1(null,t,e,!1,n)};rs.unmountComponentAtNode=function(t){if(!O1(t))throw Error(yt(40));return t._reactRootContainer?(Vf(function(){N1(null,null,t,!1,function(){t._reactRootContainer=null,t[ec]=null})}),!0):!1};rs.unstable_batchedUpdates=m3;rs.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!O1(n))throw Error(yt(200));if(t==null||t._reactInternals===void 0)throw Error(yt(38));return N1(t,e,n,!1,r)};rs.version="18.1.0-next-22edb9f77-20220426";function mV(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mV)}catch(t){console.error(t)}}mV(),g1.exports=rs;var _d=g1.exports,fte=qJ({__proto__:null,default:_d},[g1.exports]),GL=g1.exports;rT.createRoot=GL.createRoot,rT.hydrateRoot=GL.hydrateRoot;var XT={exports:{}};(function(t,e){(function(n,r){r(e)})(Ca,function(n){ArrayBuffer.isView||(ArrayBuffer.isView=function(k){return k!==null&&typeof k=="object"&&k.buffer instanceof ArrayBuffer}),typeof globalThis=="undefined"&&typeof window!="undefined"&&(window.globalThis=window);/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var r=function(k,$){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,ne){U.__proto__=ne}||function(U,ne){for(var ge in ne)Object.prototype.hasOwnProperty.call(ne,ge)&&(U[ge]=ne[ge])},r(k,$)};function i(k,$){if(typeof $!="function"&&$!==null)throw new TypeError("Class extends value "+String($)+" is not a constructor or null");r(k,$);function U(){this.constructor=k}k.prototype=$===null?Object.create($):(U.prototype=$.prototype,new U)}function o(k,$,U,ne){function ge(me){return me instanceof U?me:new U(function(Q){Q(me)})}return new(U||(U=Promise))(function(me,Q){function _e(de){try{we(ne.next(de))}catch(je){Q(je)}}function ke(de){try{we(ne.throw(de))}catch(je){Q(je)}}function we(de){de.done?me(de.value):ge(de.value).then(_e,ke)}we((ne=ne.apply(k,$||[])).next())})}function a(k,$){var U={label:0,sent:function(){if(me[0]&1)throw me[1];return me[1]},trys:[],ops:[]},ne,ge,me,Q;return Q={next:_e(0),throw:_e(1),return:_e(2)},typeof Symbol=="function"&&(Q[Symbol.iterator]=function(){return this}),Q;function _e(we){return function(de){return ke([we,de])}}function ke(we){if(ne)throw new TypeError("Generator is already executing.");for(;U;)try{if(ne=1,ge&&(me=we[0]&2?ge.return:we[0]?ge.throw||((me=ge.return)&&me.call(ge),0):ge.next)&&!(me=me.call(ge,we[1])).done)return me;switch(ge=0,me&&(we=[we[0]&2,me.value]),we[0]){case 0:case 1:me=we;break;case 4:return U.label++,{value:we[1],done:!1};case 5:U.label++,ge=we[1],we=[0];continue;case 7:we=U.ops.pop(),U.trys.pop();continue;default:if(me=U.trys,!(me=me.length>0&&me[me.length-1])&&(we[0]===6||we[0]===2)){U=0;continue}if(we[0]===3&&(!me||we[1]>me[0]&&we[1]<me[3])){U.label=we[1];break}if(we[0]===6&&U.label<me[1]){U.label=me[1],me=we;break}if(me&&U.label<me[2]){U.label=me[2],U.ops.push(we);break}me[2]&&U.ops.pop(),U.trys.pop();continue}we=$.call(k,U)}catch(de){we=[6,de],ge=0}finally{ne=me=0}if(we[0]&5)throw we[1];return{value:we[0]?we[1]:void 0,done:!0}}}function s(k,$){$.headers=k.headers||{},$.statusMessage=k.statusText,$.statusCode=k.status,$.data=k.response}function l(k,$,U){return new Promise(function(ne,ge){U=U||{};var me=new XMLHttpRequest,Q,_e,ke,we=U.body,de=U.headers||{};U.timeout&&(me.timeout=U.timeout),me.ontimeout=me.onerror=function(je){je.timeout=je.type=="timeout",ge(je)},me.open(k,$.href||$),me.onload=function(){for(ke=me.getAllResponseHeaders().trim().split(/[\r\n]+/),s(me,me);_e=ke.shift();)_e=_e.split(": "),me.headers[_e.shift().toLowerCase()]=_e.join(": ");if(_e=me.headers["content-type"],_e&&!!~_e.indexOf("application/json"))try{me.data=JSON.parse(me.data,U.reviver)}catch(je){return s(me,je),ge(je)}(me.status>=400?ge:ne)(me)},typeof FormData<"u"&&we instanceof FormData||we&&typeof we=="object"&&(de["content-type"]="application/json",we=JSON.stringify(we)),me.withCredentials=!!U.withCredentials;for(Q in de)me.setRequestHeader(Q,de[Q]);me.send(we)})}var u=l.bind(l,"GET"),c=l.bind(l,"POST"),h=l.bind(l,"PATCH"),f=l.bind(l,"DELETE"),m=l.bind(l,"PUT"),y=f,x=u,b=h,w=c,S=m,C=l,M={del:y,get:x,patch:b,post:w,put:S,send:C},T=Object.freeze(Object.assign(Object.create(null),M,{default:M,del:y,get:x,patch:b,post:w,put:S,send:C})),R=function(k){i($,k);function $(U,ne){var ge=k.call(this,ne)||this;return ge.name="ServerError",ge.code=U,ge}return $}(Error);function I(k,$){if(this._offset=$,k instanceof ArrayBuffer)this._buffer=k,this._view=new DataView(this._buffer);else if(ArrayBuffer.isView(k))this._buffer=k.buffer,this._view=new DataView(this._buffer,k.byteOffset,k.byteLength);else throw new Error("Invalid argument")}function A(k,$,U){for(var ne="",ge=0,me=$,Q=$+U;me<Q;me++){var _e=k.getUint8(me);if((_e&128)===0){ne+=String.fromCharCode(_e);continue}if((_e&224)===192){ne+=String.fromCharCode((_e&31)<<6|k.getUint8(++me)&63);continue}if((_e&240)===224){ne+=String.fromCharCode((_e&15)<<12|(k.getUint8(++me)&63)<<6|(k.getUint8(++me)&63)<<0);continue}if((_e&248)===240){ge=(_e&7)<<18|(k.getUint8(++me)&63)<<12|(k.getUint8(++me)&63)<<6|(k.getUint8(++me)&63)<<0,ge>=65536?(ge-=65536,ne+=String.fromCharCode((ge>>>10)+55296,(ge&1023)+56320)):ne+=String.fromCharCode(ge);continue}throw new Error("Invalid byte "+_e.toString(16))}return ne}I.prototype._array=function(k){for(var $=new Array(k),U=0;U<k;U++)$[U]=this._parse();return $},I.prototype._map=function(k){for(var $="",U={},ne=0;ne<k;ne++)$=this._parse(),U[$]=this._parse();return U},I.prototype._str=function(k){var $=A(this._view,this._offset,k);return this._offset+=k,$},I.prototype._bin=function(k){var $=this._buffer.slice(this._offset,this._offset+k);return this._offset+=k,$},I.prototype._parse=function(){var k=this._view.getUint8(this._offset++),$,U=0,ne=0,ge=0,me=0;if(k<192)return k<128?k:k<144?this._map(k&15):k<160?this._array(k&15):this._str(k&31);if(k>223)return(255-k+1)*-1;switch(k){case 192:return null;case 194:return!1;case 195:return!0;case 196:return U=this._view.getUint8(this._offset),this._offset+=1,this._bin(U);case 197:return U=this._view.getUint16(this._offset),this._offset+=2,this._bin(U);case 198:return U=this._view.getUint32(this._offset),this._offset+=4,this._bin(U);case 199:return U=this._view.getUint8(this._offset),ne=this._view.getInt8(this._offset+1),this._offset+=2,[ne,this._bin(U)];case 200:return U=this._view.getUint16(this._offset),ne=this._view.getInt8(this._offset+2),this._offset+=3,[ne,this._bin(U)];case 201:return U=this._view.getUint32(this._offset),ne=this._view.getInt8(this._offset+4),this._offset+=5,[ne,this._bin(U)];case 202:return $=this._view.getFloat32(this._offset),this._offset+=4,$;case 203:return $=this._view.getFloat64(this._offset),this._offset+=8,$;case 204:return $=this._view.getUint8(this._offset),this._offset+=1,$;case 205:return $=this._view.getUint16(this._offset),this._offset+=2,$;case 206:return $=this._view.getUint32(this._offset),this._offset+=4,$;case 207:return ge=this._view.getUint32(this._offset)*Math.pow(2,32),me=this._view.getUint32(this._offset+4),this._offset+=8,ge+me;case 208:return $=this._view.getInt8(this._offset),this._offset+=1,$;case 209:return $=this._view.getInt16(this._offset),this._offset+=2,$;case 210:return $=this._view.getInt32(this._offset),this._offset+=4,$;case 211:return ge=this._view.getInt32(this._offset)*Math.pow(2,32),me=this._view.getUint32(this._offset+4),this._offset+=8,ge+me;case 212:if(ne=this._view.getInt8(this._offset),this._offset+=1,ne===0){this._offset+=1;return}return[ne,this._bin(1)];case 213:return ne=this._view.getInt8(this._offset),this._offset+=1,[ne,this._bin(2)];case 214:return ne=this._view.getInt8(this._offset),this._offset+=1,[ne,this._bin(4)];case 215:return ne=this._view.getInt8(this._offset),this._offset+=1,ne===0?(ge=this._view.getInt32(this._offset)*Math.pow(2,32),me=this._view.getUint32(this._offset+4),this._offset+=8,new Date(ge+me)):[ne,this._bin(8)];case 216:return ne=this._view.getInt8(this._offset),this._offset+=1,[ne,this._bin(16)];case 217:return U=this._view.getUint8(this._offset),this._offset+=1,this._str(U);case 218:return U=this._view.getUint16(this._offset),this._offset+=2,this._str(U);case 219:return U=this._view.getUint32(this._offset),this._offset+=4,this._str(U);case 220:return U=this._view.getUint16(this._offset),this._offset+=2,this._array(U);case 221:return U=this._view.getUint32(this._offset),this._offset+=4,this._array(U);case 222:return U=this._view.getUint16(this._offset),this._offset+=2,this._map(U);case 223:return U=this._view.getUint32(this._offset),this._offset+=4,this._map(U)}throw new Error("Could not parse")};function N(k,$){$===void 0&&($=0);var U=new I(k,$),ne=U._parse();if(U._offset!==k.byteLength)throw new Error(k.byteLength-U._offset+" trailing bytes");return ne}function L(k,$,U){for(var ne=0,ge=0,me=U.length;ge<me;ge++)ne=U.charCodeAt(ge),ne<128?k.setUint8($++,ne):ne<2048?(k.setUint8($++,192|ne>>6),k.setUint8($++,128|ne&63)):ne<55296||ne>=57344?(k.setUint8($++,224|ne>>12),k.setUint8($++,128|ne>>6&63),k.setUint8($++,128|ne&63)):(ge++,ne=65536+((ne&1023)<<10|U.charCodeAt(ge)&1023),k.setUint8($++,240|ne>>18),k.setUint8($++,128|ne>>12&63),k.setUint8($++,128|ne>>6&63),k.setUint8($++,128|ne&63))}function D(k){for(var $=0,U=0,ne=0,ge=k.length;ne<ge;ne++)$=k.charCodeAt(ne),$<128?U+=1:$<2048?U+=2:$<55296||$>=57344?U+=3:(ne++,U+=4);return U}function W(k,$,U){var ne=typeof U,ge=0,me=0,Q=0,_e=0,ke=0,we=0;if(ne==="string"){if(ke=D(U),ke<32)k.push(ke|160),we=1;else if(ke<256)k.push(217,ke),we=2;else if(ke<65536)k.push(218,ke>>8,ke),we=3;else if(ke<4294967296)k.push(219,ke>>24,ke>>16,ke>>8,ke),we=5;else throw new Error("String too long");return $.push({_str:U,_length:ke,_offset:k.length}),we+ke}if(ne==="number")return Math.floor(U)!==U||!isFinite(U)?(k.push(203),$.push({_float:U,_length:8,_offset:k.length}),9):U>=0?U<128?(k.push(U),1):U<256?(k.push(204,U),2):U<65536?(k.push(205,U>>8,U),3):U<4294967296?(k.push(206,U>>24,U>>16,U>>8,U),5):(Q=U/Math.pow(2,32)>>0,_e=U>>>0,k.push(207,Q>>24,Q>>16,Q>>8,Q,_e>>24,_e>>16,_e>>8,_e),9):U>=-32?(k.push(U),1):U>=-128?(k.push(208,U),2):U>=-32768?(k.push(209,U>>8,U),3):U>=-2147483648?(k.push(210,U>>24,U>>16,U>>8,U),5):(Q=Math.floor(U/Math.pow(2,32)),_e=U>>>0,k.push(211,Q>>24,Q>>16,Q>>8,Q,_e>>24,_e>>16,_e>>8,_e),9);if(ne==="object"){if(U===null)return k.push(192),1;if(Array.isArray(U)){if(ke=U.length,ke<16)k.push(ke|144),we=1;else if(ke<65536)k.push(220,ke>>8,ke),we=3;else if(ke<4294967296)k.push(221,ke>>24,ke>>16,ke>>8,ke),we=5;else throw new Error("Array too large");for(ge=0;ge<ke;ge++)we+=W(k,$,U[ge]);return we}if(U instanceof Date){var de=U.getTime();return Q=Math.floor(de/Math.pow(2,32)),_e=de>>>0,k.push(215,0,Q>>24,Q>>16,Q>>8,Q,_e>>24,_e>>16,_e>>8,_e),10}if(U instanceof ArrayBuffer){if(ke=U.byteLength,ke<256)k.push(196,ke),we=2;else if(ke<65536)k.push(197,ke>>8,ke),we=3;else if(ke<4294967296)k.push(198,ke>>24,ke>>16,ke>>8,ke),we=5;else throw new Error("Buffer too large");return $.push({_bin:U,_length:ke,_offset:k.length}),we+ke}if(typeof U.toJSON=="function")return W(k,$,U.toJSON());var je=[],Ze="",vt=Object.keys(U);for(ge=0,me=vt.length;ge<me;ge++)Ze=vt[ge],typeof U[Ze]!="function"&&je.push(Ze);if(ke=je.length,ke<16)k.push(ke|128),we=1;else if(ke<65536)k.push(222,ke>>8,ke),we=3;else if(ke<4294967296)k.push(223,ke>>24,ke>>16,ke>>8,ke),we=5;else throw new Error("Object too large");for(ge=0;ge<ke;ge++)Ze=je[ge],we+=W(k,$,Ze),we+=W(k,$,U[Ze]);return we}if(ne==="boolean")return k.push(U?195:194),1;if(ne==="undefined")return k.push(212,0,0),3;throw new Error("Could not encode")}function V(k){var $=[],U=[],ne=W($,U,k),ge=new ArrayBuffer(ne),me=new DataView(ge),Q=0,_e=0,ke=-1;U.length>0&&(ke=U[0]._offset);for(var we,de=0,je=0,Ze=0,vt=$.length;Ze<vt;Ze++)if(me.setUint8(_e+Ze,$[Ze]),Ze+1===ke){if(we=U[Q],de=we._length,je=_e+ke,we._bin)for(var ot=new Uint8Array(we._bin),ht=0;ht<de;ht++)me.setUint8(je+ht,ot[ht]);else we._str?L(me,je,we._str):we._float!==void 0&&me.setFloat64(je,we._float);Q++,_e+=de,U[Q]&&(ke=U[Q]._offset)}return ge}var B=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")},K=globalThis.WebSocket||B,j=function(){function k($){this.events=$}return k.prototype.send=function($){$ instanceof ArrayBuffer?this.ws.send($):Array.isArray($)&&this.ws.send(new Uint8Array($).buffer)},k.prototype.connect=function($){this.ws=new K($,this.protocols),this.ws.binaryType="arraybuffer",this.ws.onopen=this.events.onopen,this.ws.onmessage=this.events.onmessage,this.ws.onclose=this.events.onclose,this.ws.onerror=this.events.onerror},k.prototype.close=function($,U){this.ws.close($,U)},k}(),G=function(){function k(){this.events={},this.transport=new j(this.events)}return k.prototype.send=function($){this.transport.send($)},k.prototype.connect=function($){this.transport.connect($)},k.prototype.close=function($,U){this.transport.close($,U)},k}(),H={};function Y(k,$){H[k]=$}function Z(k){var $=H[k];if(!$)throw new Error("missing serializer: "+k);return $}n.Protocol=void 0,function(k){k[k.HANDSHAKE=9]="HANDSHAKE",k[k.JOIN_ROOM=10]="JOIN_ROOM",k[k.ERROR=11]="ERROR",k[k.LEAVE_ROOM=12]="LEAVE_ROOM",k[k.ROOM_DATA=13]="ROOM_DATA",k[k.ROOM_STATE=14]="ROOM_STATE",k[k.ROOM_STATE_PATCH=15]="ROOM_STATE_PATCH",k[k.ROOM_DATA_SCHEMA=16]="ROOM_DATA_SCHEMA"}(n.Protocol||(n.Protocol={})),n.ErrorCode=void 0,function(k){k[k.MATCHMAKE_NO_HANDLER=4210]="MATCHMAKE_NO_HANDLER",k[k.MATCHMAKE_INVALID_CRITERIA=4211]="MATCHMAKE_INVALID_CRITERIA",k[k.MATCHMAKE_INVALID_ROOM_ID=4212]="MATCHMAKE_INVALID_ROOM_ID",k[k.MATCHMAKE_UNHANDLED=4213]="MATCHMAKE_UNHANDLED",k[k.MATCHMAKE_EXPIRED=4214]="MATCHMAKE_EXPIRED",k[k.AUTH_FAILED=4215]="AUTH_FAILED",k[k.APPLICATION_ERROR=4216]="APPLICATION_ERROR"}(n.ErrorCode||(n.ErrorCode={}));function oe(k,$){for(var U=k[$++],ne="",ge=0,me=$,Q=$+U;me<Q;me++){var _e=k[me];if((_e&128)===0){ne+=String.fromCharCode(_e);continue}if((_e&224)===192){ne+=String.fromCharCode((_e&31)<<6|k[++me]&63);continue}if((_e&240)===224){ne+=String.fromCharCode((_e&15)<<12|(k[++me]&63)<<6|(k[++me]&63)<<0);continue}if((_e&248)===240){ge=(_e&7)<<18|(k[++me]&63)<<12|(k[++me]&63)<<6|(k[++me]&63)<<0,ge>=65536?(ge-=65536,ne+=String.fromCharCode((ge>>>10)+55296,(ge&1023)+56320)):ne+=String.fromCharCode(ge);continue}throw new Error("Invalid byte "+_e.toString(16))}return ne}function re(k){k===void 0&&(k="");for(var $=0,U=0,ne=0,ge=k.length;ne<ge;ne++)$=k.charCodeAt(ne),$<128?U+=1:$<2048?U+=2:$<55296||$>=57344?U+=3:(ne++,U+=4);return U+1}let se=()=>({events:{},emit(k,...$){(this.events[k]||[]).forEach(U=>U(...$))},on(k,$){return(this.events[k]=this.events[k]||[]).push($),()=>this.events[k]=(this.events[k]||[]).filter(U=>U!==$)}});var ce=function(){function k(){this.handlers=[]}return k.prototype.register=function($,U){return this.handlers.push($),this},k.prototype.invoke=function(){for(var $=this,U=[],ne=0;ne<arguments.length;ne++)U[ne]=arguments[ne];this.handlers.forEach(function(ge){return ge.apply($,U)})},k.prototype.invokeAsync=function(){for(var $=this,U=[],ne=0;ne<arguments.length;ne++)U[ne]=arguments[ne];return Promise.all(this.handlers.map(function(ge){return ge.apply($,U)}))},k.prototype.remove=function($){var U=this.handlers.indexOf($);this.handlers[U]=this.handlers[this.handlers.length-1],this.handlers.pop()},k.prototype.clear=function(){this.handlers=[]},k}();function ye(){var k=new ce;function $(U){return k.register(U,this===null)}return $.once=function(U){var ne=function(){for(var ge=[],me=0;me<arguments.length;me++)ge[me]=arguments[me];U.apply(this,ge),k.remove(ne)};k.register(ne)},$.remove=function(U){return k.remove(U)},$.invoke=function(){for(var U=[],ne=0;ne<arguments.length;ne++)U[ne]=arguments[ne];return k.invoke.apply(k,U)},$.invokeAsync=function(){for(var U=[],ne=0;ne<arguments.length;ne++)U[ne]=arguments[ne];return k.invokeAsync.apply(k,U)},$.clear=function(){return k.clear()},$}var fe=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof Ca!="undefined"?Ca:typeof self!="undefined"?self:{};function De(k){var $={exports:{}};return k($,$.exports),$.exports}var Oe=De(function(k,$){(function(U,ne){ne($)})(fe,function(U){/*! *****************************************************************************
        Copyright (c) Microsoft Corporation.

        Permission to use, copy, modify, and/or distribute this software for any
        purpose with or without fee is hereby granted.

        THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
        REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
        AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
        INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
        LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
        OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
        PERFORMANCE OF THIS SOFTWARE.
        ***************************************************************************** */var ne=function(q,F){return ne=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(X,ae){X.__proto__=ae}||function(X,ae){for(var He in ae)Object.prototype.hasOwnProperty.call(ae,He)&&(X[He]=ae[He])},ne(q,F)};function ge(q,F){if(typeof F!="function"&&F!==null)throw new TypeError("Class extends value "+String(F)+" is not a constructor or null");ne(q,F);function X(){this.constructor=q}q.prototype=F===null?Object.create(F):(X.prototype=F.prototype,new X)}function me(q,F,X,ae){var He=arguments.length,dt=He<3?F:ae===null?ae=Object.getOwnPropertyDescriptor(F,X):ae,dn;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")dt=Reflect.decorate(q,F,X,ae);else for(var Ht=q.length-1;Ht>=0;Ht--)(dn=q[Ht])&&(dt=(He<3?dn(dt):He>3?dn(F,X,dt):dn(F,X))||dt);return He>3&&dt&&Object.defineProperty(F,X,dt),dt}function Q(q,F){for(var X=0,ae=F.length,He=q.length;X<ae;X++,He++)q[He]=F[X];return q}var _e=255,ke=213;U.OPERATION=void 0,function(q){q[q.ADD=128]="ADD",q[q.REPLACE=0]="REPLACE",q[q.DELETE=64]="DELETE",q[q.DELETE_AND_ADD=192]="DELETE_AND_ADD",q[q.TOUCH=1]="TOUCH",q[q.CLEAR=10]="CLEAR"}(U.OPERATION||(U.OPERATION={}));var we=function(){function q(){this.refs=new Map,this.refCounts={},this.deletedRefs=new Set,this.nextUniqueId=0}return q.prototype.getNextUniqueId=function(){return this.nextUniqueId++},q.prototype.addRef=function(F,X,ae){ae===void 0&&(ae=!0),this.refs.set(F,X),ae&&(this.refCounts[F]=(this.refCounts[F]||0)+1)},q.prototype.removeRef=function(F){this.refCounts[F]=this.refCounts[F]-1,this.deletedRefs.add(F)},q.prototype.clearRefs=function(){this.refs.clear(),this.deletedRefs.clear(),this.refCounts={}},q.prototype.garbageCollectDeletedRefs=function(){var F=this;this.deletedRefs.forEach(function(X){if(F.refCounts[X]<=0){var ae=F.refs.get(X);if(ae instanceof Li)for(var He in ae._definition.schema)typeof ae._definition.schema[He]!="string"&&ae[He]&&ae[He].$changes&&F.removeRef(ae[He].$changes.refId);else{var dt=ae.$changes.parent._definition,dn=dt.schema[dt.fieldsByIndex[ae.$changes.parentIndex]];typeof Object.values(dn)[0]=="function"&&Array.from(ae.values()).forEach(function(Ht){return F.removeRef(Ht.$changes.refId)})}F.refs.delete(X),delete F.refCounts[X]}}),this.deletedRefs.clear()},q}(),de=function(){function q(F,X,ae){this.changed=!1,this.changes=new Map,this.allChanges=new Set,this.caches={},this.currentCustomOperation=0,this.ref=F,this.setParent(X,ae)}return q.prototype.setParent=function(F,X,ae){var He=this;if(this.indexes||(this.indexes=this.ref instanceof Li?this.ref._definition.indexes:{}),this.parent=F,this.parentIndex=ae,!!X)if(this.root=X,this.ref instanceof Li){var dt=this.ref._definition;for(var dn in dt.schema){var Ht=this.ref[dn];if(Ht&&Ht.$changes){var Vn=dt.indexes[dn];Ht.$changes.setParent(this.ref,X,Vn)}}}else typeof this.ref=="object"&&this.ref.forEach(function(Bt,wt){if(Bt instanceof Li){var on=Bt.$changes,or=He.ref.$changes.indexes[wt];on.setParent(He.ref,He.root,or)}})},q.prototype.operation=function(F){this.changes.set(--this.currentCustomOperation,F)},q.prototype.change=function(F,X){X===void 0&&(X=U.OPERATION.ADD);var ae=typeof F=="number"?F:this.indexes[F];this.assertValidIndex(ae,F);var He=this.changes.get(ae);(!He||He.op===U.OPERATION.DELETE||He.op===U.OPERATION.TOUCH)&&this.changes.set(ae,{op:He&&He.op===U.OPERATION.DELETE?U.OPERATION.DELETE_AND_ADD:X,index:ae}),this.allChanges.add(ae),this.changed=!0,this.touchParents()},q.prototype.touch=function(F){var X=typeof F=="number"?F:this.indexes[F];this.assertValidIndex(X,F),this.changes.has(X)||this.changes.set(X,{op:U.OPERATION.TOUCH,index:X}),this.allChanges.add(X),this.touchParents()},q.prototype.touchParents=function(){this.parent&&this.parent.$changes.touch(this.parentIndex)},q.prototype.getType=function(F){if(this.ref._definition){var X=this.ref._definition;return X.schema[X.fieldsByIndex[F]]}else{var X=this.parent._definition,ae=X.schema[X.fieldsByIndex[this.parentIndex]];return Object.values(ae)[0]}},q.prototype.getChildrenFilter=function(){var F=this.parent._definition.childFilters;return F&&F[this.parentIndex]},q.prototype.getValue=function(F){return this.ref.getByIndex(F)},q.prototype.delete=function(F){var X=typeof F=="number"?F:this.indexes[F];if(X===void 0){console.warn("@colyseus/schema "+this.ref.constructor.name+": trying to delete non-existing index: "+F+" ("+X+")");return}var ae=this.getValue(X);this.changes.set(X,{op:U.OPERATION.DELETE,index:X}),this.allChanges.delete(X),delete this.caches[X],ae&&ae.$changes&&(ae.$changes.parent=void 0),this.changed=!0,this.touchParents()},q.prototype.discard=function(F,X){var ae=this;F===void 0&&(F=!1),X===void 0&&(X=!1),this.ref instanceof Li||this.changes.forEach(function(He){if(He.op===U.OPERATION.DELETE){var dt=ae.ref.getIndex(He.index);delete ae.indexes[dt]}}),this.changes.clear(),this.changed=F,X&&this.allChanges.clear(),this.currentCustomOperation=0},q.prototype.discardAll=function(){var F=this;this.changes.forEach(function(X){var ae=F.getValue(X.index);ae&&ae.$changes&&ae.$changes.discardAll()}),this.discard()},q.prototype.cache=function(F,X){this.caches[F]=X},q.prototype.clone=function(){return new q(this.ref,this.parent,this.root)},q.prototype.ensureRefId=function(){this.refId===void 0&&(this.refId=this.root.getNextUniqueId())},q.prototype.assertValidIndex=function(F,X){if(F===void 0)throw new Error('ChangeTree: missing index for field "'+X+'"')},q}(),je=function(q,F){var X=q.toString(),ae=F.toString();return X<ae?-1:X>ae?1:0};function Ze(q){return q.$proxy=!0,q=new Proxy(q,{get:function(F,X){return typeof X!="symbol"&&!isNaN(X)?F.at(X):F[X]},set:function(F,X,ae){if(typeof X!="symbol"&&!isNaN(X)){var He=Array.from(F.$items.keys()),dt=parseInt(He[X]||X);ae==null?F.deleteAt(dt):F.setAt(dt,ae)}else F[X]=ae;return!0},deleteProperty:function(F,X){return typeof X=="number"?F.deleteAt(X):delete F[X],!0}}),q}var vt=function(){function q(){for(var F=[],X=0;X<arguments.length;X++)F[X]=arguments[X];this.$changes=new de(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,this.push.apply(this,F)}return q.is=function(F){return Array.isArray(F)||F.array!==void 0},Object.defineProperty(q.prototype,"length",{get:function(){return this.$items.size},set:function(F){F===0?this.clear():this.splice(F,this.length-F)},enumerable:!1,configurable:!0}),q.prototype.push=function(){for(var F=this,X=[],ae=0;ae<arguments.length;ae++)X[ae]=arguments[ae];var He;return X.forEach(function(dt){He=F.$refId++,F.setAt(He,dt)}),He},q.prototype.pop=function(){var F=Array.from(this.$indexes.values()).pop();if(F!==void 0){this.$changes.delete(F),this.$indexes.delete(F);var X=this.$items.get(F);return this.$items.delete(F),X}},q.prototype.at=function(F){var X=Array.from(this.$items.keys())[F];return this.$items.get(X)},q.prototype.setAt=function(F,X){var ae,He;X.$changes!==void 0&&X.$changes.setParent(this,this.$changes.root,F);var dt=(He=(ae=this.$changes.indexes[F])===null||ae===void 0?void 0:ae.op)!==null&&He!==void 0?He:U.OPERATION.ADD;this.$changes.indexes[F]=F,this.$indexes.set(F,F),this.$items.set(F,X),this.$changes.change(F,dt)},q.prototype.deleteAt=function(F){var X=Array.from(this.$items.keys())[F];return X===void 0?!1:this.$deleteAt(X)},q.prototype.$deleteAt=function(F){return this.$changes.delete(F),this.$indexes.delete(F),this.$items.delete(F)},q.prototype.clear=function(F){var X=this;this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),F&&typeof this.$changes.getType()!="string"&&this.$items.forEach(function(ae){X.$changes.root.removeRef(ae.$changes.refId)}),this.$items.clear(),this.$changes.operation({index:0,op:U.OPERATION.CLEAR}),this.$changes.touchParents()},q.prototype.concat=function(){for(var F,X=[],ae=0;ae<arguments.length;ae++)X[ae]=arguments[ae];return new(q.bind.apply(q,Q([void 0],(F=Array.from(this.$items.values())).concat.apply(F,X))))},q.prototype.join=function(F){return Array.from(this.$items.values()).join(F)},q.prototype.reverse=function(){var F=this,X=Array.from(this.$items.keys()),ae=Array.from(this.$items.values()).reverse();return ae.forEach(function(He,dt){F.setAt(X[dt],He)}),this},q.prototype.shift=function(){var F=Array.from(this.$items.keys()),X=F.shift();if(X!==void 0){var ae=this.$items.get(X);return this.$deleteAt(X),ae}},q.prototype.slice=function(F,X){return new(q.bind.apply(q,Q([void 0],Array.from(this.$items.values()).slice(F,X))))},q.prototype.sort=function(F){var X=this;F===void 0&&(F=je);var ae=Array.from(this.$items.keys()),He=Array.from(this.$items.values()).sort(F);return He.forEach(function(dt,dn){X.setAt(ae[dn],dt)}),this},q.prototype.splice=function(F,X){X===void 0&&(X=this.length-F);for(var ae=Array.from(this.$items.keys()),He=[],dt=F;dt<F+X;dt++)He.push(this.$items.get(ae[dt])),this.$deleteAt(ae[dt]);return He},q.prototype.unshift=function(){for(var F=this,X=[],ae=0;ae<arguments.length;ae++)X[ae]=arguments[ae];var He=this.length,dt=X.length,dn=Array.from(this.$items.values());return X.forEach(function(Ht,Vn){F.setAt(Vn,Ht)}),dn.forEach(function(Ht,Vn){F.setAt(dt+Vn,Ht)}),He+dt},q.prototype.indexOf=function(F,X){return Array.from(this.$items.values()).indexOf(F,X)},q.prototype.lastIndexOf=function(F,X){return X===void 0&&(X=this.length-1),Array.from(this.$items.values()).lastIndexOf(F,X)},q.prototype.every=function(F,X){return Array.from(this.$items.values()).every(F,X)},q.prototype.some=function(F,X){return Array.from(this.$items.values()).some(F,X)},q.prototype.forEach=function(F,X){Array.from(this.$items.values()).forEach(F,X)},q.prototype.map=function(F,X){return Array.from(this.$items.values()).map(F,X)},q.prototype.filter=function(F,X){return Array.from(this.$items.values()).filter(F,X)},q.prototype.reduce=function(F,X){return Array.from(this.$items.values()).reduce(F,X)},q.prototype.reduceRight=function(F,X){return Array.from(this.$items.values()).reduceRight(F,X)},q.prototype.find=function(F,X){return Array.from(this.$items.values()).find(F,X)},q.prototype.findIndex=function(F,X){return Array.from(this.$items.values()).findIndex(F,X)},q.prototype.fill=function(F,X,ae){throw new Error("ArraySchema#fill() not implemented")},q.prototype.copyWithin=function(F,X,ae){throw new Error("ArraySchema#copyWithin() not implemented")},q.prototype.toString=function(){return this.$items.toString()},q.prototype.toLocaleString=function(){return this.$items.toLocaleString()},q.prototype[Symbol.iterator]=function(){return Array.from(this.$items.values())[Symbol.iterator]()},q.prototype[Symbol.unscopables]=function(){return this.$items[Symbol.unscopables]()},q.prototype.entries=function(){return this.$items.entries()},q.prototype.keys=function(){return this.$items.keys()},q.prototype.values=function(){return this.$items.values()},q.prototype.includes=function(F,X){return Array.from(this.$items.values()).includes(F,X)},q.prototype.flatMap=function(F,X){throw new Error("ArraySchema#flatMap() is not supported.")},q.prototype.flat=function(F){throw new Error("ArraySchema#flat() is not supported.")},q.prototype.setIndex=function(F,X){this.$indexes.set(F,X)},q.prototype.getIndex=function(F){return this.$indexes.get(F)},q.prototype.getByIndex=function(F){return this.$items.get(this.$indexes.get(F))},q.prototype.deleteByIndex=function(F){var X=this.$indexes.get(F);this.$items.delete(X),this.$indexes.delete(F)},q.prototype.toArray=function(){return Array.from(this.$items.values())},q.prototype.toJSON=function(){return this.toArray().map(function(F){return typeof F.toJSON=="function"?F.toJSON():F})},q.prototype.clone=function(F){var X;return F?X=new(q.bind.apply(q,Q([void 0],Array.from(this.$items.values())))):X=new(q.bind.apply(q,Q([void 0],this.map(function(ae){return ae.$changes?ae.clone():ae})))),X},q.prototype.triggerAll=function(){Li.prototype.triggerAll.apply(this)},q}();function ot(q){return q.$proxy=!0,q=new Proxy(q,{get:function(F,X){return typeof X!="symbol"&&typeof F[X]=="undefined"?F.get(X):F[X]},set:function(F,X,ae){return typeof X!="symbol"&&X.indexOf("$")===-1&&X!=="onAdd"&&X!=="onRemove"&&X!=="onChange"?F.set(X,ae):F[X]=ae,!0},deleteProperty:function(F,X){return F.delete(X),!0}}),q}var ht=function(){function q(F){var X=this;if(this.$changes=new de(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,F)if(F instanceof Map)F.forEach(function(He,dt){return X.set(dt,He)});else for(var ae in F)this.set(ae,F[ae])}return q.is=function(F){return F.map!==void 0},q.prototype[Symbol.iterator]=function(){return this.$items[Symbol.iterator]()},Object.defineProperty(q.prototype,Symbol.toStringTag,{get:function(){return this.$items[Symbol.toStringTag]},enumerable:!1,configurable:!0}),q.prototype.set=function(F,X){if(X==null)throw new Error("MapSchema#set('"+F+"', "+X+"): trying to set "+X+" value on '"+F+"'.");var ae=typeof this.$changes.indexes[F]!="undefined",He=ae?this.$changes.indexes[F]:this.$refId++,dt=ae?U.OPERATION.REPLACE:U.OPERATION.ADD,dn=X.$changes!==void 0;return dn&&X.$changes.setParent(this,this.$changes.root,He),ae?dn&&this.$items.get(F)!==X&&(dt=U.OPERATION.ADD):(this.$changes.indexes[F]=He,this.$indexes.set(He,F)),this.$items.set(F,X),this.$changes.change(F,dt),this},q.prototype.get=function(F){return this.$items.get(F)},q.prototype.delete=function(F){return this.$changes.delete(F),this.$items.delete(F)},q.prototype.clear=function(F){var X=this;this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),F&&typeof this.$changes.getType()!="string"&&this.$items.forEach(function(ae){X.$changes.root.removeRef(ae.$changes.refId)}),this.$items.clear(),this.$changes.operation({index:0,op:U.OPERATION.CLEAR}),this.$changes.touchParents()},q.prototype.has=function(F){return this.$items.has(F)},q.prototype.forEach=function(F){this.$items.forEach(F)},q.prototype.entries=function(){return this.$items.entries()},q.prototype.keys=function(){return this.$items.keys()},q.prototype.values=function(){return this.$items.values()},Object.defineProperty(q.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),q.prototype.setIndex=function(F,X){this.$indexes.set(F,X)},q.prototype.getIndex=function(F){return this.$indexes.get(F)},q.prototype.getByIndex=function(F){return this.$items.get(this.$indexes.get(F))},q.prototype.deleteByIndex=function(F){var X=this.$indexes.get(F);this.$items.delete(X),this.$indexes.delete(F)},q.prototype.toJSON=function(){var F={};return this.forEach(function(X,ae){F[ae]=typeof X.toJSON=="function"?X.toJSON():X}),F},q.prototype.clone=function(F){var X;return F?X=Object.assign(new q,this):(X=new q,this.forEach(function(ae,He){ae.$changes?X.set(He,ae.clone()):X.set(He,ae)})),X},q.prototype.triggerAll=function(){Li.prototype.triggerAll.apply(this)},q}(),at={};function Mt(q,F){at[q]=F}function Ct(q){return at[q]}var Ft=function(){function q(){this.indexes={},this.fieldsByIndex={},this.deprecated={},this.descriptors={}}return q.create=function(F){var X=new q;return X.schema=Object.assign({},F&&F.schema||{}),X.indexes=Object.assign({},F&&F.indexes||{}),X.fieldsByIndex=Object.assign({},F&&F.fieldsByIndex||{}),X.descriptors=Object.assign({},F&&F.descriptors||{}),X.deprecated=Object.assign({},F&&F.deprecated||{}),X},q.prototype.addField=function(F,X){var ae=this.getNextFieldIndex();this.fieldsByIndex[ae]=F,this.indexes[F]=ae,this.schema[F]=Array.isArray(X)?{array:X[0]}:X},q.prototype.addFilter=function(F,X){return this.filters||(this.filters={},this.indexesWithFilters=[]),this.filters[this.indexes[F]]=X,this.indexesWithFilters.push(this.indexes[F]),!0},q.prototype.addChildrenFilter=function(F,X){var ae=this.indexes[F],He=this.schema[F];if(Ct(Object.keys(He)[0]))return this.childFilters||(this.childFilters={}),this.childFilters[ae]=X,!0;console.warn("@filterChildren: field '"+F+"' can't have children. Ignoring filter.")},q.prototype.getChildrenFilter=function(F){return this.childFilters&&this.childFilters[this.indexes[F]]},q.prototype.getNextFieldIndex=function(){return Object.keys(this.schema||{}).length},q}();function $t(q){return q._context&&q._context.useFilters}var An=function(){function q(){this.types={},this.schemas=new Map,this.useFilters=!1}return q.prototype.has=function(F){return this.schemas.has(F)},q.prototype.get=function(F){return this.types[F]},q.prototype.add=function(F,X){X===void 0&&(X=this.schemas.size),F._definition=Ft.create(F._definition),F._typeid=X,this.types[X]=F,this.schemas.set(F,X)},q.create=function(F){return F===void 0&&(F=new q),function(X){return Et(X,F)}},q}(),xt=new An;function Et(q,F){return F===void 0&&(F=xt),function(X,ae){var He=X.constructor;He._context=F,F.has(He)||F.add(He);var dt=He._definition;if(dt.addField(ae,q),dt.descriptors[ae]){if(dt.deprecated[ae])return;try{throw new Error("@colyseus/schema: Duplicate '"+ae+"' definition on '"+He.name+`'.
Check @type() annotation`)}catch(on){var dn=on.stack.split(`
`)[4].trim();throw new Error(on.message+" "+dn)}}var Ht=vt.is(q),Vn=!Ht&&ht.is(q);if(typeof q!="string"&&!Li.is(q)){var Bt=Object.values(q)[0];typeof Bt!="string"&&!F.has(Bt)&&F.add(Bt)}var wt="_"+ae;dt.descriptors[wt]={enumerable:!1,configurable:!1,writable:!0},dt.descriptors[ae]={get:function(){return this[wt]},set:function(on){on!==this[wt]&&(on!=null?(Ht&&!(on instanceof vt)&&(on=new(vt.bind.apply(vt,Q([void 0],on)))),Vn&&!(on instanceof ht)&&(on=new ht(on)),on.$proxy===void 0&&(Vn?on=ot(on):Ht&&(on=Ze(on))),this.$changes.change(ae),on.$changes&&on.$changes.setParent(this,this.$changes.root,this._definition.indexes[ae])):this.$changes.delete(ae),this[wt]=on)},enumerable:!0,configurable:!0}}}function it(q){return function(F,X){var ae=F.constructor,He=ae._definition;He.addFilter(X,q)&&(ae._context.useFilters=!0)}}function rt(q){return function(F,X){var ae=F.constructor,He=ae._definition;He.addChildrenFilter(X,q)&&(ae._context.useFilters=!0)}}function ft(q,F){return q===void 0&&(q=!0),function(X,ae){var He=X.constructor,dt=He._definition;dt.deprecated[ae]=!0,q&&(dt.descriptors[ae]={get:function(){throw new Error(ae+" is deprecated.")},set:function(dn){},enumerable:!1,configurable:!0})}}function bt(q,F,X){X===void 0&&(X=q._context||xt);for(var ae in F)Et(F[ae],X)(q.prototype,ae);return q}function Yt(q){for(var F=0,X=0,ae=0,He=q.length;ae<He;ae++)F=q.charCodeAt(ae),F<128?X+=1:F<2048?X+=2:F<55296||F>=57344?X+=3:(ae++,X+=4);return X}function Sn(q,F,X){for(var ae=0,He=0,dt=X.length;He<dt;He++)ae=X.charCodeAt(He),ae<128?q[F++]=ae:ae<2048?(q[F++]=192|ae>>6,q[F++]=128|ae&63):ae<55296||ae>=57344?(q[F++]=224|ae>>12,q[F++]=128|ae>>6&63,q[F++]=128|ae&63):(He++,ae=65536+((ae&1023)<<10|X.charCodeAt(He)&1023),q[F++]=240|ae>>18,q[F++]=128|ae>>12&63,q[F++]=128|ae>>6&63,q[F++]=128|ae&63)}function he(q,F){q.push(F&255)}function Ae(q,F){q.push(F&255)}function Ge(q,F){q.push(F&255),q.push(F>>8&255)}function Ie(q,F){q.push(F&255),q.push(F>>8&255)}function Je(q,F){q.push(F&255),q.push(F>>8&255),q.push(F>>16&255),q.push(F>>24&255)}function Rt(q,F){var X=F>>24,ae=F>>16,He=F>>8,dt=F;q.push(dt&255),q.push(He&255),q.push(ae&255),q.push(X&255)}function Dt(q,F){var X=Math.floor(F/Math.pow(2,32)),ae=F>>>0;Rt(q,ae),Rt(q,X)}function Pt(q,F){var X=F/Math.pow(2,32)>>0,ae=F>>>0;Rt(q,ae),Rt(q,X)}function zt(q,F){Tt(q,F)}function sn(q,F){qt(q,F)}var Kt=new Int32Array(2),cn=new Float32Array(Kt.buffer),gt=new Float64Array(Kt.buffer);function Tt(q,F){cn[0]=F,Je(q,Kt[0])}function qt(q,F){gt[0]=F,Je(q,Kt[0]),Je(q,Kt[1])}function Dn(q,F){return Ae(q,F?1:0)}function rn(q,F){F||(F="");var X=Yt(F),ae=0;if(X<32)q.push(X|160),ae=1;else if(X<256)q.push(217),Ae(q,X),ae=2;else if(X<65536)q.push(218),Ie(q,X),ae=3;else if(X<4294967296)q.push(219),Rt(q,X),ae=5;else throw new Error("String too long");return Sn(q,q.length,F),ae+X}function Nt(q,F){if(isNaN(F))return Nt(q,0);if(isFinite(F)){if(F!==(F|0))return q.push(203),qt(q,F),9}else return Nt(q,F>0?Number.MAX_SAFE_INTEGER:-Number.MAX_SAFE_INTEGER);return F>=0?F<128?(Ae(q,F),1):F<256?(q.push(204),Ae(q,F),2):F<65536?(q.push(205),Ie(q,F),3):F<4294967296?(q.push(206),Rt(q,F),5):(q.push(207),Pt(q,F),9):F>=-32?(q.push(224|F+32),1):F>=-128?(q.push(208),he(q,F),2):F>=-32768?(q.push(209),Ge(q,F),3):F>=-2147483648?(q.push(210),Je(q,F),5):(q.push(211),Dt(q,F),9)}var ur=Object.freeze({__proto__:null,utf8Write:Sn,int8:he,uint8:Ae,int16:Ge,uint16:Ie,int32:Je,uint32:Rt,int64:Dt,uint64:Pt,float32:zt,float64:sn,writeFloat32:Tt,writeFloat64:qt,boolean:Dn,string:rn,number:Nt});function vn(q,F,X){for(var ae="",He=0,dt=F,dn=F+X;dt<dn;dt++){var Ht=q[dt];if((Ht&128)===0){ae+=String.fromCharCode(Ht);continue}if((Ht&224)===192){ae+=String.fromCharCode((Ht&31)<<6|q[++dt]&63);continue}if((Ht&240)===224){ae+=String.fromCharCode((Ht&15)<<12|(q[++dt]&63)<<6|(q[++dt]&63)<<0);continue}if((Ht&248)===240){He=(Ht&7)<<18|(q[++dt]&63)<<12|(q[++dt]&63)<<6|(q[++dt]&63)<<0,He>=65536?(He-=65536,ae+=String.fromCharCode((He>>>10)+55296,(He&1023)+56320)):ae+=String.fromCharCode(He);continue}console.error("Invalid byte "+Ht.toString(16))}return ae}function dr(q,F){return Or(q,F)<<24>>24}function Or(q,F){return q[F.offset++]}function Ci(q,F){return hi(q,F)<<16>>16}function hi(q,F){return q[F.offset++]|q[F.offset++]<<8}function tn(q,F){return q[F.offset++]|q[F.offset++]<<8|q[F.offset++]<<16|q[F.offset++]<<24}function hn(q,F){return tn(q,F)>>>0}function Rn(q,F){return $r(q,F)}function At(q,F){return Tr(q,F)}function Zt(q,F){var X=hn(q,F),ae=tn(q,F)*Math.pow(2,32);return ae+X}function br(q,F){var X=hn(q,F),ae=hn(q,F)*Math.pow(2,32);return ae+X}var Nr=new Int32Array(2),Yn=new Float32Array(Nr.buffer),fr=new Float64Array(Nr.buffer);function $r(q,F){return Nr[0]=tn(q,F),Yn[0]}function Tr(q,F){return Nr[0]=tn(q,F),Nr[1]=tn(q,F),fr[0]}function Kr(q,F){return Or(q,F)>0}function ho(q,F){var X=q[F.offset++],ae;X<192?ae=X&31:X===217?ae=Or(q,F):X===218?ae=hi(q,F):X===219&&(ae=hn(q,F));var He=vn(q,F.offset,ae);return F.offset+=ae,He}function po(q,F){var X=q[F.offset];return X<192&&X>160||X===217||X===218||X===219}function Ii(q,F){var X=q[F.offset++];if(X<128)return X;if(X===202)return $r(q,F);if(X===203)return Tr(q,F);if(X===204)return Or(q,F);if(X===205)return hi(q,F);if(X===206)return hn(q,F);if(X===207)return br(q,F);if(X===208)return dr(q,F);if(X===209)return Ci(q,F);if(X===210)return tn(q,F);if(X===211)return Zt(q,F);if(X>223)return(255-X+1)*-1}function au(q,F){var X=q[F.offset];return X<128||X>=202&&X<=211}function su(q,F){return q[F.offset]<160}function lu(q,F){return q[F.offset-1]===_e&&(q[F.offset]<128||q[F.offset]>=202&&q[F.offset]<=211)}var Cn=Object.freeze({__proto__:null,int8:dr,uint8:Or,int16:Ci,uint16:hi,int32:tn,uint32:hn,float32:Rn,float64:At,int64:Zt,uint64:br,readFloat32:$r,readFloat64:Tr,boolean:Kr,string:ho,stringCheck:po,number:Ii,numberCheck:au,arrayCheck:su,switchStructureCheck:lu}),Fn=function(){function q(F){var X=this;this.$changes=new de(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,F&&F.forEach(function(ae){return X.add(ae)})}return q.is=function(F){return F.collection!==void 0},q.prototype.add=function(F){var X=this.$refId++,ae=F.$changes!==void 0;return ae&&F.$changes.setParent(this,this.$changes.root,X),this.$changes.indexes[X]=X,this.$indexes.set(X,X),this.$items.set(X,F),this.$changes.change(X),X},q.prototype.at=function(F){var X=Array.from(this.$items.keys())[F];return this.$items.get(X)},q.prototype.entries=function(){return this.$items.entries()},q.prototype.delete=function(F){for(var X=this.$items.entries(),ae,He;(He=X.next())&&!He.done;)if(F===He.value[1]){ae=He.value[0];break}return ae===void 0?!1:(this.$changes.delete(ae),this.$indexes.delete(ae),this.$items.delete(ae))},q.prototype.clear=function(F){var X=this;this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),F&&typeof this.$changes.getType()!="string"&&this.$items.forEach(function(ae){X.$changes.root.removeRef(ae.$changes.refId)}),this.$items.clear(),this.$changes.operation({index:0,op:U.OPERATION.CLEAR}),this.$changes.touchParents()},q.prototype.has=function(F){return Array.from(this.$items.values()).some(function(X){return X===F})},q.prototype.forEach=function(F){var X=this;this.$items.forEach(function(ae,He,dt){return F(ae,He,X)})},q.prototype.values=function(){return this.$items.values()},Object.defineProperty(q.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),q.prototype.setIndex=function(F,X){this.$indexes.set(F,X)},q.prototype.getIndex=function(F){return this.$indexes.get(F)},q.prototype.getByIndex=function(F){return this.$items.get(this.$indexes.get(F))},q.prototype.deleteByIndex=function(F){var X=this.$indexes.get(F);this.$items.delete(X),this.$indexes.delete(F)},q.prototype.toArray=function(){return Array.from(this.$items.values())},q.prototype.toJSON=function(){var F=[];return this.forEach(function(X,ae){F.push(typeof X.toJSON=="function"?X.toJSON():X)}),F},q.prototype.clone=function(F){var X;return F?X=Object.assign(new q,this):(X=new q,this.forEach(function(ae){ae.$changes?X.add(ae.clone()):X.add(ae)})),X},q.prototype.triggerAll=function(){Li.prototype.triggerAll.apply(this)},q}(),hr=function(){function q(F){var X=this;this.$changes=new de(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,F&&F.forEach(function(ae){return X.add(ae)})}return q.is=function(F){return F.set!==void 0},q.prototype.add=function(F){var X,ae;if(this.has(F))return!1;var He=this.$refId++;F.$changes!==void 0&&F.$changes.setParent(this,this.$changes.root,He);var dt=(ae=(X=this.$changes.indexes[He])===null||X===void 0?void 0:X.op)!==null&&ae!==void 0?ae:U.OPERATION.ADD;return this.$changes.indexes[He]=He,this.$indexes.set(He,He),this.$items.set(He,F),this.$changes.change(He,dt),He},q.prototype.entries=function(){return this.$items.entries()},q.prototype.delete=function(F){for(var X=this.$items.entries(),ae,He;(He=X.next())&&!He.done;)if(F===He.value[1]){ae=He.value[0];break}return ae===void 0?!1:(this.$changes.delete(ae),this.$indexes.delete(ae),this.$items.delete(ae))},q.prototype.clear=function(F){var X=this;this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),F&&typeof this.$changes.getType()!="string"&&this.$items.forEach(function(ae){X.$changes.root.removeRef(ae.$changes.refId)}),this.$items.clear(),this.$changes.operation({index:0,op:U.OPERATION.CLEAR}),this.$changes.touchParents()},q.prototype.has=function(F){for(var X=this.$items.values(),ae=!1,He;(He=X.next())&&!He.done;)if(F===He.value){ae=!0;break}return ae},q.prototype.forEach=function(F){var X=this;this.$items.forEach(function(ae,He,dt){return F(ae,He,X)})},q.prototype.values=function(){return this.$items.values()},Object.defineProperty(q.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),q.prototype.setIndex=function(F,X){this.$indexes.set(F,X)},q.prototype.getIndex=function(F){return this.$indexes.get(F)},q.prototype.getByIndex=function(F){return this.$items.get(this.$indexes.get(F))},q.prototype.deleteByIndex=function(F){var X=this.$indexes.get(F);this.$items.delete(X),this.$indexes.delete(F)},q.prototype.toArray=function(){return Array.from(this.$items.values())},q.prototype.toJSON=function(){var F=[];return this.forEach(function(X,ae){F.push(typeof X.toJSON=="function"?X.toJSON():X)}),F},q.prototype.clone=function(F){var X;return F?X=Object.assign(new q,this):(X=new q,this.forEach(function(ae){ae.$changes?X.add(ae.clone()):X.add(ae)})),X},q.prototype.triggerAll=function(){Li.prototype.triggerAll.apply(this)},q}(),pi=function(){function q(){this.handlers=[]}return q.prototype.register=function(F,X){return this.handlers.push(F),this},q.prototype.invoke=function(){for(var F=[],X=0;X<arguments.length;X++)F[X]=arguments[X];this.handlers.forEach(function(ae){return ae.apply(void 0,F)})},q.prototype.invokeAsync=function(){for(var F=[],X=0;X<arguments.length;X++)F[X]=arguments[X];return Promise.all(this.handlers.map(function(ae){return ae.apply(void 0,F)}))},q.prototype.remove=function(F){var X=this.handlers.indexOf(F);this.handlers[X]=this.handlers[this.handlers.length-1],this.handlers.pop()},q.prototype.clear=function(){this.handlers=[]},q}(),uu=function(){function q(){this.refIds=new WeakSet,this.containerIndexes=new WeakMap}return q.prototype.addRefId=function(F){this.refIds.has(F)||(this.refIds.add(F),this.containerIndexes.set(F,new Set))},q.get=function(F){return F.$filterState===void 0&&(F.$filterState=new q),F.$filterState},q}(),mo=function(q){ge(F,q);function F(){return q!==null&&q.apply(this,arguments)||this}return F}(Error);function fc(q,F,X,ae){var He,dt=!1;switch(F){case"number":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":case"int64":case"uint64":case"float32":case"float64":He="number",isNaN(q)&&console.log('trying to encode "NaN" in '+X.constructor.name+"#"+ae);break;case"string":He="string",dt=!0;break;case"boolean":return}if(typeof q!==He&&(!dt||dt&&q!==null)){var dn="'"+JSON.stringify(q)+"'"+(q&&q.constructor&&" ("+q.constructor.name+")"||"");throw new mo("a '"+He+"' was expected, but "+dn+" was provided in "+X.constructor.name+"#"+ae)}}function Ls(q,F,X,ae){if(!(q instanceof F))throw new mo("a '"+F.name+"' was expected, but '"+q.constructor.name+"' was provided in "+X.constructor.name+"#"+ae)}function gl(q,F,X,ae,He){fc(X,q,ae,He);var dt=ur[q];if(dt)dt(F,X);else throw new mo("a '"+q+"' was expected, but "+X+" was provided in "+ae.constructor.name+"#"+He)}function yl(q,F,X){return Cn[q](F,X)}var Li=function(){function q(){for(var F=[],X=0;X<arguments.length;X++)F[X]=arguments[X];Object.defineProperties(this,{$changes:{value:new de(this,void 0,new we),enumerable:!1,writable:!0},$listeners:{value:{},enumerable:!1,writable:!0}});var ae=this._definition.descriptors;ae&&Object.defineProperties(this,ae),F[0]&&this.assign(F[0])}return q.onError=function(F){console.error(F)},q.is=function(F){return F._definition&&F._definition.schema!==void 0},q.prototype.assign=function(F){return Object.assign(this,F),this},Object.defineProperty(q.prototype,"_definition",{get:function(){return this.constructor._definition},enumerable:!1,configurable:!0}),q.prototype.listen=function(F,X){var ae=this;return this.$listeners[F]||(this.$listeners[F]=new pi),this.$listeners[F].register(X),function(){return ae.$listeners[F].remove(X)}},q.prototype.decode=function(F,X,ae,He){X===void 0&&(X={offset:0}),ae===void 0&&(ae=this),He===void 0&&(He=new Map);var dt=this.$changes.root,dn=F.length,Ht=0,Vn=[];for(dt.refs.set(Ht,this),He.set(Ht,Vn);X.offset<dn;){var Bt=F[X.offset++];if(Bt==_e){Ht=Ii(F,X);var wt=dt.refs.get(Ht);if(!wt)throw new Error('"refId" not found: '+Ht);ae=wt,Vn=[],He.set(Ht,Vn);continue}var on=ae.$changes,or=ae._definition!==void 0,On=or?Bt>>6<<6:Bt;if(On===U.OPERATION.CLEAR){ae.clear(!0);continue}var pn=or?Bt%(On||255):Ii(F,X),Mn=or?ae._definition.fieldsByIndex[pn]:"",Zn=on.getType(pn),an=void 0,Un=void 0,Jn=void 0;if(or?Un=ae["_"+Mn]:(Un=ae.getByIndex(pn),(On&U.OPERATION.ADD)===U.OPERATION.ADD?(Jn=ae instanceof ht?ho(F,X):pn,ae.setIndex(pn,Jn)):Jn=ae.getIndex(pn)),(On&U.OPERATION.DELETE)===U.OPERATION.DELETE&&(On!==U.OPERATION.DELETE_AND_ADD&&ae.deleteByIndex(pn),Un&&Un.$changes&&dt.removeRef(Un.$changes.refId),an=null),Mn===void 0){console.warn("@colyseus/schema: definition mismatch");for(var gn={offset:X.offset};X.offset<dn&&!(lu(F,X)&&(gn.offset=X.offset+1,dt.refs.has(Ii(F,gn))));)X.offset++;continue}else if(On!==U.OPERATION.DELETE)if(q.is(Zn)){var wr=Ii(F,X);if(an=dt.refs.get(wr),On!==U.OPERATION.REPLACE){var So=this.getSchemaType(F,X,Zn);an||(an=this.createTypeInstance(So),an.$changes.refId=wr,Un&&(an.onChange=Un.onChange,an.onRemove=Un.onRemove,an.$listeners=Un.$listeners,Un.$changes.refId&&wr!==Un.$changes.refId&&dt.removeRef(Un.$changes.refId))),dt.addRef(wr,an,an!==Un)}}else if(typeof Zn=="string")an=yl(Zn,F,X);else{var Zi=Ct(Object.keys(Zn)[0]),Pr=Ii(F,X),mi=dt.refs.has(Pr)?Un||dt.refs.get(Pr):new Zi.constructor;if(an=mi.clone(!0),an.$changes.refId=Pr,Un&&(an.onAdd=Un.onAdd,an.onRemove=Un.onRemove,an.onChange=Un.onChange,Un.$changes.refId&&Pr!==Un.$changes.refId)){dt.removeRef(Un.$changes.refId);for(var Qn=[],hc=Un.entries(),Co=void 0;(Co=hc.next())&&!Co.done;){var xl=Co.value,va=xl[0],vi=xl[1];Qn.push({op:U.OPERATION.DELETE,field:va,value:void 0,previousValue:vi})}He.set(Un.$changes.refId,Qn)}dt.addRef(Pr,an,mi!==Un),Zi.getProxy&&(an=Zi.getProxy(an))}var lv=Un!==an;if(an!=null){if(an.$changes&&an.$changes.setParent(on.ref,on.root,pn),ae instanceof q)ae[Mn]=an;else if(ae instanceof ht){var va=Jn;ae.$items.set(va,an)}else if(ae instanceof vt)ae.setAt(pn,an);else if(ae instanceof Fn){var Ji=ae.add(an);ae.setIndex(pn,Ji)}else if(ae instanceof hr){var Ji=ae.add(an);Ji!==!1&&ae.setIndex(pn,Ji)}}lv&&Vn.push({op:On,field:Mn,dynamicIndex:Jn,value:an,previousValue:Un})}return this._triggerChanges(He),dt.garbageCollectDeletedRefs(),He},q.prototype.encode=function(F,X,ae){F===void 0&&(F=!1),X===void 0&&(X=[]),ae===void 0&&(ae=!1);for(var He=this.$changes,dt=new WeakSet,dn=[He],Ht=1,Vn=0;Vn<Ht;Vn++){var Bt=dn[Vn],wt=Bt.ref,on=wt instanceof q;Bt.ensureRefId(),dt.add(Bt),Bt!==He&&(Bt.changed||F)&&(Ae(X,_e),Nt(X,Bt.refId));for(var or=F?Array.from(Bt.allChanges):Array.from(Bt.changes.values()),On=0,pn=or.length;On<pn;On++){var Mn=F?{op:U.OPERATION.ADD,index:or[On]}:or[On],Zn=Mn.index,an=on?wt._definition.fieldsByIndex&&wt._definition.fieldsByIndex[Zn]:Zn,Un=X.length;if(Mn.op!==U.OPERATION.TOUCH)if(on)Ae(X,Zn|Mn.op);else{if(Ae(X,Mn.op),Mn.op===U.OPERATION.CLEAR)continue;Nt(X,Zn)}if(!on&&(Mn.op&U.OPERATION.ADD)==U.OPERATION.ADD&&wt instanceof ht){var Jn=Bt.ref.$indexes.get(Zn);rn(X,Jn)}if(Mn.op!==U.OPERATION.DELETE){var gn=Bt.getType(Zn),wr=Bt.getValue(Zn);if(wr&&wr.$changes&&!dt.has(wr.$changes)&&(dn.push(wr.$changes),wr.$changes.ensureRefId(),Ht++),Mn.op!==U.OPERATION.TOUCH){if(q.is(gn))Ls(wr,gn,wt,an),Nt(X,wr.$changes.refId),(Mn.op&U.OPERATION.ADD)===U.OPERATION.ADD&&this.tryEncodeTypeId(X,gn,wr.constructor);else if(typeof gn=="string")gl(gn,X,wr,wt,an);else{var So=Ct(Object.keys(gn)[0]);Ls(wt["_"+an],So.constructor,wt,an),Nt(X,wr.$changes.refId)}ae&&Bt.cache(Zn,X.slice(Un))}}}!F&&!ae&&Bt.discard()}return X},q.prototype.encodeAll=function(F){return this.encode(!0,[],F)},q.prototype.applyFilters=function(F,X){var ae,He;X===void 0&&(X=!1);for(var dt=this,dn=new Set,Ht=uu.get(F),Vn=[this.$changes],Bt=1,wt=[],on=function(On){var pn=Vn[On];if(dn.has(pn.refId))return"continue";var Mn=pn.ref,Zn=Mn instanceof q;Ae(wt,_e),Nt(wt,pn.refId);var an=Ht.refIds.has(pn),Un=X||!an;Ht.addRefId(pn);var Jn=Ht.containerIndexes.get(pn),gn=Un?Array.from(pn.allChanges):Array.from(pn.changes.values());if(!X&&Zn&&Mn._definition.indexesWithFilters){var wr=Mn._definition.indexesWithFilters;wr.forEach(function(vi){!Jn.has(vi)&&pn.allChanges.has(vi)&&(Un?gn.push(vi):gn.push({op:U.OPERATION.ADD,index:vi}))})}for(var So=0,Zi=gn.length;So<Zi;So++){var Pr=Un?{op:U.OPERATION.ADD,index:gn[So]}:gn[So];if(Pr.op===U.OPERATION.CLEAR){Ae(wt,Pr.op);continue}var mi=Pr.index;if(Pr.op===U.OPERATION.DELETE){Zn?Ae(wt,Pr.op|mi):(Ae(wt,Pr.op),Nt(wt,mi));continue}var Qn=pn.getValue(mi),hc=pn.getType(mi);if(Zn){var Co=Mn._definition.filters&&Mn._definition.filters[mi];if(Co&&!Co.call(Mn,F,Qn,dt)){Qn&&Qn.$changes&&dn.add(Qn.$changes.refId);continue}}else{var xl=pn.parent,Co=pn.getChildrenFilter();if(Co&&!Co.call(xl,F,Mn.$indexes.get(mi),Qn,dt)){Qn&&Qn.$changes&&dn.add(Qn.$changes.refId);continue}}if(Qn.$changes&&(Vn.push(Qn.$changes),Bt++),Pr.op!==U.OPERATION.TOUCH)if(Pr.op===U.OPERATION.ADD||Zn)wt.push.apply(wt,(ae=pn.caches[mi])!==null&&ae!==void 0?ae:[]),Jn.add(mi);else if(Jn.has(mi))wt.push.apply(wt,(He=pn.caches[mi])!==null&&He!==void 0?He:[]);else{if(Jn.add(mi),Ae(wt,U.OPERATION.ADD),Nt(wt,mi),Mn instanceof ht){var va=pn.ref.$indexes.get(mi);rn(wt,va)}Qn.$changes?Nt(wt,Qn.$changes.refId):ur[hc](wt,Qn)}else if(Qn.$changes&&!Zn){if(Ae(wt,U.OPERATION.ADD),Nt(wt,mi),Mn instanceof ht){var va=pn.ref.$indexes.get(mi);rn(wt,va)}Nt(wt,Qn.$changes.refId)}}},or=0;or<Bt;or++)on(or);return wt},q.prototype.clone=function(){var F=new this.constructor,X=this._definition.schema;for(var ae in X)typeof this[ae]=="object"&&typeof this[ae].clone=="function"?F[ae]=this[ae].clone():F[ae]=this[ae];return F},q.prototype.triggerAll=function(){if(this.$changes.root.refs.size!==0){var F=new Map;q.prototype._triggerAllFillChanges.call(this,this,F);try{q.prototype._triggerChanges.call(this,F)}catch(X){q.onError(X)}}},q.prototype.toJSON=function(){var F=this._definition.schema,X=this._definition.deprecated,ae={};for(var He in F)!X[He]&&this[He]!==null&&typeof this[He]!="undefined"&&(ae[He]=typeof this[He].toJSON=="function"?this[He].toJSON():this["_"+He]);return ae},q.prototype.discardAllChanges=function(){this.$changes.discardAll()},q.prototype.getByIndex=function(F){return this[this._definition.fieldsByIndex[F]]},q.prototype.deleteByIndex=function(F){this[this._definition.fieldsByIndex[F]]=void 0},q.prototype.tryEncodeTypeId=function(F,X,ae){X._typeid!==ae._typeid&&(Ae(F,ke),Nt(F,ae._typeid))},q.prototype.getSchemaType=function(F,X,ae){var He;return F[X.offset]===ke&&(X.offset++,He=this.constructor._context.get(Ii(F,X))),He||ae},q.prototype.createTypeInstance=function(F){var X=new F;return X.$changes.root=this.$changes.root,X},q.prototype._triggerAllFillChanges=function(F,X){if(!X.has(F.$changes.refId)){var ae=[];if(X.set(F.$changes.refId||0,ae),F instanceof q){var He=F._definition.schema;for(var dt in He){var dn="_"+dt,Ht=F[dn];Ht!==void 0&&(ae.push({op:U.OPERATION.ADD,field:dt,value:Ht,previousValue:void 0}),Ht.$changes!==void 0&&q.prototype._triggerAllFillChanges.call(this,Ht,X))}}else for(var Vn=F.entries(),Bt=void 0;(Bt=Vn.next())&&!Bt.done;){var wt=Bt.value,on=wt[0],Ht=wt[1];ae.push({op:U.OPERATION.ADD,field:on,dynamicIndex:on,value:Ht,previousValue:void 0}),Ht.$changes!==void 0&&q.prototype._triggerAllFillChanges.call(this,Ht,X)}}},q.prototype._triggerChanges=function(F){var X=this;F.forEach(function(ae,He){var dt,dn,Ht,Vn,Bt,wt,on,or,On,pn,Mn,Zn;if(ae.length>0){for(var an=X.$changes.root.refs.get(He),Un=an instanceof q,Jn=0;Jn<ae.length;Jn++){var gn=ae[Jn],wr=an.$listeners&&an.$listeners[gn.field];if(Un||(gn.op===U.OPERATION.ADD&&gn.previousValue===void 0?(dn=(dt=an).onAdd)===null||dn===void 0||dn.call(dt,gn.value,(Ht=gn.dynamicIndex)!==null&&Ht!==void 0?Ht:gn.field):gn.op===U.OPERATION.DELETE?gn.previousValue!==void 0&&((Bt=(Vn=an).onRemove)===null||Bt===void 0||Bt.call(Vn,gn.previousValue,(wt=gn.dynamicIndex)!==null&&wt!==void 0?wt:gn.field)):gn.op===U.OPERATION.DELETE_AND_ADD?(gn.previousValue!==void 0&&((or=(on=an).onRemove)===null||or===void 0||or.call(on,gn.previousValue,gn.dynamicIndex)),(pn=(On=an).onAdd)===null||pn===void 0||pn.call(On,gn.value,gn.dynamicIndex)):(gn.op===U.OPERATION.REPLACE||gn.value!==gn.previousValue)&&((Zn=(Mn=an).onChange)===null||Zn===void 0||Zn.call(Mn,gn.value,gn.dynamicIndex))),(gn.op&U.OPERATION.DELETE)===U.OPERATION.DELETE&&gn.previousValue instanceof q&&gn.previousValue.onRemove&&gn.previousValue.onRemove(),wr)try{wr.invoke(gn.value,gn.previousValue)}catch(So){q.onError(So)}}if(Un&&an.onChange)try{an.onChange(ae)}catch(So){q.onError(So)}}})},q._definition=Ft.create(),q}();function Id(q){for(var F=[q.$changes],X=1,ae={},He=ae,dt=function(Ht){var Vn=F[Ht];Vn.changes.forEach(function(Bt){var wt=Vn.ref,on=Bt.index,or=wt._definition?wt._definition.fieldsByIndex[on]:wt.$indexes.get(on);He[or]=Vn.getValue(on)})},dn=0;dn<X;dn++)dt(dn);return ae}var Zo=new An,Ld=function(q){ge(F,q);function F(){return q!==null&&q.apply(this,arguments)||this}return me([Et("string",Zo)],F.prototype,"name",void 0),me([Et("string",Zo)],F.prototype,"type",void 0),me([Et("number",Zo)],F.prototype,"referencedType",void 0),F}(Li),us=function(q){ge(F,q);function F(){var X=q!==null&&q.apply(this,arguments)||this;return X.fields=new vt,X}return me([Et("number",Zo)],F.prototype,"id",void 0),me([Et([Ld],Zo)],F.prototype,"fields",void 0),F}(Li),sv=function(q){ge(F,q);function F(){var X=q!==null&&q.apply(this,arguments)||this;return X.types=new vt,X}return F.encode=function(X){var ae=X.constructor,He=new F;He.rootType=ae._typeid;var dt=function(Bt,wt){for(var on in wt){var or=new Ld;or.name=on;var On=void 0;if(typeof wt[on]=="string")On=wt[on];else{var pn=wt[on],Mn=void 0;Li.is(pn)?(On="ref",Mn=wt[on]):(On=Object.keys(pn)[0],typeof pn[On]=="string"?On+=":"+pn[On]:Mn=pn[On]),or.referencedType=Mn?Mn._typeid:-1}or.type=On,Bt.fields.push(or)}He.types.push(Bt)},dn=ae._context.types;for(var Ht in dn){var Vn=new us;Vn.id=Number(Ht),dt(Vn,dn[Ht]._definition.schema)}return He.encodeAll()},F.decode=function(X,ae){var He=new An,dt=new F;dt.decode(X,ae);var dn=dt.types.reduce(function(on,or){var On=function(Mn){ge(Zn,Mn);function Zn(){return Mn!==null&&Mn.apply(this,arguments)||this}return Zn}(Li),pn=or.id;return on[pn]=On,He.add(On,pn),on},{});dt.types.forEach(function(on){var or=dn[on.id];on.fields.forEach(function(On){var pn;if(On.referencedType!==void 0){var Mn=On.type,Zn=dn[On.referencedType];if(!Zn){var an=On.type.split(":");Mn=an[0],Zn=an[1]}Mn==="ref"?Et(Zn,He)(or.prototype,On.name):Et((pn={},pn[Mn]=Zn,pn),He)(or.prototype,On.name)}else Et(On.type,He)(or.prototype,On.name)})});var Ht=dn[dt.rootType],Vn=new Ht;for(var Bt in Ht._definition.schema){var wt=Ht._definition.schema[Bt];typeof wt!="string"&&(Vn[Bt]=typeof wt=="function"?new wt:new(Ct(Object.keys(wt)[0])).constructor)}return Vn},me([Et([us],Zo)],F.prototype,"types",void 0),me([Et("number",Zo)],F.prototype,"rootType",void 0),F}(Li);Mt("map",{constructor:ht,getProxy:ot}),Mt("array",{constructor:vt,getProxy:Ze}),Mt("set",{constructor:hr}),Mt("collection",{constructor:Fn}),U.ArraySchema=vt,U.CollectionSchema=Fn,U.Context=An,U.MapSchema=ht,U.Reflection=sv,U.ReflectionField=Ld,U.ReflectionType=us,U.Schema=Li,U.SchemaDefinition=Ft,U.SetSchema=hr,U.decode=Cn,U.defineTypes=bt,U.deprecated=ft,U.dumpChanges=Id,U.encode=ur,U.filter=it,U.filterChildren=rt,U.hasFilter=$t,U.registerType=Mt,U.type=Et,Object.defineProperty(U,"__esModule",{value:!0})})}),Fe=function(){function k($,U){var ne=this;this.onStateChange=ye(),this.onError=ye(),this.onLeave=ye(),this.onJoin=ye(),this.hasJoined=!1,this.onMessageHandlers=se(),this.id=null,this.name=$,U&&(this.serializer=new(Z("schema")),this.rootSchema=U,this.serializer.state=new U),this.onError(function(ge,me){return console.warn("colyseus.js - onError => ("+ge+") "+me)}),this.onLeave(function(){return ne.removeAllListeners()})}return k.prototype.connect=function($){var U=this;this.connection=new G,this.connection.events.onmessage=this.onMessageCallback.bind(this),this.connection.events.onclose=function(ne){if(!U.hasJoined){console.warn("Room connection was closed unexpectedly ("+ne.code+"): "+ne.reason),U.onError.invoke(ne.code,ne.reason);return}U.onLeave.invoke(ne.code),U.destroy()},this.connection.events.onerror=function(ne){console.warn("Room, onError ("+ne.code+"): "+ne.reason),U.onError.invoke(ne.code,ne.reason)},this.connection.connect($)},k.prototype.leave=function($){var U=this;return $===void 0&&($=!0),new Promise(function(ne){U.onLeave(function(ge){return ne(ge)}),U.connection?$?U.connection.send([n.Protocol.LEAVE_ROOM]):U.connection.close():U.onLeave.invoke(4e3)})},k.prototype.onMessage=function($,U){return this.onMessageHandlers.on(this.getMessageHandlerKey($),U)},k.prototype.send=function($,U){var ne=[n.Protocol.ROOM_DATA];typeof $=="string"?Oe.encode.string(ne,$):Oe.encode.number(ne,$);var ge;if(U!==void 0){var me=V(U);ge=new Uint8Array(ne.length+me.byteLength),ge.set(new Uint8Array(ne),0),ge.set(new Uint8Array(me),ne.length)}else ge=new Uint8Array(ne);this.connection.send(ge.buffer)},Object.defineProperty(k.prototype,"state",{get:function(){return this.serializer.getState()},enumerable:!1,configurable:!0}),k.prototype.removeAllListeners=function(){this.onJoin.clear(),this.onStateChange.clear(),this.onError.clear(),this.onLeave.clear(),this.onMessageHandlers.events={}},k.prototype.onMessageCallback=function($){var U=Array.from(new Uint8Array($.data)),ne=U[0];if(ne===n.Protocol.JOIN_ROOM){var ge=1;if(this.serializerId=oe(U,ge),ge+=re(this.serializerId),!this.serializer){var me=Z(this.serializerId);this.serializer=new me}U.length>ge&&this.serializer.handshake&&this.serializer.handshake(U,{offset:ge}),this.hasJoined=!0,this.onJoin.invoke(),this.connection.send([n.Protocol.JOIN_ROOM])}else if(ne===n.Protocol.ERROR){var Q={offset:1},_e=Oe.decode.number(U,Q),ke=Oe.decode.string(U,Q);this.onError.invoke(_e,ke)}else if(ne===n.Protocol.LEAVE_ROOM)this.leave();else if(ne===n.Protocol.ROOM_DATA_SCHEMA){var we={offset:1},de=this.serializer.getState().constructor._context,je=de.get(Oe.decode.number(U,we)),ke=new je;ke.decode(U,we),this.dispatchMessage(je,ke)}else if(ne===n.Protocol.ROOM_STATE)U.shift(),this.setState(U);else if(ne===n.Protocol.ROOM_STATE_PATCH)U.shift(),this.patch(U);else if(ne===n.Protocol.ROOM_DATA){var Ze={offset:1},je=Oe.decode.stringCheck(U,Ze)?Oe.decode.string(U,Ze):Oe.decode.number(U,Ze),ke=U.length>Ze.offset?N($.data,Ze.offset):void 0;this.dispatchMessage(je,ke)}},k.prototype.setState=function($){this.serializer.setState($),this.onStateChange.invoke(this.serializer.getState())},k.prototype.patch=function($){this.serializer.patch($),this.onStateChange.invoke(this.serializer.getState())},k.prototype.dispatchMessage=function($,U){var ne=this.getMessageHandlerKey($);this.onMessageHandlers.events[ne]?this.onMessageHandlers.emit(ne,U):this.onMessageHandlers.events["*"]?this.onMessageHandlers.emit("*",$,U):console.warn("colyseus.js: onMessage() not registered for type '"+$+"'.")},k.prototype.destroy=function(){this.serializer&&this.serializer.teardown()},k.prototype.getMessageHandlerKey=function($){switch(typeof $){case"function":return"$"+$._typeid;case"string":return $;case"number":return"i"+$;default:throw new Error("invalid message type.")}},k}(),Ee;function Ye(){return Ee||(Ee=typeof cc!="undefined"&&cc.sys&&cc.sys.localStorage?cc.sys.localStorage:typeof window!="undefined"&&window.localStorage?window.localStorage:{cache:{},setItem:function(k,$){this.cache[k]=$},getItem:function(k){this.cache[k]},removeItem:function(k){delete this.cache[k]}}),Ee}function be(k,$){Ye().setItem(k,$)}function Ce(k){Ye().removeItem(k)}function Me(k,$){var U=Ye().getItem(k);typeof Promise=="undefined"||!(U instanceof Promise)?$(U):U.then(function(ne){return $(ne)})}var ze="colyseus-auth-token";n.Platform=void 0,function(k){k.ios="ios",k.android="android"}(n.Platform||(n.Platform={}));var Re=function(){function k($){var U=this;this._id=void 0,this.username=void 0,this.displayName=void 0,this.avatarUrl=void 0,this.isAnonymous=void 0,this.email=void 0,this.lang=void 0,this.location=void 0,this.timezone=void 0,this.metadata=void 0,this.devices=void 0,this.facebookId=void 0,this.twitterId=void 0,this.googleId=void 0,this.gameCenterId=void 0,this.steamId=void 0,this.friendIds=void 0,this.blockedUserIds=void 0,this.createdAt=void 0,this.updatedAt=void 0,this.token=void 0,this.endpoint=$.replace("ws","http"),Me(ze,function(ne){return U.token=ne})}return Object.defineProperty(k.prototype,"hasToken",{get:function(){return!!this.token},enumerable:!1,configurable:!0}),k.prototype.login=function($){return $===void 0&&($={}),o(this,void 0,void 0,function(){var U,ne,ge;return a(this,function(me){switch(me.label){case 0:return U=Object.assign({},$),this.hasToken&&(U.token=this.token),[4,this.request("post","/auth",U)];case 1:ne=me.sent(),this.token=ne.token,be(ze,this.token);for(ge in ne)this.hasOwnProperty(ge)&&(this[ge]=ne[ge]);return this.registerPingService(),[2,this]}})})},k.prototype.save=function(){return o(this,void 0,void 0,function(){return a(this,function($){switch($.label){case 0:return[4,this.request("put","/auth",{},{username:this.username,displayName:this.displayName,avatarUrl:this.avatarUrl,lang:this.lang,location:this.location,timezone:this.timezone})];case 1:return $.sent(),[2,this]}})})},k.prototype.getFriends=function(){return o(this,void 0,void 0,function(){return a(this,function($){switch($.label){case 0:return[4,this.request("get","/friends/all")];case 1:return[2,$.sent()]}})})},k.prototype.getOnlineFriends=function(){return o(this,void 0,void 0,function(){return a(this,function($){switch($.label){case 0:return[4,this.request("get","/friends/online")];case 1:return[2,$.sent()]}})})},k.prototype.getFriendRequests=function(){return o(this,void 0,void 0,function(){return a(this,function($){switch($.label){case 0:return[4,this.request("get","/friends/requests")];case 1:return[2,$.sent()]}})})},k.prototype.sendFriendRequest=function($){return o(this,void 0,void 0,function(){return a(this,function(U){switch(U.label){case 0:return[4,this.request("post","/friends/requests",{userId:$})];case 1:return[2,U.sent()]}})})},k.prototype.acceptFriendRequest=function($){return o(this,void 0,void 0,function(){return a(this,function(U){switch(U.label){case 0:return[4,this.request("put","/friends/requests",{userId:$})];case 1:return[2,U.sent()]}})})},k.prototype.declineFriendRequest=function($){return o(this,void 0,void 0,function(){return a(this,function(U){switch(U.label){case 0:return[4,this.request("del","/friends/requests",{userId:$})];case 1:return[2,U.sent()]}})})},k.prototype.blockUser=function($){return o(this,void 0,void 0,function(){return a(this,function(U){switch(U.label){case 0:return[4,this.request("post","/friends/block",{userId:$})];case 1:return[2,U.sent()]}})})},k.prototype.unblockUser=function($){return o(this,void 0,void 0,function(){return a(this,function(U){switch(U.label){case 0:return[4,this.request("put","/friends/block",{userId:$})];case 1:return[2,U.sent()]}})})},k.prototype.request=function($,U,ne,ge,me){return ne===void 0&&(ne={}),me===void 0&&(me={}),o(this,void 0,void 0,function(){var Q,_e,ke,we;return a(this,function(de){switch(de.label){case 0:me.Accept="application/json",this.hasToken&&(me.Authorization="Bearer "+this.token),Q=[];for(_e in ne)Q.push(_e+"="+ne[_e]);return ke=Q.length>0?"?"+Q.join("&"):"",we={headers:me},ge&&(we.body=ge),[4,T[$](""+this.endpoint+U+ke,we)];case 1:return[2,de.sent().data]}})})},k.prototype.logout=function(){this.token=void 0,Ce(ze),this.unregisterPingService()},k.prototype.registerPingService=function($){var U=this;$===void 0&&($=15e3),this.unregisterPingService(),this.keepOnlineInterval=setInterval(function(){return U.request("get","/auth")},$)},k.prototype.unregisterPingService=function(){clearInterval(this.keepOnlineInterval)},k}(),We,Ue=function(k){i($,k);function $(U,ne){var ge=k.call(this,U)||this;return ge.code=ne,Object.setPrototypeOf(ge,$.prototype),ge}return $}(Error),Ve=typeof window!="undefined"&&typeof((We=window==null?void 0:window.location)===null||We===void 0?void 0:We.hostname)!="undefined"?window.location.protocol.replace("http","ws")+"//"+window.location.hostname+(window.location.port&&":"+window.location.port):"ws://127.0.0.1:2567",Be=function(){function k($){$===void 0&&($=Ve),this.endpoint=$}return Object.defineProperty(k.prototype,"auth",{get:function(){return this._auth||(this._auth=new Re(this.endpoint)),this._auth},enumerable:!1,configurable:!0}),k.prototype.joinOrCreate=function($,U,ne){return U===void 0&&(U={}),o(this,void 0,void 0,function(){return a(this,function(ge){switch(ge.label){case 0:return[4,this.createMatchMakeRequest("joinOrCreate",$,U,ne)];case 1:return[2,ge.sent()]}})})},k.prototype.create=function($,U,ne){return U===void 0&&(U={}),o(this,void 0,void 0,function(){return a(this,function(ge){switch(ge.label){case 0:return[4,this.createMatchMakeRequest("create",$,U,ne)];case 1:return[2,ge.sent()]}})})},k.prototype.join=function($,U,ne){return U===void 0&&(U={}),o(this,void 0,void 0,function(){return a(this,function(ge){switch(ge.label){case 0:return[4,this.createMatchMakeRequest("join",$,U,ne)];case 1:return[2,ge.sent()]}})})},k.prototype.joinById=function($,U,ne){return U===void 0&&(U={}),o(this,void 0,void 0,function(){return a(this,function(ge){switch(ge.label){case 0:return[4,this.createMatchMakeRequest("joinById",$,U,ne)];case 1:return[2,ge.sent()]}})})},k.prototype.reconnect=function($,U,ne){return o(this,void 0,void 0,function(){return a(this,function(ge){switch(ge.label){case 0:return[4,this.createMatchMakeRequest("joinById",$,{sessionId:U},ne)];case 1:return[2,ge.sent()]}})})},k.prototype.getAvailableRooms=function($){return $===void 0&&($=""),o(this,void 0,void 0,function(){var U;return a(this,function(ne){switch(ne.label){case 0:return U=this.endpoint.replace("ws","http")+"/matchmake/"+$,[4,x(U,{headers:{Accept:"application/json"}})];case 1:return[2,ne.sent().data]}})})},k.prototype.consumeSeatReservation=function($,U){return o(this,void 0,void 0,function(){var ne;return a(this,function(ge){return ne=this.createRoom($.room.name,U),ne.id=$.room.roomId,ne.sessionId=$.sessionId,ne.connect(this.buildEndpoint($.room,{sessionId:ne.sessionId})),[2,new Promise(function(me,Q){var _e=function(ke,we){return Q(new R(ke,we))};ne.onError.once(_e),ne.onJoin.once(function(){ne.onError.remove(_e),me(ne)})})]})})},k.prototype.createMatchMakeRequest=function($,U,ne,ge){return ne===void 0&&(ne={}),o(this,void 0,void 0,function(){var me,Q;return a(this,function(_e){switch(_e.label){case 0:return me=this.endpoint.replace("ws","http")+"/matchmake/"+$+"/"+U,this._auth&&this._auth.hasToken&&(ne.token=this._auth.token),[4,w(me,{headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(ne)})];case 1:if(Q=_e.sent().data,Q.error)throw new Ue(Q.error,Q.code);return[2,this.consumeSeatReservation(Q,ge)]}})})},k.prototype.createRoom=function($,U){return new Fe($,U)},k.prototype.buildEndpoint=function($,U){U===void 0&&(U={});var ne=[];for(var ge in U)!U.hasOwnProperty(ge)||ne.push(ge+"="+U[ge]);return this.endpoint+"/"+$.processId+"/"+$.roomId+"?"+ne.join("&")},k}(),qe=function(){function k(){}return k.prototype.setState=function($){this.state.decode($)},k.prototype.getState=function(){return this.state},k.prototype.patch=function($){this.state.decode($)},k.prototype.teardown=function(){var $,U;(U=($=this.state)===null||$===void 0?void 0:$.$changes)===null||U===void 0||U.root.clearRefs()},k.prototype.handshake=function($,U){if(this.state){var ne=new Oe.Reflection;ne.decode($,U)}else this.state=Oe.Reflection.decode($,U)},k}(),te=function(){function k(){}return k.prototype.setState=function($){},k.prototype.getState=function(){return null},k.prototype.patch=function($){},k.prototype.teardown=function(){},k.prototype.handshake=function($){},k}();Y("schema",qe),Y("none",te),n.Auth=Re,n.Client=Be,n.Room=Fe,n.SchemaSerializer=qe,n.registerSerializer=Y,Object.defineProperty(n,"__esModule",{value:!0})})})(XT,XT.exports);const vM=new XT.exports.Client("ws://124.222.221.21:5000");function Se(){return Se=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Se.apply(this,arguments)}function ue(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function di(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $L(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fi(t,e,n){return e&&$L(t.prototype,e),n&&$L(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function YT(t,e){return YT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},YT(t,e)}function Ni(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YT(t,e)}function p_(t){return p_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},p_(t)}function hte(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function un(t){return un=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},un(t)}function _s(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pte(t,e){if(e&&(un(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _s(t)}function ki(t){var e=hte();return function(){var r=p_(t),i;if(e){var o=p_(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return pte(this,i)}}var vV={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var o=arguments[i];if(!!o){var a=typeof o;if(a==="string"||a==="number")r.push(o);else if(Array.isArray(o)){if(o.length){var s=n.apply(null,o);s&&r.push(s)}}else if(a==="object")if(o.toString===Object.prototype.toString)for(var l in o)e.call(o,l)&&o[l]&&r.push(l);else r.push(o.toString())}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(vV);var Xe=vV.exports;function KL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ve(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KL(Object(n),!0).forEach(function(r){ue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function No(t,e){var n=ve({},t);return Array.isArray(e)&&e.forEach(function(r){delete n[r]}),n}var S3={exports:{}},Lr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _o=typeof Symbol=="function"&&Symbol.for,C3=_o?Symbol.for("react.element"):60103,E3=_o?Symbol.for("react.portal"):60106,k1=_o?Symbol.for("react.fragment"):60107,I1=_o?Symbol.for("react.strict_mode"):60108,L1=_o?Symbol.for("react.profiler"):60114,D1=_o?Symbol.for("react.provider"):60109,F1=_o?Symbol.for("react.context"):60110,M3=_o?Symbol.for("react.async_mode"):60111,z1=_o?Symbol.for("react.concurrent_mode"):60111,B1=_o?Symbol.for("react.forward_ref"):60112,V1=_o?Symbol.for("react.suspense"):60113,mte=_o?Symbol.for("react.suspense_list"):60120,U1=_o?Symbol.for("react.memo"):60115,H1=_o?Symbol.for("react.lazy"):60116,vte=_o?Symbol.for("react.block"):60121,gte=_o?Symbol.for("react.fundamental"):60117,yte=_o?Symbol.for("react.responder"):60118,xte=_o?Symbol.for("react.scope"):60119;function os(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case C3:switch(t=t.type,t){case M3:case z1:case k1:case L1:case I1:case V1:return t;default:switch(t=t&&t.$$typeof,t){case F1:case B1:case H1:case U1:case D1:return t;default:return e}}case E3:return e}}}function gV(t){return os(t)===z1}Lr.AsyncMode=M3;Lr.ConcurrentMode=z1;Lr.ContextConsumer=F1;Lr.ContextProvider=D1;Lr.Element=C3;Lr.ForwardRef=B1;Lr.Fragment=k1;Lr.Lazy=H1;Lr.Memo=U1;Lr.Portal=E3;Lr.Profiler=L1;Lr.StrictMode=I1;Lr.Suspense=V1;Lr.isAsyncMode=function(t){return gV(t)||os(t)===M3};Lr.isConcurrentMode=gV;Lr.isContextConsumer=function(t){return os(t)===F1};Lr.isContextProvider=function(t){return os(t)===D1};Lr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===C3};Lr.isForwardRef=function(t){return os(t)===B1};Lr.isFragment=function(t){return os(t)===k1};Lr.isLazy=function(t){return os(t)===H1};Lr.isMemo=function(t){return os(t)===U1};Lr.isPortal=function(t){return os(t)===E3};Lr.isProfiler=function(t){return os(t)===L1};Lr.isStrictMode=function(t){return os(t)===I1};Lr.isSuspense=function(t){return os(t)===V1};Lr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===k1||t===z1||t===L1||t===I1||t===V1||t===mte||typeof t=="object"&&t!==null&&(t.$$typeof===H1||t.$$typeof===U1||t.$$typeof===D1||t.$$typeof===F1||t.$$typeof===B1||t.$$typeof===gte||t.$$typeof===yte||t.$$typeof===xte||t.$$typeof===vte)};Lr.typeOf=os;S3.exports=Lr;function cl(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[];return ln.Children.forEach(t,function(r){r==null&&!e.keepEmpty||(Array.isArray(r)?n=n.concat(cl(r)):S3.exports.isFragment(r)&&r.props?n=n.concat(cl(r.props.children,e)):n.push(r))}),n}var qL={};function bte(t,e){}function wte(t,e,n){!e&&!qL[n]&&(t(!1,n),qL[n]=!0)}function Hi(t,e){wte(bte,t,e)}function W1(t,e,n){var r=v.exports.useRef({});return(!("value"in r.current)||n(r.current.condition,e))&&(r.current.value=t(),r.current.condition=e),r.current.value}function m_(t,e){typeof t=="function"?t(e):un(t)==="object"&&t&&"current"in t&&(t.current=e)}function Yl(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.filter(function(i){return i});return r.length<=1?r[0]:function(i){e.forEach(function(o){m_(o,i)})}}function _te(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return W1(function(){return Yl.apply(void 0,e)},e,function(r,i){return r.length===i.length&&r.every(function(o,a){return o===i[a]})})}function Dm(t){var e,n,r=S3.exports.isMemo(t)?t.type.type:t.type;return!(typeof r=="function"&&!(!((e=r.prototype)===null||e===void 0)&&e.render)||typeof t=="function"&&!(!((n=t.prototype)===null||n===void 0)&&n.render))}function f0(t){return t instanceof HTMLElement?t:_d.findDOMNode(t)}var yV=function(){if(typeof Map!="undefined")return Map;function t(e,n){var r=-1;return e.some(function(i,o){return i[0]===n?(r=o,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(n,r){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,i=t(r,n);~i&&r.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,o=this.__entries__;i<o.length;i++){var a=o[i];n.call(r,a[1],a[0])}},e}()}(),ZT=typeof window!="undefined"&&typeof document!="undefined"&&window.document===document,v_=function(){return typeof global!="undefined"&&global.Math===Math?global:typeof self!="undefined"&&self.Math===Math?self:typeof window!="undefined"&&window.Math===Math?window:Function("return this")()}(),Ste=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(v_):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),Cte=2;function Ete(t,e){var n=!1,r=!1,i=0;function o(){n&&(n=!1,t()),r&&s()}function a(){Ste(o)}function s(){var l=Date.now();if(n){if(l-i<Cte)return;r=!0}else n=!0,r=!1,setTimeout(a,e);i=l}return s}var Mte=20,Tte=["top","right","bottom","left","width","height","size","weight"],Pte=typeof MutationObserver!="undefined",Ate=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=Ete(this.refresh.bind(this),Mte)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!ZT||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Pte?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!ZT||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,i=Tte.some(function(o){return!!~r.indexOf(o)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),xV=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},cm=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||v_},bV=j1(0,0,0,0);function g_(t){return parseFloat(t)||0}function XL(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,i){var o=t["border-"+i+"-width"];return r+g_(o)},0)}function Rte(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var o=i[r],a=t["padding-"+o];n[o]=g_(a)}return n}function Ote(t){var e=t.getBBox();return j1(0,0,e.width,e.height)}function Nte(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return bV;var r=cm(t).getComputedStyle(t),i=Rte(r),o=i.left+i.right,a=i.top+i.bottom,s=g_(r.width),l=g_(r.height);if(r.boxSizing==="border-box"&&(Math.round(s+o)!==e&&(s-=XL(r,"left","right")+o),Math.round(l+a)!==n&&(l-=XL(r,"top","bottom")+a)),!Ite(t)){var u=Math.round(s+o)-e,c=Math.round(l+a)-n;Math.abs(u)!==1&&(s-=u),Math.abs(c)!==1&&(l-=c)}return j1(i.left,i.top,s,l)}var kte=function(){return typeof SVGGraphicsElement!="undefined"?function(t){return t instanceof cm(t).SVGGraphicsElement}:function(t){return t instanceof cm(t).SVGElement&&typeof t.getBBox=="function"}}();function Ite(t){return t===cm(t).document.documentElement}function Lte(t){return ZT?kte(t)?Ote(t):Nte(t):bV}function Dte(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=typeof DOMRectReadOnly!="undefined"?DOMRectReadOnly:Object,a=Object.create(o.prototype);return xV(a,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),a}function j1(t,e,n,r){return{x:t,y:e,width:n,height:r}}var Fte=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=j1(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=Lte(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),zte=function(){function t(e,n){var r=Dte(n);xV(this,{target:e,contentRect:r})}return t}(),Bte=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new yV,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(e instanceof cm(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new Fte(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(e instanceof cm(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;!n.has(e)||(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(!!this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new zte(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),wV=typeof WeakMap!="undefined"?new WeakMap:new yV,_V=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Ate.getInstance(),r=new Bte(e,n,this);wV.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){_V.prototype[t]=function(){var e;return(e=wV.get(this))[t].apply(e,arguments)}});var SV=function(){return typeof v_.ResizeObserver!="undefined"?v_.ResizeObserver:_V}(),id=new Map;function Vte(t){t.forEach(function(e){var n,r=e.target;(n=id.get(r))===null||n===void 0||n.forEach(function(i){return i(r)})})}var CV=new SV(Vte);function Ute(t,e){id.has(t)||(id.set(t,new Set),CV.observe(t)),id.get(t).add(e)}function Hte(t,e){id.has(t)&&(id.get(t).delete(e),id.get(t).size||(CV.unobserve(t),id.delete(t)))}var Wte=function(t){Ni(n,t);var e=ki(n);function n(){return di(this,n),e.apply(this,arguments)}return fi(n,[{key:"render",value:function(){return this.props.children}}]),n}(v.exports.Component),JT=v.exports.createContext(null);function jte(t){var e=t.children,n=t.onBatchResize,r=v.exports.useRef(0),i=v.exports.useRef([]),o=v.exports.useContext(JT),a=v.exports.useCallback(function(s,l,u){r.current+=1;var c=r.current;i.current.push({size:s,element:l,data:u}),Promise.resolve().then(function(){c===r.current&&(n==null||n(i.current),i.current=[])}),o==null||o(s,l,u)},[n,o]);return v.exports.createElement(JT.Provider,{value:a},e)}function Gte(t){var e=t.children,n=t.disabled,r=v.exports.useRef(null),i=v.exports.useRef(null),o=v.exports.useContext(JT),a=typeof e=="function",s=a?e(r):e,l=v.exports.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),u=!a&&v.exports.isValidElement(s)&&Dm(s),c=u?s.ref:null,h=v.exports.useMemo(function(){return Yl(c,r)},[c,r]),f=v.exports.useRef(t);f.current=t;var m=v.exports.useCallback(function(y){var x=f.current,b=x.onResize,w=x.data,S=y.getBoundingClientRect(),C=S.width,M=S.height,T=y.offsetWidth,R=y.offsetHeight,I=Math.floor(C),A=Math.floor(M);if(l.current.width!==I||l.current.height!==A||l.current.offsetWidth!==T||l.current.offsetHeight!==R){var N={width:I,height:A,offsetWidth:T,offsetHeight:R};l.current=N;var L=T===Math.round(C)?C:T,D=R===Math.round(M)?M:R,W=ve(ve({},N),{},{offsetWidth:L,offsetHeight:D});o==null||o(W,y,w),b&&Promise.resolve().then(function(){b(W,y)})}},[]);return v.exports.useEffect(function(){var y=f0(r.current)||f0(i.current);return y&&!n&&Ute(y,m),function(){return Hte(y,m)}},[r.current,n]),v.exports.createElement(Wte,{ref:i},u?v.exports.cloneElement(s,{ref:h}):s)}var $te="rc-observer-key";function $l(t){var e=t.children,n=typeof e=="function"?[e]:cl(e);return n.map(function(r,i){var o=(r==null?void 0:r.key)||"".concat($te,"-").concat(i);return v.exports.createElement(Gte,Se({},t,{key:o}),r)})}$l.Collection=jte;var Kte=v.exports.createContext({}),T3=Kte;function qte(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function _n(t,e){if(t==null)return{};var n=qte(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function QT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xte(t){if(Array.isArray(t))return QT(t)}function EV(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function P3(t,e){if(!!t){if(typeof t=="string")return QT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QT(t,e)}}function Yte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mt(t){return Xte(t)||EV(t)||P3(t)||Yte()}var Cf="RC_FORM_INTERNAL_HOOKS",jr=function(){Hi(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},dm=v.exports.createContext({getFieldValue:jr,getFieldsValue:jr,getFieldError:jr,getFieldWarning:jr,getFieldsError:jr,isFieldsTouched:jr,isFieldTouched:jr,isFieldValidating:jr,isFieldsValidating:jr,resetFields:jr,setFields:jr,setFieldsValue:jr,validateFields:jr,submit:jr,getInternalHooks:function(){return jr(),{dispatch:jr,initEntityValue:jr,registerField:jr,useSubscribe:jr,setInitialValues:jr,destroyForm:jr,setCallbacks:jr,registerWatch:jr,getFields:jr,setValidateMessages:jr,setPreserve:jr,getInitialValue:jr}}});function eP(t){return t==null?[]:Array.isArray(t)?t:[t]}function da(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */da=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=typeof Symbol=="function"?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(L,D,W){return Object.defineProperty(L,D,{value:W,enumerable:!0,configurable:!0,writable:!0}),L[D]}try{s({},"")}catch{s=function(W,V,B){return W[V]=B}}function l(L,D,W,V){var B=D&&D.prototype instanceof h?D:h,K=Object.create(B.prototype),j=new I(V||[]);return K._invoke=function(G,H,Y){var Z="suspendedStart";return function(oe,re){if(Z==="executing")throw new Error("Generator is already running");if(Z==="completed"){if(oe==="throw")throw re;return N()}for(Y.method=oe,Y.arg=re;;){var se=Y.delegate;if(se){var ce=M(se,Y);if(ce){if(ce===c)continue;return ce}}if(Y.method==="next")Y.sent=Y._sent=Y.arg;else if(Y.method==="throw"){if(Z==="suspendedStart")throw Z="completed",Y.arg;Y.dispatchException(Y.arg)}else Y.method==="return"&&Y.abrupt("return",Y.arg);Z="executing";var ye=u(G,H,Y);if(ye.type==="normal"){if(Z=Y.done?"completed":"suspendedYield",ye.arg===c)continue;return{value:ye.arg,done:Y.done}}ye.type==="throw"&&(Z="completed",Y.method="throw",Y.arg=ye.arg)}}}(L,W,j),K}function u(L,D,W){try{return{type:"normal",arg:L.call(D,W)}}catch(V){return{type:"throw",arg:V}}}t.wrap=l;var c={};function h(){}function f(){}function m(){}var y={};s(y,i,function(){return this});var x=Object.getPrototypeOf,b=x&&x(x(A([])));b&&b!==e&&n.call(b,i)&&(y=b);var w=m.prototype=h.prototype=Object.create(y);function S(L){["next","throw","return"].forEach(function(D){s(L,D,function(W){return this._invoke(D,W)})})}function C(L,D){function W(B,K,j,G){var H=u(L[B],L,K);if(H.type!=="throw"){var Y=H.arg,Z=Y.value;return Z&&un(Z)=="object"&&n.call(Z,"__await")?D.resolve(Z.__await).then(function(oe){W("next",oe,j,G)},function(oe){W("throw",oe,j,G)}):D.resolve(Z).then(function(oe){Y.value=oe,j(Y)},function(oe){return W("throw",oe,j,G)})}G(H.arg)}var V;this._invoke=function(B,K){function j(){return new D(function(G,H){W(B,K,G,H)})}return V=V?V.then(j,j):j()}}function M(L,D){var W=L.iterator[D.method];if(W===void 0){if(D.delegate=null,D.method==="throw"){if(L.iterator.return&&(D.method="return",D.arg=void 0,M(L,D),D.method==="throw"))return c;D.method="throw",D.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var V=u(W,L.iterator,D.arg);if(V.type==="throw")return D.method="throw",D.arg=V.arg,D.delegate=null,c;var B=V.arg;return B?B.done?(D[L.resultName]=B.value,D.next=L.nextLoc,D.method!=="return"&&(D.method="next",D.arg=void 0),D.delegate=null,c):B:(D.method="throw",D.arg=new TypeError("iterator result is not an object"),D.delegate=null,c)}function T(L){var D={tryLoc:L[0]};1 in L&&(D.catchLoc=L[1]),2 in L&&(D.finallyLoc=L[2],D.afterLoc=L[3]),this.tryEntries.push(D)}function R(L){var D=L.completion||{};D.type="normal",delete D.arg,L.completion=D}function I(L){this.tryEntries=[{tryLoc:"root"}],L.forEach(T,this),this.reset(!0)}function A(L){if(L){var D=L[i];if(D)return D.call(L);if(typeof L.next=="function")return L;if(!isNaN(L.length)){var W=-1,V=function B(){for(;++W<L.length;)if(n.call(L,W))return B.value=L[W],B.done=!1,B;return B.value=void 0,B.done=!0,B};return V.next=V}}return{next:N}}function N(){return{value:void 0,done:!0}}return f.prototype=m,s(w,"constructor",m),s(m,"constructor",f),f.displayName=s(m,a,"GeneratorFunction"),t.isGeneratorFunction=function(L){var D=typeof L=="function"&&L.constructor;return!!D&&(D===f||(D.displayName||D.name)==="GeneratorFunction")},t.mark=function(L){return Object.setPrototypeOf?Object.setPrototypeOf(L,m):(L.__proto__=m,s(L,a,"GeneratorFunction")),L.prototype=Object.create(w),L},t.awrap=function(L){return{__await:L}},S(C.prototype),s(C.prototype,o,function(){return this}),t.AsyncIterator=C,t.async=function(L,D,W,V,B){B===void 0&&(B=Promise);var K=new C(l(L,D,W,V),B);return t.isGeneratorFunction(D)?K:K.next().then(function(j){return j.done?j.value:K.next()})},S(w),s(w,a,"Generator"),s(w,i,function(){return this}),s(w,"toString",function(){return"[object Generator]"}),t.keys=function(L){var D=[];for(var W in L)D.push(W);return D.reverse(),function V(){for(;D.length;){var B=D.pop();if(B in L)return V.value=B,V.done=!1,V}return V.done=!0,V}},t.values=A,I.prototype={constructor:I,reset:function(D){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(R),!D)for(var W in this)W.charAt(0)==="t"&&n.call(this,W)&&!isNaN(+W.slice(1))&&(this[W]=void 0)},stop:function(){this.done=!0;var D=this.tryEntries[0].completion;if(D.type==="throw")throw D.arg;return this.rval},dispatchException:function(D){if(this.done)throw D;var W=this;function V(Y,Z){return j.type="throw",j.arg=D,W.next=Y,Z&&(W.method="next",W.arg=void 0),!!Z}for(var B=this.tryEntries.length-1;B>=0;--B){var K=this.tryEntries[B],j=K.completion;if(K.tryLoc==="root")return V("end");if(K.tryLoc<=this.prev){var G=n.call(K,"catchLoc"),H=n.call(K,"finallyLoc");if(G&&H){if(this.prev<K.catchLoc)return V(K.catchLoc,!0);if(this.prev<K.finallyLoc)return V(K.finallyLoc)}else if(G){if(this.prev<K.catchLoc)return V(K.catchLoc,!0)}else{if(!H)throw new Error("try statement without catch or finally");if(this.prev<K.finallyLoc)return V(K.finallyLoc)}}}},abrupt:function(D,W){for(var V=this.tryEntries.length-1;V>=0;--V){var B=this.tryEntries[V];if(B.tryLoc<=this.prev&&n.call(B,"finallyLoc")&&this.prev<B.finallyLoc){var K=B;break}}K&&(D==="break"||D==="continue")&&K.tryLoc<=W&&W<=K.finallyLoc&&(K=null);var j=K?K.completion:{};return j.type=D,j.arg=W,K?(this.method="next",this.next=K.finallyLoc,c):this.complete(j)},complete:function(D,W){if(D.type==="throw")throw D.arg;return D.type==="break"||D.type==="continue"?this.next=D.arg:D.type==="return"?(this.rval=this.arg=D.arg,this.method="return",this.next="end"):D.type==="normal"&&W&&(this.next=W),c},finish:function(D){for(var W=this.tryEntries.length-1;W>=0;--W){var V=this.tryEntries[W];if(V.finallyLoc===D)return this.complete(V.completion,V.afterLoc),R(V),c}},catch:function(D){for(var W=this.tryEntries.length-1;W>=0;--W){var V=this.tryEntries[W];if(V.tryLoc===D){var B=V.completion;if(B.type==="throw"){var K=B.arg;R(V)}return K}}throw new Error("illegal catch attempt")},delegateYield:function(D,W,V){return this.delegate={iterator:A(D),resultName:W,nextLoc:V},this.method==="next"&&(this.arg=void 0),c}},t}function YL(t,e,n,r,i,o,a){try{var s=t[o](a),l=s.value}catch(u){n(u);return}s.done?e(l):Promise.resolve(l).then(r,i)}function nh(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(l){YL(o,r,i,a,s,"next",l)}function s(l){YL(o,r,i,a,s,"throw",l)}a(void 0)})}}function Ef(){return Ef=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ef.apply(this,arguments)}function Zte(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,h0(t,e)}function tP(t){return tP=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},tP(t)}function h0(t,e){return h0=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},h0(t,e)}function Jte(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _w(t,e,n){return Jte()?_w=Reflect.construct:_w=function(i,o,a){var s=[null];s.push.apply(s,o);var l=Function.bind.apply(i,s),u=new l;return a&&h0(u,a.prototype),u},_w.apply(null,arguments)}function Qte(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function nP(t){var e=typeof Map=="function"?new Map:void 0;return nP=function(r){if(r===null||!Qte(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return _w(r,arguments,tP(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),h0(i,r)},nP(t)}var ene=/%[sdj%]/g,tne=function(){};typeof process!="undefined"&&process.env;function rP(t){if(!t||!t.length)return null;var e={};return t.forEach(function(n){var r=n.field;e[r]=e[r]||[],e[r].push(n)}),e}function Xa(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=0,o=n.length;if(typeof t=="function")return t.apply(null,n);if(typeof t=="string"){var a=t.replace(ene,function(s){if(s==="%%")return"%";if(i>=o)return s;switch(s){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch{return"[Circular]"}break;default:return s}});return a}return t}function nne(t){return t==="string"||t==="url"||t==="hex"||t==="email"||t==="date"||t==="pattern"}function co(t,e){return!!(t==null||e==="array"&&Array.isArray(t)&&!t.length||nne(e)&&typeof t=="string"&&!t)}function rne(t,e,n){var r=[],i=0,o=t.length;function a(s){r.push.apply(r,s||[]),i++,i===o&&n(r)}t.forEach(function(s){e(s,a)})}function ZL(t,e,n){var r=0,i=t.length;function o(a){if(a&&a.length){n(a);return}var s=r;r=r+1,s<i?e(t[s],o):n([])}o([])}function ine(t){var e=[];return Object.keys(t).forEach(function(n){e.push.apply(e,t[n]||[])}),e}var JL=function(t){Zte(e,t);function e(n,r){var i;return i=t.call(this,"Async Validation Error")||this,i.errors=n,i.fields=r,i}return e}(nP(Error));function one(t,e,n,r,i){if(e.first){var o=new Promise(function(f,m){var y=function(w){return r(w),w.length?m(new JL(w,rP(w))):f(i)},x=ine(t);ZL(x,n,y)});return o.catch(function(f){return f}),o}var a=e.firstFields===!0?Object.keys(t):e.firstFields||[],s=Object.keys(t),l=s.length,u=0,c=[],h=new Promise(function(f,m){var y=function(b){if(c.push.apply(c,b),u++,u===l)return r(c),c.length?m(new JL(c,rP(c))):f(i)};s.length||(r(c),f(i)),s.forEach(function(x){var b=t[x];a.indexOf(x)!==-1?ZL(b,n,y):rne(b,n,y)})});return h.catch(function(f){return f}),h}function ane(t){return!!(t&&t.message!==void 0)}function sne(t,e){for(var n=t,r=0;r<e.length;r++){if(n==null)return n;n=n[e[r]]}return n}function QL(t,e){return function(n){var r;return t.fullFields?r=sne(e,t.fullFields):r=e[n.field||t.fullField],ane(n)?(n.field=n.field||t.fullField,n.fieldValue=r,n):{message:typeof n=="function"?n():n,fieldValue:r,field:n.field||t.fullField}}}function eD(t,e){if(e){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];typeof r=="object"&&typeof t[n]=="object"?t[n]=Ef({},t[n],r):t[n]=r}}return t}var MV=function(e,n,r,i,o,a){e.required&&(!r.hasOwnProperty(e.field)||co(n,a||e.type))&&i.push(Xa(o.messages.required,e.fullField))},lne=function(e,n,r,i,o){(/^\s+$/.test(n)||n==="")&&i.push(Xa(o.messages.whitespace,e.fullField))},gM={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},hg={integer:function(e){return hg.number(e)&&parseInt(e,10)===e},float:function(e){return hg.number(e)&&!hg.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!hg.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(gM.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(gM.url)},hex:function(e){return typeof e=="string"&&!!e.match(gM.hex)}},une=function(e,n,r,i,o){if(e.required&&n===void 0){MV(e,n,r,i,o);return}var a=["integer","float","array","regexp","object","method","email","number","date","url","hex"],s=e.type;a.indexOf(s)>-1?hg[s](n)||i.push(Xa(o.messages.types[s],e.fullField,e.type)):s&&typeof n!==e.type&&i.push(Xa(o.messages.types[s],e.fullField,e.type))},cne=function(e,n,r,i,o){var a=typeof e.len=="number",s=typeof e.min=="number",l=typeof e.max=="number",u=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=n,h=null,f=typeof n=="number",m=typeof n=="string",y=Array.isArray(n);if(f?h="number":m?h="string":y&&(h="array"),!h)return!1;y&&(c=n.length),m&&(c=n.replace(u,"_").length),a?c!==e.len&&i.push(Xa(o.messages[h].len,e.fullField,e.len)):s&&!l&&c<e.min?i.push(Xa(o.messages[h].min,e.fullField,e.min)):l&&!s&&c>e.max?i.push(Xa(o.messages[h].max,e.fullField,e.max)):s&&l&&(c<e.min||c>e.max)&&i.push(Xa(o.messages[h].range,e.fullField,e.min,e.max))},jh="enum",dne=function(e,n,r,i,o){e[jh]=Array.isArray(e[jh])?e[jh]:[],e[jh].indexOf(n)===-1&&i.push(Xa(o.messages[jh],e.fullField,e[jh].join(", ")))},fne=function(e,n,r,i,o){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(n)||i.push(Xa(o.messages.pattern.mismatch,e.fullField,n,e.pattern));else if(typeof e.pattern=="string"){var a=new RegExp(e.pattern);a.test(n)||i.push(Xa(o.messages.pattern.mismatch,e.fullField,n,e.pattern))}}},rr={required:MV,whitespace:lne,type:une,range:cne,enum:dne,pattern:fne},hne=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(co(n,"string")&&!e.required)return r();rr.required(e,n,i,a,o,"string"),co(n,"string")||(rr.type(e,n,i,a,o),rr.range(e,n,i,a,o),rr.pattern(e,n,i,a,o),e.whitespace===!0&&rr.whitespace(e,n,i,a,o))}r(a)},pne=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(co(n)&&!e.required)return r();rr.required(e,n,i,a,o),n!==void 0&&rr.type(e,n,i,a,o)}r(a)},mne=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(n===""&&(n=void 0),co(n)&&!e.required)return r();rr.required(e,n,i,a,o),n!==void 0&&(rr.type(e,n,i,a,o),rr.range(e,n,i,a,o))}r(a)},vne=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(co(n)&&!e.required)return r();rr.required(e,n,i,a,o),n!==void 0&&rr.type(e,n,i,a,o)}r(a)},gne=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(co(n)&&!e.required)return r();rr.required(e,n,i,a,o),co(n)||rr.type(e,n,i,a,o)}r(a)},yne=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(co(n)&&!e.required)return r();rr.required(e,n,i,a,o),n!==void 0&&(rr.type(e,n,i,a,o),rr.range(e,n,i,a,o))}r(a)},xne=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(co(n)&&!e.required)return r();rr.required(e,n,i,a,o),n!==void 0&&(rr.type(e,n,i,a,o),rr.range(e,n,i,a,o))}r(a)},bne=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(n==null&&!e.required)return r();rr.required(e,n,i,a,o,"array"),n!=null&&(rr.type(e,n,i,a,o),rr.range(e,n,i,a,o))}r(a)},wne=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(co(n)&&!e.required)return r();rr.required(e,n,i,a,o),n!==void 0&&rr.type(e,n,i,a,o)}r(a)},_ne="enum",Sne=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(co(n)&&!e.required)return r();rr.required(e,n,i,a,o),n!==void 0&&rr[_ne](e,n,i,a,o)}r(a)},Cne=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(co(n,"string")&&!e.required)return r();rr.required(e,n,i,a,o),co(n,"string")||rr.pattern(e,n,i,a,o)}r(a)},Ene=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(co(n,"date")&&!e.required)return r();if(rr.required(e,n,i,a,o),!co(n,"date")){var l;n instanceof Date?l=n:l=new Date(n),rr.type(e,l,i,a,o),l&&rr.range(e,l.getTime(),i,a,o)}}r(a)},Mne=function(e,n,r,i,o){var a=[],s=Array.isArray(n)?"array":typeof n;rr.required(e,n,i,a,o,s),r(a)},yM=function(e,n,r,i,o){var a=e.type,s=[],l=e.required||!e.required&&i.hasOwnProperty(e.field);if(l){if(co(n,a)&&!e.required)return r();rr.required(e,n,i,s,o,a),co(n,a)||rr.type(e,n,i,s,o)}r(s)},Tne=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(co(n)&&!e.required)return r();rr.required(e,n,i,a,o)}r(a)},Og={string:hne,method:pne,number:mne,boolean:vne,regexp:gne,integer:yne,float:xne,array:bne,object:wne,enum:Sne,pattern:Cne,date:Ene,url:yM,hex:yM,email:yM,required:Mne,any:Tne};function iP(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var oP=iP(),K0=function(){function t(n){this.rules=null,this._messages=oP,this.define(n)}var e=t.prototype;return e.define=function(r){var i=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(typeof r!="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function(o){var a=r[o];i.rules[o]=Array.isArray(a)?a:[a]})},e.messages=function(r){return r&&(this._messages=eD(iP(),r)),this._messages},e.validate=function(r,i,o){var a=this;i===void 0&&(i={}),o===void 0&&(o=function(){});var s=r,l=i,u=o;if(typeof l=="function"&&(u=l,l={}),!this.rules||Object.keys(this.rules).length===0)return u&&u(null,s),Promise.resolve(s);function c(x){var b=[],w={};function S(M){if(Array.isArray(M)){var T;b=(T=b).concat.apply(T,M)}else b.push(M)}for(var C=0;C<x.length;C++)S(x[C]);b.length?(w=rP(b),u(b,w)):u(null,s)}if(l.messages){var h=this.messages();h===oP&&(h=iP()),eD(h,l.messages),l.messages=h}else l.messages=this.messages();var f={},m=l.keys||Object.keys(this.rules);m.forEach(function(x){var b=a.rules[x],w=s[x];b.forEach(function(S){var C=S;typeof C.transform=="function"&&(s===r&&(s=Ef({},s)),w=s[x]=C.transform(w)),typeof C=="function"?C={validator:C}:C=Ef({},C),C.validator=a.getValidationMethod(C),C.validator&&(C.field=x,C.fullField=C.fullField||x,C.type=a.getType(C),f[x]=f[x]||[],f[x].push({rule:C,value:w,source:s,field:x}))})});var y={};return one(f,l,function(x,b){var w=x.rule,S=(w.type==="object"||w.type==="array")&&(typeof w.fields=="object"||typeof w.defaultField=="object");S=S&&(w.required||!w.required&&x.value),w.field=x.field;function C(R,I){return Ef({},I,{fullField:w.fullField+"."+R,fullFields:w.fullFields?[].concat(w.fullFields,[R]):[R]})}function M(R){R===void 0&&(R=[]);var I=Array.isArray(R)?R:[R];!l.suppressWarning&&I.length&&t.warning("async-validator:",I),I.length&&w.message!==void 0&&(I=[].concat(w.message));var A=I.map(QL(w,s));if(l.first&&A.length)return y[w.field]=1,b(A);if(!S)b(A);else{if(w.required&&!x.value)return w.message!==void 0?A=[].concat(w.message).map(QL(w,s)):l.error&&(A=[l.error(w,Xa(l.messages.required,w.field))]),b(A);var N={};w.defaultField&&Object.keys(x.value).map(function(W){N[W]=w.defaultField}),N=Ef({},N,x.rule.fields);var L={};Object.keys(N).forEach(function(W){var V=N[W],B=Array.isArray(V)?V:[V];L[W]=B.map(C.bind(null,W))});var D=new t(L);D.messages(l.messages),x.rule.options&&(x.rule.options.messages=l.messages,x.rule.options.error=l.error),D.validate(x.value,x.rule.options||l,function(W){var V=[];A&&A.length&&V.push.apply(V,A),W&&W.length&&V.push.apply(V,W),b(V.length?V:null)})}}var T;if(w.asyncValidator)T=w.asyncValidator(w,x.value,M,x.source,l);else if(w.validator){try{T=w.validator(w,x.value,M,x.source,l)}catch(R){console.error==null||console.error(R),setTimeout(function(){throw R},0),M(R.message)}T===!0?M():T===!1?M(typeof w.message=="function"?w.message(w.fullField||w.field):w.message||(w.fullField||w.field)+" fails"):T instanceof Array?M(T):T instanceof Error&&M(T.message)}T&&T.then&&T.then(function(){return M()},function(R){return M(R)})},function(x){c(x)},s)},e.getType=function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!Og.hasOwnProperty(r.type))throw new Error(Xa("Unknown rule type %s",r.type));return r.type||"string"},e.getValidationMethod=function(r){if(typeof r.validator=="function")return r.validator;var i=Object.keys(r),o=i.indexOf("message");return o!==-1&&i.splice(o,1),i.length===1&&i[0]==="required"?Og.required:Og[this.getType(r)]||void 0},t}();K0.register=function(e,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");Og[e]=n};K0.warning=tne;K0.messages=oP;K0.validators=Og;var Ua="'${name}' is not a valid ${type}",TV={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:Ua,method:Ua,array:Ua,object:Ua,number:Ua,date:Ua,boolean:Ua,integer:Ua,float:Ua,regexp:Ua,email:Ua,url:Ua,hex:Ua},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}};function PV(t,e){for(var n=t,r=0;r<e.length;r+=1){if(n==null)return;n=n[e[r]]}return n}function AV(t){if(Array.isArray(t))return t}function RV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A3(t){return AV(t)||EV(t)||P3(t)||RV()}function OV(t,e,n,r){if(!e.length)return n;var i=A3(e),o=i[0],a=i.slice(1),s;return!t&&typeof o=="number"?s=[]:Array.isArray(t)?s=mt(t):s=ve({},t),r&&n===void 0&&a.length===1?delete s[o][a[0]]:s[o]=OV(s[o],a,n,r),s}function Pne(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.length&&r&&n===void 0&&!PV(t,e.slice(0,-1))?t:OV(t,e,n,r)}function G1(t){return Array.isArray(t)?Rne(t):un(t)==="object"&&t!==null?Ane(t):t}function Ane(t){if(Object.getPrototypeOf(t)===Object.prototype){var e={};for(var n in t)e[n]=G1(t[n]);return e}return t}function Rne(t){return t.map(function(e){return G1(e)})}function Vi(t){return eP(t)}function od(t,e){var n=PV(t,e);return n}function Kc(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i=Pne(t,e,n,r);return i}function tD(t,e){var n={};return e.forEach(function(r){var i=od(t,r);n=Kc(n,r,i)}),n}function Ng(t,e){return t&&t.some(function(n){return kV(n,e)})}function nD(t){return un(t)==="object"&&t!==null&&Object.getPrototypeOf(t)===Object.prototype}function NV(t,e){var n=Array.isArray(t)?mt(t):ve({},t);return e&&Object.keys(e).forEach(function(r){var i=n[r],o=e[r],a=nD(i)&&nD(o);n[r]=a?NV(i,o||{}):G1(o)}),n}function Sw(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.reduce(function(i,o){return NV(i,o)},t)}function kV(t,e){return!t||!e||t.length!==e.length?!1:t.every(function(n,r){return e[r]===n})}function One(t,e){if(t===e)return!0;if(!t&&e||t&&!e||!t||!e||un(t)!=="object"||un(e)!=="object")return!1;var n=Object.keys(t),r=Object.keys(e),i=new Set([].concat(mt(n),mt(r)));return mt(i).every(function(o){var a=t[o],s=e[o];return typeof a=="function"&&typeof s=="function"?!0:a===s})}function Nne(t){var e=arguments.length<=1?void 0:arguments[1];return e&&e.target&&un(e.target)==="object"&&t in e.target?e.target[t]:e}function rD(t,e,n){var r=t.length;if(e<0||e>=r||n<0||n>=r)return t;var i=t[e],o=e-n;return o>0?[].concat(mt(t.slice(0,n)),[i],mt(t.slice(n,e)),mt(t.slice(e+1,r))):o<0?[].concat(mt(t.slice(0,e)),mt(t.slice(e+1,n+1)),[i],mt(t.slice(n+1,r))):t}var kne=K0;function Ine(t,e){return t.replace(/\$\{\w+\}/g,function(n){var r=n.slice(2,-1);return e[r]})}var iD="CODE_LOGIC_ERROR";function aP(t,e,n,r,i){return sP.apply(this,arguments)}function sP(){return sP=nh(da().mark(function t(e,n,r,i,o){var a,s,l,u,c,h,f,m,y;return da().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return a=ve({},r),delete a.ruleIndex,a.validator&&(s=a.validator,a.validator=function(){try{return s.apply(void 0,arguments)}catch(w){return console.error(w),Promise.reject(iD)}}),l=null,a&&a.type==="array"&&a.defaultField&&(l=a.defaultField,delete a.defaultField),u=new kne(ue({},e,[a])),c=Sw({},TV,i.validateMessages),u.messages(c),h=[],b.prev=9,b.next=12,Promise.resolve(u.validate(ue({},e,n),ve({},i)));case 12:b.next=17;break;case 14:b.prev=14,b.t0=b.catch(9),b.t0.errors&&(h=b.t0.errors.map(function(w,S){var C=w.message,M=C===iD?c.default:C;return v.exports.isValidElement(M)?v.exports.cloneElement(M,{key:"error_".concat(S)}):M}));case 17:if(!(!h.length&&l)){b.next=22;break}return b.next=20,Promise.all(n.map(function(w,S){return aP("".concat(e,".").concat(S),w,l,i,o)}));case 20:return f=b.sent,b.abrupt("return",f.reduce(function(w,S){return[].concat(mt(w),mt(S))},[]));case 22:return m=ve(ve({},r),{},{name:e,enum:(r.enum||[]).join(", ")},o),y=h.map(function(w){return typeof w=="string"?Ine(w,m):w}),b.abrupt("return",y);case 25:case"end":return b.stop()}},t,null,[[9,14]])})),sP.apply(this,arguments)}function Lne(t,e,n,r,i,o){var a=t.join("."),s=n.map(function(c,h){var f=c.validator,m=ve(ve({},c),{},{ruleIndex:h});return f&&(m.validator=function(y,x,b){var w=!1,S=function(){for(var T=arguments.length,R=new Array(T),I=0;I<T;I++)R[I]=arguments[I];Promise.resolve().then(function(){Hi(!w,"Your validator function has already return a promise. `callback` will be ignored."),w||b.apply(void 0,R)})},C=f(y,x,S);w=C&&typeof C.then=="function"&&typeof C.catch=="function",Hi(w,"`callback` is deprecated. Please return a promise instead."),w&&C.then(function(){b()}).catch(function(M){b(M||" ")})}),m}).sort(function(c,h){var f=c.warningOnly,m=c.ruleIndex,y=h.warningOnly,x=h.ruleIndex;return!!f==!!y?m-x:f?1:-1}),l;if(i===!0)l=new Promise(function(){var c=nh(da().mark(function h(f,m){var y,x,b;return da().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:y=0;case 1:if(!(y<s.length)){S.next=12;break}return x=s[y],S.next=5,aP(a,e,x,r,o);case 5:if(b=S.sent,!b.length){S.next=9;break}return m([{errors:b,rule:x}]),S.abrupt("return");case 9:y+=1,S.next=1;break;case 12:f([]);case 13:case"end":return S.stop()}},h)}));return function(h,f){return c.apply(this,arguments)}}());else{var u=s.map(function(c){return aP(a,e,c,r,o).then(function(h){return{errors:h,rule:c}})});l=(i?Fne(u):Dne(u)).then(function(c){return Promise.reject(c)})}return l.catch(function(c){return c}),l}function Dne(t){return lP.apply(this,arguments)}function lP(){return lP=nh(da().mark(function t(e){return da().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.all(e).then(function(i){var o,a=(o=[]).concat.apply(o,mt(i));return a}));case 1:case"end":return r.stop()}},t)})),lP.apply(this,arguments)}function Fne(t){return uP.apply(this,arguments)}function uP(){return uP=nh(da().mark(function t(e){var n;return da().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=0,i.abrupt("return",new Promise(function(o){e.forEach(function(a){a.then(function(s){s.errors.length&&o([s]),n+=1,n===e.length&&o([])})})}));case 2:case"end":return i.stop()}},t)})),uP.apply(this,arguments)}var zne=["name"],ms=[];function oD(t,e,n,r,i,o){return typeof t=="function"?t(e,n,"source"in o?{source:o.source}:{}):r!==i}var R3=function(t){Ni(n,t);var e=ki(n);function n(r){var i;if(di(this,n),i=e.call(this,r),i.state={resetCount:0},i.cancelRegisterFunc=null,i.mounted=!1,i.touched=!1,i.dirty=!1,i.validatePromise=null,i.prevValidating=void 0,i.errors=ms,i.warnings=ms,i.cancelRegister=function(){var l=i.props,u=l.preserve,c=l.isListField,h=l.name;i.cancelRegisterFunc&&i.cancelRegisterFunc(c,u,Vi(h)),i.cancelRegisterFunc=null},i.getNamePath=function(){var l=i.props,u=l.name,c=l.fieldContext,h=c.prefixName,f=h===void 0?[]:h;return u!==void 0?[].concat(mt(f),mt(u)):[]},i.getRules=function(){var l=i.props,u=l.rules,c=u===void 0?[]:u,h=l.fieldContext;return c.map(function(f){return typeof f=="function"?f(h):f})},i.refresh=function(){!i.mounted||i.setState(function(l){var u=l.resetCount;return{resetCount:u+1}})},i.triggerMetaEvent=function(l){var u=i.props.onMetaChange;u==null||u(ve(ve({},i.getMeta()),{},{destroy:l}))},i.onStoreChange=function(l,u,c){var h=i.props,f=h.shouldUpdate,m=h.dependencies,y=m===void 0?[]:m,x=h.onReset,b=c.store,w=i.getNamePath(),S=i.getValue(l),C=i.getValue(b),M=u&&Ng(u,w);switch(c.type==="valueUpdate"&&c.source==="external"&&S!==C&&(i.touched=!0,i.dirty=!0,i.validatePromise=null,i.errors=ms,i.warnings=ms,i.triggerMetaEvent()),c.type){case"reset":if(!u||M){i.touched=!1,i.dirty=!1,i.validatePromise=null,i.errors=ms,i.warnings=ms,i.triggerMetaEvent(),x==null||x(),i.refresh();return}break;case"remove":{if(f){i.reRender();return}break}case"setField":{if(M){var T=c.data;"touched"in T&&(i.touched=T.touched),"validating"in T&&!("originRCField"in T)&&(i.validatePromise=T.validating?Promise.resolve([]):null),"errors"in T&&(i.errors=T.errors||ms),"warnings"in T&&(i.warnings=T.warnings||ms),i.dirty=!0,i.triggerMetaEvent(),i.reRender();return}if(f&&!w.length&&oD(f,l,b,S,C,c)){i.reRender();return}break}case"dependenciesUpdate":{var R=y.map(Vi);if(R.some(function(I){return Ng(c.relatedFields,I)})){i.reRender();return}break}default:if(M||(!y.length||w.length||f)&&oD(f,l,b,S,C,c)){i.reRender();return}break}f===!0&&i.reRender()},i.validateRules=function(l){var u=i.getNamePath(),c=i.getValue(),h=Promise.resolve().then(function(){if(!i.mounted)return[];var f=i.props,m=f.validateFirst,y=m===void 0?!1:m,x=f.messageVariables,b=l||{},w=b.triggerName,S=i.getRules();w&&(S=S.filter(function(M){var T=M.validateTrigger;if(!T)return!0;var R=eP(T);return R.includes(w)}));var C=Lne(u,c,S,l,y,x);return C.catch(function(M){return M}).then(function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ms;if(i.validatePromise===h){i.validatePromise=null;var T=[],R=[];M.forEach(function(I){var A=I.rule.warningOnly,N=I.errors,L=N===void 0?ms:N;A?R.push.apply(R,mt(L)):T.push.apply(T,mt(L))}),i.errors=T,i.warnings=R,i.triggerMetaEvent(),i.reRender()}}),C});return i.validatePromise=h,i.dirty=!0,i.errors=ms,i.warnings=ms,i.triggerMetaEvent(),i.reRender(),h},i.isFieldValidating=function(){return!!i.validatePromise},i.isFieldTouched=function(){return i.touched},i.isFieldDirty=function(){if(i.dirty||i.props.initialValue!==void 0)return!0;var l=i.props.fieldContext,u=l.getInternalHooks(Cf),c=u.getInitialValue;return c(i.getNamePath())!==void 0},i.getErrors=function(){return i.errors},i.getWarnings=function(){return i.warnings},i.isListField=function(){return i.props.isListField},i.isList=function(){return i.props.isList},i.isPreserve=function(){return i.props.preserve},i.getMeta=function(){i.prevValidating=i.isFieldValidating();var l={touched:i.isFieldTouched(),validating:i.prevValidating,errors:i.errors,warnings:i.warnings,name:i.getNamePath()};return l},i.getOnlyChild=function(l){if(typeof l=="function"){var u=i.getMeta();return ve(ve({},i.getOnlyChild(l(i.getControlled(),u,i.props.fieldContext))),{},{isFunction:!0})}var c=cl(l);return c.length!==1||!v.exports.isValidElement(c[0])?{child:c,isFunction:!1}:{child:c[0],isFunction:!1}},i.getValue=function(l){var u=i.props.fieldContext.getFieldsValue,c=i.getNamePath();return od(l||u(!0),c)},i.getControlled=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=i.props,c=u.trigger,h=u.validateTrigger,f=u.getValueFromEvent,m=u.normalize,y=u.valuePropName,x=u.getValueProps,b=u.fieldContext,w=h!==void 0?h:b.validateTrigger,S=i.getNamePath(),C=b.getInternalHooks,M=b.getFieldsValue,T=C(Cf),R=T.dispatch,I=i.getValue(),A=x||function(W){return ue({},y,W)},N=l[c],L=ve(ve({},l),A(I));L[c]=function(){i.touched=!0,i.dirty=!0,i.triggerMetaEvent();for(var W,V=arguments.length,B=new Array(V),K=0;K<V;K++)B[K]=arguments[K];f?W=f.apply(void 0,B):W=Nne.apply(void 0,[y].concat(B)),m&&(W=m(W,I,M(!0))),R({type:"updateValue",namePath:S,value:W}),N&&N.apply(void 0,B)};var D=eP(w||[]);return D.forEach(function(W){var V=L[W];L[W]=function(){V&&V.apply(void 0,arguments);var B=i.props.rules;B&&B.length&&R({type:"validateField",namePath:S,triggerName:W})}}),L},r.fieldContext){var o=r.fieldContext.getInternalHooks,a=o(Cf),s=a.initEntityValue;s(_s(i))}return i}return fi(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.shouldUpdate,a=i.fieldContext;if(this.mounted=!0,a){var s=a.getInternalHooks,l=s(Cf),u=l.registerField;this.cancelRegisterFunc=u(this)}o===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){!this.mounted||this.forceUpdate()}},{key:"render",value:function(){var i=this.state.resetCount,o=this.props.children,a=this.getOnlyChild(o),s=a.child,l=a.isFunction,u;return l?u=s:v.exports.isValidElement(s)?u=v.exports.cloneElement(s,this.getControlled(s.props)):(Hi(!s,"`children` of Field is not validate ReactElement."),u=s),v.exports.createElement(v.exports.Fragment,{key:i},u)}}]),n}(v.exports.Component);R3.contextType=dm;R3.defaultProps={trigger:"onChange",valuePropName:"value"};function IV(t){var e=t.name,n=_n(t,zne),r=v.exports.useContext(dm),i=e!==void 0?Vi(e):void 0,o="keep";return n.isListField||(o="_".concat((i||[]).join("_"))),v.exports.createElement(R3,Se({key:o,name:i},n,{fieldContext:r}))}var Bne=v.exports.createContext(null),Vne=function(e){var n=e.name,r=e.initialValue,i=e.children,o=e.rules,a=e.validateTrigger,s=v.exports.useContext(dm),l=v.exports.useRef({keys:[],id:0}),u=l.current,c=v.exports.useMemo(function(){var y=Vi(s.prefixName)||[];return[].concat(mt(y),mt(Vi(n)))},[s.prefixName,n]),h=v.exports.useMemo(function(){return ve(ve({},s),{},{prefixName:c})},[s,c]),f=v.exports.useMemo(function(){return{getKey:function(x){var b=c.length,w=x[b];return[u.keys[w],x.slice(b+1)]}}},[c]);if(typeof i!="function")return Hi(!1,"Form.List only accepts function as children."),null;var m=function(x,b,w){var S=w.source;return S==="internal"?!1:x!==b};return v.exports.createElement(Bne.Provider,{value:f},v.exports.createElement(dm.Provider,{value:h},v.exports.createElement(IV,{name:[],shouldUpdate:m,rules:o,validateTrigger:a,initialValue:r,isList:!0},function(y,x){var b=y.value,w=b===void 0?[]:b,S=y.onChange,C=s.getFieldValue,M=function(){var A=C(c||[]);return A||[]},T={add:function(A,N){var L=M();N>=0&&N<=L.length?(u.keys=[].concat(mt(u.keys.slice(0,N)),[u.id],mt(u.keys.slice(N))),S([].concat(mt(L.slice(0,N)),[A],mt(L.slice(N))))):(u.keys=[].concat(mt(u.keys),[u.id]),S([].concat(mt(L),[A]))),u.id+=1},remove:function(A){var N=M(),L=new Set(Array.isArray(A)?A:[A]);L.size<=0||(u.keys=u.keys.filter(function(D,W){return!L.has(W)}),S(N.filter(function(D,W){return!L.has(W)})))},move:function(A,N){if(A!==N){var L=M();A<0||A>=L.length||N<0||N>=L.length||(u.keys=rD(u.keys,A,N),S(rD(L,A,N)))}}},R=w||[];return Array.isArray(R)||(R=[]),i(R.map(function(I,A){var N=u.keys[A];return N===void 0&&(u.keys[A]=u.id,N=u.keys[A],u.id+=1),{name:A,key:N,isListField:!0}}),T,x)})))};function Une(t,e){var n=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,a,s;try{for(n=n.call(t);!(i=(a=n.next()).done)&&(r.push(a.value),!(e&&r.length===e));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw s}}return r}}function $e(t,e){return AV(t)||Une(t,e)||P3(t,e)||RV()}function Hne(t){var e=!1,n=t.length,r=[];return t.length?new Promise(function(i,o){t.forEach(function(a,s){a.catch(function(l){return e=!0,l}).then(function(l){n-=1,r[s]=l,!(n>0)&&(e&&o(r),i(r))})})}):Promise.resolve([])}var LV="__@field_split__";function xM(t){return t.map(function(e){return"".concat(un(e),":").concat(e)}).join(LV)}var Gh=function(){function t(){di(this,t),this.kvs=new Map}return fi(t,[{key:"set",value:function(n,r){this.kvs.set(xM(n),r)}},{key:"get",value:function(n){return this.kvs.get(xM(n))}},{key:"update",value:function(n,r){var i=this.get(n),o=r(i);o?this.set(n,o):this.delete(n)}},{key:"delete",value:function(n){this.kvs.delete(xM(n))}},{key:"map",value:function(n){return mt(this.kvs.entries()).map(function(r){var i=$e(r,2),o=i[0],a=i[1],s=o.split(LV);return n({key:s.map(function(l){var u=l.match(/^([^:]*):(.*)$/),c=$e(u,3),h=c[1],f=c[2];return h==="number"?Number(f):f}),value:a})})}},{key:"toJSON",value:function(){var n={};return this.map(function(r){var i=r.key,o=r.value;return n[i.join(".")]=o,null}),n}}]),t}(),Wne=["name","errors"],jne=fi(function t(e){var n=this;di(this,t),this.formHooked=!1,this.forceRootUpdate=void 0,this.subscribable=!0,this.store={},this.fieldEntities=[],this.initialValues={},this.callbacks={},this.validateMessages=null,this.preserve=null,this.lastValidatePromise=null,this.getForm=function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}},this.getInternalHooks=function(r){return r===Cf?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):(Hi(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)},this.useSubscribe=function(r){n.subscribable=r},this.prevWithoutPreserves=null,this.setInitialValues=function(r,i){if(n.initialValues=r||{},i){var o,a=Sw({},r,n.store);(o=n.prevWithoutPreserves)===null||o===void 0||o.map(function(s){var l=s.key;a=Kc(a,l,od(r,l))}),n.prevWithoutPreserves=null,n.updateStore(a)}},this.destroyForm=function(){var r=new Gh;n.getFieldEntities(!0).forEach(function(i){n.isMergedPreserve(i.isPreserve())||r.set(i.getNamePath(),!0)}),n.prevWithoutPreserves=r},this.getInitialValue=function(r){var i=od(n.initialValues,r);return r.length?G1(i):i},this.setCallbacks=function(r){n.callbacks=r},this.setValidateMessages=function(r){n.validateMessages=r},this.setPreserve=function(r){n.preserve=r},this.watchList=[],this.registerWatch=function(r){return n.watchList.push(r),function(){n.watchList=n.watchList.filter(function(i){return i!==r})}},this.notifyWatch=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(n.watchList.length){var i=n.getFieldsValue();n.watchList.forEach(function(o){o(i,r)})}},this.timeoutId=null,this.warningUnhooked=function(){},this.updateStore=function(r){n.store=r},this.getFieldEntities=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return r?n.fieldEntities.filter(function(i){return i.getNamePath().length}):n.fieldEntities},this.getFieldsMap=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=new Gh;return n.getFieldEntities(r).forEach(function(o){var a=o.getNamePath();i.set(a,o)}),i},this.getFieldEntitiesForNamePathList=function(r){if(!r)return n.getFieldEntities(!0);var i=n.getFieldsMap(!0);return r.map(function(o){var a=Vi(o);return i.get(a)||{INVALIDATE_NAME_PATH:Vi(o)}})},this.getFieldsValue=function(r,i){if(n.warningUnhooked(),r===!0&&!i)return n.store;var o=n.getFieldEntitiesForNamePathList(Array.isArray(r)?r:null),a=[];return o.forEach(function(s){var l,u="INVALIDATE_NAME_PATH"in s?s.INVALIDATE_NAME_PATH:s.getNamePath();if(!(!r&&((l=s.isListField)===null||l===void 0?void 0:l.call(s))))if(!i)a.push(u);else{var c="getMeta"in s?s.getMeta():null;i(c)&&a.push(u)}}),tD(n.store,a.map(Vi))},this.getFieldValue=function(r){n.warningUnhooked();var i=Vi(r);return od(n.store,i)},this.getFieldsError=function(r){n.warningUnhooked();var i=n.getFieldEntitiesForNamePathList(r);return i.map(function(o,a){return o&&!("INVALIDATE_NAME_PATH"in o)?{name:o.getNamePath(),errors:o.getErrors(),warnings:o.getWarnings()}:{name:Vi(r[a]),errors:[],warnings:[]}})},this.getFieldError=function(r){n.warningUnhooked();var i=Vi(r),o=n.getFieldsError([i])[0];return o.errors},this.getFieldWarning=function(r){n.warningUnhooked();var i=Vi(r),o=n.getFieldsError([i])[0];return o.warnings},this.isFieldsTouched=function(){n.warningUnhooked();for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i[0],s=i[1],l,u=!1;i.length===0?l=null:i.length===1?Array.isArray(a)?(l=a.map(Vi),u=!1):(l=null,u=a):(l=a.map(Vi),u=s);var c=n.getFieldEntities(!0),h=function(b){return b.isFieldTouched()};if(!l)return u?c.every(h):c.some(h);var f=new Gh;l.forEach(function(x){f.set(x,[])}),c.forEach(function(x){var b=x.getNamePath();l.forEach(function(w){w.every(function(S,C){return b[C]===S})&&f.update(w,function(S){return[].concat(mt(S),[x])})})});var m=function(b){return b.some(h)},y=f.map(function(x){var b=x.value;return b});return u?y.every(m):y.some(m)},this.isFieldTouched=function(r){return n.warningUnhooked(),n.isFieldsTouched([r])},this.isFieldsValidating=function(r){n.warningUnhooked();var i=n.getFieldEntities();if(!r)return i.some(function(a){return a.isFieldValidating()});var o=r.map(Vi);return i.some(function(a){var s=a.getNamePath();return Ng(o,s)&&a.isFieldValidating()})},this.isFieldValidating=function(r){return n.warningUnhooked(),n.isFieldsValidating([r])},this.resetWithFieldInitialValue=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=new Gh,o=n.getFieldEntities(!0);o.forEach(function(l){var u=l.props.initialValue,c=l.getNamePath();if(u!==void 0){var h=i.get(c)||new Set;h.add({entity:l,value:u}),i.set(c,h)}});var a=function(u){u.forEach(function(c){var h=c.props.initialValue;if(h!==void 0){var f=c.getNamePath(),m=n.getInitialValue(f);if(m!==void 0)Hi(!1,"Form already set 'initialValues' with path '".concat(f.join("."),"'. Field can not overwrite it."));else{var y=i.get(f);if(y&&y.size>1)Hi(!1,"Multiple Field with path '".concat(f.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(y){var x=n.getFieldValue(f);(!r.skipExist||x===void 0)&&n.updateStore(Kc(n.store,f,mt(y)[0].value))}}}})},s;r.entities?s=r.entities:r.namePathList?(s=[],r.namePathList.forEach(function(l){var u=i.get(l);if(u){var c;(c=s).push.apply(c,mt(mt(u).map(function(h){return h.entity})))}})):s=o,a(s)},this.resetFields=function(r){n.warningUnhooked();var i=n.store;if(!r){n.updateStore(Sw({},n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(i,null,{type:"reset"}),n.notifyWatch();return}var o=r.map(Vi);o.forEach(function(a){var s=n.getInitialValue(a);n.updateStore(Kc(n.store,a,s))}),n.resetWithFieldInitialValue({namePathList:o}),n.notifyObservers(i,o,{type:"reset"}),n.notifyWatch(o)},this.setFields=function(r){n.warningUnhooked();var i=n.store,o=[];r.forEach(function(a){var s=a.name;a.errors;var l=_n(a,Wne),u=Vi(s);o.push(u),"value"in l&&n.updateStore(Kc(n.store,u,l.value)),n.notifyObservers(i,[u],{type:"setField",data:a})}),n.notifyWatch(o)},this.getFields=function(){var r=n.getFieldEntities(!0),i=r.map(function(o){var a=o.getNamePath(),s=o.getMeta(),l=ve(ve({},s),{},{name:a,value:n.getFieldValue(a)});return Object.defineProperty(l,"originRCField",{value:!0}),l});return i},this.initEntityValue=function(r){var i=r.props.initialValue;if(i!==void 0){var o=r.getNamePath(),a=od(n.store,o);a===void 0&&n.updateStore(Kc(n.store,o,i))}},this.isMergedPreserve=function(r){var i=r!==void 0?r:n.preserve;return i!=null?i:!0},this.registerField=function(r){n.fieldEntities.push(r);var i=r.getNamePath();if(n.notifyWatch([i]),r.props.initialValue!==void 0){var o=n.store;n.resetWithFieldInitialValue({entities:[r],skipExist:!0}),n.notifyObservers(o,[r.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(a,s){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter(function(h){return h!==r}),!n.isMergedPreserve(s)&&(!a||l.length>1)){var u=a?void 0:n.getInitialValue(i);if(i.length&&n.getFieldValue(i)!==u&&n.fieldEntities.every(function(h){return!kV(h.getNamePath(),i)})){var c=n.store;n.updateStore(Kc(c,i,u,!0)),n.notifyObservers(c,[i],{type:"remove"}),n.triggerDependenciesUpdate(c,i)}}n.notifyWatch([i])}},this.dispatch=function(r){switch(r.type){case"updateValue":{var i=r.namePath,o=r.value;n.updateValue(i,o);break}case"validateField":{var a=r.namePath,s=r.triggerName;n.validateFields([a],{triggerName:s});break}}},this.notifyObservers=function(r,i,o){if(n.subscribable){var a=ve(ve({},o),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach(function(s){var l=s.onStoreChange;l(r,i,a)})}else n.forceRootUpdate()},this.triggerDependenciesUpdate=function(r,i){var o=n.getDependencyChildrenFields(i);return o.length&&n.validateFields(o),n.notifyObservers(r,o,{type:"dependenciesUpdate",relatedFields:[i].concat(mt(o))}),o},this.updateValue=function(r,i){var o=Vi(r),a=n.store;n.updateStore(Kc(n.store,o,i)),n.notifyObservers(a,[o],{type:"valueUpdate",source:"internal"}),n.notifyWatch([o]);var s=n.triggerDependenciesUpdate(a,o),l=n.callbacks.onValuesChange;if(l){var u=tD(n.store,[o]);l(u,n.getFieldsValue())}n.triggerOnFieldsChange([o].concat(mt(s)))},this.setFieldsValue=function(r){n.warningUnhooked();var i=n.store;if(r){var o=Sw(n.store,r);n.updateStore(o)}n.notifyObservers(i,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()},this.getDependencyChildrenFields=function(r){var i=new Set,o=[],a=new Gh;n.getFieldEntities().forEach(function(l){var u=l.props.dependencies;(u||[]).forEach(function(c){var h=Vi(c);a.update(h,function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return f.add(l),f})})});var s=function l(u){var c=a.get(u)||new Set;c.forEach(function(h){if(!i.has(h)){i.add(h);var f=h.getNamePath();h.isFieldDirty()&&f.length&&(o.push(f),l(f))}})};return s(r),o},this.triggerOnFieldsChange=function(r,i){var o=n.callbacks.onFieldsChange;if(o){var a=n.getFields();if(i){var s=new Gh;i.forEach(function(u){var c=u.name,h=u.errors;s.set(c,h)}),a.forEach(function(u){u.errors=s.get(u.name)||u.errors})}var l=a.filter(function(u){var c=u.name;return Ng(r,c)});o(l,a)}},this.validateFields=function(r,i){n.warningUnhooked();var o=!!r,a=o?r.map(Vi):[],s=[];n.getFieldEntities(!0).forEach(function(c){if(o||a.push(c.getNamePath()),(i==null?void 0:i.recursive)&&o){var h=c.getNamePath();h.every(function(y,x){return r[x]===y||r[x]===void 0})&&a.push(h)}if(!(!c.props.rules||!c.props.rules.length)){var f=c.getNamePath();if(!o||Ng(a,f)){var m=c.validateRules(ve({validateMessages:ve(ve({},TV),n.validateMessages)},i));s.push(m.then(function(){return{name:f,errors:[],warnings:[]}}).catch(function(y){var x=[],b=[];return y.forEach(function(w){var S=w.rule.warningOnly,C=w.errors;S?b.push.apply(b,mt(C)):x.push.apply(x,mt(C))}),x.length?Promise.reject({name:f,errors:x,warnings:b}):{name:f,errors:x,warnings:b}}))}}});var l=Hne(s);n.lastValidatePromise=l,l.catch(function(c){return c}).then(function(c){var h=c.map(function(f){var m=f.name;return m});n.notifyObservers(n.store,h,{type:"validateFinish"}),n.triggerOnFieldsChange(h,c)});var u=l.then(function(){return n.lastValidatePromise===l?Promise.resolve(n.getFieldsValue(a)):Promise.reject([])}).catch(function(c){var h=c.filter(function(f){return f&&f.errors.length});return Promise.reject({values:n.getFieldsValue(a),errorFields:h,outOfDate:n.lastValidatePromise!==l})});return u.catch(function(c){return c}),u},this.submit=function(){n.warningUnhooked(),n.validateFields().then(function(r){var i=n.callbacks.onFinish;if(i)try{i(r)}catch(o){console.error(o)}}).catch(function(r){var i=n.callbacks.onFinishFailed;i&&i(r)})},this.forceRootUpdate=e});function DV(t){var e=v.exports.useRef(),n=v.exports.useState({}),r=$e(n,2),i=r[1];if(!e.current)if(t)e.current=t;else{var o=function(){i({})},a=new jne(o);e.current=a.getForm()}return[e.current]}var cP=v.exports.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),FV=function(e){var n=e.validateMessages,r=e.onFormChange,i=e.onFormFinish,o=e.children,a=v.exports.useContext(cP),s=v.exports.useRef({});return v.exports.createElement(cP.Provider,{value:ve(ve({},a),{},{validateMessages:ve(ve({},a.validateMessages),n),triggerFormChange:function(u,c){r&&r(u,{changedFields:c,forms:s.current}),a.triggerFormChange(u,c)},triggerFormFinish:function(u,c){i&&i(u,{values:c,forms:s.current}),a.triggerFormFinish(u,c)},registerForm:function(u,c){u&&(s.current=ve(ve({},s.current),{},ue({},u,c))),a.registerForm(u,c)},unregisterForm:function(u){var c=ve({},s.current);delete c[u],s.current=c,a.unregisterForm(u)}})},o)},Gne=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"],$ne=function(e,n){var r=e.name,i=e.initialValues,o=e.fields,a=e.form,s=e.preserve,l=e.children,u=e.component,c=u===void 0?"form":u,h=e.validateMessages,f=e.validateTrigger,m=f===void 0?"onChange":f,y=e.onValuesChange,x=e.onFieldsChange,b=e.onFinish,w=e.onFinishFailed,S=_n(e,Gne),C=v.exports.useContext(cP),M=DV(a),T=$e(M,1),R=T[0],I=R.getInternalHooks(Cf),A=I.useSubscribe,N=I.setInitialValues,L=I.setCallbacks,D=I.setValidateMessages,W=I.setPreserve,V=I.destroyForm;v.exports.useImperativeHandle(n,function(){return R}),v.exports.useEffect(function(){return C.registerForm(r,R),function(){C.unregisterForm(r)}},[C,R,r]),D(ve(ve({},C.validateMessages),h)),L({onValuesChange:y,onFieldsChange:function(re){if(C.triggerFormChange(r,re),x){for(var se=arguments.length,ce=new Array(se>1?se-1:0),ye=1;ye<se;ye++)ce[ye-1]=arguments[ye];x.apply(void 0,[re].concat(ce))}},onFinish:function(re){C.triggerFormFinish(r,re),b&&b(re)},onFinishFailed:w}),W(s);var B=v.exports.useRef(null);N(i,!B.current),B.current||(B.current=!0),v.exports.useEffect(function(){return V},[]);var K,j=typeof l=="function";if(j){var G=R.getFieldsValue(!0);K=l(G,R)}else K=l;A(!j);var H=v.exports.useRef();v.exports.useEffect(function(){One(H.current||[],o||[])||R.setFields(o||[]),H.current=o},[o,R]);var Y=v.exports.useMemo(function(){return ve(ve({},R),{},{validateTrigger:m})},[R,m]),Z=v.exports.createElement(dm.Provider,{value:Y},K);return c===!1?Z:v.exports.createElement(c,Se({},S,{onSubmit:function(re){re.preventDefault(),re.stopPropagation(),R.submit()},onReset:function(re){var se;re.preventDefault(),R.resetFields(),(se=S.onReset)===null||se===void 0||se.call(S,re)}}),Z)};function aD(t){try{return JSON.stringify(t)}catch{return Math.random()}}function Kne(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=v.exports.useState(),r=$e(n,2),i=r[0],o=r[1],a=v.exports.useMemo(function(){return aD(i)},[i]),s=v.exports.useRef(a);s.current=a;var l=v.exports.useContext(dm),u=e||l,c=u&&u._init,h=Vi(t),f=v.exports.useRef(h);return f.current=h,v.exports.useEffect(function(){if(!!c){var m=u.getFieldsValue,y=u.getInternalHooks,x=y(Cf),b=x.registerWatch,w=b(function(C){var M=od(C,f.current),T=aD(M);s.current!==T&&o(M)}),S=od(m(),f.current);return o(S),w}},[]),i}var qne=v.exports.forwardRef($ne),q0=qne;q0.FormProvider=FV;q0.Field=IV;q0.List=Vne;q0.useForm=DV;q0.useWatch=Kne;var sD=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Xne(t,e){return!!(t===e||sD(t)&&sD(e))}function Yne(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!Xne(t[n],e[n]))return!1;return!0}function Zne(t,e){e===void 0&&(e=Yne);var n=null;function r(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var a=t.apply(this,i);return n={lastResult:a,lastArgs:i,lastThis:this},a}return r.clear=function(){n=null},r}var zV={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},Jne={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},Qne={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},BV=Qne,ere={lang:Se({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},Jne),timePickerLocale:Se({},BV)},lD=ere,Ha="${label} is not a valid ${type}",tre={locale:"en",Pagination:zV,DatePicker:lD,TimePicker:BV,Calendar:lD,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:Ha,method:Ha,array:Ha,object:Ha,number:Ha,date:Ha,boolean:Ha,integer:Ha,float:Ha,regexp:Ha,email:Ha,url:Ha,hex:Ha},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"}},fm=tre,bM=Se({},fm.Modal);function qx(t){t?bM=Se(Se({},bM),t):bM=Se({},fm.Modal)}var nre=v.exports.createContext(void 0),VV=nre,rre="internalMark",UV=function(t){Ni(n,t);var e=ki(n);function n(r){var i;return di(this,n),i=e.call(this,r),i.getMemoizedContextValue=Zne(function(o){return Se(Se({},o),{exist:!0})}),qx(r.locale&&r.locale.Modal),i}return fi(n,[{key:"componentDidMount",value:function(){qx(this.props.locale&&this.props.locale.Modal)}},{key:"componentDidUpdate",value:function(i){var o=this.props.locale;i.locale!==o&&qx(o&&o.Modal)}},{key:"componentWillUnmount",value:function(){qx()}},{key:"render",value:function(){var i=this.props,o=i.locale,a=i.children,s=this.getMemoizedContextValue(o);return v.exports.createElement(VV.Provider,{value:s},a)}}]),n}(v.exports.Component);UV.defaultProps={locale:{}};var X0=function(t){Ni(n,t);var e=ki(n);function n(){return di(this,n),e.apply(this,arguments)}return fi(n,[{key:"getLocale",value:function(){var i=this.props,o=i.componentName,a=i.defaultLocale,s=a||fm[o!=null?o:"global"],l=this.context,u=o&&l?l[o]:{};return Se(Se({},s instanceof Function?s():s),u||{})}},{key:"getLocaleCode",value:function(){var i=this.context,o=i&&i.locale;return i&&i.exist&&!o?fm.locale:o}},{key:"render",value:function(){return this.props.children(this.getLocale(),this.getLocaleCode(),this.context)}}]),n}(v.exports.Component);X0.defaultProps={componentName:"global"};X0.contextType=VV;var ire=function(){var e=v.exports.useContext(jn),n=e.getPrefixCls,r=n("empty-img-default");return v.exports.createElement("svg",{className:r,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},v.exports.createElement("g",{fill:"none",fillRule:"evenodd"},v.exports.createElement("g",{transform:"translate(24 31.67)"},v.exports.createElement("ellipse",{className:"".concat(r,"-ellipse"),cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),v.exports.createElement("path",{className:"".concat(r,"-path-1"),d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z"}),v.exports.createElement("path",{className:"".concat(r,"-path-2"),d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",transform:"translate(13.56)"}),v.exports.createElement("path",{className:"".concat(r,"-path-3"),d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"}),v.exports.createElement("path",{className:"".concat(r,"-path-4"),d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z"})),v.exports.createElement("path",{className:"".concat(r,"-path-5"),d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z"}),v.exports.createElement("g",{className:"".concat(r,"-g"),transform:"translate(149.65 15.383)"},v.exports.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),v.exports.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},ore=ire,are=function(){var e=v.exports.useContext(jn),n=e.getPrefixCls,r=n("empty-img-simple");return v.exports.createElement("svg",{className:r,width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},v.exports.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},v.exports.createElement("ellipse",{className:"".concat(r,"-ellipse"),cx:"32",cy:"33",rx:"32",ry:"7"}),v.exports.createElement("g",{className:"".concat(r,"-g"),fillRule:"nonzero"},v.exports.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),v.exports.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",className:"".concat(r,"-path")}))))},sre=are,lre=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},HV=v.exports.createElement(ore,null),WV=v.exports.createElement(sre,null),O3=function(e){var n=e.className,r=e.prefixCls,i=e.image,o=i===void 0?HV:i,a=e.description,s=e.children,l=e.imageStyle,u=lre(e,["className","prefixCls","image","description","children","imageStyle"]),c=v.exports.useContext(jn),h=c.getPrefixCls,f=c.direction;return v.exports.createElement(X0,{componentName:"Empty"},function(m){var y,x=h("empty",r),b=typeof a!="undefined"?a:m.description,w=typeof b=="string"?b:"empty",S=null;return typeof o=="string"?S=v.exports.createElement("img",{alt:w,src:o}):S=o,v.exports.createElement("div",Se({className:Xe(x,(y={},ue(y,"".concat(x,"-normal"),o===WV),ue(y,"".concat(x,"-rtl"),f==="rtl"),y),n)},u),v.exports.createElement("div",{className:"".concat(x,"-image"),style:l},S),b&&v.exports.createElement("div",{className:"".concat(x,"-description")},b),s&&v.exports.createElement("div",{className:"".concat(x,"-footer")},s))})};O3.PRESENTED_IMAGE_DEFAULT=HV;O3.PRESENTED_IMAGE_SIMPLE=WV;var yf=O3,ure=function(e){return v.exports.createElement(ac,null,function(n){var r=n.getPrefixCls,i=r("empty");switch(e){case"Table":case"List":return v.exports.createElement(yf,{image:yf.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return v.exports.createElement(yf,{image:yf.PRESENTED_IMAGE_SIMPLE,className:"".concat(i,"-small")});default:return v.exports.createElement(yf,null)}})},cre=ure,dre=function(e,n){return n||(e?"ant-".concat(e):"ant")},jn=v.exports.createContext({getPrefixCls:dre,renderEmpty:cre}),ac=jn.Consumer,dP=v.exports.createContext(void 0),fre=function(e){var n=e.children,r=e.size;return v.exports.createElement(dP.Consumer,null,function(i){return v.exports.createElement(dP.Provider,{value:r||i},n)})},Zl=dP,Y0=ve({},fte),hre=Y0.version,pre=Y0.render,mre=Y0.unmountComponentAtNode,$1;try{var vre=Number((hre||"").split(".")[0]);vre>=18&&($1=Y0.createRoot)}catch{}function uD(t){var e=Y0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;e&&un(e)==="object"&&(e.usingClientEntryPoint=t)}var y_="__rc_react_root__";function gre(t,e){uD(!0);var n=e[y_]||$1(e);uD(!1),n.render(t),e[y_]=n}function yre(t,e){pre(t,e)}function xre(t,e){if($1){gre(t,e);return}yre(t,e)}function bre(t){return fP.apply(this,arguments)}function fP(){return fP=nh(da().mark(function t(e){return da().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.resolve().then(function(){var i;(i=e[y_])===null||i===void 0||i.unmount(),delete e[y_]}));case 1:case"end":return r.stop()}},t)})),fP.apply(this,arguments)}function wre(t){mre(t)}function _re(t){return hP.apply(this,arguments)}function hP(){return hP=nh(da().mark(function t(e){return da().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if($1===void 0){r.next=2;break}return r.abrupt("return",bre(e));case 2:wre(e);case 3:case"end":return r.stop()}},t)})),hP.apply(this,arguments)}function pl(){return!!(typeof window!="undefined"&&window.document&&window.document.createElement)}function cD(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit".concat(t)]="webkit".concat(e),n["Moz".concat(t)]="moz".concat(e),n["ms".concat(t)]="MS".concat(e),n["O".concat(t)]="o".concat(e.toLowerCase()),n}function Sre(t,e){var n={animationend:cD("Animation","AnimationEnd"),transitionend:cD("Transition","TransitionEnd")};return t&&("AnimationEvent"in e||delete n.animationend.animation,"TransitionEvent"in e||delete n.transitionend.transition),n}var Cre=Sre(pl(),typeof window!="undefined"?window:{}),jV={};if(pl()){var Ere=document.createElement("div");jV=Ere.style}var Xx={};function GV(t){if(Xx[t])return Xx[t];var e=Cre[t];if(e)for(var n=Object.keys(e),r=n.length,i=0;i<r;i+=1){var o=n[i];if(Object.prototype.hasOwnProperty.call(e,o)&&o in jV)return Xx[t]=e[o],Xx[t]}return""}var $V=GV("animationend"),KV=GV("transitionend"),qV=!!($V&&KV),dD=$V||"animationend",fD=KV||"transitionend";function hD(t,e){if(!t)return null;if(un(t)==="object"){var n=e.replace(/-\w/g,function(r){return r[1].toUpperCase()});return t[n]}return"".concat(t,"-").concat(e)}var xp="none",Yx="appear",Zx="enter",Jx="leave",pD="none",zu="prepare",zp="start",Bp="active",N3="end";function Rf(t){var e=v.exports.useRef(!1),n=v.exports.useState(t),r=$e(n,2),i=r[0],o=r[1];v.exports.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]);function a(s,l){l&&e.current||o(s)}return[i,a]}var XV=function(e){return+setTimeout(e,16)},YV=function(e){return clearTimeout(e)};typeof window!="undefined"&&"requestAnimationFrame"in window&&(XV=function(e){return window.requestAnimationFrame(e)},YV=function(e){return window.cancelAnimationFrame(e)});var mD=0,k3=new Map;function ZV(t){k3.delete(t)}function lr(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;mD+=1;var n=mD;function r(i){if(i===0)ZV(n),t();else{var o=XV(function(){r(i-1)});k3.set(n,o)}}return r(e),n}lr.cancel=function(t){var e=k3.get(t);return ZV(e),YV(e)};var Mre=function(){var t=v.exports.useRef(null);function e(){lr.cancel(t.current)}function n(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;e();var o=lr(function(){i<=1?r({isCanceled:function(){return o!==t.current}}):n(r,i-1)});t.current=o}return v.exports.useEffect(function(){return function(){e()}},[]),[n,e]},JV=pl()?v.exports.useLayoutEffect:v.exports.useEffect,vD=[zu,zp,Bp,N3],QV=!1,Tre=!0;function eU(t){return t===Bp||t===N3}var Pre=function(t,e){var n=Rf(pD),r=$e(n,2),i=r[0],o=r[1],a=Mre(),s=$e(a,2),l=s[0],u=s[1];function c(){o(zu,!0)}return JV(function(){if(i!==pD&&i!==N3){var h=vD.indexOf(i),f=vD[h+1],m=e(i);m===QV?o(f,!0):l(function(y){function x(){y.isCanceled()||o(f,!0)}m===!0?x():Promise.resolve(m).then(x)})}},[t,i]),v.exports.useEffect(function(){return function(){u()}},[]),[c,i]},Are=function(t){var e=v.exports.useRef(),n=v.exports.useRef(t);n.current=t;var r=v.exports.useCallback(function(a){n.current(a)},[]);function i(a){a&&(a.removeEventListener(fD,r),a.removeEventListener(dD,r))}function o(a){e.current&&e.current!==a&&i(e.current),a&&a!==e.current&&(a.addEventListener(fD,r),a.addEventListener(dD,r),e.current=a)}return v.exports.useEffect(function(){return function(){i(e.current)}},[]),[o,i]};function Rre(t,e,n,r){var i=r.motionEnter,o=i===void 0?!0:i,a=r.motionAppear,s=a===void 0?!0:a,l=r.motionLeave,u=l===void 0?!0:l,c=r.motionDeadline,h=r.motionLeaveImmediately,f=r.onAppearPrepare,m=r.onEnterPrepare,y=r.onLeavePrepare,x=r.onAppearStart,b=r.onEnterStart,w=r.onLeaveStart,S=r.onAppearActive,C=r.onEnterActive,M=r.onLeaveActive,T=r.onAppearEnd,R=r.onEnterEnd,I=r.onLeaveEnd,A=r.onVisibleChanged,N=Rf(),L=$e(N,2),D=L[0],W=L[1],V=Rf(xp),B=$e(V,2),K=B[0],j=B[1],G=Rf(null),H=$e(G,2),Y=H[0],Z=H[1],oe=v.exports.useRef(!1),re=v.exports.useRef(null);function se(){return n()}var ce=v.exports.useRef(!1);function ye(Re){var We=se();if(!(Re&&!Re.deadline&&Re.target!==We)){var Ue=ce.current,Ve;K===Yx&&Ue?Ve=T==null?void 0:T(We,Re):K===Zx&&Ue?Ve=R==null?void 0:R(We,Re):K===Jx&&Ue&&(Ve=I==null?void 0:I(We,Re)),K!==xp&&Ue&&Ve!==!1&&(j(xp,!0),Z(null,!0))}}var fe=Are(ye),De=$e(fe,1),Oe=De[0],Fe=v.exports.useMemo(function(){var Re,We,Ue;switch(K){case Yx:return Re={},ue(Re,zu,f),ue(Re,zp,x),ue(Re,Bp,S),Re;case Zx:return We={},ue(We,zu,m),ue(We,zp,b),ue(We,Bp,C),We;case Jx:return Ue={},ue(Ue,zu,y),ue(Ue,zp,w),ue(Ue,Bp,M),Ue;default:return{}}},[K]),Ee=Pre(K,function(Re){if(Re===zu){var We=Fe[zu];return We?We(se()):QV}if(Ce in Fe){var Ue;Z(((Ue=Fe[Ce])===null||Ue===void 0?void 0:Ue.call(Fe,se(),null))||null)}return Ce===Bp&&(Oe(se()),c>0&&(clearTimeout(re.current),re.current=setTimeout(function(){ye({deadline:!0})},c))),Tre}),Ye=$e(Ee,2),be=Ye[0],Ce=Ye[1],Me=eU(Ce);ce.current=Me,JV(function(){W(e);var Re=oe.current;if(oe.current=!0,!!t){var We;!Re&&e&&s&&(We=Yx),Re&&e&&o&&(We=Zx),(Re&&!e&&u||!Re&&h&&!e&&u)&&(We=Jx),We&&(j(We),be())}},[e]),v.exports.useEffect(function(){(K===Yx&&!s||K===Zx&&!o||K===Jx&&!u)&&j(xp)},[s,o,u]),v.exports.useEffect(function(){return function(){oe.current=!1,clearTimeout(re.current)}},[]),v.exports.useEffect(function(){D!==void 0&&K===xp&&(A==null||A(D))},[D,K]);var ze=Y;return Fe[zu]&&Ce===zp&&(ze=ve({transition:"none"},ze)),[K,Ce,ze,D!=null?D:e]}var Ore=function(t){Ni(n,t);var e=ki(n);function n(){return di(this,n),e.apply(this,arguments)}return fi(n,[{key:"render",value:function(){return this.props.children}}]),n}(v.exports.Component);function Nre(t){var e=t;un(t)==="object"&&(e=t.transitionSupport);function n(i){return!!(i.motionName&&e)}var r=v.exports.forwardRef(function(i,o){var a=i.visible,s=a===void 0?!0:a,l=i.removeOnLeave,u=l===void 0?!0:l,c=i.forceRender,h=i.children,f=i.motionName,m=i.leavedClassName,y=i.eventProps,x=n(i),b=v.exports.useRef(),w=v.exports.useRef();function S(){try{return b.current instanceof HTMLElement?b.current:f0(w.current)}catch{return null}}var C=Rre(x,s,S,i),M=$e(C,4),T=M[0],R=M[1],I=M[2],A=M[3],N=v.exports.useRef(A);A&&(N.current=!0);var L=v.exports.useCallback(function(G){b.current=G,m_(o,G)},[o]),D,W=ve(ve({},y),{},{visible:s});if(!h)D=null;else if(T===xp||!n(i))A?D=h(ve({},W),L):!u&&N.current?D=h(ve(ve({},W),{},{className:m}),L):c?D=h(ve(ve({},W),{},{style:{display:"none"}}),L):D=null;else{var V,B;R===zu?B="prepare":eU(R)?B="active":R===zp&&(B="start"),D=h(ve(ve({},W),{},{className:Xe(hD(f,T),(V={},ue(V,hD(f,"".concat(T,"-").concat(B)),B),ue(V,f,typeof f=="string"),V)),style:I}),L)}if(v.exports.isValidElement(D)&&Dm(D)){var K=D,j=K.ref;j||(D=v.exports.cloneElement(D,{ref:L}))}return v.exports.createElement(Ore,{ref:w},D)});return r.displayName="CSSMotion",r}var rh=Nre(qV),pP="add",mP="keep",vP="remove",wM="removed";function kre(t){var e;return t&&un(t)==="object"&&"key"in t?e=t:e={key:t},ve(ve({},e),{},{key:String(e.key)})}function gP(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return t.map(kre)}function Ire(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=[],r=0,i=e.length,o=gP(t),a=gP(e);o.forEach(function(u){for(var c=!1,h=r;h<i;h+=1){var f=a[h];if(f.key===u.key){r<h&&(n=n.concat(a.slice(r,h).map(function(m){return ve(ve({},m),{},{status:pP})})),r=h),n.push(ve(ve({},f),{},{status:mP})),r+=1,c=!0;break}}c||n.push(ve(ve({},u),{},{status:vP}))}),r<i&&(n=n.concat(a.slice(r).map(function(u){return ve(ve({},u),{},{status:pP})})));var s={};n.forEach(function(u){var c=u.key;s[c]=(s[c]||0)+1});var l=Object.keys(s).filter(function(u){return s[u]>1});return l.forEach(function(u){n=n.filter(function(c){var h=c.key,f=c.status;return h!==u||f!==vP}),n.forEach(function(c){c.key===u&&(c.status=mP)})}),n}var Lre=["component","children","onVisibleChanged","onAllRemoved"],Dre=["status"],Fre=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function zre(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rh,n=function(r){Ni(o,r);var i=ki(o);function o(){var a;di(this,o);for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=i.call.apply(i,[this].concat(l)),a.state={keyEntities:[]},a.removeKey=function(c){var h=a.state.keyEntities,f=h.map(function(m){return m.key!==c?m:ve(ve({},m),{},{status:wM})});return a.setState({keyEntities:f}),f.filter(function(m){var y=m.status;return y!==wM}).length},a}return fi(o,[{key:"render",value:function(){var s=this,l=this.state.keyEntities,u=this.props,c=u.component,h=u.children,f=u.onVisibleChanged,m=u.onAllRemoved,y=_n(u,Lre),x=c||v.exports.Fragment,b={};return Fre.forEach(function(w){b[w]=y[w],delete y[w]}),delete y.keys,v.exports.createElement(x,y,l.map(function(w){var S=w.status,C=_n(w,Dre),M=S===pP||S===mP;return v.exports.createElement(e,Se({},b,{key:C.key,visible:M,eventProps:C,onVisibleChanged:function(R){if(f==null||f(R,{key:C.key}),!R){var I=s.removeKey(C.key);I===0&&m&&m()}}}),h)}))}}],[{key:"getDerivedStateFromProps",value:function(s,l){var u=s.keys,c=l.keyEntities,h=gP(u),f=Ire(c,h);return{keyEntities:f.filter(function(m){var y=c.find(function(x){var b=x.key;return m.key===b});return!(y&&y.status===wM&&m.status===vP)})}}}]),o}(v.exports.Component);return n.defaultProps={component:"div"},n}var Bre=zre(qV),I3=function(t){Ni(n,t);var e=ki(n);function n(){var r;di(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),r.closeTimer=null,r.close=function(s){s&&s.stopPropagation(),r.clearCloseTimer();var l=r.props,u=l.onClose,c=l.noticeKey;u&&u(c)},r.startCloseTimer=function(){r.props.duration&&(r.closeTimer=window.setTimeout(function(){r.close()},r.props.duration*1e3))},r.clearCloseTimer=function(){r.closeTimer&&(clearTimeout(r.closeTimer),r.closeTimer=null)},r}return fi(n,[{key:"componentDidMount",value:function(){this.startCloseTimer()}},{key:"componentDidUpdate",value:function(i){(this.props.duration!==i.duration||this.props.updateMark!==i.updateMark||this.props.visible!==i.visible&&this.props.visible)&&this.restartCloseTimer()}},{key:"componentWillUnmount",value:function(){this.clearCloseTimer()}},{key:"restartCloseTimer",value:function(){this.clearCloseTimer(),this.startCloseTimer()}},{key:"render",value:function(){var i=this,o=this.props,a=o.prefixCls,s=o.className,l=o.closable,u=o.closeIcon,c=o.style,h=o.onClick,f=o.children,m=o.holder,y="".concat(a,"-notice"),x=Object.keys(this.props).reduce(function(w,S){return(S.substr(0,5)==="data-"||S.substr(0,5)==="aria-"||S==="role")&&(w[S]=i.props[S]),w},{}),b=v.exports.createElement("div",Se({className:Xe(y,s,ue({},"".concat(y,"-closable"),l)),style:c,onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onClick:h},x),v.exports.createElement("div",{className:"".concat(y,"-content")},f),l?v.exports.createElement("a",{tabIndex:0,onClick:this.close,className:"".concat(y,"-close")},u||v.exports.createElement("span",{className:"".concat(y,"-close-x")})):null);return m?_d.createPortal(b,m):b}}]),n}(v.exports.Component);I3.defaultProps={onClose:function(){},duration:1.5};function L3(t){var e=v.exports.useRef({}),n=v.exports.useState([]),r=$e(n,2),i=r[0],o=r[1];function a(s){var l=!0;t.add(s,function(u,c){var h=c.key;if(u&&(!e.current[h]||l)){var f=v.exports.createElement(I3,Se({},c,{holder:u}));e.current[h]=f,o(function(m){var y=m.findIndex(function(b){return b.key===c.key});if(y===-1)return[].concat(mt(m),[f]);var x=mt(m);return x[y]=f,x})}l=!1})}return[a,v.exports.createElement(v.exports.Fragment,null,i)]}var Vre=["getContainer"],gD=0,Ure=Date.now();function yD(){var t=gD;return gD+=1,"rcNotification_".concat(Ure,"_").concat(t)}var hm=function(t){Ni(n,t);var e=ki(n);function n(){var r;di(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),r.state={notices:[]},r.hookRefs=new Map,r.add=function(s,l){var u=s.key||yD(),c=ve(ve({},s),{},{key:u}),h=r.props.maxCount;r.setState(function(f){var m=f.notices,y=m.map(function(b){return b.notice.key}).indexOf(u),x=m.concat();return y!==-1?x.splice(y,1,{notice:c,holderCallback:l}):(h&&m.length>=h&&(c.key=x[0].notice.key,c.updateMark=yD(),c.userPassKey=u,x.shift()),x.push({notice:c,holderCallback:l})),{notices:x}})},r.remove=function(s){r.setState(function(l){var u=l.notices;return{notices:u.filter(function(c){var h=c.notice,f=h.key,m=h.userPassKey,y=m||f;return y!==s})}})},r.noticePropsMap={},r}return fi(n,[{key:"getTransitionName",value:function(){var i=this.props,o=i.prefixCls,a=i.animation,s=this.props.transitionName;return!s&&a&&(s="".concat(o,"-").concat(a)),s}},{key:"render",value:function(){var i=this,o=this.state.notices,a=this.props,s=a.prefixCls,l=a.className,u=a.closeIcon,c=a.style,h=[];return o.forEach(function(f,m){var y=f.notice,x=f.holderCallback,b=m===o.length-1?y.updateMark:void 0,w=y.key,S=y.userPassKey,C=ve(ve(ve({prefixCls:s,closeIcon:u},y),y.props),{},{key:w,noticeKey:S||w,updateMark:b,onClose:function(T){var R;i.remove(T),(R=y.onClose)===null||R===void 0||R.call(y)},onClick:y.onClick,children:y.content});h.push(w),i.noticePropsMap[w]={props:C,holderCallback:x}}),v.exports.createElement("div",{className:Xe(s,l),style:c},v.exports.createElement(Bre,{keys:h,motionName:this.getTransitionName(),onVisibleChanged:function(m,y){var x=y.key;m||delete i.noticePropsMap[x]}},function(f){var m=f.key,y=f.className,x=f.style,b=f.visible,w=i.noticePropsMap[m],S=w.props,C=w.holderCallback;return C?v.exports.createElement("div",{key:m,className:Xe(y,"".concat(s,"-hook-holder")),style:ve({},x),ref:function(T){typeof m!="undefined"&&(T?(i.hookRefs.set(m,T),C(T,S)):i.hookRefs.delete(m))}}):v.exports.createElement(I3,Se({},S,{className:Xe(y,S==null?void 0:S.className),style:ve(ve({},x),S==null?void 0:S.style),visible:b}))}))}}]),n}(v.exports.Component);hm.newInstance=void 0;hm.defaultProps={prefixCls:"rc-notification",animation:"fade",style:{top:65,left:"50%"}};hm.newInstance=function(e,n){var r=e||{},i=r.getContainer,o=_n(r,Vre),a=document.createElement("div");if(i){var s=i();s.appendChild(a)}else document.body.appendChild(a);var l=!1;function u(c){l||(l=!0,n({notice:function(f){c.add(f)},removeNotice:function(f){c.remove(f)},component:c,destroy:function(){_re(a),a.parentNode&&a.parentNode.removeChild(a)},useNotification:function(){return L3(c)}}))}xre(v.exports.createElement(hm,Se({},o,{ref:u})),a)};var Hre={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},Wre=Hre;function Ro(t,e){jre(t)&&(t="100%");var n=Gre(t);return t=e===360?t:Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:(e===360?t=(t<0?t%e+e:t%e)/parseFloat(String(e)):t=t%e/parseFloat(String(e)),t)}function Qx(t){return Math.min(1,Math.max(0,t))}function jre(t){return typeof t=="string"&&t.indexOf(".")!==-1&&parseFloat(t)===1}function Gre(t){return typeof t=="string"&&t.indexOf("%")!==-1}function tU(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function eb(t){return t<=1?"".concat(Number(t)*100,"%"):t}function Mf(t){return t.length===1?"0"+t:String(t)}function $re(t,e,n){return{r:Ro(t,255)*255,g:Ro(e,255)*255,b:Ro(n,255)*255}}function xD(t,e,n){t=Ro(t,255),e=Ro(e,255),n=Ro(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o=0,a=0,s=(r+i)/2;if(r===i)a=0,o=0;else{var l=r-i;switch(a=s>.5?l/(2-r-i):l/(r+i),r){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4;break}o/=6}return{h:o,s:a,l:s}}function _M(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*(6*n):n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Kre(t,e,n){var r,i,o;if(t=Ro(t,360),e=Ro(e,100),n=Ro(n,100),e===0)i=n,o=n,r=n;else{var a=n<.5?n*(1+e):n+e-n*e,s=2*n-a;r=_M(s,a,t+1/3),i=_M(s,a,t),o=_M(s,a,t-1/3)}return{r:r*255,g:i*255,b:o*255}}function yP(t,e,n){t=Ro(t,255),e=Ro(e,255),n=Ro(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o=0,a=r,s=r-i,l=r===0?0:s/r;if(r===i)o=0;else{switch(r){case t:o=(e-n)/s+(e<n?6:0);break;case e:o=(n-t)/s+2;break;case n:o=(t-e)/s+4;break}o/=6}return{h:o,s:l,v:a}}function qre(t,e,n){t=Ro(t,360)*6,e=Ro(e,100),n=Ro(n,100);var r=Math.floor(t),i=t-r,o=n*(1-e),a=n*(1-i*e),s=n*(1-(1-i)*e),l=r%6,u=[n,a,o,o,s,n][l],c=[s,n,n,a,o,o][l],h=[o,o,s,n,n,a][l];return{r:u*255,g:c*255,b:h*255}}function xP(t,e,n,r){var i=[Mf(Math.round(t).toString(16)),Mf(Math.round(e).toString(16)),Mf(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function Xre(t,e,n,r,i){var o=[Mf(Math.round(t).toString(16)),Mf(Math.round(e).toString(16)),Mf(Math.round(n).toString(16)),Mf(Yre(r))];return i&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function Yre(t){return Math.round(parseFloat(t)*255).toString(16)}function bD(t){return Ga(t)/255}function Ga(t){return parseInt(t,16)}function Zre(t){return{r:t>>16,g:(t&65280)>>8,b:t&255}}var bP={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function bp(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,o=null,a=!1,s=!1;return typeof t=="string"&&(t=eie(t)),typeof t=="object"&&(Cu(t.r)&&Cu(t.g)&&Cu(t.b)?(e=$re(t.r,t.g,t.b),a=!0,s=String(t.r).substr(-1)==="%"?"prgb":"rgb"):Cu(t.h)&&Cu(t.s)&&Cu(t.v)?(r=eb(t.s),i=eb(t.v),e=qre(t.h,r,i),a=!0,s="hsv"):Cu(t.h)&&Cu(t.s)&&Cu(t.l)&&(r=eb(t.s),o=eb(t.l),e=Kre(t.h,r,o),a=!0,s="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(n=t.a)),n=tU(n),{ok:a,format:t.format||s,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}var Jre="[-\\+]?\\d+%?",Qre="[-\\+]?\\d*\\.\\d+%?",ad="(?:".concat(Qre,")|(?:").concat(Jre,")"),SM="[\\s|\\(]+(".concat(ad,")[,|\\s]+(").concat(ad,")[,|\\s]+(").concat(ad,")\\s*\\)?"),CM="[\\s|\\(]+(".concat(ad,")[,|\\s]+(").concat(ad,")[,|\\s]+(").concat(ad,")[,|\\s]+(").concat(ad,")\\s*\\)?"),Js={CSS_UNIT:new RegExp(ad),rgb:new RegExp("rgb"+SM),rgba:new RegExp("rgba"+CM),hsl:new RegExp("hsl"+SM),hsla:new RegExp("hsla"+CM),hsv:new RegExp("hsv"+SM),hsva:new RegExp("hsva"+CM),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function eie(t){if(t=t.trim().toLowerCase(),t.length===0)return!1;var e=!1;if(bP[t])t=bP[t],e=!0;else if(t==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=Js.rgb.exec(t);return n?{r:n[1],g:n[2],b:n[3]}:(n=Js.rgba.exec(t),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Js.hsl.exec(t),n?{h:n[1],s:n[2],l:n[3]}:(n=Js.hsla.exec(t),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Js.hsv.exec(t),n?{h:n[1],s:n[2],v:n[3]}:(n=Js.hsva.exec(t),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Js.hex8.exec(t),n?{r:Ga(n[1]),g:Ga(n[2]),b:Ga(n[3]),a:bD(n[4]),format:e?"name":"hex8"}:(n=Js.hex6.exec(t),n?{r:Ga(n[1]),g:Ga(n[2]),b:Ga(n[3]),format:e?"name":"hex"}:(n=Js.hex4.exec(t),n?{r:Ga(n[1]+n[1]),g:Ga(n[2]+n[2]),b:Ga(n[3]+n[3]),a:bD(n[4]+n[4]),format:e?"name":"hex8"}:(n=Js.hex3.exec(t),n?{r:Ga(n[1]+n[1]),g:Ga(n[2]+n[2]),b:Ga(n[3]+n[3]),format:e?"name":"hex"}:!1)))))))))}function Cu(t){return Boolean(Js.CSS_UNIT.exec(String(t)))}var EM=function(){function t(e,n){e===void 0&&(e=""),n===void 0&&(n={});var r;if(e instanceof t)return e;typeof e=="number"&&(e=Zre(e)),this.originalInput=e;var i=bp(e);this.originalInput=e,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=n.format)!==null&&r!==void 0?r:i.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},t.prototype.getLuminance=function(){var e=this.toRgb(),n,r,i,o=e.r/255,a=e.g/255,s=e.b/255;return o<=.03928?n=o/12.92:n=Math.pow((o+.055)/1.055,2.4),a<=.03928?r=a/12.92:r=Math.pow((a+.055)/1.055,2.4),s<=.03928?i=s/12.92:i=Math.pow((s+.055)/1.055,2.4),.2126*n+.7152*r+.0722*i},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(e){return this.a=tU(e),this.roundA=Math.round(100*this.a)/100,this},t.prototype.toHsv=function(){var e=yP(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},t.prototype.toHsvString=function(){var e=yP(this.r,this.g,this.b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this.a===1?"hsv(".concat(n,", ").concat(r,"%, ").concat(i,"%)"):"hsva(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},t.prototype.toHsl=function(){var e=xD(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},t.prototype.toHslString=function(){var e=xD(this.r,this.g,this.b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this.a===1?"hsl(".concat(n,", ").concat(r,"%, ").concat(i,"%)"):"hsla(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},t.prototype.toHex=function(e){return e===void 0&&(e=!1),xP(this.r,this.g,this.b,e)},t.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},t.prototype.toHex8=function(e){return e===void 0&&(e=!1),Xre(this.r,this.g,this.b,this.a,e)},t.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var e=Math.round(this.r),n=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(n,", ").concat(r,")"):"rgba(".concat(e,", ").concat(n,", ").concat(r,", ").concat(this.roundA,")")},t.prototype.toPercentageRgb=function(){var e=function(n){return"".concat(Math.round(Ro(n,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var e=function(n){return Math.round(Ro(n,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},t.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+xP(this.r,this.g,this.b,!1),n=0,r=Object.entries(bP);n<r.length;n++){var i=r[n],o=i[0],a=i[1];if(e===a)return o}return!1},t.prototype.toString=function(e){var n=Boolean(e);e=e!=null?e:this.format;var r=!1,i=this.a<1&&this.a>=0,o=!n&&i&&(e.startsWith("hex")||e==="name");return o?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l+=e/100,n.l=Qx(n.l),new t(n)},t.prototype.brighten=function(e){e===void 0&&(e=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),new t(n)},t.prototype.darken=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l-=e/100,n.l=Qx(n.l),new t(n)},t.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},t.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},t.prototype.desaturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s-=e/100,n.s=Qx(n.s),new t(n)},t.prototype.saturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s+=e/100,n.s=Qx(n.s),new t(n)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(e){var n=this.toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,new t(n)},t.prototype.mix=function(e,n){n===void 0&&(n=50);var r=this.toRgb(),i=new t(e).toRgb(),o=n/100,a={r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a};return new t(a)},t.prototype.analogous=function(e,n){e===void 0&&(e=6),n===void 0&&(n=30);var r=this.toHsl(),i=360/n,o=[this];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(new t(r));return o},t.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new t(e)},t.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var n=this.toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/e;e--;)a.push(new t({h:r,s:i,v:o})),o=(o+s)%1;return a},t.prototype.splitcomplement=function(){var e=this.toHsl(),n=e.h;return[this,new t({h:(n+72)%360,s:e.s,l:e.l}),new t({h:(n+216)%360,s:e.s,l:e.l})]},t.prototype.onBackground=function(e){var n=this.toRgb(),r=new t(e).toRgb();return new t({r:r.r+(n.r-r.r)*n.a,g:r.g+(n.g-r.g)*n.a,b:r.b+(n.b-r.b)*n.a})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(e){for(var n=this.toHsl(),r=n.h,i=[this],o=360/e,a=1;a<e;a++)i.push(new t({h:(r+a*o)%360,s:n.s,l:n.l}));return i},t.prototype.equals=function(e){return this.toRgbString()===new t(e).toRgbString()},t}(),tb=2,wD=.16,tie=.05,nie=.05,rie=.15,nU=5,rU=4,iie=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function _D(t){var e=t.r,n=t.g,r=t.b,i=yP(e,n,r);return{h:i.h*360,s:i.s,v:i.v}}function nb(t){var e=t.r,n=t.g,r=t.b;return"#".concat(xP(e,n,r,!1))}function oie(t,e,n){var r=n/100,i={r:(e.r-t.r)*r+t.r,g:(e.g-t.g)*r+t.g,b:(e.b-t.b)*r+t.b};return i}function SD(t,e,n){var r;return Math.round(t.h)>=60&&Math.round(t.h)<=240?r=n?Math.round(t.h)-tb*e:Math.round(t.h)+tb*e:r=n?Math.round(t.h)+tb*e:Math.round(t.h)-tb*e,r<0?r+=360:r>=360&&(r-=360),r}function CD(t,e,n){if(t.h===0&&t.s===0)return t.s;var r;return n?r=t.s-wD*e:e===rU?r=t.s+wD:r=t.s+tie*e,r>1&&(r=1),n&&e===nU&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2))}function ED(t,e,n){var r;return n?r=t.v+nie*e:r=t.v-rie*e,r>1&&(r=1),Number(r.toFixed(2))}function p0(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[],r=bp(t),i=nU;i>0;i-=1){var o=_D(r),a=nb(bp({h:SD(o,i,!0),s:CD(o,i,!0),v:ED(o,i,!0)}));n.push(a)}n.push(nb(r));for(var s=1;s<=rU;s+=1){var l=_D(r),u=nb(bp({h:SD(l,s),s:CD(l,s),v:ED(l,s)}));n.push(u)}return e.theme==="dark"?iie.map(function(c){var h=c.index,f=c.opacity,m=nb(oie(bp(e.backgroundColor||"#141414"),bp(n[h]),f*100));return m}):n}var MM={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},TM={},PM={};Object.keys(MM).forEach(function(t){TM[t]=p0(MM[t]),TM[t].primary=TM[t][5],PM[t]=p0(MM[t],{theme:"dark",backgroundColor:"#141414"}),PM[t].primary=PM[t][5]});var aie="rc-util-key";function iU(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.mark;return e?e.startsWith("data-")?e:"data-".concat(e):aie}function D3(t){if(t.attachTo)return t.attachTo;var e=document.querySelector("head");return e||document.body}function MD(t){var e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!pl())return null;var r=document.createElement("style");if(!((e=n.csp)===null||e===void 0)&&e.nonce){var i;r.nonce=(i=n.csp)===null||i===void 0?void 0:i.nonce}r.innerHTML=t;var o=D3(n),a=o.firstChild;return n.prepend&&o.prepend?o.prepend(r):n.prepend&&a?o.insertBefore(r,a):o.appendChild(r),r}var wP=new Map;function sie(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=D3(e);return Array.from(wP.get(n).children).find(function(r){return r.tagName==="STYLE"&&r.getAttribute(iU(e))===t})}function F3(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=D3(n);if(!wP.has(r)){var i=MD("",n),o=i.parentNode;wP.set(r,o),o.removeChild(i)}var a=sie(e,n);if(a){var s,l;if(((s=n.csp)===null||s===void 0?void 0:s.nonce)&&a.nonce!==((l=n.csp)===null||l===void 0?void 0:l.nonce)){var u;a.nonce=(u=n.csp)===null||u===void 0?void 0:u.nonce}return a.innerHTML!==t&&(a.innerHTML=t),a}var c=MD(t,n);return c.setAttribute(iU(n),e),c}function lie(t,e){Hi(t,"[@ant-design/icons] ".concat(e))}function TD(t){return un(t)==="object"&&typeof t.name=="string"&&typeof t.theme=="string"&&(un(t.icon)==="object"||typeof t.icon=="function")}function PD(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(t).reduce(function(e,n){var r=t[n];switch(n){case"class":e.className=r,delete e.class;break;default:e[n]=r}return e},{})}function _P(t,e,n){return n?ln.createElement(t.tag,ve(ve({key:e},PD(t.attrs)),n),(t.children||[]).map(function(r,i){return _P(r,"".concat(e,"-").concat(t.tag,"-").concat(i))})):ln.createElement(t.tag,ve({key:e},PD(t.attrs)),(t.children||[]).map(function(r,i){return _P(r,"".concat(e,"-").concat(t.tag,"-").concat(i))}))}function oU(t){return p0(t)[0]}function aU(t){return t?Array.isArray(t)?t:[t]:[]}var uie=`
.anticon {
  display: inline-block;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,cie=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:uie,n=v.exports.useContext(T3),r=n.csp;v.exports.useEffect(function(){F3(e,"@ant-design-icons",{prepend:!0,csp:r})},[])},die=["icon","className","onClick","style","primaryColor","secondaryColor"],kg={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function fie(t){var e=t.primaryColor,n=t.secondaryColor;kg.primaryColor=e,kg.secondaryColor=n||oU(e),kg.calculated=!!n}function hie(){return ve({},kg)}var K1=function(e){var n=e.icon,r=e.className,i=e.onClick,o=e.style,a=e.primaryColor,s=e.secondaryColor,l=_n(e,die),u=kg;if(a&&(u={primaryColor:a,secondaryColor:s||oU(a)}),cie(),lie(TD(n),"icon should be icon definiton, but got ".concat(n)),!TD(n))return null;var c=n;return c&&typeof c.icon=="function"&&(c=ve(ve({},c),{},{icon:c.icon(u.primaryColor,u.secondaryColor)})),_P(c.icon,"svg-".concat(c.name),ve({className:r,onClick:i,style:o,"data-icon":c.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},l))};K1.displayName="IconReact";K1.getTwoToneColors=hie;K1.setTwoToneColors=fie;var z3=K1;function sU(t){var e=aU(t),n=$e(e,2),r=n[0],i=n[1];return z3.setTwoToneColors({primaryColor:r,secondaryColor:i})}function pie(){var t=z3.getTwoToneColors();return t.calculated?[t.primaryColor,t.secondaryColor]:t.primaryColor}var mie=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];sU("#1890ff");var q1=v.exports.forwardRef(function(t,e){var n,r=t.className,i=t.icon,o=t.spin,a=t.rotate,s=t.tabIndex,l=t.onClick,u=t.twoToneColor,c=_n(t,mie),h=v.exports.useContext(T3),f=h.prefixCls,m=f===void 0?"anticon":f,y=Xe(m,(n={},ue(n,"".concat(m,"-").concat(i.name),!!i.name),ue(n,"".concat(m,"-spin"),!!o||i.name==="loading"),n),r),x=s;x===void 0&&l&&(x=-1);var b=a?{msTransform:"rotate(".concat(a,"deg)"),transform:"rotate(".concat(a,"deg)")}:void 0,w=aU(u),S=$e(w,2),C=S[0],M=S[1];return v.exports.createElement("span",ve(ve({role:"img","aria-label":i.name},c),{},{ref:e,tabIndex:x,onClick:l,className:y}),v.exports.createElement(z3,{icon:i,primaryColor:C,secondaryColor:M,style:b}))});q1.displayName="AntdIcon";q1.getTwoToneColor=pie;q1.setTwoToneColor=sU;var xr=q1,lU=function(e,n){return v.exports.createElement(xr,ve(ve({},e),{},{ref:n,icon:Wre}))};lU.displayName="LoadingOutlined";var m0=v.exports.forwardRef(lU),vie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},gie=vie,uU=function(e,n){return v.exports.createElement(xr,ve(ve({},e),{},{ref:n,icon:gie}))};uU.displayName="ExclamationCircleFilled";var yie=v.exports.forwardRef(uU),xie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"},bie=xie,cU=function(e,n){return v.exports.createElement(xr,ve(ve({},e),{},{ref:n,icon:bie}))};cU.displayName="CloseCircleFilled";var X1=v.exports.forwardRef(cU),wie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},_ie=wie,dU=function(e,n){return v.exports.createElement(xr,ve(ve({},e),{},{ref:n,icon:_ie}))};dU.displayName="CheckCircleFilled";var Sie=v.exports.forwardRef(dU),Cie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},Eie=Cie,fU=function(e,n){return v.exports.createElement(xr,ve(ve({},e),{},{ref:n,icon:Eie}))};fU.displayName="InfoCircleFilled";var Mie=v.exports.forwardRef(fU);function Tie(t,e){var n=function(){var i,o,a=null,s={add:function(x,b){a==null||a.component.add(x,b)}},l=L3(s),u=$e(l,2),c=u[0],h=u[1];function f(y){var x=y.prefixCls,b=i("message",x),w=i(),S=y.key||bU(),C=new Promise(function(T){var R=function(){return typeof y.onClose=="function"&&y.onClose(),T(!0)};t(Se(Se({},y),{prefixCls:b,rootPrefixCls:w,getPopupContainer:o}),function(I){var A=I.prefixCls,N=I.instance;a=N,c(e(Se(Se({},y),{key:S,onClose:R}),A))})}),M=function(){a&&a.removeNotice(S)};return M.then=function(T,R){return C.then(T,R)},M.promise=C,M}var m=v.exports.useRef({});return m.current.open=f,SU.forEach(function(y){return EU(m.current,y)}),[m.current,v.exports.createElement(ac,{key:"holder"},function(y){return i=y.getPrefixCls,o=y.getPopupContainer,h})]};return n}var la,hU=3,pU,Pie=1,mU="",SP="move-up",vU=!1,gU,yU,xU=!1;function bU(){return Pie++}function Aie(t){t.top!==void 0&&(pU=t.top,la=null),t.duration!==void 0&&(hU=t.duration),t.prefixCls!==void 0&&(mU=t.prefixCls),t.getContainer!==void 0&&(gU=t.getContainer,la=null),t.transitionName!==void 0&&(SP=t.transitionName,la=null,vU=!0),t.maxCount!==void 0&&(yU=t.maxCount,la=null),t.rtl!==void 0&&(xU=t.rtl)}function wU(t,e){var n=t.prefixCls,r=t.getPopupContainer,i=jU(),o=i.getPrefixCls,a=i.getRootPrefixCls,s=i.getIconPrefixCls,l=o("message",n||mU),u=a(t.rootPrefixCls,l),c=s();if(la){e({prefixCls:l,rootPrefixCls:u,iconPrefixCls:c,instance:la});return}var h={prefixCls:l,transitionName:vU?SP:"".concat(u,"-").concat(SP),style:{top:pU},getContainer:gU||r,maxCount:yU};hm.newInstance(h,function(f){if(la){e({prefixCls:l,rootPrefixCls:u,iconPrefixCls:c,instance:la});return}la=f,e({prefixCls:l,rootPrefixCls:u,iconPrefixCls:c,instance:f})})}var _U={info:Mie,success:Sie,error:X1,warning:yie,loading:m0},SU=Object.keys(_U);function CU(t,e,n){var r,i=t.duration!==void 0?t.duration:hU,o=_U[t.type],a=Xe("".concat(e,"-custom-content"),(r={},ue(r,"".concat(e,"-").concat(t.type),t.type),ue(r,"".concat(e,"-rtl"),xU===!0),r));return{key:t.key,duration:i,style:t.style||{},className:t.className,content:v.exports.createElement(Z0,{iconPrefixCls:n},v.exports.createElement("div",{className:a},t.icon||o&&v.exports.createElement(o,null),v.exports.createElement("span",null,t.content))),onClose:t.onClose,onClick:t.onClick}}function Rie(t){var e=t.key||bU(),n=new Promise(function(i){var o=function(){return typeof t.onClose=="function"&&t.onClose(),i(!0)};wU(t,function(a){var s=a.prefixCls,l=a.iconPrefixCls,u=a.instance;u.notice(CU(Se(Se({},t),{key:e,onClose:o}),s,l))})}),r=function(){la&&la.removeNotice(e)};return r.then=function(i,o){return n.then(i,o)},r.promise=n,r}function Oie(t){return Object.prototype.toString.call(t)==="[object Object]"&&!!t.content}var v0={open:Rie,config:Aie,destroy:function(e){if(la)if(e){var n=la,r=n.removeNotice;r(e)}else{var i=la,o=i.destroy;o(),la=null}}};function EU(t,e){t[e]=function(n,r,i){return Oie(n)?t.open(Se(Se({},n),{type:e})):(typeof r=="function"&&(i=r,r=void 0),t.open({content:n,duration:r,type:e,onClose:i}))}}SU.forEach(function(t){return EU(v0,t)});v0.warn=v0.warning;v0.useMessage=Tie(wU,CU);var CP=v0,MU={exports:{}},TU={exports:{}};(function(t){function e(n){return t.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(TU);(function(t){var e=TU.exports.default;function n(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */t.exports=n=function(){return r},t.exports.__esModule=!0,t.exports.default=t.exports;var r={},i=Object.prototype,o=i.hasOwnProperty,a=typeof Symbol=="function"?Symbol:{},s=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(V,B,K){return Object.defineProperty(V,B,{value:K,enumerable:!0,configurable:!0,writable:!0}),V[B]}try{c({},"")}catch{c=function(K,j,G){return K[j]=G}}function h(V,B,K,j){var G=B&&B.prototype instanceof y?B:y,H=Object.create(G.prototype),Y=new L(j||[]);return H._invoke=function(Z,oe,re){var se="suspendedStart";return function(ce,ye){if(se==="executing")throw new Error("Generator is already running");if(se==="completed"){if(ce==="throw")throw ye;return W()}for(re.method=ce,re.arg=ye;;){var fe=re.delegate;if(fe){var De=I(fe,re);if(De){if(De===m)continue;return De}}if(re.method==="next")re.sent=re._sent=re.arg;else if(re.method==="throw"){if(se==="suspendedStart")throw se="completed",re.arg;re.dispatchException(re.arg)}else re.method==="return"&&re.abrupt("return",re.arg);se="executing";var Oe=f(Z,oe,re);if(Oe.type==="normal"){if(se=re.done?"completed":"suspendedYield",Oe.arg===m)continue;return{value:Oe.arg,done:re.done}}Oe.type==="throw"&&(se="completed",re.method="throw",re.arg=Oe.arg)}}}(V,K,Y),H}function f(V,B,K){try{return{type:"normal",arg:V.call(B,K)}}catch(j){return{type:"throw",arg:j}}}r.wrap=h;var m={};function y(){}function x(){}function b(){}var w={};c(w,s,function(){return this});var S=Object.getPrototypeOf,C=S&&S(S(D([])));C&&C!==i&&o.call(C,s)&&(w=C);var M=b.prototype=y.prototype=Object.create(w);function T(V){["next","throw","return"].forEach(function(B){c(V,B,function(K){return this._invoke(B,K)})})}function R(V,B){function K(G,H,Y,Z){var oe=f(V[G],V,H);if(oe.type!=="throw"){var re=oe.arg,se=re.value;return se&&e(se)=="object"&&o.call(se,"__await")?B.resolve(se.__await).then(function(ce){K("next",ce,Y,Z)},function(ce){K("throw",ce,Y,Z)}):B.resolve(se).then(function(ce){re.value=ce,Y(re)},function(ce){return K("throw",ce,Y,Z)})}Z(oe.arg)}var j;this._invoke=function(G,H){function Y(){return new B(function(Z,oe){K(G,H,Z,oe)})}return j=j?j.then(Y,Y):Y()}}function I(V,B){var K=V.iterator[B.method];if(K===void 0){if(B.delegate=null,B.method==="throw"){if(V.iterator.return&&(B.method="return",B.arg=void 0,I(V,B),B.method==="throw"))return m;B.method="throw",B.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var j=f(K,V.iterator,B.arg);if(j.type==="throw")return B.method="throw",B.arg=j.arg,B.delegate=null,m;var G=j.arg;return G?G.done?(B[V.resultName]=G.value,B.next=V.nextLoc,B.method!=="return"&&(B.method="next",B.arg=void 0),B.delegate=null,m):G:(B.method="throw",B.arg=new TypeError("iterator result is not an object"),B.delegate=null,m)}function A(V){var B={tryLoc:V[0]};1 in V&&(B.catchLoc=V[1]),2 in V&&(B.finallyLoc=V[2],B.afterLoc=V[3]),this.tryEntries.push(B)}function N(V){var B=V.completion||{};B.type="normal",delete B.arg,V.completion=B}function L(V){this.tryEntries=[{tryLoc:"root"}],V.forEach(A,this),this.reset(!0)}function D(V){if(V){var B=V[s];if(B)return B.call(V);if(typeof V.next=="function")return V;if(!isNaN(V.length)){var K=-1,j=function G(){for(;++K<V.length;)if(o.call(V,K))return G.value=V[K],G.done=!1,G;return G.value=void 0,G.done=!0,G};return j.next=j}}return{next:W}}function W(){return{value:void 0,done:!0}}return x.prototype=b,c(M,"constructor",b),c(b,"constructor",x),x.displayName=c(b,u,"GeneratorFunction"),r.isGeneratorFunction=function(V){var B=typeof V=="function"&&V.constructor;return!!B&&(B===x||(B.displayName||B.name)==="GeneratorFunction")},r.mark=function(V){return Object.setPrototypeOf?Object.setPrototypeOf(V,b):(V.__proto__=b,c(V,u,"GeneratorFunction")),V.prototype=Object.create(M),V},r.awrap=function(V){return{__await:V}},T(R.prototype),c(R.prototype,l,function(){return this}),r.AsyncIterator=R,r.async=function(V,B,K,j,G){G===void 0&&(G=Promise);var H=new R(h(V,B,K,j),G);return r.isGeneratorFunction(B)?H:H.next().then(function(Y){return Y.done?Y.value:H.next()})},T(M),c(M,u,"Generator"),c(M,s,function(){return this}),c(M,"toString",function(){return"[object Generator]"}),r.keys=function(V){var B=[];for(var K in V)B.push(K);return B.reverse(),function j(){for(;B.length;){var G=B.pop();if(G in V)return j.value=G,j.done=!1,j}return j.done=!0,j}},r.values=D,L.prototype={constructor:L,reset:function(B){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!B)for(var K in this)K.charAt(0)==="t"&&o.call(this,K)&&!isNaN(+K.slice(1))&&(this[K]=void 0)},stop:function(){this.done=!0;var B=this.tryEntries[0].completion;if(B.type==="throw")throw B.arg;return this.rval},dispatchException:function(B){if(this.done)throw B;var K=this;function j(re,se){return Y.type="throw",Y.arg=B,K.next=re,se&&(K.method="next",K.arg=void 0),!!se}for(var G=this.tryEntries.length-1;G>=0;--G){var H=this.tryEntries[G],Y=H.completion;if(H.tryLoc==="root")return j("end");if(H.tryLoc<=this.prev){var Z=o.call(H,"catchLoc"),oe=o.call(H,"finallyLoc");if(Z&&oe){if(this.prev<H.catchLoc)return j(H.catchLoc,!0);if(this.prev<H.finallyLoc)return j(H.finallyLoc)}else if(Z){if(this.prev<H.catchLoc)return j(H.catchLoc,!0)}else{if(!oe)throw new Error("try statement without catch or finally");if(this.prev<H.finallyLoc)return j(H.finallyLoc)}}}},abrupt:function(B,K){for(var j=this.tryEntries.length-1;j>=0;--j){var G=this.tryEntries[j];if(G.tryLoc<=this.prev&&o.call(G,"finallyLoc")&&this.prev<G.finallyLoc){var H=G;break}}H&&(B==="break"||B==="continue")&&H.tryLoc<=K&&K<=H.finallyLoc&&(H=null);var Y=H?H.completion:{};return Y.type=B,Y.arg=K,H?(this.method="next",this.next=H.finallyLoc,m):this.complete(Y)},complete:function(B,K){if(B.type==="throw")throw B.arg;return B.type==="break"||B.type==="continue"?this.next=B.arg:B.type==="return"?(this.rval=this.arg=B.arg,this.method="return",this.next="end"):B.type==="normal"&&K&&(this.next=K),m},finish:function(B){for(var K=this.tryEntries.length-1;K>=0;--K){var j=this.tryEntries[K];if(j.finallyLoc===B)return this.complete(j.completion,j.afterLoc),N(j),m}},catch:function(B){for(var K=this.tryEntries.length-1;K>=0;--K){var j=this.tryEntries[K];if(j.tryLoc===B){var G=j.completion;if(G.type==="throw"){var H=G.arg;N(j)}return H}}throw new Error("illegal catch attempt")},delegateYield:function(B,K,j){return this.delegate={iterator:D(B),resultName:K,nextLoc:j},this.method==="next"&&(this.arg=void 0),m}},r}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports})(MU);var AM=MU.exports();try{regeneratorRuntime=AM}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=AM:Function("r","regeneratorRuntime = r")(AM)}var Nie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"},kie=Nie,PU=function(e,n){return v.exports.createElement(xr,ve(ve({},e),{},{ref:n,icon:kie}))};PU.displayName="CloseOutlined";var B3=v.exports.forwardRef(PU),Iie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"},Lie=Iie,AU=function(e,n){return v.exports.createElement(xr,ve(ve({},e),{},{ref:n,icon:Lie}))};AU.displayName="CheckCircleOutlined";var Die=v.exports.forwardRef(AU),Fie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"}},{tag:"path",attrs:{d:"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"close-circle",theme:"outlined"},zie=Fie,RU=function(e,n){return v.exports.createElement(xr,ve(ve({},e),{},{ref:n,icon:zie}))};RU.displayName="CloseCircleOutlined";var Bie=v.exports.forwardRef(RU),Vie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"},Uie=Vie,OU=function(e,n){return v.exports.createElement(xr,ve(ve({},e),{},{ref:n,icon:Uie}))};OU.displayName="ExclamationCircleOutlined";var Hie=v.exports.forwardRef(OU),Wie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"},jie=Wie,NU=function(e,n){return v.exports.createElement(xr,ve(ve({},e),{},{ref:n,icon:jie}))};NU.displayName="InfoCircleOutlined";var Gie=v.exports.forwardRef(NU);function $ie(t,e){var n=function(){var i,o=null,a={add:function(y,x){o==null||o.component.add(y,x)}},s=L3(a),l=$e(s,2),u=l[0],c=l[1];function h(m){var y=m.prefixCls,x=i("notification",y);t(Se(Se({},m),{prefixCls:x}),function(b){var w=b.prefixCls,S=b.instance;o=S,u(e(m,w))})}var f=v.exports.useRef({});return f.current.open=h,["success","info","warning","error"].forEach(function(m){f.current[m]=function(y){return f.current.open(Se(Se({},y),{type:m}))}}),[f.current,v.exports.createElement(ac,{key:"holder"},function(m){return i=m.getPrefixCls,c})]};return n}globalThis&&globalThis.__awaiter;var xf={},kU=4.5,IU=24,LU=24,DU="",EP="topRight",FU,zU,BU=!1,VU;function Kie(t){var e=t.duration,n=t.placement,r=t.bottom,i=t.top,o=t.getContainer,a=t.closeIcon,s=t.prefixCls;s!==void 0&&(DU=s),e!==void 0&&(kU=e),n!==void 0?EP=n:t.rtl&&(EP="topLeft"),r!==void 0&&(LU=r),i!==void 0&&(IU=i),o!==void 0&&(FU=o),a!==void 0&&(zU=a),t.rtl!==void 0&&(BU=t.rtl),t.maxCount!==void 0&&(VU=t.maxCount)}function qie(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:IU,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:LU,r;switch(t){case"top":r={left:"50%",transform:"translateX(-50%)",right:"auto",top:e,bottom:"auto"};break;case"topLeft":r={left:0,top:e,bottom:"auto"};break;case"topRight":r={right:0,top:e,bottom:"auto"};break;case"bottom":r={left:"50%",transform:"translateX(-50%)",right:"auto",top:"auto",bottom:n};break;case"bottomLeft":r={left:0,top:"auto",bottom:n};break;default:r={right:0,top:"auto",bottom:n};break}return r}function UU(t,e){var n=t.placement,r=n===void 0?EP:n,i=t.top,o=t.bottom,a=t.getContainer,s=a===void 0?FU:a,l=t.prefixCls,u=jU(),c=u.getPrefixCls,h=u.getIconPrefixCls,f=c("notification",l||DU),m=h(),y="".concat(f,"-").concat(r),x=xf[y];if(x){Promise.resolve(x).then(function(w){e({prefixCls:"".concat(f,"-notice"),iconPrefixCls:m,instance:w})});return}var b=Xe("".concat(f,"-").concat(r),ue({},"".concat(f,"-rtl"),BU===!0));xf[y]=new Promise(function(w){hm.newInstance({prefixCls:f,className:b,style:qie(r,i,o),getContainer:s,maxCount:VU},function(S){w(S),e({prefixCls:"".concat(f,"-notice"),iconPrefixCls:m,instance:S})})})}var Xie={success:Die,info:Gie,error:Bie,warning:Hie};function HU(t,e,n){var r=t.duration,i=t.icon,o=t.type,a=t.description,s=t.message,l=t.btn,u=t.onClose,c=t.onClick,h=t.key,f=t.style,m=t.className,y=t.closeIcon,x=y===void 0?zU:y,b=r===void 0?kU:r,w=null;i?w=v.exports.createElement("span",{className:"".concat(e,"-icon")},t.icon):o&&(w=v.exports.createElement(Xie[o]||null,{className:"".concat(e,"-icon ").concat(e,"-icon-").concat(o)}));var S=v.exports.createElement("span",{className:"".concat(e,"-close-x")},x||v.exports.createElement(B3,{className:"".concat(e,"-close-icon")})),C=!a&&w?v.exports.createElement("span",{className:"".concat(e,"-message-single-line-auto-margin")}):null;return{content:v.exports.createElement(Z0,{iconPrefixCls:n},v.exports.createElement("div",{className:w?"".concat(e,"-with-icon"):"",role:"alert"},w,v.exports.createElement("div",{className:"".concat(e,"-message")},C,s),v.exports.createElement("div",{className:"".concat(e,"-description")},a),l?v.exports.createElement("span",{className:"".concat(e,"-btn")},l):null)),duration:b,closable:!0,closeIcon:S,onClose:u,onClick:c,key:h,style:f||{},className:Xe(m,ue({},"".concat(e,"-").concat(o),!!o))}}function Yie(t){UU(t,function(e){var n=e.prefixCls,r=e.iconPrefixCls,i=e.instance;i.notice(HU(t,n,r))})}var pm={open:Yie,close:function(e){Object.keys(xf).forEach(function(n){return Promise.resolve(xf[n]).then(function(r){r.removeNotice(e)})})},config:Kie,destroy:function(){Object.keys(xf).forEach(function(e){Promise.resolve(xf[e]).then(function(n){n.destroy()}),delete xf[e]})}};["success","info","warning","error"].forEach(function(t){pm[t]=function(e){return pm.open(Se(Se({},e),{type:t}))}});pm.warn=pm.warning;pm.useNotification=$ie(UU,HU);var Zie=pm,Jie="-ant-".concat(Date.now(),"-").concat(Math.random());function Qie(t,e){var n={},r=function(c,h){var f=c.clone();return f=(h==null?void 0:h(f))||f,f.toRgbString()},i=function(c,h){var f=new EM(c),m=p0(f.toRgbString());n["".concat(h,"-color")]=r(f),n["".concat(h,"-color-disabled")]=m[1],n["".concat(h,"-color-hover")]=m[4],n["".concat(h,"-color-active")]=m[7],n["".concat(h,"-color-outline")]=f.clone().setAlpha(.2).toRgbString(),n["".concat(h,"-color-deprecated-bg")]=m[1],n["".concat(h,"-color-deprecated-border")]=m[3]};if(e.primaryColor){i(e.primaryColor,"primary");var o=new EM(e.primaryColor),a=p0(o.toRgbString());a.forEach(function(u,c){n["primary-".concat(c+1)]=u}),n["primary-color-deprecated-l-35"]=r(o,function(u){return u.lighten(35)}),n["primary-color-deprecated-l-20"]=r(o,function(u){return u.lighten(20)}),n["primary-color-deprecated-t-20"]=r(o,function(u){return u.tint(20)}),n["primary-color-deprecated-t-50"]=r(o,function(u){return u.tint(50)}),n["primary-color-deprecated-f-12"]=r(o,function(u){return u.setAlpha(u.getAlpha()*.12)});var s=new EM(a[0]);n["primary-color-active-deprecated-f-30"]=r(s,function(u){return u.setAlpha(u.getAlpha()*.3)}),n["primary-color-active-deprecated-d-02"]=r(s,function(u){return u.darken(2)})}e.successColor&&i(e.successColor,"success"),e.warningColor&&i(e.warningColor,"warning"),e.errorColor&&i(e.errorColor,"error"),e.infoColor&&i(e.infoColor,"info");var l=Object.keys(n).map(function(u){return"--".concat(t,"-").concat(u,": ").concat(n[u],";")});return`
  :root {
    `.concat(l.join(`
`),`
  }
  `).trim()}function eoe(t,e){var n=Qie(t,e);pl()&&F3(n,"".concat(Jie,"-dynamic-theme"))}var toe=["getTargetContainer","getPopupContainer","renderEmpty","pageHeader","input","form"],noe="ant",roe="anticon",x_,WU;function Cw(){return x_||noe}function ioe(){return WU||roe}var ooe=function(e){var n=e.prefixCls,r=e.iconPrefixCls,i=e.theme;n!==void 0&&(x_=n),r!==void 0&&(WU=r),i&&eoe(Cw(),i)},jU=function(){return{getPrefixCls:function(n,r){return r||(n?"".concat(Cw(),"-").concat(n):Cw())},getIconPrefixCls:ioe,getRootPrefixCls:function(n,r){return n||x_||(r&&r.includes("-")?r.replace(/^(.*)-[^-]*$/,"$1"):Cw())}}},aoe=function(e){var n,r,i=e.children,o=e.csp,a=e.autoInsertSpaceInButton,s=e.form,l=e.locale,u=e.componentSize,c=e.direction,h=e.space,f=e.virtual,m=e.dropdownMatchSelectWidth,y=e.legacyLocale,x=e.parentContext,b=e.iconPrefixCls,w=v.exports.useCallback(function(I,A){var N=e.prefixCls;if(A)return A;var L=N||x.getPrefixCls("");return I?"".concat(L,"-").concat(I):L},[x.getPrefixCls,e.prefixCls]),S=Se(Se({},x),{csp:o,autoInsertSpaceInButton:a,locale:l||y,direction:c,space:h,virtual:f,dropdownMatchSelectWidth:m,getPrefixCls:w});toe.forEach(function(I){var A=e[I];A&&(S[I]=A)});var C=W1(function(){return S},S,function(I,A){var N=Object.keys(I),L=Object.keys(A);return N.length!==L.length||N.some(function(D){return I[D]!==A[D]})}),M=v.exports.useMemo(function(){return{prefixCls:b,csp:o}},[b,o]),T=i,R={};return l&&(R=((n=l.Form)===null||n===void 0?void 0:n.defaultValidateMessages)||((r=fm.Form)===null||r===void 0?void 0:r.defaultValidateMessages)||{}),s&&s.validateMessages&&(R=Se(Se({},R),s.validateMessages)),Object.keys(R).length>0&&(T=v.exports.createElement(FV,{validateMessages:R},i)),l&&(T=v.exports.createElement(UV,{locale:l,_ANT_MARK__:rre},T)),(b||o)&&(T=v.exports.createElement(T3.Provider,{value:M},T)),u&&(T=v.exports.createElement(fre,{size:u},T)),v.exports.createElement(jn.Provider,{value:C},T)},Z0=function(e){return v.exports.useEffect(function(){e.direction&&(CP.config({rtl:e.direction==="rtl"}),Zie.config({rtl:e.direction==="rtl"}))},[e.direction]),v.exports.createElement(X0,null,function(n,r,i){return v.exports.createElement(ac,null,function(o){return v.exports.createElement(aoe,Se({parentContext:o,legacyLocale:i},e))})})};Z0.ConfigContext=jn;Z0.SizeContext=Zl;Z0.config=ooe;function ju(t,e,n,r){var i=_d.unstable_batchedUpdates?function(a){_d.unstable_batchedUpdates(n,a)}:n;return t.addEventListener&&t.addEventListener(e,i,r),{remove:function(){t.removeEventListener&&t.removeEventListener(e,i,r)}}}function MP(t){return t!=null&&t===t.window}function soe(t,e){var n;if(typeof window=="undefined")return 0;var r=e?"scrollTop":"scrollLeft",i=0;return MP(t)?i=t[e?"pageYOffset":"pageXOffset"]:t instanceof Document?i=t.documentElement[r]:t&&(i=t[r]),t&&!MP(t)&&typeof i!="number"&&(i=(n=(t.ownerDocument||t).documentElement)===null||n===void 0?void 0:n[r]),i}function loe(t,e,n,r){var i=n-e;return t/=r/2,t<1?i/2*t*t*t+e:i/2*((t-=2)*t*t+2)+e}function uoe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.getContainer,r=n===void 0?function(){return window}:n,i=e.callback,o=e.duration,a=o===void 0?450:o,s=r(),l=soe(s,!0),u=Date.now(),c=function h(){var f=Date.now(),m=f-u,y=loe(m>a?a:m,l,t,a);MP(s)?s.scrollTo(window.pageXOffset,y):s instanceof HTMLDocument||s.constructor.name==="HTMLDocument"?s.documentElement.scrollTop=y:s.scrollTop=y,m<a?lr(h):typeof i=="function"&&i()};lr(c)}function Ra(t,e){var n=e||{},r=n.defaultValue,i=n.value,o=n.onChange,a=n.postState,s=Rf(function(){return i!==void 0?i:r!==void 0?typeof r=="function"?r():r:typeof t=="function"?t():t}),l=$e(s,2),u=l[0],c=l[1],h=i!==void 0?i:u;a&&(h=a(h));var f=v.exports.useRef(o);f.current=o;var m=v.exports.useCallback(function(x,b){c(x,b),h!==x&&f.current&&f.current(x,h)},[h,f]),y=v.exports.useRef(i);return v.exports.useEffect(function(){i===void 0&&i!==y.current&&c(i),y.current=i},[i]),[h,m]}var st={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var n=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||n>=st.F1&&n<=st.F12)return!1;switch(n){case st.ALT:case st.CAPS_LOCK:case st.CONTEXT_MENU:case st.CTRL:case st.DOWN:case st.END:case st.ESC:case st.HOME:case st.INSERT:case st.LEFT:case st.MAC_FF_META:case st.META:case st.NUMLOCK:case st.NUM_CENTER:case st.PAGE_DOWN:case st.PAGE_UP:case st.PAUSE:case st.PRINT_SCREEN:case st.RIGHT:case st.SHIFT:case st.UP:case st.WIN_KEY:case st.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=st.ZERO&&e<=st.NINE||e>=st.NUM_ZERO&&e<=st.NUM_MULTIPLY||e>=st.A&&e<=st.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&e===0)return!0;switch(e){case st.SPACE:case st.QUESTION_MARK:case st.NUM_PLUS:case st.NUM_MINUS:case st.NUM_PERIOD:case st.NUM_DIVISION:case st.SEMICOLON:case st.DASH:case st.EQUALS:case st.COMMA:case st.PERIOD:case st.SLASH:case st.APOSTROPHE:case st.SINGLE_QUOTE:case st.OPEN_SQUARE_BRACKET:case st.BACKSLASH:case st.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},V3=function(){if(typeof navigator=="undefined"||typeof window=="undefined")return!1;var t=navigator.userAgent||navigator.vendor||window.opera;return!!(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(t==null?void 0:t.substr(0,4)))},Uf=pl()?v.exports.useLayoutEffect:v.exports.useEffect;function AD(t,e){var n=t.key,r;return"value"in t&&(r=t.value),n!=null?n:r!==void 0?r:"rc-index-key-".concat(e)}function GU(t,e){var n=t||{},r=n.label,i=n.value,o=n.options;return{label:r||(e?"children":"label"),value:i||"value",options:o||"options"}}function coe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.fieldNames,r=e.childrenAsData,i=[],o=GU(n,!1),a=o.label,s=o.value,l=o.options;function u(c,h){c.forEach(function(f){var m=f[a];if(h||!(l in f)){var y=f[s];i.push({key:AD(f,i.length),groupOption:h,data:f,label:m,value:y})}else{var x=m;x===void 0&&r&&(x=f.label),i.push({key:AD(f,i.length),group:!0,data:f,label:x}),u(f[l],!0)}})}return u(t,!1),i}function TP(t){var e=ve({},t);return"props"in e||Object.defineProperty(e,"props",{get:function(){return Hi(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),e}}),e}function doe(t,e){if(!e||!e.length)return null;var n=!1;function r(o,a){var s=A3(a),l=s[0],u=s.slice(1);if(!l)return[o];var c=o.split(l);return n=n||c.length>1,c.reduce(function(h,f){return[].concat(mt(h),mt(r(f,u)))},[]).filter(function(h){return h})}var i=r(t,e);return n?i:null}function Ew(t,e){return t?t.contains(e):!1}var foe=v.exports.forwardRef(function(t,e){var n=t.didUpdate,r=t.getContainer,i=t.children,o=v.exports.useRef(),a=v.exports.useRef();v.exports.useImperativeHandle(e,function(){return{}});var s=v.exports.useRef(!1);return!s.current&&pl()&&(a.current=r(),o.current=a.current.parentNode,s.current=!0),v.exports.useEffect(function(){n==null||n(t)}),v.exports.useEffect(function(){return a.current.parentNode===null&&o.current!==null&&o.current.appendChild(a.current),function(){var l,u;(l=a.current)===null||l===void 0||(u=l.parentNode)===null||u===void 0||u.removeChild(a.current)}},[]),a.current?_d.createPortal(i,a.current):null});function hoe(t,e,n){return n?t[0]===e[0]:t[0]===e[0]&&t[1]===e[1]}function poe(t,e,n){var r=t[e]||{};return ve(ve({},r),n)}function moe(t,e,n,r){for(var i=n.points,o=Object.keys(t),a=0;a<o.length;a+=1){var s=o[a];if(hoe(t[s].points,i,r))return"".concat(e,"-placement-").concat(s)}return""}function $U(t){var e=t.prefixCls,n=t.motion,r=t.animation,i=t.transitionName;return n||(r?{motionName:"".concat(e,"-").concat(r)}:i?{motionName:i}:null)}function voe(t){var e=t.prefixCls,n=t.visible,r=t.zIndex,i=t.mask,o=t.maskMotion,a=t.maskAnimation,s=t.maskTransitionName;if(!i)return null;var l={};return(o||s||a)&&(l=ve({motionAppear:!0},$U({motion:o,prefixCls:e,transitionName:s,animation:a}))),v.exports.createElement(rh,Se({},l,{visible:n,removeOnLeave:!0}),function(u){var c=u.className;return v.exports.createElement("div",{style:{zIndex:r},className:Xe("".concat(e,"-mask"),c)})})}var U3=function(t){if(!t)return!1;if(t.offsetParent)return!0;if(t.getBBox){var e=t.getBBox();if(e.width||e.height)return!0}if(t.getBoundingClientRect){var n=t.getBoundingClientRect();if(n.width||n.height)return!0}return!1};function RD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RD(Object(n),!0).forEach(function(r){goe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mw(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Mw=function(e){return typeof e}:Mw=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mw(t)}function goe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Vv,yoe={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function b_(){if(Vv!==void 0)return Vv;Vv="";var t=document.createElement("p").style,e="Transform";for(var n in yoe)n+e in t&&(Vv=n);return Vv}function KU(){return b_()?"".concat(b_(),"TransitionProperty"):"transitionProperty"}function Y1(){return b_()?"".concat(b_(),"Transform"):"transform"}function ND(t,e){var n=KU();n&&(t.style[n]=e,n!=="transitionProperty"&&(t.style.transitionProperty=e))}function RM(t,e){var n=Y1();n&&(t.style[n]=e,n!=="transform"&&(t.style.transform=e))}function xoe(t){return t.style.transitionProperty||t.style[KU()]}function boe(t){var e=window.getComputedStyle(t,null),n=e.getPropertyValue("transform")||e.getPropertyValue(Y1());if(n&&n!=="none"){var r=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(r[12]||r[4],0),y:parseFloat(r[13]||r[5],0)}}return{x:0,y:0}}var woe=/matrix\((.*)\)/,_oe=/matrix3d\((.*)\)/;function Soe(t,e){var n=window.getComputedStyle(t,null),r=n.getPropertyValue("transform")||n.getPropertyValue(Y1());if(r&&r!=="none"){var i,o=r.match(woe);if(o)o=o[1],i=o.split(",").map(function(s){return parseFloat(s,10)}),i[4]=e.x,i[5]=e.y,RM(t,"matrix(".concat(i.join(","),")"));else{var a=r.match(_oe)[1];i=a.split(",").map(function(s){return parseFloat(s,10)}),i[12]=e.x,i[13]=e.y,RM(t,"matrix3d(".concat(i.join(","),")"))}}else RM(t,"translateX(".concat(e.x,"px) translateY(").concat(e.y,"px) translateZ(0)"))}var Coe=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,J0;function kD(t){var e=t.style.display;t.style.display="none",t.offsetHeight,t.style.display=e}function Zp(t,e,n){var r=n;if(Mw(e)==="object"){for(var i in e)e.hasOwnProperty(i)&&Zp(t,i,e[i]);return}if(typeof r!="undefined"){typeof r=="number"&&(r="".concat(r,"px")),t.style[e]=r;return}return J0(t,e)}function Eoe(t){var e,n,r,i=t.ownerDocument,o=i.body,a=i&&i.documentElement;return e=t.getBoundingClientRect(),n=Math.floor(e.left),r=Math.floor(e.top),n-=a.clientLeft||o.clientLeft||0,r-=a.clientTop||o.clientTop||0,{left:n,top:r}}function qU(t,e){var n=t["page".concat(e?"Y":"X","Offset")],r="scroll".concat(e?"Top":"Left");if(typeof n!="number"){var i=t.document;n=i.documentElement[r],typeof n!="number"&&(n=i.body[r])}return n}function XU(t){return qU(t)}function YU(t){return qU(t,!0)}function g0(t){var e=Eoe(t),n=t.ownerDocument,r=n.defaultView||n.parentWindow;return e.left+=XU(r),e.top+=YU(r),e}function H3(t){return t!=null&&t==t.window}function ZU(t){return H3(t)?t.document:t.nodeType===9?t:t.ownerDocument}function Moe(t,e,n){var r=n,i="",o=ZU(t);return r=r||o.defaultView.getComputedStyle(t,null),r&&(i=r.getPropertyValue(e)||r[e]),i}var Toe=new RegExp("^(".concat(Coe,")(?!px)[a-z%]+$"),"i"),Poe=/^(top|right|bottom|left)$/,OM="currentStyle",NM="runtimeStyle",Qd="left",Aoe="px";function Roe(t,e){var n=t[OM]&&t[OM][e];if(Toe.test(n)&&!Poe.test(e)){var r=t.style,i=r[Qd],o=t[NM][Qd];t[NM][Qd]=t[OM][Qd],r[Qd]=e==="fontSize"?"1em":n||0,n=r.pixelLeft+Aoe,r[Qd]=i,t[NM][Qd]=o}return n===""?"auto":n}typeof window!="undefined"&&(J0=window.getComputedStyle?Moe:Roe);function rb(t,e){return t==="left"?e.useCssRight?"right":t:e.useCssBottom?"bottom":t}function ID(t){if(t==="left")return"right";if(t==="right")return"left";if(t==="top")return"bottom";if(t==="bottom")return"top"}function LD(t,e,n){Zp(t,"position")==="static"&&(t.style.position="relative");var r=-999,i=-999,o=rb("left",n),a=rb("top",n),s=ID(o),l=ID(a);o!=="left"&&(r=999),a!=="top"&&(i=999);var u="",c=g0(t);("left"in e||"top"in e)&&(u=xoe(t)||"",ND(t,"none")),"left"in e&&(t.style[s]="",t.style[o]="".concat(r,"px")),"top"in e&&(t.style[l]="",t.style[a]="".concat(i,"px")),kD(t);var h=g0(t),f={};for(var m in e)if(e.hasOwnProperty(m)){var y=rb(m,n),x=m==="left"?r:i,b=c[m]-h[m];y===m?f[y]=x+b:f[y]=x-b}Zp(t,f),kD(t),("left"in e||"top"in e)&&ND(t,u);var w={};for(var S in e)if(e.hasOwnProperty(S)){var C=rb(S,n),M=e[S]-c[S];S===C?w[C]=f[C]+M:w[C]=f[C]-M}Zp(t,w)}function Ooe(t,e){var n=g0(t),r=boe(t),i={x:r.x,y:r.y};"left"in e&&(i.x=r.x+e.left-n.left),"top"in e&&(i.y=r.y+e.top-n.top),Soe(t,i)}function Noe(t,e,n){if(n.ignoreShake){var r=g0(t),i=r.left.toFixed(0),o=r.top.toFixed(0),a=e.left.toFixed(0),s=e.top.toFixed(0);if(i===a&&o===s)return}n.useCssRight||n.useCssBottom?LD(t,e,n):n.useCssTransform&&Y1()in document.body.style?Ooe(t,e):LD(t,e,n)}function W3(t,e){for(var n=0;n<t.length;n++)e(t[n])}function JU(t){return J0(t,"boxSizing")==="border-box"}var koe=["margin","border","padding"],PP=-1,Ioe=2,AP=1,Loe=0;function Doe(t,e,n){var r={},i=t.style,o;for(o in e)e.hasOwnProperty(o)&&(r[o]=i[o],i[o]=e[o]);n.call(t);for(o in e)e.hasOwnProperty(o)&&(i[o]=r[o])}function pg(t,e,n){var r=0,i,o,a;for(o=0;o<e.length;o++)if(i=e[o],i)for(a=0;a<n.length;a++){var s=void 0;i==="border"?s="".concat(i).concat(n[a],"Width"):s=i+n[a],r+=parseFloat(J0(t,s))||0}return r}var Bl={getParent:function(e){var n=e;do n.nodeType===11&&n.host?n=n.host:n=n.parentNode;while(n&&n.nodeType!==1&&n.nodeType!==9);return n}};W3(["Width","Height"],function(t){Bl["doc".concat(t)]=function(e){var n=e.document;return Math.max(n.documentElement["scroll".concat(t)],n.body["scroll".concat(t)],Bl["viewport".concat(t)](n))},Bl["viewport".concat(t)]=function(e){var n="client".concat(t),r=e.document,i=r.body,o=r.documentElement,a=o[n];return r.compatMode==="CSS1Compat"&&a||i&&i[n]||a}});function DD(t,e,n){var r=n;if(H3(t))return e==="width"?Bl.viewportWidth(t):Bl.viewportHeight(t);if(t.nodeType===9)return e==="width"?Bl.docWidth(t):Bl.docHeight(t);var i=e==="width"?["Left","Right"]:["Top","Bottom"],o=Math.floor(e==="width"?t.getBoundingClientRect().width:t.getBoundingClientRect().height),a=JU(t),s=0;(o==null||o<=0)&&(o=void 0,s=J0(t,e),(s==null||Number(s)<0)&&(s=t.style[e]||0),s=parseFloat(s)||0),r===void 0&&(r=a?AP:PP);var l=o!==void 0||a,u=o||s;return r===PP?l?u-pg(t,["border","padding"],i):s:l?r===AP?u:u+(r===Ioe?-pg(t,["border"],i):pg(t,["margin"],i)):s+pg(t,koe.slice(r),i)}var Foe={position:"absolute",visibility:"hidden",display:"block"};function FD(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i=e[0];return i.offsetWidth!==0?r=DD.apply(void 0,e):Doe(i,Foe,function(){r=DD.apply(void 0,e)}),r}W3(["width","height"],function(t){var e=t.charAt(0).toUpperCase()+t.slice(1);Bl["outer".concat(e)]=function(r,i){return r&&FD(r,t,i?Loe:AP)};var n=t==="width"?["Left","Right"]:["Top","Bottom"];Bl[t]=function(r,i){var o=i;if(o!==void 0){if(r){var a=JU(r);return a&&(o+=pg(r,["padding","border"],n)),Zp(r,t,o)}return}return r&&FD(r,t,PP)}});function QU(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var Tn={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var n=e.ownerDocument||e;return n.defaultView||n.parentWindow},getDocument:ZU,offset:function(e,n,r){if(typeof n!="undefined")Noe(e,n,r||{});else return g0(e)},isWindow:H3,each:W3,css:Zp,clone:function(e){var n,r={};for(n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);var i=e.overflow;if(i)for(n in e)e.hasOwnProperty(n)&&(r.overflow[n]=e.overflow[n]);return r},mix:QU,getWindowScrollLeft:function(e){return XU(e)},getWindowScrollTop:function(e){return YU(e)},merge:function(){for(var e={},n=0;n<arguments.length;n++)Tn.mix(e,n<0||arguments.length<=n?void 0:arguments[n]);return e},viewportWidth:0,viewportHeight:0};QU(Tn,Bl);var kM=Tn.getParent;function RP(t){if(Tn.isWindow(t)||t.nodeType===9)return null;var e=Tn.getDocument(t),n=e.body,r,i=Tn.css(t,"position"),o=i==="fixed"||i==="absolute";if(!o)return t.nodeName.toLowerCase()==="html"?null:kM(t);for(r=kM(t);r&&r!==n&&r.nodeType!==9;r=kM(r))if(i=Tn.css(r,"position"),i!=="static")return r;return null}var zD=Tn.getParent;function zoe(t){if(Tn.isWindow(t)||t.nodeType===9)return!1;var e=Tn.getDocument(t),n=e.body,r=null;for(r=zD(t);r&&r!==n&&r!==e;r=zD(r)){var i=Tn.css(r,"position");if(i==="fixed")return!0}return!1}function j3(t,e){for(var n={left:0,right:1/0,top:0,bottom:1/0},r=RP(t),i=Tn.getDocument(t),o=i.defaultView||i.parentWindow,a=i.body,s=i.documentElement;r;){if((navigator.userAgent.indexOf("MSIE")===-1||r.clientWidth!==0)&&r!==a&&r!==s&&Tn.css(r,"overflow")!=="visible"){var l=Tn.offset(r);l.left+=r.clientLeft,l.top+=r.clientTop,n.top=Math.max(n.top,l.top),n.right=Math.min(n.right,l.left+r.clientWidth),n.bottom=Math.min(n.bottom,l.top+r.clientHeight),n.left=Math.max(n.left,l.left)}else if(r===a||r===s)break;r=RP(r)}var u=null;if(!Tn.isWindow(t)&&t.nodeType!==9){u=t.style.position;var c=Tn.css(t,"position");c==="absolute"&&(t.style.position="fixed")}var h=Tn.getWindowScrollLeft(o),f=Tn.getWindowScrollTop(o),m=Tn.viewportWidth(o),y=Tn.viewportHeight(o),x=s.scrollWidth,b=s.scrollHeight,w=window.getComputedStyle(a);if(w.overflowX==="hidden"&&(x=o.innerWidth),w.overflowY==="hidden"&&(b=o.innerHeight),t.style&&(t.style.position=u),e||zoe(t))n.left=Math.max(n.left,h),n.top=Math.max(n.top,f),n.right=Math.min(n.right,h+m),n.bottom=Math.min(n.bottom,f+y);else{var S=Math.max(x,h+m);n.right=Math.min(n.right,S);var C=Math.max(b,f+y);n.bottom=Math.min(n.bottom,C)}return n.top>=0&&n.left>=0&&n.bottom>n.top&&n.right>n.left?n:null}function Boe(t,e,n,r){var i=Tn.clone(t),o={width:e.width,height:e.height};return r.adjustX&&i.left<n.left&&(i.left=n.left),r.resizeWidth&&i.left>=n.left&&i.left+o.width>n.right&&(o.width-=i.left+o.width-n.right),r.adjustX&&i.left+o.width>n.right&&(i.left=Math.max(n.right-o.width,n.left)),r.adjustY&&i.top<n.top&&(i.top=n.top),r.resizeHeight&&i.top>=n.top&&i.top+o.height>n.bottom&&(o.height-=i.top+o.height-n.bottom),r.adjustY&&i.top+o.height>n.bottom&&(i.top=Math.max(n.bottom-o.height,n.top)),Tn.mix(i,o)}function G3(t){var e,n,r;if(!Tn.isWindow(t)&&t.nodeType!==9)e=Tn.offset(t),n=Tn.outerWidth(t),r=Tn.outerHeight(t);else{var i=Tn.getWindow(t);e={left:Tn.getWindowScrollLeft(i),top:Tn.getWindowScrollTop(i)},n=Tn.viewportWidth(i),r=Tn.viewportHeight(i)}return e.width=n,e.height=r,e}function BD(t,e){var n=e.charAt(0),r=e.charAt(1),i=t.width,o=t.height,a=t.left,s=t.top;return n==="c"?s+=o/2:n==="b"&&(s+=o),r==="c"?a+=i/2:r==="r"&&(a+=i),{left:a,top:s}}function ib(t,e,n,r,i){var o=BD(e,n[1]),a=BD(t,n[0]),s=[a.left-o.left,a.top-o.top];return{left:Math.round(t.left-s[0]+r[0]-i[0]),top:Math.round(t.top-s[1]+r[1]-i[1])}}function VD(t,e,n){return t.left<n.left||t.left+e.width>n.right}function UD(t,e,n){return t.top<n.top||t.top+e.height>n.bottom}function Voe(t,e,n){return t.left>n.right||t.left+e.width<n.left}function Uoe(t,e,n){return t.top>n.bottom||t.top+e.height<n.top}function ob(t,e,n){var r=[];return Tn.each(t,function(i){r.push(i.replace(e,function(o){return n[o]}))}),r}function ab(t,e){return t[e]=-t[e],t}function HD(t,e){var n;return/%$/.test(t)?n=parseInt(t.substring(0,t.length-1),10)/100*e:n=parseInt(t,10),n||0}function WD(t,e){t[0]=HD(t[0],e.width),t[1]=HD(t[1],e.height)}function eH(t,e,n,r){var i=n.points,o=n.offset||[0,0],a=n.targetOffset||[0,0],s=n.overflow,l=n.source||t;o=[].concat(o),a=[].concat(a),s=s||{};var u={},c=0,h=!!(s&&s.alwaysByViewport),f=j3(l,h),m=G3(l);WD(o,m),WD(a,e);var y=ib(m,e,i,o,a),x=Tn.merge(m,y);if(f&&(s.adjustX||s.adjustY)&&r){if(s.adjustX&&VD(y,m,f)){var b=ob(i,/[lr]/gi,{l:"r",r:"l"}),w=ab(o,0),S=ab(a,0),C=ib(m,e,b,w,S);Voe(C,m,f)||(c=1,i=b,o=w,a=S)}if(s.adjustY&&UD(y,m,f)){var M=ob(i,/[tb]/gi,{t:"b",b:"t"}),T=ab(o,1),R=ab(a,1),I=ib(m,e,M,T,R);Uoe(I,m,f)||(c=1,i=M,o=T,a=R)}c&&(y=ib(m,e,i,o,a),Tn.mix(x,y));var A=VD(y,m,f),N=UD(y,m,f);if(A||N){var L=i;A&&(L=ob(i,/[lr]/gi,{l:"r",r:"l"})),N&&(L=ob(i,/[tb]/gi,{t:"b",b:"t"})),i=L,o=n.offset||[0,0],a=n.targetOffset||[0,0]}u.adjustX=s.adjustX&&A,u.adjustY=s.adjustY&&N,(u.adjustX||u.adjustY)&&(x=Boe(y,m,f,u))}return x.width!==m.width&&Tn.css(l,"width",Tn.width(l)+x.width-m.width),x.height!==m.height&&Tn.css(l,"height",Tn.height(l)+x.height-m.height),Tn.offset(l,{left:x.left,top:x.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform,ignoreShake:n.ignoreShake}),{points:i,offset:o,targetOffset:a,overflow:u}}function Hoe(t,e){var n=j3(t,e),r=G3(t);return!n||r.left+r.width<=n.left||r.top+r.height<=n.top||r.left>=n.right||r.top>=n.bottom}function $3(t,e,n){var r=n.target||e,i=G3(r),o=!Hoe(r,n.overflow&&n.overflow.alwaysByViewport);return eH(t,i,n,o)}$3.__getOffsetParent=RP;$3.__getVisibleRectForElement=j3;function Woe(t,e,n){var r,i,o=Tn.getDocument(t),a=o.defaultView||o.parentWindow,s=Tn.getWindowScrollLeft(a),l=Tn.getWindowScrollTop(a),u=Tn.viewportWidth(a),c=Tn.viewportHeight(a);"pageX"in e?r=e.pageX:r=s+e.clientX,"pageY"in e?i=e.pageY:i=l+e.clientY;var h={left:r,top:i,width:0,height:0},f=r>=0&&r<=s+u&&i>=0&&i<=l+c,m=[n.points[0],"cc"];return eH(t,h,OD(OD({},n),{},{points:m}),f)}function joe(){this.__data__=[],this.size=0}var Goe=joe;function $oe(t,e){return t===e||t!==t&&e!==e}var tH=$oe,Koe=tH;function qoe(t,e){for(var n=t.length;n--;)if(Koe(t[n][0],e))return n;return-1}var Z1=qoe,Xoe=Z1,Yoe=Array.prototype,Zoe=Yoe.splice;function Joe(t){var e=this.__data__,n=Xoe(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Zoe.call(e,n,1),--this.size,!0}var Qoe=Joe,eae=Z1;function tae(t){var e=this.__data__,n=eae(e,t);return n<0?void 0:e[n][1]}var nae=tae,rae=Z1;function iae(t){return rae(this.__data__,t)>-1}var oae=iae,aae=Z1;function sae(t,e){var n=this.__data__,r=aae(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var lae=sae,uae=Goe,cae=Qoe,dae=nae,fae=oae,hae=lae;function Fm(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Fm.prototype.clear=uae;Fm.prototype.delete=cae;Fm.prototype.get=dae;Fm.prototype.has=fae;Fm.prototype.set=hae;var J1=Fm,pae=J1;function mae(){this.__data__=new pae,this.size=0}var vae=mae;function gae(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var yae=gae;function xae(t){return this.__data__.get(t)}var bae=xae;function wae(t){return this.__data__.has(t)}var _ae=wae,Sae=typeof Ca=="object"&&Ca&&Ca.Object===Object&&Ca,nH=Sae,Cae=nH,Eae=typeof self=="object"&&self&&self.Object===Object&&self,Mae=Cae||Eae||Function("return this")(),Jl=Mae,Tae=Jl,Pae=Tae.Symbol,K3=Pae,jD=K3,rH=Object.prototype,Aae=rH.hasOwnProperty,Rae=rH.toString,Uv=jD?jD.toStringTag:void 0;function Oae(t){var e=Aae.call(t,Uv),n=t[Uv];try{t[Uv]=void 0;var r=!0}catch{}var i=Rae.call(t);return r&&(e?t[Uv]=n:delete t[Uv]),i}var Nae=Oae,kae=Object.prototype,Iae=kae.toString;function Lae(t){return Iae.call(t)}var Dae=Lae,GD=K3,Fae=Nae,zae=Dae,Bae="[object Null]",Vae="[object Undefined]",$D=GD?GD.toStringTag:void 0;function Uae(t){return t==null?t===void 0?Vae:Bae:$D&&$D in Object(t)?Fae(t):zae(t)}var Q0=Uae;function Hae(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Q1=Hae,Wae=Q0,jae=Q1,Gae="[object AsyncFunction]",$ae="[object Function]",Kae="[object GeneratorFunction]",qae="[object Proxy]";function Xae(t){if(!jae(t))return!1;var e=Wae(t);return e==$ae||e==Kae||e==Gae||e==qae}var iH=Xae,Yae=Jl,Zae=Yae["__core-js_shared__"],Jae=Zae,IM=Jae,KD=function(){var t=/[^.]+$/.exec(IM&&IM.keys&&IM.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Qae(t){return!!KD&&KD in t}var ese=Qae,tse=Function.prototype,nse=tse.toString;function rse(t){if(t!=null){try{return nse.call(t)}catch{}try{return t+""}catch{}}return""}var oH=rse,ise=iH,ose=ese,ase=Q1,sse=oH,lse=/[\\^$.*+?()[\]{}|]/g,use=/^\[object .+?Constructor\]$/,cse=Function.prototype,dse=Object.prototype,fse=cse.toString,hse=dse.hasOwnProperty,pse=RegExp("^"+fse.call(hse).replace(lse,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function mse(t){if(!ase(t)||ose(t))return!1;var e=ise(t)?pse:use;return e.test(sse(t))}var vse=mse;function gse(t,e){return t==null?void 0:t[e]}var yse=gse,xse=vse,bse=yse;function wse(t,e){var n=bse(t,e);return xse(n)?n:void 0}var zm=wse,_se=zm,Sse=Jl,Cse=_se(Sse,"Map"),q3=Cse,Ese=zm,Mse=Ese(Object,"create"),eS=Mse,qD=eS;function Tse(){this.__data__=qD?qD(null):{},this.size=0}var Pse=Tse;function Ase(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Rse=Ase,Ose=eS,Nse="__lodash_hash_undefined__",kse=Object.prototype,Ise=kse.hasOwnProperty;function Lse(t){var e=this.__data__;if(Ose){var n=e[t];return n===Nse?void 0:n}return Ise.call(e,t)?e[t]:void 0}var Dse=Lse,Fse=eS,zse=Object.prototype,Bse=zse.hasOwnProperty;function Vse(t){var e=this.__data__;return Fse?e[t]!==void 0:Bse.call(e,t)}var Use=Vse,Hse=eS,Wse="__lodash_hash_undefined__";function jse(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Hse&&e===void 0?Wse:e,this}var Gse=jse,$se=Pse,Kse=Rse,qse=Dse,Xse=Use,Yse=Gse;function Bm(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Bm.prototype.clear=$se;Bm.prototype.delete=Kse;Bm.prototype.get=qse;Bm.prototype.has=Xse;Bm.prototype.set=Yse;var Zse=Bm,XD=Zse,Jse=J1,Qse=q3;function ele(){this.size=0,this.__data__={hash:new XD,map:new(Qse||Jse),string:new XD}}var tle=ele;function nle(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var rle=nle,ile=rle;function ole(t,e){var n=t.__data__;return ile(e)?n[typeof e=="string"?"string":"hash"]:n.map}var tS=ole,ale=tS;function sle(t){var e=ale(this,t).delete(t);return this.size-=e?1:0,e}var lle=sle,ule=tS;function cle(t){return ule(this,t).get(t)}var dle=cle,fle=tS;function hle(t){return fle(this,t).has(t)}var ple=hle,mle=tS;function vle(t,e){var n=mle(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var gle=vle,yle=tle,xle=lle,ble=dle,wle=ple,_le=gle;function Vm(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Vm.prototype.clear=yle;Vm.prototype.delete=xle;Vm.prototype.get=ble;Vm.prototype.has=wle;Vm.prototype.set=_le;var aH=Vm,Sle=J1,Cle=q3,Ele=aH,Mle=200;function Tle(t,e){var n=this.__data__;if(n instanceof Sle){var r=n.__data__;if(!Cle||r.length<Mle-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Ele(r)}return n.set(t,e),this.size=n.size,this}var Ple=Tle,Ale=J1,Rle=vae,Ole=yae,Nle=bae,kle=_ae,Ile=Ple;function Um(t){var e=this.__data__=new Ale(t);this.size=e.size}Um.prototype.clear=Rle;Um.prototype.delete=Ole;Um.prototype.get=Nle;Um.prototype.has=kle;Um.prototype.set=Ile;var Lle=Um,Dle="__lodash_hash_undefined__";function Fle(t){return this.__data__.set(t,Dle),this}var zle=Fle;function Ble(t){return this.__data__.has(t)}var Vle=Ble,Ule=aH,Hle=zle,Wle=Vle;function w_(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Ule;++e<n;)this.add(t[e])}w_.prototype.add=w_.prototype.push=Hle;w_.prototype.has=Wle;var jle=w_;function Gle(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var $le=Gle;function Kle(t,e){return t.has(e)}var qle=Kle,Xle=jle,Yle=$le,Zle=qle,Jle=1,Qle=2;function eue(t,e,n,r,i,o){var a=n&Jle,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var h=-1,f=!0,m=n&Qle?new Xle:void 0;for(o.set(t,e),o.set(e,t);++h<s;){var y=t[h],x=e[h];if(r)var b=a?r(x,y,h,e,t,o):r(y,x,h,t,e,o);if(b!==void 0){if(b)continue;f=!1;break}if(m){if(!Yle(e,function(w,S){if(!Zle(m,S)&&(y===w||i(y,w,n,r,o)))return m.push(S)})){f=!1;break}}else if(!(y===x||i(y,x,n,r,o))){f=!1;break}}return o.delete(t),o.delete(e),f}var sH=eue,tue=Jl,nue=tue.Uint8Array,rue=nue;function iue(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var oue=iue;function aue(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var sue=aue,YD=K3,ZD=rue,lue=tH,uue=sH,cue=oue,due=sue,fue=1,hue=2,pue="[object Boolean]",mue="[object Date]",vue="[object Error]",gue="[object Map]",yue="[object Number]",xue="[object RegExp]",bue="[object Set]",wue="[object String]",_ue="[object Symbol]",Sue="[object ArrayBuffer]",Cue="[object DataView]",JD=YD?YD.prototype:void 0,LM=JD?JD.valueOf:void 0;function Eue(t,e,n,r,i,o,a){switch(n){case Cue:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Sue:return!(t.byteLength!=e.byteLength||!o(new ZD(t),new ZD(e)));case pue:case mue:case yue:return lue(+t,+e);case vue:return t.name==e.name&&t.message==e.message;case xue:case wue:return t==e+"";case gue:var s=cue;case bue:var l=r&fue;if(s||(s=due),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=hue,a.set(t,e);var c=uue(s(t),s(e),r,i,o,a);return a.delete(t),c;case _ue:if(LM)return LM.call(t)==LM.call(e)}return!1}var Mue=Eue;function Tue(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var Pue=Tue,Aue=Array.isArray,X3=Aue,Rue=Pue,Oue=X3;function Nue(t,e,n){var r=e(t);return Oue(t)?r:Rue(r,n(t))}var kue=Nue;function Iue(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var Lue=Iue;function Due(){return[]}var Fue=Due,zue=Lue,Bue=Fue,Vue=Object.prototype,Uue=Vue.propertyIsEnumerable,QD=Object.getOwnPropertySymbols,Hue=QD?function(t){return t==null?[]:(t=Object(t),zue(QD(t),function(e){return Uue.call(t,e)}))}:Bue,Wue=Hue;function jue(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Gue=jue;function $ue(t){return t!=null&&typeof t=="object"}var ey=$ue,Kue=Q0,que=ey,Xue="[object Arguments]";function Yue(t){return que(t)&&Kue(t)==Xue}var Zue=Yue,e4=Zue,Jue=ey,lH=Object.prototype,Que=lH.hasOwnProperty,ece=lH.propertyIsEnumerable,tce=e4(function(){return arguments}())?e4:function(t){return Jue(t)&&Que.call(t,"callee")&&!ece.call(t,"callee")},nce=tce,__={exports:{}};function rce(){return!1}var ice=rce;(function(t,e){var n=Jl,r=ice,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(__,__.exports);var oce=9007199254740991,ace=/^(?:0|[1-9]\d*)$/;function sce(t,e){var n=typeof t;return e=e==null?oce:e,!!e&&(n=="number"||n!="symbol"&&ace.test(t))&&t>-1&&t%1==0&&t<e}var lce=sce,uce=9007199254740991;function cce(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=uce}var uH=cce,dce=Q0,fce=uH,hce=ey,pce="[object Arguments]",mce="[object Array]",vce="[object Boolean]",gce="[object Date]",yce="[object Error]",xce="[object Function]",bce="[object Map]",wce="[object Number]",_ce="[object Object]",Sce="[object RegExp]",Cce="[object Set]",Ece="[object String]",Mce="[object WeakMap]",Tce="[object ArrayBuffer]",Pce="[object DataView]",Ace="[object Float32Array]",Rce="[object Float64Array]",Oce="[object Int8Array]",Nce="[object Int16Array]",kce="[object Int32Array]",Ice="[object Uint8Array]",Lce="[object Uint8ClampedArray]",Dce="[object Uint16Array]",Fce="[object Uint32Array]",ri={};ri[Ace]=ri[Rce]=ri[Oce]=ri[Nce]=ri[kce]=ri[Ice]=ri[Lce]=ri[Dce]=ri[Fce]=!0;ri[pce]=ri[mce]=ri[Tce]=ri[vce]=ri[Pce]=ri[gce]=ri[yce]=ri[xce]=ri[bce]=ri[wce]=ri[_ce]=ri[Sce]=ri[Cce]=ri[Ece]=ri[Mce]=!1;function zce(t){return hce(t)&&fce(t.length)&&!!ri[dce(t)]}var Bce=zce;function Vce(t){return function(e){return t(e)}}var Uce=Vce,OP={exports:{}};(function(t,e){var n=nH,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(OP,OP.exports);var Hce=Bce,Wce=Uce,t4=OP.exports,n4=t4&&t4.isTypedArray,jce=n4?Wce(n4):Hce,cH=jce,Gce=Gue,$ce=nce,Kce=X3,qce=__.exports,Xce=lce,Yce=cH,Zce=Object.prototype,Jce=Zce.hasOwnProperty;function Qce(t,e){var n=Kce(t),r=!n&&$ce(t),i=!n&&!r&&qce(t),o=!n&&!r&&!i&&Yce(t),a=n||r||i||o,s=a?Gce(t.length,String):[],l=s.length;for(var u in t)(e||Jce.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Xce(u,l)))&&s.push(u);return s}var ede=Qce,tde=Object.prototype;function nde(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||tde;return t===n}var rde=nde;function ide(t,e){return function(n){return t(e(n))}}var ode=ide,ade=ode,sde=ade(Object.keys,Object),lde=sde,ude=rde,cde=lde,dde=Object.prototype,fde=dde.hasOwnProperty;function hde(t){if(!ude(t))return cde(t);var e=[];for(var n in Object(t))fde.call(t,n)&&n!="constructor"&&e.push(n);return e}var pde=hde,mde=iH,vde=uH;function gde(t){return t!=null&&vde(t.length)&&!mde(t)}var yde=gde,xde=ede,bde=pde,wde=yde;function _de(t){return wde(t)?xde(t):bde(t)}var Sde=_de,Cde=kue,Ede=Wue,Mde=Sde;function Tde(t){return Cde(t,Mde,Ede)}var Pde=Tde,r4=Pde,Ade=1,Rde=Object.prototype,Ode=Rde.hasOwnProperty;function Nde(t,e,n,r,i,o){var a=n&Ade,s=r4(t),l=s.length,u=r4(e),c=u.length;if(l!=c&&!a)return!1;for(var h=l;h--;){var f=s[h];if(!(a?f in e:Ode.call(e,f)))return!1}var m=o.get(t),y=o.get(e);if(m&&y)return m==e&&y==t;var x=!0;o.set(t,e),o.set(e,t);for(var b=a;++h<l;){f=s[h];var w=t[f],S=e[f];if(r)var C=a?r(S,w,f,e,t,o):r(w,S,f,t,e,o);if(!(C===void 0?w===S||i(w,S,n,r,o):C)){x=!1;break}b||(b=f=="constructor")}if(x&&!b){var M=t.constructor,T=e.constructor;M!=T&&"constructor"in t&&"constructor"in e&&!(typeof M=="function"&&M instanceof M&&typeof T=="function"&&T instanceof T)&&(x=!1)}return o.delete(t),o.delete(e),x}var kde=Nde,Ide=zm,Lde=Jl,Dde=Ide(Lde,"DataView"),Fde=Dde,zde=zm,Bde=Jl,Vde=zde(Bde,"Promise"),Ude=Vde,Hde=zm,Wde=Jl,jde=Hde(Wde,"Set"),Gde=jde,$de=zm,Kde=Jl,qde=$de(Kde,"WeakMap"),Xde=qde,NP=Fde,kP=q3,IP=Ude,LP=Gde,DP=Xde,dH=Q0,Hm=oH,i4="[object Map]",Yde="[object Object]",o4="[object Promise]",a4="[object Set]",s4="[object WeakMap]",l4="[object DataView]",Zde=Hm(NP),Jde=Hm(kP),Qde=Hm(IP),efe=Hm(LP),tfe=Hm(DP),ff=dH;(NP&&ff(new NP(new ArrayBuffer(1)))!=l4||kP&&ff(new kP)!=i4||IP&&ff(IP.resolve())!=o4||LP&&ff(new LP)!=a4||DP&&ff(new DP)!=s4)&&(ff=function(t){var e=dH(t),n=e==Yde?t.constructor:void 0,r=n?Hm(n):"";if(r)switch(r){case Zde:return l4;case Jde:return i4;case Qde:return o4;case efe:return a4;case tfe:return s4}return e});var nfe=ff,DM=Lle,rfe=sH,ife=Mue,ofe=kde,u4=nfe,c4=X3,d4=__.exports,afe=cH,sfe=1,f4="[object Arguments]",h4="[object Array]",sb="[object Object]",lfe=Object.prototype,p4=lfe.hasOwnProperty;function ufe(t,e,n,r,i,o){var a=c4(t),s=c4(e),l=a?h4:u4(t),u=s?h4:u4(e);l=l==f4?sb:l,u=u==f4?sb:u;var c=l==sb,h=u==sb,f=l==u;if(f&&d4(t)){if(!d4(e))return!1;a=!0,c=!1}if(f&&!c)return o||(o=new DM),a||afe(t)?rfe(t,e,n,r,i,o):ife(t,e,l,n,r,i,o);if(!(n&sfe)){var m=c&&p4.call(t,"__wrapped__"),y=h&&p4.call(e,"__wrapped__");if(m||y){var x=m?t.value():t,b=y?e.value():e;return o||(o=new DM),i(x,b,n,r,o)}}return f?(o||(o=new DM),ofe(t,e,n,r,i,o)):!1}var cfe=ufe,dfe=cfe,m4=ey;function fH(t,e,n,r,i){return t===e?!0:t==null||e==null||!m4(t)&&!m4(e)?t!==t&&e!==e:dfe(t,e,n,r,fH,i)}var ffe=fH,hfe=ffe;function pfe(t,e){return hfe(t,e)}var FP=pfe;function mfe(t,e){return t===e?!0:!t||!e?!1:"pageX"in e&&"pageY"in e?t.pageX===e.pageX&&t.pageY===e.pageY:"clientX"in e&&"clientY"in e?t.clientX===e.clientX&&t.clientY===e.clientY:!1}function vfe(t,e){t!==document.activeElement&&Ew(e,t)&&typeof t.focus=="function"&&t.focus()}function v4(t,e){var n=null,r=null;function i(a){var s=$e(a,1),l=s[0].target;if(!!document.documentElement.contains(l)){var u=l.getBoundingClientRect(),c=u.width,h=u.height,f=Math.floor(c),m=Math.floor(h);(n!==f||r!==m)&&Promise.resolve().then(function(){e({width:f,height:m})}),n=f,r=m}}var o=new SV(i);return t&&o.observe(t),function(){o.disconnect()}}var gfe=function(t,e){var n=ln.useRef(!1),r=ln.useRef(null);function i(){window.clearTimeout(r.current)}function o(a){if(i(),!n.current||a===!0){if(t()===!1)return;n.current=!0,r.current=window.setTimeout(function(){n.current=!1},e)}else r.current=window.setTimeout(function(){n.current=!1,o()},e)}return[o,function(){n.current=!1,i()}]};function g4(t){return typeof t!="function"?null:t()}function y4(t){return un(t)!=="object"||!t?null:t}var yfe=function(e,n){var r=e.children,i=e.disabled,o=e.target,a=e.align,s=e.onAlign,l=e.monitorWindowResize,u=e.monitorBufferTime,c=u===void 0?0:u,h=ln.useRef({}),f=ln.useRef(),m=ln.Children.only(r),y=ln.useRef({});y.current.disabled=i,y.current.target=o,y.current.align=a,y.current.onAlign=s;var x=gfe(function(){var R=y.current,I=R.disabled,A=R.target,N=R.align,L=R.onAlign;if(!I&&A){var D=f.current,W,V=g4(A),B=y4(A);h.current.element=V,h.current.point=B,h.current.align=N;var K=document,j=K.activeElement;return V&&U3(V)?W=$3(D,V,N):B&&(W=Woe(D,B,N)),vfe(j,D),L&&W&&L(D,W),!0}return!1},c),b=$e(x,2),w=b[0],S=b[1],C=ln.useRef({cancel:function(){}}),M=ln.useRef({cancel:function(){}});ln.useEffect(function(){var R=g4(o),I=y4(o);f.current!==M.current.element&&(M.current.cancel(),M.current.element=f.current,M.current.cancel=v4(f.current,w)),(h.current.element!==R||!mfe(h.current.point,I)||!FP(h.current.align,a))&&(w(),C.current.element!==R&&(C.current.cancel(),C.current.element=R,C.current.cancel=v4(R,w)))}),ln.useEffect(function(){i?S():w()},[i]);var T=ln.useRef(null);return ln.useEffect(function(){l?T.current||(T.current=ju(window,"resize",w)):T.current&&(T.current.remove(),T.current=null)},[l]),ln.useEffect(function(){return function(){C.current.cancel(),M.current.cancel(),T.current&&T.current.remove(),S()}},[]),ln.useImperativeHandle(n,function(){return{forceAlign:function(){return w(!0)}}}),ln.isValidElement(m)&&(m=ln.cloneElement(m,{ref:Yl(m.ref,f)})),m},hH=ln.forwardRef(yfe);hH.displayName="Align";var x4=["measure","alignPre","align",null,"motion"],xfe=function(t,e){var n=Rf(null),r=$e(n,2),i=r[0],o=r[1],a=v.exports.useRef();function s(c){o(c,!0)}function l(){lr.cancel(a.current)}function u(c){l(),a.current=lr(function(){s(function(h){switch(i){case"align":return"motion";case"motion":return"stable"}return h}),c==null||c()})}return v.exports.useEffect(function(){s("measure")},[t]),v.exports.useEffect(function(){switch(i){case"measure":e();break}i&&(a.current=lr(nh(da().mark(function c(){var h,f;return da().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:h=x4.indexOf(i),f=x4[h+1],f&&h!==-1&&s(f);case 3:case"end":return y.stop()}},c)}))))},[i]),v.exports.useEffect(function(){return function(){l()}},[]),[i,u]},bfe=function(t){var e=v.exports.useState({width:0,height:0}),n=$e(e,2),r=n[0],i=n[1];function o(s){i({width:s.offsetWidth,height:s.offsetHeight})}var a=v.exports.useMemo(function(){var s={};if(t){var l=r.width,u=r.height;t.indexOf("height")!==-1&&u?s.height=u:t.indexOf("minHeight")!==-1&&u&&(s.minHeight=u),t.indexOf("width")!==-1&&l?s.width=l:t.indexOf("minWidth")!==-1&&l&&(s.minWidth=l)}return s},[t,r]);return[a,o]},pH=v.exports.forwardRef(function(t,e){var n=t.visible,r=t.prefixCls,i=t.className,o=t.style,a=t.children,s=t.zIndex,l=t.stretch,u=t.destroyPopupOnHide,c=t.forceRender,h=t.align,f=t.point,m=t.getRootDomNode,y=t.getClassNameFromAlign,x=t.onAlign,b=t.onMouseEnter,w=t.onMouseLeave,S=t.onMouseDown,C=t.onTouchStart,M=t.onClick,T=v.exports.useRef(),R=v.exports.useRef(),I=v.exports.useState(),A=$e(I,2),N=A[0],L=A[1],D=bfe(l),W=$e(D,2),V=W[0],B=W[1];function K(){l&&B(m())}var j=xfe(n,K),G=$e(j,2),H=G[0],Y=G[1],Z=v.exports.useState(0),oe=$e(Z,2),re=oe[0],se=oe[1],ce=v.exports.useRef();Uf(function(){H==="alignPre"&&se(0)},[H]);function ye(){return f||m}function fe(){var Ce;(Ce=T.current)===null||Ce===void 0||Ce.forceAlign()}function De(Ce,Me){var ze=y(Me);N!==ze&&L(ze),se(function(Re){return Re+1}),H==="align"&&(x==null||x(Ce,Me))}Uf(function(){H==="align"&&(re<2?fe():Y(function(){var Ce;(Ce=ce.current)===null||Ce===void 0||Ce.call(ce)}))},[re]);var Oe=ve({},$U(t));["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach(function(Ce){var Me=Oe[Ce];Oe[Ce]=function(ze,Re){return Y(),Me==null?void 0:Me(ze,Re)}});function Fe(){return new Promise(function(Ce){ce.current=Ce})}v.exports.useEffect(function(){!Oe.motionName&&H==="motion"&&Y()},[Oe.motionName,H]),v.exports.useImperativeHandle(e,function(){return{forceAlign:fe,getElement:function(){return R.current}}});var Ee=ve(ve({},V),{},{zIndex:s,opacity:H==="motion"||H==="stable"||!n?void 0:0,pointerEvents:!n&&H!=="stable"?"none":void 0},o),Ye=!0;(h==null?void 0:h.points)&&(H==="align"||H==="stable")&&(Ye=!1);var be=a;return v.exports.Children.count(a)>1&&(be=v.exports.createElement("div",{className:"".concat(r,"-content")},a)),v.exports.createElement(rh,Se({visible:n,ref:R,leavedClassName:"".concat(r,"-hidden")},Oe,{onAppearPrepare:Fe,onEnterPrepare:Fe,removeOnLeave:u,forceRender:c}),function(Ce,Me){var ze=Ce.className,Re=Ce.style,We=Xe(r,i,N,ze);return v.exports.createElement(hH,{target:ye(),key:"popup",ref:T,monitorWindowResize:!0,disabled:Ye,align:h,onAlign:De},v.exports.createElement("div",{ref:Me,className:We,onMouseEnter:b,onMouseLeave:w,onMouseDownCapture:S,onTouchStartCapture:C,onClick:M,style:ve(ve({},Re),Ee)},be))})});pH.displayName="PopupInner";var mH=v.exports.forwardRef(function(t,e){var n=t.prefixCls,r=t.visible,i=t.zIndex,o=t.children,a=t.mobile;a=a===void 0?{}:a;var s=a.popupClassName,l=a.popupStyle,u=a.popupMotion,c=u===void 0?{}:u,h=a.popupRender,f=t.onClick,m=v.exports.useRef();v.exports.useImperativeHandle(e,function(){return{forceAlign:function(){},getElement:function(){return m.current}}});var y=ve({zIndex:i},l),x=o;return v.exports.Children.count(o)>1&&(x=v.exports.createElement("div",{className:"".concat(n,"-content")},o)),h&&(x=h(x)),v.exports.createElement(rh,Se({visible:r,ref:m,removeOnLeave:!0},c),function(b,w){var S=b.className,C=b.style,M=Xe(n,s,S);return v.exports.createElement("div",{ref:w,className:M,onClick:f,style:ve(ve({},C),y)},x)})});mH.displayName="MobilePopupInner";var wfe=["visible","mobile"],vH=v.exports.forwardRef(function(t,e){var n=t.visible,r=t.mobile,i=_n(t,wfe),o=v.exports.useState(n),a=$e(o,2),s=a[0],l=a[1],u=v.exports.useState(!1),c=$e(u,2),h=c[0],f=c[1],m=ve(ve({},i),{},{visible:s});v.exports.useEffect(function(){l(n),n&&r&&f(V3())},[n,r]);var y=h?v.exports.createElement(mH,Se({},m,{mobile:r,ref:e})):v.exports.createElement(pH,Se({},m,{ref:e}));return v.exports.createElement("div",null,v.exports.createElement(voe,m),y)});vH.displayName="Popup";var b4=v.exports.createContext(null);function FM(){}function _fe(){return""}function Sfe(t){return t?t.ownerDocument:window.document}var Cfe=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];function Efe(t){var e=function(n){Ni(i,n);var r=ki(i);function i(o){var a;di(this,i),a=r.call(this,o),a.popupRef=v.exports.createRef(),a.triggerRef=v.exports.createRef(),a.portalContainer=void 0,a.attachId=void 0,a.clickOutsideHandler=void 0,a.touchOutsideHandler=void 0,a.contextMenuOutsideHandler1=void 0,a.contextMenuOutsideHandler2=void 0,a.mouseDownTimeout=void 0,a.focusTime=void 0,a.preClickTime=void 0,a.preTouchTime=void 0,a.delayTimer=void 0,a.hasPopupMouseDown=void 0,a.onMouseEnter=function(l){var u=a.props.mouseEnterDelay;a.fireEvents("onMouseEnter",l),a.delaySetPopupVisible(!0,u,u?null:l)},a.onMouseMove=function(l){a.fireEvents("onMouseMove",l),a.setPoint(l)},a.onMouseLeave=function(l){a.fireEvents("onMouseLeave",l),a.delaySetPopupVisible(!1,a.props.mouseLeaveDelay)},a.onPopupMouseEnter=function(){a.clearDelayTimer()},a.onPopupMouseLeave=function(l){var u;l.relatedTarget&&!l.relatedTarget.setTimeout&&Ew((u=a.popupRef.current)===null||u===void 0?void 0:u.getElement(),l.relatedTarget)||a.delaySetPopupVisible(!1,a.props.mouseLeaveDelay)},a.onFocus=function(l){a.fireEvents("onFocus",l),a.clearDelayTimer(),a.isFocusToShow()&&(a.focusTime=Date.now(),a.delaySetPopupVisible(!0,a.props.focusDelay))},a.onMouseDown=function(l){a.fireEvents("onMouseDown",l),a.preClickTime=Date.now()},a.onTouchStart=function(l){a.fireEvents("onTouchStart",l),a.preTouchTime=Date.now()},a.onBlur=function(l){a.fireEvents("onBlur",l),a.clearDelayTimer(),a.isBlurToHide()&&a.delaySetPopupVisible(!1,a.props.blurDelay)},a.onContextMenu=function(l){l.preventDefault(),a.fireEvents("onContextMenu",l),a.setPopupVisible(!0,l)},a.onContextMenuClose=function(){a.isContextMenuToShow()&&a.close()},a.onClick=function(l){if(a.fireEvents("onClick",l),a.focusTime){var u;if(a.preClickTime&&a.preTouchTime?u=Math.min(a.preClickTime,a.preTouchTime):a.preClickTime?u=a.preClickTime:a.preTouchTime&&(u=a.preTouchTime),Math.abs(u-a.focusTime)<20)return;a.focusTime=0}a.preClickTime=0,a.preTouchTime=0,a.isClickToShow()&&(a.isClickToHide()||a.isBlurToHide())&&l&&l.preventDefault&&l.preventDefault();var c=!a.state.popupVisible;(a.isClickToHide()&&!c||c&&a.isClickToShow())&&a.setPopupVisible(!a.state.popupVisible,l)},a.onPopupMouseDown=function(){if(a.hasPopupMouseDown=!0,clearTimeout(a.mouseDownTimeout),a.mouseDownTimeout=window.setTimeout(function(){a.hasPopupMouseDown=!1},0),a.context){var l;(l=a.context).onPopupMouseDown.apply(l,arguments)}},a.onDocumentClick=function(l){if(!(a.props.mask&&!a.props.maskClosable)){var u=l.target,c=a.getRootDomNode(),h=a.getPopupDomNode();(!Ew(c,u)||a.isContextMenuOnly())&&!Ew(h,u)&&!a.hasPopupMouseDown&&a.close()}},a.getRootDomNode=function(){var l=a.props.getTriggerDOMNode;if(l)return l(a.triggerRef.current);try{var u=f0(a.triggerRef.current);if(u)return u}catch{}return _d.findDOMNode(_s(a))},a.getPopupClassNameFromAlign=function(l){var u=[],c=a.props,h=c.popupPlacement,f=c.builtinPlacements,m=c.prefixCls,y=c.alignPoint,x=c.getPopupClassNameFromAlign;return h&&f&&u.push(moe(f,m,l,y)),x&&u.push(x(l)),u.join(" ")},a.getComponent=function(){var l=a.props,u=l.prefixCls,c=l.destroyPopupOnHide,h=l.popupClassName,f=l.onPopupAlign,m=l.popupMotion,y=l.popupAnimation,x=l.popupTransitionName,b=l.popupStyle,w=l.mask,S=l.maskAnimation,C=l.maskTransitionName,M=l.maskMotion,T=l.zIndex,R=l.popup,I=l.stretch,A=l.alignPoint,N=l.mobile,L=l.forceRender,D=l.onPopupClick,W=a.state,V=W.popupVisible,B=W.point,K=a.getPopupAlign(),j={};return a.isMouseEnterToShow()&&(j.onMouseEnter=a.onPopupMouseEnter),a.isMouseLeaveToHide()&&(j.onMouseLeave=a.onPopupMouseLeave),j.onMouseDown=a.onPopupMouseDown,j.onTouchStart=a.onPopupMouseDown,v.exports.createElement(vH,Se({prefixCls:u,destroyPopupOnHide:c,visible:V,point:A&&B,className:h,align:K,onAlign:f,animation:y,getClassNameFromAlign:a.getPopupClassNameFromAlign},j,{stretch:I,getRootDomNode:a.getRootDomNode,style:b,mask:w,zIndex:T,transitionName:x,maskAnimation:S,maskTransitionName:C,maskMotion:M,ref:a.popupRef,motion:m,mobile:N,forceRender:L,onClick:D}),typeof R=="function"?R():R)},a.attachParent=function(l){lr.cancel(a.attachId);var u=a.props,c=u.getPopupContainer,h=u.getDocument,f=a.getRootDomNode(),m;c?(f||c.length===0)&&(m=c(f)):m=h(a.getRootDomNode()).body,m?m.appendChild(l):a.attachId=lr(function(){a.attachParent(l)})},a.getContainer=function(){if(!a.portalContainer){var l=a.props.getDocument,u=l(a.getRootDomNode()).createElement("div");u.style.position="absolute",u.style.top="0",u.style.left="0",u.style.width="100%",a.portalContainer=u}return a.attachParent(a.portalContainer),a.portalContainer},a.setPoint=function(l){var u=a.props.alignPoint;!u||!l||a.setState({point:{pageX:l.pageX,pageY:l.pageY}})},a.handlePortalUpdate=function(){a.state.prevPopupVisible!==a.state.popupVisible&&a.props.afterPopupVisibleChange(a.state.popupVisible)},a.triggerContextValue={onPopupMouseDown:a.onPopupMouseDown};var s;return"popupVisible"in o?s=!!o.popupVisible:s=!!o.defaultPopupVisible,a.state={prevPopupVisible:s,popupVisible:s},Cfe.forEach(function(l){a["fire".concat(l)]=function(u){a.fireEvents(l,u)}}),a}return fi(i,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var a=this.props,s=this.state;if(s.popupVisible){var l;!this.clickOutsideHandler&&(this.isClickToHide()||this.isContextMenuToShow())&&(l=a.getDocument(this.getRootDomNode()),this.clickOutsideHandler=ju(l,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(l=l||a.getDocument(this.getRootDomNode()),this.touchOutsideHandler=ju(l,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(l=l||a.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=ju(l,"scroll",this.onContextMenuClose)),!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=ju(window,"blur",this.onContextMenuClose));return}this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),lr.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var a;return((a=this.popupRef.current)===null||a===void 0?void 0:a.getElement())||null}},{key:"getPopupAlign",value:function(){var a=this.props,s=a.popupPlacement,l=a.popupAlign,u=a.builtinPlacements;return s&&u?poe(u,s,l):l}},{key:"setPopupVisible",value:function(a,s){var l=this.props.alignPoint,u=this.state.popupVisible;this.clearDelayTimer(),u!==a&&("popupVisible"in this.props||this.setState({popupVisible:a,prevPopupVisible:u}),this.props.onPopupVisibleChange(a)),l&&s&&a&&this.setPoint(s)}},{key:"delaySetPopupVisible",value:function(a,s,l){var u=this,c=s*1e3;if(this.clearDelayTimer(),c){var h=l?{pageX:l.pageX,pageY:l.pageY}:null;this.delayTimer=window.setTimeout(function(){u.setPopupVisible(a,h),u.clearDelayTimer()},c)}else this.setPopupVisible(a,l)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(a){var s=this.props.children.props,l=this.props;return s[a]&&l[a]?this["fire".concat(a)]:s[a]||l[a]}},{key:"isClickToShow",value:function(){var a=this.props,s=a.action,l=a.showAction;return s.indexOf("click")!==-1||l.indexOf("click")!==-1}},{key:"isContextMenuOnly",value:function(){var a=this.props.action;return a==="contextMenu"||a.length===1&&a[0]==="contextMenu"}},{key:"isContextMenuToShow",value:function(){var a=this.props,s=a.action,l=a.showAction;return s.indexOf("contextMenu")!==-1||l.indexOf("contextMenu")!==-1}},{key:"isClickToHide",value:function(){var a=this.props,s=a.action,l=a.hideAction;return s.indexOf("click")!==-1||l.indexOf("click")!==-1}},{key:"isMouseEnterToShow",value:function(){var a=this.props,s=a.action,l=a.showAction;return s.indexOf("hover")!==-1||l.indexOf("mouseEnter")!==-1}},{key:"isMouseLeaveToHide",value:function(){var a=this.props,s=a.action,l=a.hideAction;return s.indexOf("hover")!==-1||l.indexOf("mouseLeave")!==-1}},{key:"isFocusToShow",value:function(){var a=this.props,s=a.action,l=a.showAction;return s.indexOf("focus")!==-1||l.indexOf("focus")!==-1}},{key:"isBlurToHide",value:function(){var a=this.props,s=a.action,l=a.hideAction;return s.indexOf("focus")!==-1||l.indexOf("blur")!==-1}},{key:"forcePopupAlign",value:function(){if(this.state.popupVisible){var a;(a=this.popupRef.current)===null||a===void 0||a.forceAlign()}}},{key:"fireEvents",value:function(a,s){var l=this.props.children.props[a];l&&l(s);var u=this.props[a];u&&u(s)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var a=this.state.popupVisible,s=this.props,l=s.children,u=s.forceRender,c=s.alignPoint,h=s.className,f=s.autoDestroy,m=v.exports.Children.only(l),y={key:"trigger"};this.isContextMenuToShow()?y.onContextMenu=this.onContextMenu:y.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(y.onClick=this.onClick,y.onMouseDown=this.onMouseDown,y.onTouchStart=this.onTouchStart):(y.onClick=this.createTwoChains("onClick"),y.onMouseDown=this.createTwoChains("onMouseDown"),y.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(y.onMouseEnter=this.onMouseEnter,c&&(y.onMouseMove=this.onMouseMove)):y.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?y.onMouseLeave=this.onMouseLeave:y.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(y.onFocus=this.onFocus,y.onBlur=this.onBlur):(y.onFocus=this.createTwoChains("onFocus"),y.onBlur=this.createTwoChains("onBlur"));var x=Xe(m&&m.props&&m.props.className,h);x&&(y.className=x);var b=ve({},y);Dm(m)&&(b.ref=Yl(this.triggerRef,m.ref));var w=v.exports.cloneElement(m,b),S;return(a||this.popupRef.current||u)&&(S=v.exports.createElement(t,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!a&&f&&(S=null),v.exports.createElement(b4.Provider,{value:this.triggerContextValue},w,S)}}],[{key:"getDerivedStateFromProps",value:function(a,s){var l=a.popupVisible,u={};return l!==void 0&&s.popupVisible!==l&&(u.popupVisible=l,u.prevPopupVisible=s.popupVisible),u}}]),i}(v.exports.Component);return e.contextType=b4,e.defaultProps={prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:_fe,getDocument:Sfe,onPopupVisibleChange:FM,afterPopupVisibleChange:FM,onPopupAlign:FM,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1},e}var nS=Efe(foe),Mfe=["prefixCls","disabled","visible","children","popupElement","containerWidth","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],Tfe=function(e){var n=e===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:n,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:n,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:n,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:n,adjustY:1}}}},Pfe=function(e,n){var r=e.prefixCls;e.disabled;var i=e.visible,o=e.children,a=e.popupElement,s=e.containerWidth,l=e.animation,u=e.transitionName,c=e.dropdownStyle,h=e.dropdownClassName,f=e.direction,m=f===void 0?"ltr":f,y=e.placement,x=e.dropdownMatchSelectWidth,b=e.dropdownRender,w=e.dropdownAlign,S=e.getPopupContainer,C=e.empty,M=e.getTriggerDOMNode,T=e.onPopupVisibleChange,R=e.onPopupMouseEnter,I=_n(e,Mfe),A="".concat(r,"-dropdown"),N=a;b&&(N=b(a));var L=v.exports.useMemo(function(){return Tfe(x)},[x]),D=l?"".concat(A,"-").concat(l):u,W=v.exports.useRef(null);v.exports.useImperativeHandle(n,function(){return{getPopupElement:function(){return W.current}}});var V=ve({minWidth:s},c);return typeof x=="number"?V.width=x:x&&(V.width=s),v.exports.createElement(nS,Se({},I,{showAction:T?["click"]:[],hideAction:T?["click"]:[],popupPlacement:y||(m==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:L,prefixCls:A,popupTransitionName:D,popup:v.exports.createElement("div",{ref:W,onMouseEnter:R},N),popupAlign:w,popupVisible:i,getPopupContainer:S,popupClassName:Xe(h,ue({},"".concat(A,"-empty"),C)),popupStyle:V,getTriggerDOMNode:M,onPopupVisibleChange:T}),o)},gH=v.exports.forwardRef(Pfe);gH.displayName="SelectTrigger";var Afe=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,Rfe=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,Ofe="".concat(Afe," ").concat(Rfe).split(/[\s\n]+/),Nfe="aria-",kfe="data-";function w4(t,e){return t.indexOf(e)===0}function Hf(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;e===!1?n={aria:!0,data:!0,attr:!0}:e===!0?n={aria:!0}:n=ve({},e);var r={};return Object.keys(t).forEach(function(i){(n.aria&&(i==="role"||w4(i,Nfe))||n.data&&w4(i,kfe)||n.attr&&Ofe.includes(i))&&(r[i]=t[i])}),r}var Ife=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],$h=void 0;function Lfe(t,e){var n=t.prefixCls,r=t.invalidate,i=t.item,o=t.renderItem,a=t.responsive,s=t.responsiveDisabled,l=t.registerSize,u=t.itemKey,c=t.className,h=t.style,f=t.children,m=t.display,y=t.order,x=t.component,b=x===void 0?"div":x,w=_n(t,Ife),S=a&&!m;function C(A){l(u,A)}v.exports.useEffect(function(){return function(){C(null)}},[]);var M=o&&i!==$h?o(i):f,T;r||(T={opacity:S?0:1,height:S?0:$h,overflowY:S?"hidden":$h,order:a?y:$h,pointerEvents:S?"none":$h,position:S?"absolute":$h});var R={};S&&(R["aria-hidden"]=!0);var I=v.exports.createElement(b,Se({className:Xe(!r&&n,c),style:ve(ve({},T),h)},R,w,{ref:e}),M);return a&&(I=v.exports.createElement($l,{onResize:function(N){var L=N.offsetWidth;C(L)},disabled:s},I)),I}var Ig=v.exports.forwardRef(Lfe);Ig.displayName="Item";function Dfe(){var t=Rf({}),e=$e(t,2),n=e[1],r=v.exports.useRef([]),i=0,o=0;function a(s){var l=i;i+=1,r.current.length<l+1&&(r.current[l]=s);var u=r.current[l];function c(h){r.current[l]=typeof h=="function"?h(r.current[l]):h,lr.cancel(o),o=lr(function(){n({},!0)})}return[u,c]}return a}var Ffe=["component"],zfe=["className"],Bfe=["className"],Vfe=function(e,n){var r=v.exports.useContext(S_);if(!r){var i=e.component,o=i===void 0?"div":i,a=_n(e,Ffe);return v.exports.createElement(o,Se({},a,{ref:n}))}var s=r.className,l=_n(r,zfe),u=e.className,c=_n(e,Bfe);return v.exports.createElement(S_.Provider,{value:null},v.exports.createElement(Ig,Se({ref:n,className:Xe(s,u)},l,c)))},yH=v.exports.forwardRef(Vfe);yH.displayName="RawItem";var Ufe=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],S_=v.exports.createContext(null),xH="responsive",bH="invalidate";function Hfe(t){return"+ ".concat(t.length," ...")}function Wfe(t,e){var n=t.prefixCls,r=n===void 0?"rc-overflow":n,i=t.data,o=i===void 0?[]:i,a=t.renderItem,s=t.renderRawItem,l=t.itemKey,u=t.itemWidth,c=u===void 0?10:u,h=t.ssr,f=t.style,m=t.className,y=t.maxCount,x=t.renderRest,b=t.renderRawRest,w=t.suffix,S=t.component,C=S===void 0?"div":S,M=t.itemComponent,T=t.onVisibleChange,R=_n(t,Ufe),I=Dfe(),A=h==="full",N=I(null),L=$e(N,2),D=L[0],W=L[1],V=D||0,B=I(new Map),K=$e(B,2),j=K[0],G=K[1],H=I(0),Y=$e(H,2),Z=Y[0],oe=Y[1],re=I(0),se=$e(re,2),ce=se[0],ye=se[1],fe=I(0),De=$e(fe,2),Oe=De[0],Fe=De[1],Ee=v.exports.useState(null),Ye=$e(Ee,2),be=Ye[0],Ce=Ye[1],Me=v.exports.useState(null),ze=$e(Me,2),Re=ze[0],We=ze[1],Ue=v.exports.useMemo(function(){return Re===null&&A?Number.MAX_SAFE_INTEGER:Re||0},[Re,D]),Ve=v.exports.useState(!1),Be=$e(Ve,2),qe=Be[0],te=Be[1],k="".concat(r,"-item"),$=Math.max(Z,ce),U=y===xH,ne=o.length&&U,ge=y===bH,me=ne||typeof y=="number"&&o.length>y,Q=v.exports.useMemo(function(){var it=o;return ne?D===null&&A?it=o:it=o.slice(0,Math.min(o.length,V/c)):typeof y=="number"&&(it=o.slice(0,y)),it},[o,c,D,y,ne]),_e=v.exports.useMemo(function(){return ne?o.slice(Ue+1):o.slice(Q.length)},[o,Q,ne,Ue]),ke=v.exports.useCallback(function(it,rt){var ft;return typeof l=="function"?l(it):(ft=l&&(it==null?void 0:it[l]))!==null&&ft!==void 0?ft:rt},[l]),we=v.exports.useCallback(a||function(it){return it},[a]);function de(it,rt){We(it),rt||(te(it<o.length-1),T==null||T(it))}function je(it,rt){W(rt.clientWidth)}function Ze(it,rt){G(function(ft){var bt=new Map(ft);return rt===null?bt.delete(it):bt.set(it,rt),bt})}function vt(it,rt){ye(rt),oe(ce)}function ot(it,rt){Fe(rt)}function ht(it){return j.get(ke(Q[it],it))}Uf(function(){if(V&&$&&Q){var it=Oe,rt=Q.length,ft=rt-1;if(!rt){de(0),Ce(null);return}for(var bt=0;bt<rt;bt+=1){var Yt=ht(bt);if(A&&(Yt=Yt||0),Yt===void 0){de(bt-1,!0);break}if(it+=Yt,ft===0&&it<=V||bt===ft-1&&it+ht(ft)<=V){de(ft),Ce(null);break}else if(it+$>V){de(bt-1),Ce(it-Yt-Oe+ce);break}}w&&ht(0)+Oe>V&&Ce(null)}},[V,j,ce,Oe,ke,Q]);var at=qe&&!!_e.length,Mt={};be!==null&&ne&&(Mt={position:"absolute",left:be,top:0});var Ct={prefixCls:k,responsive:ne,component:M,invalidate:ge},Ft=s?function(it,rt){var ft=ke(it,rt);return v.exports.createElement(S_.Provider,{key:ft,value:ve(ve({},Ct),{},{order:rt,item:it,itemKey:ft,registerSize:Ze,display:rt<=Ue})},s(it,rt))}:function(it,rt){var ft=ke(it,rt);return v.exports.createElement(Ig,Se({},Ct,{order:rt,key:ft,item:it,renderItem:we,itemKey:ft,registerSize:Ze,display:rt<=Ue}))},$t,An={order:at?Ue:Number.MAX_SAFE_INTEGER,className:"".concat(k,"-rest"),registerSize:vt,display:at};if(b)b&&($t=v.exports.createElement(S_.Provider,{value:ve(ve({},Ct),An)},b(_e)));else{var xt=x||Hfe;$t=v.exports.createElement(Ig,Se({},Ct,An),typeof xt=="function"?xt(_e):xt)}var Et=v.exports.createElement(C,Se({className:Xe(!ge&&r,m),style:f,ref:e},R),Q.map(Ft),me?$t:null,w&&v.exports.createElement(Ig,Se({},Ct,{responsive:U,responsiveDisabled:!ne,order:Ue,className:"".concat(k,"-suffix"),registerSize:ot,display:!0,style:Mt}),w));return U&&(Et=v.exports.createElement($l,{onResize:je,disabled:!ne},Et)),Et}var Wl=v.exports.forwardRef(Wfe);Wl.displayName="Overflow";Wl.Item=yH;Wl.RESPONSIVE=xH;Wl.INVALIDATE=bH;var C_=function(e){var n=e.className,r=e.customizeIcon,i=e.customizeIconProps,o=e.onMouseDown,a=e.onClick,s=e.children,l;return typeof r=="function"?l=r(i):l=r,v.exports.createElement("span",{className:n,onMouseDown:function(c){c.preventDefault(),o&&o(c)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:a,"aria-hidden":!0},l!==void 0?l:v.exports.createElement("span",{className:Xe(n.split(/\s+/).map(function(u){return"".concat(u,"-icon")}))},s))},jfe=function(e,n){var r,i,o=e.prefixCls,a=e.id,s=e.inputElement,l=e.disabled,u=e.tabIndex,c=e.autoFocus,h=e.autoComplete,f=e.editable,m=e.activeDescendantId,y=e.value,x=e.maxLength,b=e.onKeyDown,w=e.onMouseDown,S=e.onChange,C=e.onPaste,M=e.onCompositionStart,T=e.onCompositionEnd,R=e.open,I=e.attrs,A=s||v.exports.createElement("input",null),N=A,L=N.ref,D=N.props,W=D.onKeyDown,V=D.onChange,B=D.onMouseDown,K=D.onCompositionStart,j=D.onCompositionEnd,G=D.style;return A=v.exports.cloneElement(A,ve(ve(ve({type:"search"},D),{},{id:a,ref:Yl(n,L),disabled:l,tabIndex:u,autoComplete:h||"off",autoFocus:c,className:Xe("".concat(o,"-selection-search-input"),(r=A)===null||r===void 0||(i=r.props)===null||i===void 0?void 0:i.className),role:"combobox","aria-expanded":R,"aria-haspopup":"listbox","aria-owns":"".concat(a,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(a,"_list"),"aria-activedescendant":m},I),{},{value:f?y:"",maxLength:x,readOnly:!f,unselectable:f?null:"on",style:ve(ve({},G),{},{opacity:f?null:0}),onKeyDown:function(Y){b(Y),W&&W(Y)},onMouseDown:function(Y){w(Y),B&&B(Y)},onChange:function(Y){S(Y),V&&V(Y)},onCompositionStart:function(Y){M(Y),K&&K(Y)},onCompositionEnd:function(Y){T(Y),j&&j(Y)},onPaste:C})),A},Y3=v.exports.forwardRef(jfe);Y3.displayName="Input";function wH(t){return Array.isArray(t)?t:t!==void 0?[t]:[]}var Gfe=typeof window!="undefined"&&window.document&&window.document.documentElement,$fe=Gfe;function Kfe(t,e){$fe?v.exports.useLayoutEffect(t,e):v.exports.useEffect(t,e)}var _4=function(e){e.preventDefault(),e.stopPropagation()},qfe=function(e){var n=e.id,r=e.prefixCls,i=e.values,o=e.open,a=e.searchValue,s=e.inputRef,l=e.placeholder,u=e.disabled,c=e.mode,h=e.showSearch,f=e.autoFocus,m=e.autoComplete,y=e.activeDescendantId,x=e.tabIndex,b=e.removeIcon,w=e.maxTagCount,S=e.maxTagTextLength,C=e.maxTagPlaceholder,M=C===void 0?function(be){return"+ ".concat(be.length," ...")}:C,T=e.tagRender,R=e.onToggleOpen,I=e.onRemove,A=e.onInputChange,N=e.onInputPaste,L=e.onInputKeyDown,D=e.onInputMouseDown,W=e.onInputCompositionStart,V=e.onInputCompositionEnd,B=v.exports.useRef(null),K=v.exports.useState(0),j=$e(K,2),G=j[0],H=j[1],Y=v.exports.useState(!1),Z=$e(Y,2),oe=Z[0],re=Z[1],se="".concat(r,"-selection"),ce=o||c==="tags"?a:"",ye=c==="tags"||h&&(o||oe);Kfe(function(){H(B.current.scrollWidth)},[ce]);function fe(be,Ce,Me,ze,Re){return v.exports.createElement("span",{className:Xe("".concat(se,"-item"),ue({},"".concat(se,"-item-disabled"),Me)),title:typeof be=="string"||typeof be=="number"?be.toString():void 0},v.exports.createElement("span",{className:"".concat(se,"-item-content")},Ce),ze&&v.exports.createElement(C_,{className:"".concat(se,"-item-remove"),onMouseDown:_4,onClick:Re,customizeIcon:b},"\xD7"))}function De(be,Ce,Me,ze,Re){var We=function(Ve){_4(Ve),R(!o)};return v.exports.createElement("span",{onMouseDown:We},T({label:Ce,value:be,disabled:Me,closable:ze,onClose:Re}))}function Oe(be){var Ce=be.disabled,Me=be.label,ze=be.value,Re=!u&&!Ce,We=Me;if(typeof S=="number"&&(typeof Me=="string"||typeof Me=="number")){var Ue=String(We);Ue.length>S&&(We="".concat(Ue.slice(0,S),"..."))}var Ve=function(qe){qe&&qe.stopPropagation(),I(be)};return typeof T=="function"?De(ze,We,Ce,Re,Ve):fe(Me,We,Ce,Re,Ve)}function Fe(be){var Ce=typeof M=="function"?M(be):M;return fe(Ce,Ce,!1)}var Ee=v.exports.createElement("div",{className:"".concat(se,"-search"),style:{width:G},onFocus:function(){re(!0)},onBlur:function(){re(!1)}},v.exports.createElement(Y3,{ref:s,open:o,prefixCls:r,id:n,inputElement:null,disabled:u,autoFocus:f,autoComplete:m,editable:ye,activeDescendantId:y,value:ce,onKeyDown:L,onMouseDown:D,onChange:A,onPaste:N,onCompositionStart:W,onCompositionEnd:V,tabIndex:x,attrs:Hf(e,!0)}),v.exports.createElement("span",{ref:B,className:"".concat(se,"-search-mirror"),"aria-hidden":!0},ce,"\xA0")),Ye=v.exports.createElement(Wl,{prefixCls:"".concat(se,"-overflow"),data:i,renderItem:Oe,renderRest:Fe,suffix:Ee,itemKey:"key",maxCount:w});return v.exports.createElement(v.exports.Fragment,null,Ye,!i.length&&!ce&&v.exports.createElement("span",{className:"".concat(se,"-placeholder")},l))},Xfe=function(e){var n=e.inputElement,r=e.prefixCls,i=e.id,o=e.inputRef,a=e.disabled,s=e.autoFocus,l=e.autoComplete,u=e.activeDescendantId,c=e.mode,h=e.open,f=e.values,m=e.placeholder,y=e.tabIndex,x=e.showSearch,b=e.searchValue,w=e.activeValue,S=e.maxLength,C=e.onInputKeyDown,M=e.onInputMouseDown,T=e.onInputChange,R=e.onInputPaste,I=e.onInputCompositionStart,A=e.onInputCompositionEnd,N=v.exports.useState(!1),L=$e(N,2),D=L[0],W=L[1],V=c==="combobox",B=V||x,K=f[0],j=b||"";V&&w&&!D&&(j=w),v.exports.useEffect(function(){V&&W(!1)},[V,w]);var G=c!=="combobox"&&!h&&!x?!1:!!j,H=K&&(typeof K.label=="string"||typeof K.label=="number")?K.label.toString():void 0,Y=function(){if(K)return null;var oe=G?{visibility:"hidden"}:void 0;return v.exports.createElement("span",{className:"".concat(r,"-selection-placeholder"),style:oe},m)};return v.exports.createElement(v.exports.Fragment,null,v.exports.createElement("span",{className:"".concat(r,"-selection-search")},v.exports.createElement(Y3,{ref:o,prefixCls:r,id:i,open:h,inputElement:n,disabled:a,autoFocus:s,autoComplete:l,editable:B,activeDescendantId:u,value:j,onKeyDown:C,onMouseDown:M,onChange:function(oe){W(!0),T(oe)},onPaste:R,onCompositionStart:I,onCompositionEnd:A,tabIndex:y,attrs:Hf(e,!0),maxLength:V?S:void 0})),!V&&K&&!G&&v.exports.createElement("span",{className:"".concat(r,"-selection-item"),title:H},K.label),Y())};function _H(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,e=v.exports.useRef(null),n=v.exports.useRef(null);v.exports.useEffect(function(){return function(){window.clearTimeout(n.current)}},[]);function r(i){(i||e.current===null)&&(e.current=i),window.clearTimeout(n.current),n.current=window.setTimeout(function(){e.current=null},t)}return[function(){return e.current},r]}function Yfe(t){return![st.ESC,st.SHIFT,st.BACKSPACE,st.TAB,st.WIN_KEY,st.ALT,st.META,st.WIN_KEY_RIGHT,st.CTRL,st.SEMICOLON,st.EQUALS,st.CAPS_LOCK,st.CONTEXT_MENU,st.F1,st.F2,st.F3,st.F4,st.F5,st.F6,st.F7,st.F8,st.F9,st.F10,st.F11,st.F12].includes(t)}var Zfe=function(e,n){var r=v.exports.useRef(null),i=v.exports.useRef(!1),o=e.prefixCls,a=e.open,s=e.mode,l=e.showSearch,u=e.tokenWithEnter,c=e.onSearch,h=e.onSearchSubmit,f=e.onToggleOpen,m=e.onInputKeyDown,y=e.domRef;v.exports.useImperativeHandle(n,function(){return{focus:function(){r.current.focus()},blur:function(){r.current.blur()}}});var x=_H(0),b=$e(x,2),w=b[0],S=b[1],C=function(j){var G=j.which;(G===st.UP||G===st.DOWN)&&j.preventDefault(),m&&m(j),G===st.ENTER&&s==="tags"&&!i.current&&!a&&(h==null||h(j.target.value)),Yfe(G)&&f(!0)},M=function(){S(!0)},T=v.exports.useRef(null),R=function(j){c(j,!0,i.current)!==!1&&f(!0)},I=function(){i.current=!0},A=function(j){i.current=!1,s!=="combobox"&&R(j.target.value)},N=function(j){var G=j.target.value;if(u&&T.current&&/[\r\n]/.test(T.current)){var H=T.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");G=G.replace(H,T.current)}T.current=null,R(G)},L=function(j){var G=j.clipboardData,H=G.getData("text");T.current=H},D=function(j){var G=j.target;if(G!==r.current){var H=document.body.style.msTouchAction!==void 0;H?setTimeout(function(){r.current.focus()}):r.current.focus()}},W=function(j){var G=w();j.target!==r.current&&!G&&j.preventDefault(),(s!=="combobox"&&(!l||!G)||!a)&&(a&&c("",!0,!1),f())},V={inputRef:r,onInputKeyDown:C,onInputMouseDown:M,onInputChange:N,onInputPaste:L,onInputCompositionStart:I,onInputCompositionEnd:A},B=s==="multiple"||s==="tags"?v.exports.createElement(qfe,Se({},e,V)):v.exports.createElement(Xfe,Se({},e,V));return v.exports.createElement("div",{ref:y,className:"".concat(o,"-selector"),onClick:D,onMouseDown:W},B)},SH=v.exports.forwardRef(Zfe);SH.displayName="Selector";function Jfe(t,e,n,r){var i=v.exports.useRef(null);i.current={open:e,triggerOpen:n,customizedTrigger:r},v.exports.useEffect(function(){function o(a){var s;if(!(!((s=i.current)===null||s===void 0)&&s.customizedTrigger)){var l=a.target;l.shadowRoot&&a.composed&&(l=a.composedPath()[0]||l),i.current.open&&t().filter(function(u){return u}).every(function(u){return!u.contains(l)&&u!==l})&&i.current.triggerOpen(!1)}}return window.addEventListener("mousedown",o),function(){return window.removeEventListener("mousedown",o)}},[])}function Qfe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,e=v.exports.useState(!1),n=$e(e,2),r=n[0],i=n[1],o=v.exports.useRef(null),a=function(){window.clearTimeout(o.current)};v.exports.useEffect(function(){return a},[]);var s=function(u,c){a(),o.current=window.setTimeout(function(){i(u),c&&c()},t)};return[r,s,a]}var CH=v.exports.createContext(null);function ehe(){return v.exports.useContext(CH)}var the=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","showArrow","inputIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],nhe=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"];function zP(t){return t==="tags"||t==="multiple"}var rhe=v.exports.forwardRef(function(t,e){var n,r,i=t.id,o=t.prefixCls,a=t.className,s=t.showSearch,l=t.tagRender,u=t.direction,c=t.omitDomProps,h=t.displayValues,f=t.onDisplayValuesChange,m=t.emptyOptions,y=t.notFoundContent,x=y===void 0?"Not Found":y,b=t.onClear,w=t.mode,S=t.disabled,C=t.loading,M=t.getInputElement,T=t.getRawInputElement,R=t.open,I=t.defaultOpen,A=t.onDropdownVisibleChange,N=t.activeValue,L=t.onActiveValueChange,D=t.activeDescendantId,W=t.searchValue,V=t.onSearch,B=t.onSearchSplit,K=t.tokenSeparators,j=t.allowClear,G=t.showArrow,H=t.inputIcon,Y=t.clearIcon,Z=t.OptionList,oe=t.animation,re=t.transitionName,se=t.dropdownStyle,ce=t.dropdownClassName,ye=t.dropdownMatchSelectWidth,fe=t.dropdownRender,De=t.dropdownAlign,Oe=t.placement,Fe=t.getPopupContainer,Ee=t.showAction,Ye=Ee===void 0?[]:Ee,be=t.onFocus,Ce=t.onBlur,Me=t.onKeyUp,ze=t.onKeyDown,Re=t.onMouseDown,We=_n(t,the),Ue=zP(w),Ve=(s!==void 0?s:Ue)||w==="combobox",Be=ve({},We);nhe.forEach(function(At){delete Be[At]}),c==null||c.forEach(function(At){delete Be[At]});var qe=v.exports.useState(!1),te=$e(qe,2),k=te[0],$=te[1];v.exports.useEffect(function(){$(V3())},[]);var U=v.exports.useRef(null),ne=v.exports.useRef(null),ge=v.exports.useRef(null),me=v.exports.useRef(null),Q=v.exports.useRef(null),_e=Qfe(),ke=$e(_e,3),we=ke[0],de=ke[1],je=ke[2];v.exports.useImperativeHandle(e,function(){var At,Zt;return{focus:(At=me.current)===null||At===void 0?void 0:At.focus,blur:(Zt=me.current)===null||Zt===void 0?void 0:Zt.blur,scrollTo:function(Nr){var Yn;return(Yn=Q.current)===null||Yn===void 0?void 0:Yn.scrollTo(Nr)}}});var Ze=v.exports.useMemo(function(){var At;if(w!=="combobox")return W;var Zt=(At=h[0])===null||At===void 0?void 0:At.value;return typeof Zt=="string"||typeof Zt=="number"?String(Zt):""},[W,w,h]),vt=w==="combobox"&&typeof M=="function"&&M()||null,ot=typeof T=="function"&&T(),ht=_te(ne,ot==null||(n=ot.props)===null||n===void 0?void 0:n.ref),at=Ra(void 0,{defaultValue:I,value:R}),Mt=$e(at,2),Ct=Mt[0],Ft=Mt[1],$t=Ct,An=!x&&m;(S||An&&$t&&w==="combobox")&&($t=!1);var xt=An?!1:$t,Et=v.exports.useCallback(function(At){var Zt=At!==void 0?At:!$t;$t!==Zt&&!S&&(Ft(Zt),A==null||A(Zt))},[S,$t,Ft,A]),it=v.exports.useMemo(function(){return(K||[]).some(function(At){return[`
`,`\r
`].includes(At)})},[K]),rt=function(Zt,br,Nr){var Yn=!0,fr=Zt;L==null||L(null);var $r=Nr?null:doe(Zt,K);return w!=="combobox"&&$r&&(fr="",B==null||B($r),Et(!1),Yn=!1),V&&Ze!==fr&&V(fr,{source:br?"typing":"effect"}),Yn},ft=function(Zt){!Zt||!Zt.trim()||V(Zt,{source:"submit"})};v.exports.useEffect(function(){!$t&&!Ue&&w!=="combobox"&&rt("",!1,!1)},[$t]),v.exports.useEffect(function(){Ct&&S&&Ft(!1),S&&de(!1)},[S]);var bt=_H(),Yt=$e(bt,2),Sn=Yt[0],he=Yt[1],Ae=function(Zt){var br=Sn(),Nr=Zt.which;if(Nr===st.ENTER&&(w!=="combobox"&&Zt.preventDefault(),$t||Et(!0)),he(!!Ze),Nr===st.BACKSPACE&&!br&&Ue&&!Ze&&h.length){for(var Yn=mt(h),fr=null,$r=Yn.length-1;$r>=0;$r-=1){var Tr=Yn[$r];if(!Tr.disabled){Yn.splice($r,1),fr=Tr;break}}fr&&f(Yn,{type:"remove",values:[fr]})}for(var Kr=arguments.length,ho=new Array(Kr>1?Kr-1:0),po=1;po<Kr;po++)ho[po-1]=arguments[po];if($t&&Q.current){var Ii;(Ii=Q.current).onKeyDown.apply(Ii,[Zt].concat(ho))}ze==null||ze.apply(void 0,[Zt].concat(ho))},Ge=function(Zt){for(var br=arguments.length,Nr=new Array(br>1?br-1:0),Yn=1;Yn<br;Yn++)Nr[Yn-1]=arguments[Yn];if($t&&Q.current){var fr;(fr=Q.current).onKeyUp.apply(fr,[Zt].concat(Nr))}Me==null||Me.apply(void 0,[Zt].concat(Nr))},Ie=function(Zt){var br=h.filter(function(Nr){return Nr!==Zt});f(br,{type:"remove",values:[Zt]})},Je=v.exports.useRef(!1),Rt=function(){de(!0),S||(be&&!Je.current&&be.apply(void 0,arguments),Ye.includes("focus")&&Et(!0)),Je.current=!0},Dt=function(){de(!1,function(){Je.current=!1,Et(!1)}),!S&&(Ze&&(w==="tags"?V(Ze,{source:"submit"}):w==="multiple"&&V("",{source:"blur"})),Ce&&Ce.apply(void 0,arguments))},Pt=[];v.exports.useEffect(function(){return function(){Pt.forEach(function(At){return clearTimeout(At)}),Pt.splice(0,Pt.length)}},[]);var zt=function(Zt){var br,Nr=Zt.target,Yn=(br=ge.current)===null||br===void 0?void 0:br.getPopupElement();if(Yn&&Yn.contains(Nr)){var fr=setTimeout(function(){var ho=Pt.indexOf(fr);if(ho!==-1&&Pt.splice(ho,1),je(),!k&&!Yn.contains(document.activeElement)){var po;(po=me.current)===null||po===void 0||po.focus()}});Pt.push(fr)}for(var $r=arguments.length,Tr=new Array($r>1?$r-1:0),Kr=1;Kr<$r;Kr++)Tr[Kr-1]=arguments[Kr];Re==null||Re.apply(void 0,[Zt].concat(Tr))},sn=v.exports.useState(null),Kt=$e(sn,2),cn=Kt[0],gt=Kt[1],Tt=v.exports.useState({}),qt=$e(Tt,2),Dn=qt[1];function rn(){Dn({})}Uf(function(){if(xt){var At,Zt=Math.ceil((At=U.current)===null||At===void 0?void 0:At.offsetWidth);cn!==Zt&&!Number.isNaN(Zt)&&gt(Zt)}},[xt]);var Nt;ot&&(Nt=function(Zt){Et(Zt)}),Jfe(function(){var At;return[U.current,(At=ge.current)===null||At===void 0?void 0:At.getPopupElement()]},xt,Et,!!ot);var ur=v.exports.useMemo(function(){return ve(ve({},t),{},{notFoundContent:x,open:$t,triggerOpen:xt,id:i,showSearch:Ve,multiple:Ue,toggleOpen:Et})},[t,x,xt,$t,i,Ve,Ue,Et]),vn=G!==void 0?G:C||!Ue&&w!=="combobox",dr;vn&&(dr=v.exports.createElement(C_,{className:Xe("".concat(o,"-arrow"),ue({},"".concat(o,"-arrow-loading"),C)),customizeIcon:H,customizeIconProps:{loading:C,searchValue:Ze,open:$t,focused:we,showSearch:Ve}}));var Or,Ci=function(){b==null||b(),f([],{type:"clear",values:h}),rt("",!1,!1)};!S&&j&&(h.length||Ze)&&(Or=v.exports.createElement(C_,{className:"".concat(o,"-clear"),onMouseDown:Ci,customizeIcon:Y},"\xD7"));var hi=v.exports.createElement(Z,{ref:Q}),tn=Xe(o,a,(r={},ue(r,"".concat(o,"-focused"),we),ue(r,"".concat(o,"-multiple"),Ue),ue(r,"".concat(o,"-single"),!Ue),ue(r,"".concat(o,"-allow-clear"),j),ue(r,"".concat(o,"-show-arrow"),vn),ue(r,"".concat(o,"-disabled"),S),ue(r,"".concat(o,"-loading"),C),ue(r,"".concat(o,"-open"),$t),ue(r,"".concat(o,"-customize-input"),vt),ue(r,"".concat(o,"-show-search"),Ve),r)),hn=v.exports.createElement(gH,{ref:ge,disabled:S,prefixCls:o,visible:xt,popupElement:hi,containerWidth:cn,animation:oe,transitionName:re,dropdownStyle:se,dropdownClassName:ce,direction:u,dropdownMatchSelectWidth:ye,dropdownRender:fe,dropdownAlign:De,placement:Oe,getPopupContainer:Fe,empty:m,getTriggerDOMNode:function(){return ne.current},onPopupVisibleChange:Nt,onPopupMouseEnter:rn},ot?v.exports.cloneElement(ot,{ref:ht}):v.exports.createElement(SH,Se({},t,{domRef:ne,prefixCls:o,inputElement:vt,ref:me,id:i,showSearch:Ve,mode:w,activeDescendantId:D,tagRender:l,values:h,open:$t,onToggleOpen:Et,activeValue:N,searchValue:Ze,onSearch:rt,onSearchSubmit:ft,onRemove:Ie,tokenWithEnter:it}))),Rn;return ot?Rn=hn:Rn=v.exports.createElement("div",Se({className:tn},Be,{ref:U,onMouseDown:zt,onKeyDown:Ae,onKeyUp:Ge,onFocus:Rt,onBlur:Dt}),we&&!$t&&v.exports.createElement("span",{style:{width:0,height:0,display:"flex",overflow:"hidden",opacity:0},"aria-live":"polite"},"".concat(h.map(function(At){var Zt=At.label,br=At.value;return["number","string"].includes(un(Zt))?Zt:br}).join(", "))),hn,dr,Or),v.exports.createElement(CH.Provider,{value:ur},Rn)});function S4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function C4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S4(Object(n),!0).forEach(function(r){EH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EH(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var MH=v.exports.forwardRef(function(t,e){var n=t.height,r=t.offset,i=t.children,o=t.prefixCls,a=t.onInnerResize,s={},l={display:"flex",flexDirection:"column"};return r!==void 0&&(s={height:n,position:"relative",overflow:"hidden"},l=C4(C4({},l),{},{transform:"translateY(".concat(r,"px)"),position:"absolute",left:0,right:0,top:0})),v.exports.createElement("div",{style:s},v.exports.createElement($l,{onResize:function(c){var h=c.offsetHeight;h&&a&&a()}},v.exports.createElement("div",{style:l,className:Xe(EH({},"".concat(o,"-holder-inner"),o)),ref:e},i)))});MH.displayName="Filler";function BP(t){return BP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BP(t)}function E4(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ihe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ohe(t,e,n){return e&&M4(t.prototype,e),n&&M4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ahe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VP(t,e)}function VP(t,e){return VP=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},VP(t,e)}function she(t){var e=che();return function(){var r=E_(t),i;if(e){var o=E_(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return lhe(this,i)}}function lhe(t,e){if(e&&(BP(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uhe(t)}function uhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function che(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function E_(t){return E_=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},E_(t)}var dhe=20;function T4(t){return"touches"in t?t.touches[0].pageY:t.pageY}var fhe=function(t){ahe(n,t);var e=she(n);function n(){var r;ihe(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),r.moveRaf=null,r.scrollbarRef=v.exports.createRef(),r.thumbRef=v.exports.createRef(),r.visibleTimeout=null,r.state={dragging:!1,pageY:null,startTop:null,visible:!1},r.delayHidden=function(){clearTimeout(r.visibleTimeout),r.setState({visible:!0}),r.visibleTimeout=setTimeout(function(){r.setState({visible:!1})},2e3)},r.onScrollbarTouchStart=function(s){s.preventDefault()},r.onContainerMouseDown=function(s){s.stopPropagation(),s.preventDefault()},r.patchEvents=function(){window.addEventListener("mousemove",r.onMouseMove),window.addEventListener("mouseup",r.onMouseUp),r.thumbRef.current.addEventListener("touchmove",r.onMouseMove),r.thumbRef.current.addEventListener("touchend",r.onMouseUp)},r.removeEvents=function(){var s;window.removeEventListener("mousemove",r.onMouseMove),window.removeEventListener("mouseup",r.onMouseUp),(s=r.scrollbarRef.current)===null||s===void 0||s.removeEventListener("touchstart",r.onScrollbarTouchStart),r.thumbRef.current&&(r.thumbRef.current.removeEventListener("touchstart",r.onMouseDown),r.thumbRef.current.removeEventListener("touchmove",r.onMouseMove),r.thumbRef.current.removeEventListener("touchend",r.onMouseUp)),lr.cancel(r.moveRaf)},r.onMouseDown=function(s){var l=r.props.onStartMove;r.setState({dragging:!0,pageY:T4(s),startTop:r.getTop()}),l(),r.patchEvents(),s.stopPropagation(),s.preventDefault()},r.onMouseMove=function(s){var l=r.state,u=l.dragging,c=l.pageY,h=l.startTop,f=r.props.onScroll;if(lr.cancel(r.moveRaf),u){var m=T4(s)-c,y=h+m,x=r.getEnableScrollRange(),b=r.getEnableHeightRange(),w=b?y/b:0,S=Math.ceil(w*x);r.moveRaf=lr(function(){f(S)})}},r.onMouseUp=function(){var s=r.props.onStopMove;r.setState({dragging:!1}),s(),r.removeEvents()},r.getSpinHeight=function(){var s=r.props,l=s.height,u=s.count,c=l/u*10;return c=Math.max(c,dhe),c=Math.min(c,l/2),Math.floor(c)},r.getEnableScrollRange=function(){var s=r.props,l=s.scrollHeight,u=s.height;return l-u||0},r.getEnableHeightRange=function(){var s=r.props.height,l=r.getSpinHeight();return s-l||0},r.getTop=function(){var s=r.props.scrollTop,l=r.getEnableScrollRange(),u=r.getEnableHeightRange();if(s===0||l===0)return 0;var c=s/l;return c*u},r.showScroll=function(){var s=r.props,l=s.height,u=s.scrollHeight;return u>l},r}return ohe(n,[{key:"componentDidMount",value:function(){this.scrollbarRef.current.addEventListener("touchstart",this.onScrollbarTouchStart),this.thumbRef.current.addEventListener("touchstart",this.onMouseDown)}},{key:"componentDidUpdate",value:function(i){i.scrollTop!==this.props.scrollTop&&this.delayHidden()}},{key:"componentWillUnmount",value:function(){this.removeEvents(),clearTimeout(this.visibleTimeout)}},{key:"render",value:function(){var i=this.state,o=i.dragging,a=i.visible,s=this.props.prefixCls,l=this.getSpinHeight(),u=this.getTop(),c=this.showScroll(),h=c&&a;return v.exports.createElement("div",{ref:this.scrollbarRef,className:Xe("".concat(s,"-scrollbar"),E4({},"".concat(s,"-scrollbar-show"),c)),style:{width:8,top:0,bottom:0,right:0,position:"absolute",display:h?null:"none"},onMouseDown:this.onContainerMouseDown,onMouseMove:this.delayHidden},v.exports.createElement("div",{ref:this.thumbRef,className:Xe("".concat(s,"-scrollbar-thumb"),E4({},"".concat(s,"-scrollbar-thumb-moving"),o)),style:{width:"100%",height:l,top:u,left:0,position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"},onMouseDown:this.onMouseDown}))}}]),n}(v.exports.Component);function hhe(t){var e=t.children,n=t.setRef,r=v.exports.useCallback(function(i){n(i)},[]);return v.exports.cloneElement(e,{ref:r})}function phe(t,e,n,r,i,o){var a=o.getKey;return t.slice(e,n+1).map(function(s,l){var u=e+l,c=i(s,u,{}),h=a(s);return v.exports.createElement(hhe,{key:h,setRef:function(m){return r(s,m)}},c)})}function mhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vhe(t,e,n){return e&&P4(t.prototype,e),n&&P4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var ghe=function(){function t(){mhe(this,t),this.maps=void 0,this.maps=Object.create(null)}return vhe(t,[{key:"set",value:function(n,r){this.maps[n]=r}},{key:"get",value:function(n){return this.maps[n]}}]),t}();function yhe(t,e){return _he(t)||whe(t,e)||bhe(t,e)||xhe()}function xhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bhe(t,e){if(!!t){if(typeof t=="string")return A4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A4(t,e)}}function A4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function whe(t,e){var n=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,a,s;try{for(n=n.call(t);!(i=(a=n.next()).done)&&(r.push(a.value),!(e&&r.length===e));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw s}}return r}}function _he(t){if(Array.isArray(t))return t}function She(t,e,n){var r=v.exports.useState(0),i=yhe(r,2),o=i[0],a=i[1],s=v.exports.useRef(new Map),l=v.exports.useRef(new ghe),u=v.exports.useRef();function c(){lr.cancel(u.current)}function h(){c(),u.current=lr(function(){s.current.forEach(function(m,y){if(m&&m.offsetParent){var x=f0(m),b=x.offsetHeight;l.current.get(y)!==b&&l.current.set(y,x.offsetHeight)}}),a(function(m){return m+1})})}function f(m,y){var x=t(m),b=s.current.get(x);y?(s.current.set(x,y),h()):s.current.delete(x),!b!=!y&&(y?e==null||e(m):n==null||n(m))}return v.exports.useEffect(function(){return c},[]),[f,h,l.current,o]}function UP(t){return UP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UP(t)}function Che(t,e,n,r,i,o,a,s){var l=v.exports.useRef();return function(u){if(u==null){s();return}if(lr.cancel(l.current),typeof u=="number")a(u);else if(u&&UP(u)==="object"){var c,h=u.align;"index"in u?c=u.index:c=e.findIndex(function(x){return i(x)===u.key});var f=u.offset,m=f===void 0?0:f,y=function x(b,w){if(!(b<0||!t.current)){var S=t.current.clientHeight,C=!1,M=w;if(S){for(var T=w||h,R=0,I=0,A=0,N=Math.min(e.length,c),L=0;L<=N;L+=1){var D=i(e[L]);I=R;var W=n.get(D);A=I+(W===void 0?r:W),R=A,L===c&&W===void 0&&(C=!0)}var V=null;switch(T){case"top":V=I-m;break;case"bottom":V=A-S+m;break;default:{var B=t.current.scrollTop,K=B+S;I<B?M="top":A>K&&(M="bottom")}}V!==null&&V!==t.current.scrollTop&&a(V)}l.current=lr(function(){C&&o(),x(b-1,M)})}};y(3)}}}function Ehe(t,e,n){var r=t.length,i=e.length,o,a;if(r===0&&i===0)return null;r<i?(o=t,a=e):(o=e,a=t);var s={__EMPTY_ITEM__:!0};function l(y){return y!==void 0?n(y):s}for(var u=null,c=Math.abs(r-i)!==1,h=0;h<a.length;h+=1){var f=l(o[h]),m=l(a[h]);if(f!==m){u=h,c=c||f!==l(a[h+1]);break}}return u===null?null:{index:u,multiple:c}}function R4(t,e){return Ahe(t)||Phe(t,e)||The(t,e)||Mhe()}function Mhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function The(t,e){if(!!t){if(typeof t=="string")return O4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O4(t,e)}}function O4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Phe(t,e){var n=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,a,s;try{for(n=n.call(t);!(i=(a=n.next()).done)&&(r.push(a.value),!(e&&r.length===e));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw s}}return r}}function Ahe(t){if(Array.isArray(t))return t}function Rhe(t,e,n){var r=v.exports.useState(t),i=R4(r,2),o=i[0],a=i[1],s=v.exports.useState(null),l=R4(s,2),u=l[0],c=l[1];return v.exports.useEffect(function(){var h=Ehe(o||[],t||[],e);(h==null?void 0:h.index)!==void 0&&(n==null||n(h.index),c(t[h.index])),a(t)},[t]),[u]}function HP(t){return HP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HP(t)}var Ohe=(typeof navigator=="undefined"?"undefined":HP(navigator))==="object"&&/Firefox/i.test(navigator.userAgent),TH=function(t,e){var n=v.exports.useRef(!1),r=v.exports.useRef(null);function i(){clearTimeout(r.current),n.current=!0,r.current=setTimeout(function(){n.current=!1},50)}var o=v.exports.useRef({top:t,bottom:e});return o.current.top=t,o.current.bottom=e,function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=a<0&&o.current.top||a>0&&o.current.bottom;return s&&l?(clearTimeout(r.current),n.current=!1):(!l||n.current)&&i(),!n.current&&l}};function Nhe(t,e,n,r){var i=v.exports.useRef(0),o=v.exports.useRef(null),a=v.exports.useRef(null),s=v.exports.useRef(!1),l=TH(e,n);function u(h){if(!!t){lr.cancel(o.current);var f=h.deltaY;i.current+=f,a.current=f,!l(f)&&(Ohe||h.preventDefault(),o.current=lr(function(){var m=s.current?10:1;r(i.current*m),i.current=0}))}}function c(h){!t||(s.current=h.detail===a.current)}return[u,c]}var khe=14/15;function Ihe(t,e,n){var r=v.exports.useRef(!1),i=v.exports.useRef(0),o=v.exports.useRef(null),a=v.exports.useRef(null),s,l=function(f){if(r.current){var m=Math.ceil(f.touches[0].pageY),y=i.current-m;i.current=m,n(y)&&f.preventDefault(),clearInterval(a.current),a.current=setInterval(function(){y*=khe,(!n(y,!0)||Math.abs(y)<=.1)&&clearInterval(a.current)},16)}},u=function(){r.current=!1,s()},c=function(f){s(),f.touches.length===1&&!r.current&&(r.current=!0,i.current=Math.ceil(f.touches[0].pageY),o.current=f.target,o.current.addEventListener("touchmove",l),o.current.addEventListener("touchend",u))};s=function(){o.current&&(o.current.removeEventListener("touchmove",l),o.current.removeEventListener("touchend",u))},Uf(function(){return t&&e.current.addEventListener("touchstart",c),function(){var h;(h=e.current)===null||h===void 0||h.removeEventListener("touchstart",c),s(),clearInterval(a.current)}},[t])}var Lhe=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","component","onScroll","onVisibleChange"];function WP(){return WP=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WP.apply(this,arguments)}function N4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N4(Object(n),!0).forEach(function(r){PH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PH(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hv(t,e){return Bhe(t)||zhe(t,e)||Fhe(t,e)||Dhe()}function Dhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fhe(t,e){if(!!t){if(typeof t=="string")return k4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k4(t,e)}}function k4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zhe(t,e){var n=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,a,s;try{for(n=n.call(t);!(i=(a=n.next()).done)&&(r.push(a.value),!(e&&r.length===e));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw s}}return r}}function Bhe(t){if(Array.isArray(t))return t}function Vhe(t,e){if(t==null)return{};var n=Uhe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function Uhe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Hhe=[],Whe={overflowY:"auto",overflowAnchor:"none"};function jhe(t,e){var n=t.prefixCls,r=n===void 0?"rc-virtual-list":n,i=t.className,o=t.height,a=t.itemHeight,s=t.fullHeight,l=s===void 0?!0:s,u=t.style,c=t.data,h=t.children,f=t.itemKey,m=t.virtual,y=t.component,x=y===void 0?"div":y,b=t.onScroll,w=t.onVisibleChange,S=Vhe(t,Lhe),C=!!(m!==!1&&o&&a),M=C&&c&&a*c.length>o,T=v.exports.useState(0),R=Hv(T,2),I=R[0],A=R[1],N=v.exports.useState(!1),L=Hv(N,2),D=L[0],W=L[1],V=Xe(r,i),B=c||Hhe,K=v.exports.useRef(),j=v.exports.useRef(),G=v.exports.useRef(),H=v.exports.useCallback(function(we){return typeof f=="function"?f(we):we==null?void 0:we[f]},[f]),Y={getKey:H};function Z(we){A(function(de){var je;typeof we=="function"?je=we(de):je=we;var Ze=Ve(je);return K.current.scrollTop=Ze,Ze})}var oe=v.exports.useRef({start:0,end:B.length}),re=v.exports.useRef(),se=Rhe(B,H),ce=Hv(se,1),ye=ce[0];re.current=ye;var fe=She(H,null,null),De=Hv(fe,4),Oe=De[0],Fe=De[1],Ee=De[2],Ye=De[3],be=v.exports.useMemo(function(){if(!C)return{scrollHeight:void 0,start:0,end:B.length-1,offset:void 0};if(!M){var we;return{scrollHeight:((we=j.current)===null||we===void 0?void 0:we.offsetHeight)||0,start:0,end:B.length-1,offset:void 0}}for(var de=0,je,Ze,vt,ot=B.length,ht=0;ht<ot;ht+=1){var at=B[ht],Mt=H(at),Ct=Ee.get(Mt),Ft=de+(Ct===void 0?a:Ct);Ft>=I&&je===void 0&&(je=ht,Ze=de),Ft>I+o&&vt===void 0&&(vt=ht),de=Ft}return je===void 0&&(je=0,Ze=0),vt===void 0&&(vt=B.length-1),vt=Math.min(vt+1,B.length),{scrollHeight:de,start:je,end:vt,offset:Ze}},[M,C,I,B,Ye,o]),Ce=be.scrollHeight,Me=be.start,ze=be.end,Re=be.offset;oe.current.start=Me,oe.current.end=ze;var We=Ce-o,Ue=v.exports.useRef(We);Ue.current=We;function Ve(we){var de=we;return Number.isNaN(Ue.current)||(de=Math.min(de,Ue.current)),de=Math.max(de,0),de}var Be=I<=0,qe=I>=We,te=TH(Be,qe);function k(we){var de=we;Z(de)}function $(we){var de=we.currentTarget.scrollTop;de!==I&&Z(de),b==null||b(we)}var U=Nhe(C,Be,qe,function(we){Z(function(de){var je=de+we;return je})}),ne=Hv(U,2),ge=ne[0],me=ne[1];Ihe(C,K,function(we,de){return te(we,de)?!1:(ge({preventDefault:function(){},deltaY:we}),!0)}),Uf(function(){function we(de){C&&de.preventDefault()}return K.current.addEventListener("wheel",ge),K.current.addEventListener("DOMMouseScroll",me),K.current.addEventListener("MozMousePixelScroll",we),function(){K.current&&(K.current.removeEventListener("wheel",ge),K.current.removeEventListener("DOMMouseScroll",me),K.current.removeEventListener("MozMousePixelScroll",we))}},[C]);var Q=Che(K,B,Ee,a,H,Fe,Z,function(){var we;(we=G.current)===null||we===void 0||we.delayHidden()});v.exports.useImperativeHandle(e,function(){return{scrollTo:Q}}),Uf(function(){if(w){var we=B.slice(Me,ze+1);w(we,B)}},[Me,ze,B]);var _e=phe(B,Me,ze,Oe,h,Y),ke=null;return o&&(ke=zM(PH({},l?"height":"maxHeight",o),Whe),C&&(ke.overflowY="hidden",D&&(ke.pointerEvents="none"))),v.exports.createElement("div",WP({style:zM(zM({},u),{},{position:"relative"}),className:V},S),v.exports.createElement(x,{className:"".concat(r,"-holder"),style:ke,ref:K,onScroll:$},v.exports.createElement(MH,{prefixCls:r,height:Ce,offset:Re,onInnerResize:Fe,ref:j},_e)),C&&v.exports.createElement(fhe,{ref:G,prefixCls:r,scrollTop:I,height:o,scrollHeight:Ce,count:B.length,onScroll:k,onStartMove:function(){W(!0)},onStopMove:function(){W(!1)}}))}var Z3=v.exports.forwardRef(jhe);Z3.displayName="List";function Ghe(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}var AH=v.exports.createContext(null),$he=["disabled","title","children","style","className"];function I4(t){return typeof t=="string"||typeof t=="number"}var Khe=function(e,n){var r=ehe(),i=r.prefixCls,o=r.id,a=r.open,s=r.multiple,l=r.mode,u=r.searchValue,c=r.toggleOpen,h=r.notFoundContent,f=r.onPopupScroll,m=v.exports.useContext(AH),y=m.flattenOptions,x=m.onActiveValue,b=m.defaultActiveFirstOption,w=m.onSelect,S=m.menuItemSelectedIcon,C=m.rawValues,M=m.fieldNames,T=m.virtual,R=m.listHeight,I=m.listItemHeight,A="".concat(i,"-item"),N=W1(function(){return y},[a,y],function(ce,ye){return ye[0]&&ce[1]!==ye[1]}),L=v.exports.useRef(null),D=function(ye){ye.preventDefault()},W=function(ye){L.current&&L.current.scrollTo(typeof ye=="number"?{index:ye}:ye)},V=function(ye){for(var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,De=N.length,Oe=0;Oe<De;Oe+=1){var Fe=(ye+Oe*fe+De)%De,Ee=N[Fe],Ye=Ee.group,be=Ee.data;if(!Ye&&!be.disabled)return Fe}return-1},B=v.exports.useState(function(){return V(0)}),K=$e(B,2),j=K[0],G=K[1],H=function(ye){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;G(ye);var De={source:fe?"keyboard":"mouse"},Oe=N[ye];if(!Oe){x(null,-1,De);return}x(Oe.value,ye,De)};v.exports.useEffect(function(){H(b!==!1?V(0):-1)},[N.length,u]);var Y=v.exports.useCallback(function(ce){return C.has(ce)&&l!=="combobox"},[l,mt(C).toString()]);v.exports.useEffect(function(){var ce=setTimeout(function(){if(!s&&a&&C.size===1){var fe=Array.from(C)[0],De=N.findIndex(function(Oe){var Fe=Oe.data;return Fe.value===fe});De!==-1&&(H(De),W(De))}});if(a){var ye;(ye=L.current)===null||ye===void 0||ye.scrollTo(void 0)}return function(){return clearTimeout(ce)}},[a,u]);var Z=function(ye){ye!==void 0&&w(ye,{selected:!C.has(ye)}),s||c(!1)};if(v.exports.useImperativeHandle(n,function(){return{onKeyDown:function(ye){var fe=ye.which,De=ye.ctrlKey;switch(fe){case st.N:case st.P:case st.UP:case st.DOWN:{var Oe=0;if(fe===st.UP?Oe=-1:fe===st.DOWN?Oe=1:Ghe()&&De&&(fe===st.N?Oe=1:fe===st.P&&(Oe=-1)),Oe!==0){var Fe=V(j+Oe,Oe);W(Fe),H(Fe,!0)}break}case st.ENTER:{var Ee=N[j];Ee&&!Ee.data.disabled?Z(Ee.value):Z(void 0),a&&ye.preventDefault();break}case st.ESC:c(!1),a&&ye.stopPropagation()}},onKeyUp:function(){},scrollTo:function(ye){W(ye)}}}),N.length===0)return v.exports.createElement("div",{role:"listbox",id:"".concat(o,"_list"),className:"".concat(A,"-empty"),onMouseDown:D},h);var oe=Object.keys(M).map(function(ce){return M[ce]}),re=function(ye){return ye.label},se=function(ye){var fe=N[ye];if(!fe)return null;var De=fe.data||{},Oe=De.value,Fe=fe.group,Ee=Hf(De,!0),Ye=re(fe);return fe?v.exports.createElement("div",Se({"aria-label":typeof Ye=="string"&&!Fe?Ye:null},Ee,{key:ye,role:Fe?"presentation":"option",id:"".concat(o,"_list_").concat(ye),"aria-selected":Y(Oe)}),Oe):null};return v.exports.createElement(v.exports.Fragment,null,v.exports.createElement("div",{role:"listbox",id:"".concat(o,"_list"),style:{height:0,width:0,overflow:"hidden"}},se(j-1),se(j),se(j+1)),v.exports.createElement(Z3,{itemKey:"key",ref:L,data:N,height:R,itemHeight:I,fullHeight:!1,onMouseDown:D,onScroll:f,virtual:T},function(ce,ye){var fe,De=ce.group,Oe=ce.groupOption,Fe=ce.data,Ee=ce.label,Ye=ce.value,be=Fe.key;if(De){var Ce,Me=(Ce=Fe.title)!==null&&Ce!==void 0?Ce:I4(Ee)&&Ee;return v.exports.createElement("div",{className:Xe(A,"".concat(A,"-group")),title:Me},Ee!==void 0?Ee:be)}var ze=Fe.disabled,Re=Fe.title;Fe.children;var We=Fe.style,Ue=Fe.className,Ve=_n(Fe,$he),Be=No(Ve,oe),qe=Y(Ye),te="".concat(A,"-option"),k=Xe(A,te,Ue,(fe={},ue(fe,"".concat(te,"-grouped"),Oe),ue(fe,"".concat(te,"-active"),j===ye&&!ze),ue(fe,"".concat(te,"-disabled"),ze),ue(fe,"".concat(te,"-selected"),qe),fe)),$=re(ce),U=!S||typeof S=="function"||qe,ne=typeof $=="number"?$:$||Ye,ge=I4(ne)?ne.toString():void 0;return Re!==void 0&&(ge=Re),v.exports.createElement("div",Se({},Hf(Be),{"aria-selected":qe,className:k,title:ge,onMouseMove:function(){j===ye||ze||H(ye)},onClick:function(){ze||Z(Ye)},style:We}),v.exports.createElement("div",{className:"".concat(te,"-content")},ne),v.exports.isValidElement(S)||qe,U&&v.exports.createElement(C_,{className:"".concat(A,"-option-state"),customizeIcon:S,customizeIconProps:{isSelected:qe}},qe?"\u2713":null))}))},RH=v.exports.forwardRef(Khe);RH.displayName="OptionList";var J3=function(){return null};J3.isSelectOption=!0;var Q3=function(){return null};Q3.isSelectOptGroup=!0;var qhe=["children","value"],Xhe=["children"];function Yhe(t){var e=t.key,n=t.props,r=n.children,i=n.value,o=_n(n,qhe);return ve({key:e,value:i!==void 0?i:e,children:r},o)}function OH(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return cl(t).map(function(n,r){if(!v.exports.isValidElement(n)||!n.type)return null;var i=n.type.isSelectOptGroup,o=n.key,a=n.props,s=a.children,l=_n(a,Xhe);return e||!i?Yhe(n):ve(ve({key:"__RC_SELECT_GRP__".concat(o===null?r:o,"__"),label:o},l),{},{options:OH(s)})}).filter(function(n){return n})}function Zhe(t,e,n,r,i){return v.exports.useMemo(function(){var o=t,a=!t;a&&(o=OH(e));var s=new Map,l=new Map,u=function(f,m,y){y&&typeof y=="string"&&f.set(m[y],m)};function c(h){for(var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,m=0;m<h.length;m+=1){var y=h[m];!y[n.options]||f?(s.set(y[n.value],y),u(l,y,n.label),u(l,y,r),u(l,y,i)):c(y[n.options],!0)}}return c(o),{options:o,valueOptions:s,labelOptions:l}},[t,e,n,r,i])}var L4=0,Jhe=pl();function Qhe(){var t;return Jhe?(t=L4,L4+=1):t="TEST_OR_SSR",t}function epe(t){var e=v.exports.useState(),n=$e(e,2),r=n[0],i=n[1];return v.exports.useEffect(function(){i("rc_select_".concat(Qhe()))},[]),t||r}function D4(t){var e=v.exports.useRef();e.current=t;var n=v.exports.useCallback(function(){return e.current.apply(e,arguments)},[]);return n}function BM(t,e){return wH(t).join("").toUpperCase().includes(e)}var tpe=function(t,e,n,r,i){return v.exports.useMemo(function(){if(!n||r===!1)return t;var o=e.options,a=e.label,s=e.value,l=[],u=typeof r=="function",c=n.toUpperCase(),h=u?r:function(m,y){return i?BM(y[i],c):y[o]?BM(y[a!=="children"?a:"label"],c):BM(y[s],c)},f=u?function(m){return TP(m)}:function(m){return m};return t.forEach(function(m){if(m[o]){var y=h(n,f(m));if(y)l.push(m);else{var x=m[o].filter(function(b){return h(n,f(b))});x.length&&l.push(ve(ve({},m),{},ue({},o,x)))}return}h(n,f(m))&&l.push(m)}),l},[t,r,i,n,e])},npe=function(t,e){var n=v.exports.useRef({values:new Map,options:new Map}),r=v.exports.useMemo(function(){var o=n.current,a=o.values,s=o.options,l=t.map(function(h){if(h.label===void 0){var f;return ve(ve({},h),{},{label:(f=a.get(h.value))===null||f===void 0?void 0:f.label})}return h}),u=new Map,c=new Map;return l.forEach(function(h){u.set(h.value,h),c.set(h.value,e.get(h.value)||s.get(h.value))}),n.current.values=u,n.current.options=c,l},[t,e]),i=v.exports.useCallback(function(o){return e.get(o)||n.current.options.get(o)},[e]);return[r,i]},rpe=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"],ipe=["inputValue"];function ope(t){return!t||un(t)!=="object"}var ape=v.exports.forwardRef(function(t,e){var n=t.id,r=t.mode,i=t.prefixCls,o=i===void 0?"rc-select":i,a=t.backfill,s=t.fieldNames,l=t.inputValue,u=t.searchValue,c=t.onSearch,h=t.autoClearSearchValue,f=h===void 0?!0:h,m=t.onSelect,y=t.onDeselect,x=t.dropdownMatchSelectWidth,b=x===void 0?!0:x,w=t.filterOption,S=t.filterSort,C=t.optionFilterProp,M=t.optionLabelProp,T=t.options,R=t.children,I=t.defaultActiveFirstOption,A=t.menuItemSelectedIcon,N=t.virtual,L=t.listHeight,D=L===void 0?200:L,W=t.listItemHeight,V=W===void 0?20:W,B=t.value,K=t.defaultValue,j=t.labelInValue,G=t.onChange,H=_n(t,rpe),Y=epe(n),Z=zP(r),oe=!!(!T&&R),re=v.exports.useMemo(function(){return w===void 0&&r==="combobox"?!1:w},[w,r]),se=v.exports.useMemo(function(){return GU(s,oe)},[JSON.stringify(s),oe]),ce=Ra("",{value:u!==void 0?u:l,postState:function(rt){return rt||""}}),ye=$e(ce,2),fe=ye[0],De=ye[1],Oe=Zhe(T,R,se,C,M),Fe=Oe.valueOptions,Ee=Oe.labelOptions,Ye=Oe.options,be=v.exports.useCallback(function(it){var rt=wH(it);return rt.map(function(ft){var bt,Yt,Sn,he;if(ope(ft))bt=ft;else{var Ae;Sn=ft.key,Yt=ft.label,bt=(Ae=ft.value)!==null&&Ae!==void 0?Ae:Sn}var Ge=Fe.get(bt);if(Ge){var Ie;Yt===void 0&&(Yt=Ge==null?void 0:Ge[M||se.label]),Sn===void 0&&(Sn=(Ie=Ge==null?void 0:Ge.key)!==null&&Ie!==void 0?Ie:bt),he=Ge==null?void 0:Ge.disabled}return{label:Yt,value:bt,key:Sn,disabled:he}})},[se,M,Fe]),Ce=Ra(K,{value:B}),Me=$e(Ce,2),ze=Me[0],Re=Me[1],We=v.exports.useMemo(function(){var it,rt=be(ze);return r==="combobox"&&!(!((it=rt[0])===null||it===void 0)&&it.value)?[]:rt},[ze,be,r]),Ue=npe(We,Fe),Ve=$e(Ue,2),Be=Ve[0],qe=Ve[1],te=v.exports.useMemo(function(){if(!r&&Be.length===1){var it=Be[0];if(it.value===null&&(it.label===null||it.label===void 0))return[]}return Be.map(function(rt){var ft;return ve(ve({},rt),{},{label:(ft=rt.label)!==null&&ft!==void 0?ft:rt.value})})},[r,Be]),k=v.exports.useMemo(function(){return new Set(Be.map(function(it){return it.value}))},[Be]);v.exports.useEffect(function(){if(r==="combobox"){var it,rt=(it=Be[0])===null||it===void 0?void 0:it.value;rt!=null&&De(String(rt))}},[Be]);var $=D4(function(it,rt){var ft,bt=rt!=null?rt:it;return ft={},ue(ft,se.value,it),ue(ft,se.label,bt),ft}),U=v.exports.useMemo(function(){if(r!=="tags")return Ye;var it=mt(Ye),rt=function(bt){return Fe.has(bt)};return mt(Be).sort(function(ft,bt){return ft.value<bt.value?-1:1}).forEach(function(ft){var bt=ft.value;rt(bt)||it.push($(bt,ft.label))}),it},[$,Ye,Fe,Be,r]),ne=tpe(U,se,fe,re,C),ge=v.exports.useMemo(function(){return r!=="tags"||!fe||ne.some(function(it){return it[C||"value"]===fe})?ne:[$(fe)].concat(mt(ne))},[$,C,r,ne,fe]),me=v.exports.useMemo(function(){return S?mt(ge).sort(function(it,rt){return S(it,rt)}):ge},[ge,S]),Q=v.exports.useMemo(function(){return coe(me,{fieldNames:se,childrenAsData:oe})},[me,se,oe]),_e=function(rt){var ft=be(rt);if(Re(ft),G&&(ft.length!==Be.length||ft.some(function(Sn,he){var Ae;return((Ae=Be[he])===null||Ae===void 0?void 0:Ae.value)!==(Sn==null?void 0:Sn.value)}))){var bt=j?ft:ft.map(function(Sn){return Sn.value}),Yt=ft.map(function(Sn){return TP(qe(Sn.value))});G(Z?bt:bt[0],Z?Yt:Yt[0])}},ke=v.exports.useState(null),we=$e(ke,2),de=we[0],je=we[1],Ze=v.exports.useState(0),vt=$e(Ze,2),ot=vt[0],ht=vt[1],at=I!==void 0?I:r!=="combobox",Mt=v.exports.useCallback(function(it,rt){var ft=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},bt=ft.source,Yt=bt===void 0?"keyboard":bt;ht(rt),a&&r==="combobox"&&it!==null&&Yt==="keyboard"&&je(String(it))},[a,r]),Ct=function(rt,ft){var bt=function(){var Pt,zt=qe(rt);return[j?{label:zt==null?void 0:zt[se.label],value:rt,key:(Pt=zt==null?void 0:zt.key)!==null&&Pt!==void 0?Pt:rt}:rt,TP(zt)]};if(ft&&m){var Yt=bt(),Sn=$e(Yt,2),he=Sn[0],Ae=Sn[1];m(he,Ae)}else if(!ft&&y){var Ge=bt(),Ie=$e(Ge,2),Je=Ie[0],Rt=Ie[1];y(Je,Rt)}},Ft=D4(function(it,rt){var ft,bt=Z?rt.selected:!0;bt?ft=Z?[].concat(mt(Be),[it]):[it]:ft=Be.filter(function(Yt){return Yt.value!==it}),_e(ft),Ct(it,bt),r==="combobox"?je(""):(!zP||f)&&(De(""),je(""))}),$t=function(rt,ft){_e(rt),(ft.type==="remove"||ft.type==="clear")&&ft.values.forEach(function(bt){Ct(bt.value,!1)})},An=function(rt,ft){if(De(rt),je(null),ft.source==="submit"){var bt=(rt||"").trim();if(bt){var Yt=Array.from(new Set([].concat(mt(k),[bt])));_e(Yt),Ct(bt,!0),De("")}return}ft.source!=="blur"&&(r==="combobox"&&_e(rt),c==null||c(rt))},xt=function(rt){var ft=rt;r!=="tags"&&(ft=rt.map(function(Yt){var Sn=Ee.get(Yt);return Sn==null?void 0:Sn.value}).filter(function(Yt){return Yt!==void 0}));var bt=Array.from(new Set([].concat(mt(k),mt(ft))));_e(bt),bt.forEach(function(Yt){Ct(Yt,!0)})},Et=v.exports.useMemo(function(){var it=N!==!1&&b!==!1;return ve(ve({},Oe),{},{flattenOptions:Q,onActiveValue:Mt,defaultActiveFirstOption:at,onSelect:Ft,menuItemSelectedIcon:A,rawValues:k,fieldNames:se,virtual:it,listHeight:D,listItemHeight:V,childrenAsData:oe})},[Oe,Q,Mt,at,Ft,A,k,se,N,b,D,V,oe]);return v.exports.createElement(AH.Provider,{value:Et},v.exports.createElement(rhe,Se({},H,{id:Y,prefixCls:o,ref:e,omitDomProps:ipe,mode:r,displayValues:te,onDisplayValuesChange:$t,searchValue:fe,onSearch:An,onSearchSplit:xt,dropdownMatchSelectWidth:b,OptionList:RH,emptyOptions:!Q.length,activeValue:de,activeDescendantId:"".concat(Y,"_list_").concat(ot)})))}),eO=ape;eO.Option=J3;eO.OptGroup=Q3;var spe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},lpe=spe,NH=function(e,n){return v.exports.createElement(xr,ve(ve({},e),{},{ref:n,icon:lpe}))};NH.displayName="DownOutlined";var kH=v.exports.forwardRef(NH),upe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},cpe=upe,IH=function(e,n){return v.exports.createElement(xr,ve(ve({},e),{},{ref:n,icon:cpe}))};IH.displayName="CheckOutlined";var dpe=v.exports.forwardRef(IH),fpe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},hpe=fpe,LH=function(e,n){return v.exports.createElement(xr,ve(ve({},e),{},{ref:n,icon:hpe}))};LH.displayName="SearchOutlined";var tO=v.exports.forwardRef(LH);function ppe(t){var e=t.suffixIcon,n=t.clearIcon,r=t.menuItemSelectedIcon,i=t.removeIcon,o=t.loading,a=t.multiple,s=t.hasFeedback,l=t.prefixCls,u=t.showArrow,c=t.feedbackIcon,h=n;n||(h=v.exports.createElement(X1,null));var f=function(S){return v.exports.createElement(v.exports.Fragment,null,u!==!1&&S,s&&c)},m=null;if(e!==void 0)m=f(e);else if(o)m=f(v.exports.createElement(m0,{spin:!0}));else{var y="".concat(l,"-suffix");m=function(S){var C=S.open,M=S.showSearch;return f(C&&M?v.exports.createElement(tO,{className:y}):v.exports.createElement(kH,{className:y}))}}var x=null;r!==void 0?x=r:a?x=v.exports.createElement(dpe,null):x=null;var b=null;return i!==void 0?b=i:b=v.exports.createElement(B3,null),{clearIcon:h,suffixIcon:m,itemIcon:x,removeIcon:b}}var nc=v.exports.createContext({}),F4=function(e){var n=e.children,r=v.exports.useMemo(function(){return{}},[]);return v.exports.createElement(nc.Provider,{value:r},n)},Ns=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n};Ns("warning","error","");function Of(t,e,n){var r;return Xe((r={},ue(r,"".concat(t,"-status-success"),e==="success"),ue(r,"".concat(t,"-status-warning"),e==="warning"),ue(r,"".concat(t,"-status-error"),e==="error"),ue(r,"".concat(t,"-status-validating"),e==="validating"),ue(r,"".concat(t,"-has-feedback"),n),r))}var rS=function(e,n){return n||e},VM=function(){return{height:0,opacity:0}},z4=function(e){var n=e.scrollHeight;return{height:n,opacity:1}},mpe=function(e){return{height:e?e.offsetHeight:0}},UM=function(e,n){return(n==null?void 0:n.deadline)===!0||n.propertyName==="height"},DH={motionName:"ant-motion-collapse",onAppearStart:VM,onEnterStart:VM,onAppearActive:z4,onEnterActive:z4,onLeaveStart:mpe,onLeaveActive:VM,onAppearEnd:UM,onEnterEnd:UM,onLeaveEnd:UM,motionDeadline:500};Ns("bottomLeft","bottomRight","topLeft","topRight");var vpe=function(e){return e!==void 0&&(e==="topLeft"||e==="topRight")?"slide-down":"slide-up"},FH=function(e,n,r){return r!==void 0?r:"".concat(e,"-").concat(n)},gpe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},zH="SECRET_COMBOBOX_MODE_DO_NOT_USE",ype=function(e,n){var r,i=e.prefixCls,o=e.bordered,a=o===void 0?!0:o,s=e.className,l=e.getPopupContainer,u=e.dropdownClassName,c=e.listHeight,h=c===void 0?256:c,f=e.placement,m=e.listItemHeight,y=m===void 0?24:m,x=e.size,b=e.notFoundContent,w=e.status,S=e.showArrow,C=gpe(e,["prefixCls","bordered","className","getPopupContainer","dropdownClassName","listHeight","placement","listItemHeight","size","notFoundContent","status","showArrow"]),M=v.exports.useContext(jn),T=M.getPopupContainer,R=M.getPrefixCls,I=M.renderEmpty,A=M.direction,N=M.virtual,L=M.dropdownMatchSelectWidth,D=v.exports.useContext(Zl),W=R("select",i),V=R(),B=v.exports.useMemo(function(){var Me=C.mode;if(Me!=="combobox")return Me===zH?"combobox":Me},[C.mode]),K=B==="multiple"||B==="tags",j=S!==void 0?S:C.loading||!(K||B==="combobox"),G=v.exports.useContext(nc),H=G.status,Y=G.hasFeedback,Z=G.isFormItemInput,oe=G.feedbackIcon,re=rS(H,w),se;b!==void 0?se=b:B==="combobox"?se=null:se=I("Select");var ce=ppe(Se(Se({},C),{multiple:K,hasFeedback:Y,feedbackIcon:oe,showArrow:j,prefixCls:W})),ye=ce.suffixIcon,fe=ce.itemIcon,De=ce.removeIcon,Oe=ce.clearIcon,Fe=No(C,["suffixIcon","itemIcon"]),Ee=Xe(u,ue({},"".concat(W,"-dropdown-").concat(A),A==="rtl")),Ye=x||D,be=Xe((r={},ue(r,"".concat(W,"-lg"),Ye==="large"),ue(r,"".concat(W,"-sm"),Ye==="small"),ue(r,"".concat(W,"-rtl"),A==="rtl"),ue(r,"".concat(W,"-borderless"),!a),ue(r,"".concat(W,"-in-form-item"),Z),r),Of(W,re,Y),s),Ce=function(){return f!==void 0?f:A==="rtl"?"bottomRight":"bottomLeft"};return v.exports.createElement(eO,Se({ref:n,virtual:N,dropdownMatchSelectWidth:L},Fe,{transitionName:FH(V,vpe(f),C.transitionName),listHeight:h,listItemHeight:y,mode:B,prefixCls:W,placement:Ce(),direction:A,inputIcon:ye,menuItemSelectedIcon:fe,removeIcon:De,clearIcon:Oe,notFoundContent:se,className:be,getPopupContainer:l||T,dropdownClassName:Ee,showArrow:Y||S}))},iS=v.exports.forwardRef(ype);iS.SECRET_COMBOBOX_MODE_DO_NOT_USE=zH;iS.Option=J3;iS.OptGroup=Q3;var oS=iS,rc=v.exports.isValidElement;function xpe(t,e,n){return rc(t)?v.exports.cloneElement(t,typeof n=="function"?n(t.props||{}):n):e}function qo(t,e){return xpe(t,t,e)}function bpe(t){return Object.keys(t).reduce(function(e,n){return(n.startsWith("data-")||n.startsWith("aria-")||n==="role")&&!n.startsWith("data-__")&&(e[n]=t[n]),e},{})}var B4=["xxl","xl","lg","md","sm","xs"],lb={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},ef=new Map,HM=-1,ub={},wpe={matchHandlers:{},dispatch:function(e){return ub=e,ef.forEach(function(n){return n(ub)}),ef.size>=1},subscribe:function(e){return ef.size||this.register(),HM+=1,ef.set(HM,e),e(ub),HM},unsubscribe:function(e){ef.delete(e),ef.size||this.unregister()},unregister:function(){var e=this;Object.keys(lb).forEach(function(n){var r=lb[n],i=e.matchHandlers[r];i==null||i.mql.removeListener(i==null?void 0:i.listener)}),ef.clear()},register:function(){var e=this;Object.keys(lb).forEach(function(n){var r=lb[n],i=function(s){var l=s.matches;e.dispatch(Se(Se({},ub),ue({},n,l)))},o=window.matchMedia(r);o.addListener(i),e.matchHandlers[r]={mql:o,listener:i},i(o)})}},M_=wpe;function BH(){var t=v.exports.useReducer(function(r){return r+1},0),e=$e(t,2),n=e[1];return n}function VH(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=v.exports.useRef({}),n=BH();return v.exports.useEffect(function(){var r=M_.subscribe(function(i){e.current=i,t&&n()});return function(){return M_.unsubscribe(r)}},[]),e.current}var vs={adjustX:1,adjustY:1},gs=[0,0],UH={left:{points:["cr","cl"],overflow:vs,offset:[-4,0],targetOffset:gs},right:{points:["cl","cr"],overflow:vs,offset:[4,0],targetOffset:gs},top:{points:["bc","tc"],overflow:vs,offset:[0,-4],targetOffset:gs},bottom:{points:["tc","bc"],overflow:vs,offset:[0,4],targetOffset:gs},topLeft:{points:["bl","tl"],overflow:vs,offset:[0,-4],targetOffset:gs},leftTop:{points:["tr","tl"],overflow:vs,offset:[-4,0],targetOffset:gs},topRight:{points:["br","tr"],overflow:vs,offset:[0,-4],targetOffset:gs},rightTop:{points:["tl","tr"],overflow:vs,offset:[4,0],targetOffset:gs},bottomRight:{points:["tr","br"],overflow:vs,offset:[0,4],targetOffset:gs},rightBottom:{points:["bl","br"],overflow:vs,offset:[4,0],targetOffset:gs},bottomLeft:{points:["tl","bl"],overflow:vs,offset:[0,4],targetOffset:gs},leftBottom:{points:["br","bl"],overflow:vs,offset:[-4,0],targetOffset:gs}},_pe=function(e){var n=e.overlay,r=e.prefixCls,i=e.id,o=e.overlayInnerStyle;return v.exports.createElement("div",{className:"".concat(r,"-inner"),id:i,role:"tooltip",style:o},typeof n=="function"?n():n)},Spe=function(e,n){var r=e.overlayClassName,i=e.trigger,o=i===void 0?["hover"]:i,a=e.mouseEnterDelay,s=a===void 0?0:a,l=e.mouseLeaveDelay,u=l===void 0?.1:l,c=e.overlayStyle,h=e.prefixCls,f=h===void 0?"rc-tooltip":h,m=e.children,y=e.onVisibleChange,x=e.afterVisibleChange,b=e.transitionName,w=e.animation,S=e.motion,C=e.placement,M=C===void 0?"right":C,T=e.align,R=T===void 0?{}:T,I=e.destroyTooltipOnHide,A=I===void 0?!1:I,N=e.defaultVisible,L=e.getTooltipContainer,D=e.overlayInnerStyle,W=_n(e,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle"]),V=v.exports.useRef(null);v.exports.useImperativeHandle(n,function(){return V.current});var B=ve({},W);"visible"in e&&(B.popupVisible=e.visible);var K=function(){var Z=e.arrowContent,oe=Z===void 0?null:Z,re=e.overlay,se=e.id;return[v.exports.createElement("div",{className:"".concat(f,"-arrow"),key:"arrow"},oe),v.exports.createElement(_pe,{key:"content",prefixCls:f,id:se,overlay:re,overlayInnerStyle:D})]},j=!1,G=!1;if(typeof A=="boolean")j=A;else if(A&&un(A)==="object"){var H=A.keepParent;j=H===!0,G=H===!1}return v.exports.createElement(nS,Se({popupClassName:r,prefixCls:f,popup:K,action:o,builtinPlacements:UH,popupPlacement:M,ref:V,popupAlign:R,getPopupContainer:L,onPopupVisibleChange:y,afterPopupVisibleChange:x,popupTransitionName:b,popupAnimation:w,popupMotion:S,defaultPopupVisible:N,destroyPopupOnHide:j,autoDestroy:G,mouseLeaveDelay:u,popupStyle:c,mouseEnterDelay:s},B),m)},Cpe=v.exports.forwardRef(Spe),Epe={adjustX:1,adjustY:1},V4={adjustX:0,adjustY:0},Mpe=[0,0];function U4(t){return typeof t=="boolean"?t?Epe:V4:Se(Se({},V4),t)}function HH(t){var e=t.arrowWidth,n=e===void 0?4:e,r=t.horizontalArrowShift,i=r===void 0?16:r,o=t.verticalArrowShift,a=o===void 0?8:o,s=t.autoAdjustOverflow,l=t.arrowPointAtCenter,u={left:{points:["cr","cl"],offset:[-4,0]},right:{points:["cl","cr"],offset:[4,0]},top:{points:["bc","tc"],offset:[0,-4]},bottom:{points:["tc","bc"],offset:[0,4]},topLeft:{points:["bl","tc"],offset:[-(i+n),-4]},leftTop:{points:["tr","cl"],offset:[-4,-(a+n)]},topRight:{points:["br","tc"],offset:[i+n,-4]},rightTop:{points:["tl","cr"],offset:[4,-(a+n)]},bottomRight:{points:["tr","bc"],offset:[i+n,4]},rightBottom:{points:["bl","cr"],offset:[4,a+n]},bottomLeft:{points:["tl","bc"],offset:[-(i+n),4]},leftBottom:{points:["br","cl"],offset:[-4,a+n]}};return Object.keys(u).forEach(function(c){u[c]=l?Se(Se({},u[c]),{overflow:U4(s),targetOffset:Mpe}):Se(Se({},UH[c]),{overflow:U4(s)}),u[c].ignoreShake=!0}),u}Ns("success","processing","error","default","warning");var Tpe=Ns("pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime"),Ppe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},Ape=function(e,n){var r={},i=Se({},e);return n.forEach(function(o){e&&o in e&&(r[o]=e[o],delete i[o])}),{picked:r,omitted:i}},H4=new RegExp("^(".concat(Tpe.join("|"),")(-inverse)?$"));function Rpe(t,e){var n=t.type;if((n.__ANT_BUTTON===!0||t.type==="button")&&t.props.disabled||n.__ANT_SWITCH===!0&&(t.props.disabled||t.props.loading)){var r=Ape(t.props.style,["position","left","right","top","bottom","float","display","zIndex"]),i=r.picked,o=r.omitted,a=Se(Se({display:"inline-block"},i),{cursor:"not-allowed",width:t.props.block?"100%":null}),s=Se(Se({},o),{pointerEvents:"none"}),l=qo(t,{style:s,className:null});return v.exports.createElement("span",{style:a,className:Xe(t.props.className,"".concat(e,"-disabled-compatible-wrapper"))},l)}return t}var nO=v.exports.forwardRef(function(t,e){var n,r=v.exports.useContext(jn),i=r.getPopupContainer,o=r.getPrefixCls,a=r.direction,s=Ra(!1,{value:t.visible,defaultValue:t.defaultVisible}),l=$e(s,2),u=l[0],c=l[1],h=function(){var Y=t.title,Z=t.overlay;return!Y&&!Z&&Y!==0},f=function(Y){var Z;c(h()?!1:Y),h()||(Z=t.onVisibleChange)===null||Z===void 0||Z.call(t,Y)},m=function(){var Y=t.builtinPlacements,Z=t.arrowPointAtCenter,oe=t.autoAdjustOverflow;return Y||HH({arrowPointAtCenter:Z,autoAdjustOverflow:oe})},y=function(Y,Z){var oe=m(),re=Object.keys(oe).find(function(ye){return oe[ye].points[0]===Z.points[0]&&oe[ye].points[1]===Z.points[1]});if(!!re){var se=Y.getBoundingClientRect(),ce={top:"50%",left:"50%"};re.indexOf("top")>=0||re.indexOf("Bottom")>=0?ce.top="".concat(se.height-Z.offset[1],"px"):(re.indexOf("Top")>=0||re.indexOf("bottom")>=0)&&(ce.top="".concat(-Z.offset[1],"px")),re.indexOf("left")>=0||re.indexOf("Right")>=0?ce.left="".concat(se.width-Z.offset[0],"px"):(re.indexOf("right")>=0||re.indexOf("Left")>=0)&&(ce.left="".concat(-Z.offset[0],"px")),Y.style.transformOrigin="".concat(ce.left," ").concat(ce.top)}},x=function(){var Y=t.title,Z=t.overlay;return Y===0?Y:Z||Y||""},b=t.getPopupContainer,w=Ppe(t,["getPopupContainer"]),S=t.prefixCls,C=t.openClassName,M=t.getTooltipContainer,T=t.overlayClassName,R=t.color,I=t.overlayInnerStyle,A=t.children,N=o("tooltip",S),L=o(),D=u;!("visible"in t)&&h()&&(D=!1);var W=Rpe(rc(A)?A:v.exports.createElement("span",null,A),N),V=W.props,B=Xe(V.className,ue({},C||"".concat(N,"-open"),!0)),K=Xe(T,(n={},ue(n,"".concat(N,"-rtl"),a==="rtl"),ue(n,"".concat(N,"-").concat(R),R&&H4.test(R)),n)),j=I,G;return R&&!H4.test(R)&&(j=Se(Se({},I),{background:R}),G={"--antd-arrow-background-color":R}),v.exports.createElement(Cpe,Se({},w,{prefixCls:N,overlayClassName:K,getTooltipContainer:b||M||i,ref:e,builtinPlacements:m(),overlay:x(),visible:D,onVisibleChange:f,onPopupAlign:y,overlayInnerStyle:j,arrowContent:v.exports.createElement("span",{className:"".concat(N,"-arrow-content"),style:G}),motion:{motionName:FH(L,"zoom-big-fast",t.transitionName),motionDeadline:1e3}}),D?qo(W,{className:B}):W)});nO.displayName="Tooltip";nO.defaultProps={placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1,arrowPointAtCenter:!1,autoAdjustOverflow:!0};var WH=nO,Kh={adjustX:1,adjustY:1},qh=[0,0],Ope={topLeft:{points:["bl","tl"],overflow:Kh,offset:[0,-4],targetOffset:qh},topCenter:{points:["bc","tc"],overflow:Kh,offset:[0,-4],targetOffset:qh},topRight:{points:["br","tr"],overflow:Kh,offset:[0,-4],targetOffset:qh},bottomLeft:{points:["tl","bl"],overflow:Kh,offset:[0,4],targetOffset:qh},bottomCenter:{points:["tc","bc"],overflow:Kh,offset:[0,4],targetOffset:qh},bottomRight:{points:["tr","br"],overflow:Kh,offset:[0,4],targetOffset:qh}},Npe=st.ESC,kpe=st.TAB;function Ipe(t){var e=t.visible,n=t.setTriggerVisible,r=t.triggerRef,i=t.menuRef,o=t.onVisibleChange,a=v.exports.useRef(!1),s=function(){if(e&&r.current){var c,h,f,m;(c=r.current)===null||c===void 0||(h=c.triggerRef)===null||h===void 0||(f=h.current)===null||f===void 0||(m=f.focus)===null||m===void 0||m.call(f),n(!1),typeof o=="function"&&o(!1)}},l=function(c){var h;switch(c.keyCode){case Npe:s();break;case kpe:!a.current&&((h=i.current)===null||h===void 0?void 0:h.focus)?(c.preventDefault(),i.current.focus(),a.current=!0):s();break}};v.exports.useEffect(function(){return e?(window.addEventListener("keydown",l),function(){window.removeEventListener("keydown",l),a.current=!1}):function(){return null}},[e])}var Lpe=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger"];function Dpe(t,e){var n=t.arrow,r=n===void 0?!1:n,i=t.prefixCls,o=i===void 0?"rc-dropdown":i,a=t.transitionName,s=t.animation,l=t.align,u=t.placement,c=u===void 0?"bottomLeft":u,h=t.placements,f=h===void 0?Ope:h,m=t.getPopupContainer,y=t.showAction,x=t.hideAction,b=t.overlayClassName,w=t.overlayStyle,S=t.visible,C=t.trigger,M=C===void 0?["hover"]:C,T=_n(t,Lpe),R=v.exports.useState(),I=$e(R,2),A=I[0],N=I[1],L="visible"in t?S:A,D=v.exports.useRef(null);v.exports.useImperativeHandle(e,function(){return D.current});var W=v.exports.useRef(null),V="".concat(o,"-menu");Ipe({visible:L,setTriggerVisible:N,triggerRef:D,menuRef:W,onVisibleChange:t.onVisibleChange});var B=function(){var ce=t.overlay,ye;return typeof ce=="function"?ye=ce():ye=ce,ye},K=function(ce){var ye=t.onOverlayClick,fe=B().props;N(!1),ye&&ye(ce),fe.onClick&&fe.onClick(ce)},j=function(ce){var ye=t.onVisibleChange;N(ce),typeof ye=="function"&&ye(ce)},G=function(){var ce,ye=B(),fe=Yl(W,ye.ref),De=(ce={prefixCls:V},ue(ce,"data-dropdown-inject",!0),ue(ce,"onClick",K),ue(ce,"ref",Dm(ye)?fe:void 0),ce);return typeof ye.type=="string"&&(delete De.prefixCls,delete De["data-dropdown-inject"]),v.exports.createElement(v.exports.Fragment,null,r&&v.exports.createElement("div",{className:"".concat(o,"-arrow")}),v.exports.cloneElement(ye,De))},H=function(){var ce=t.overlay;return typeof ce=="function"?G:G()},Y=function(){var ce=t.minOverlayWidthMatchTrigger,ye=t.alignPoint;return"minOverlayWidthMatchTrigger"in t?ce:!ye},Z=function(){var ce=t.openClassName;return ce!==void 0?ce:"".concat(o,"-open")},oe=function(){var ce=t.children,ye=ce.props?ce.props:{},fe=Xe(ye.className,Z());return L&&ce?v.exports.cloneElement(ce,{className:fe}):ce},re=x;return!re&&M.indexOf("contextMenu")!==-1&&(re=["click"]),v.exports.createElement(nS,ve(ve({builtinPlacements:f},T),{},{prefixCls:o,ref:D,popupClassName:Xe(b,ue({},"".concat(o,"-show-arrow"),r)),popupStyle:w,action:M,showAction:y,hideAction:re||[],popupPlacement:c,popupAlign:l,popupTransitionName:a,popupAnimation:s,popupVisible:L,stretch:Y()?"minWidth":"",popup:H(),onPopupVisibleChange:j,getPopupContainer:m}),oe())}var jH=v.exports.forwardRef(Dpe),Fpe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"},zpe=Fpe,GH=function(e,n){return v.exports.createElement(xr,ve(ve({},e),{},{ref:n,icon:zpe}))};GH.displayName="RightOutlined";var T_=v.exports.forwardRef(GH),Bpe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"},Vpe=Bpe,$H=function(e,n){return v.exports.createElement(xr,ve(ve({},e),{},{ref:n,icon:Vpe}))};$H.displayName="EllipsisOutlined";var rO=v.exports.forwardRef($H),Upe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},KH=v.exports.createContext(void 0),Hpe=function(e){var n,r=v.exports.useContext(jn),i=r.getPrefixCls,o=r.direction,a=e.prefixCls,s=e.size,l=e.className,u=Upe(e,["prefixCls","size","className"]),c=i("btn-group",a),h="";switch(s){case"large":h="lg";break;case"small":h="sm";break}var f=Xe(c,(n={},ue(n,"".concat(c,"-").concat(h),h),ue(n,"".concat(c,"-rtl"),o==="rtl"),n),l);return v.exports.createElement(KH.Provider,{value:s},v.exports.createElement("div",Se({},u,{className:f})))},Wpe=Hpe,jpe=0,Jp={};function P_(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,n=jpe++,r=e;function i(){r-=1,r<=0?(t(),delete Jp[n]):Jp[n]=lr(i)}return Jp[n]=lr(i),n}P_.cancel=function(e){e!==void 0&&(lr.cancel(Jp[e]),delete Jp[e])};P_.ids=Jp;var WM;function W4(t){return!t||t.offsetParent===null||t.hidden}function Gpe(t){var e=(t||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return e&&e[1]&&e[2]&&e[3]?!(e[1]===e[2]&&e[2]===e[3]):!0}var qH=function(t){Ni(n,t);var e=ki(n);function n(){var r;return di(this,n),r=e.apply(this,arguments),r.containerRef=v.exports.createRef(),r.animationStart=!1,r.destroyed=!1,r.onClick=function(i,o){var a,s,l=r.props,u=l.insertExtraNode,c=l.disabled;if(!(c||!i||W4(i)||i.className.indexOf("-leave")>=0)){r.extraNode=document.createElement("div");var h=_s(r),f=h.extraNode,m=r.context.getPrefixCls;f.className="".concat(m(""),"-click-animating-node");var y=r.getAttributeName();if(i.setAttribute(y,"true"),o&&o!=="#ffffff"&&o!=="rgb(255, 255, 255)"&&Gpe(o)&&!/rgba\((?:\d*, ){3}0\)/.test(o)&&o!=="transparent"){f.style.borderColor=o;var x=((a=i.getRootNode)===null||a===void 0?void 0:a.call(i))||i.ownerDocument,b=x instanceof Document?x.body:(s=x.firstChild)!==null&&s!==void 0?s:x;WM=F3(`
      [`.concat(m(""),"-click-animating-without-extra-node='true']::after, .").concat(m(""),`-click-animating-node {
        --antd-wave-shadow-color: `).concat(o,`;
      }`),"antd-wave",{csp:r.csp,attachTo:b})}u&&i.appendChild(f),["transition","animation"].forEach(function(w){i.addEventListener("".concat(w,"start"),r.onTransitionStart),i.addEventListener("".concat(w,"end"),r.onTransitionEnd)})}},r.onTransitionStart=function(i){if(!r.destroyed){var o=r.containerRef.current;!i||i.target!==o||r.animationStart||r.resetEffect(o)}},r.onTransitionEnd=function(i){!i||i.animationName!=="fadeEffect"||r.resetEffect(i.target)},r.bindAnimationEvent=function(i){if(!(!i||!i.getAttribute||i.getAttribute("disabled")||i.className.indexOf("disabled")>=0)){var o=function(s){if(!(s.target.tagName==="INPUT"||W4(s.target))){r.resetEffect(i);var l=getComputedStyle(i).getPropertyValue("border-top-color")||getComputedStyle(i).getPropertyValue("border-color")||getComputedStyle(i).getPropertyValue("background-color");r.clickWaveTimeoutId=window.setTimeout(function(){return r.onClick(i,l)},0),P_.cancel(r.animationStartId),r.animationStart=!0,r.animationStartId=P_(function(){r.animationStart=!1},10)}};return i.addEventListener("click",o,!0),{cancel:function(){i.removeEventListener("click",o,!0)}}}},r.renderWave=function(i){var o=i.csp,a=r.props.children;if(r.csp=o,!v.exports.isValidElement(a))return a;var s=r.containerRef;return Dm(a)&&(s=Yl(a.ref,r.containerRef)),qo(a,{ref:s})},r}return fi(n,[{key:"componentDidMount",value:function(){var i=this.containerRef.current;!i||i.nodeType!==1||(this.instance=this.bindAnimationEvent(i))}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.cancel(),this.clickWaveTimeoutId&&clearTimeout(this.clickWaveTimeoutId),this.destroyed=!0}},{key:"getAttributeName",value:function(){var i=this.context.getPrefixCls,o=this.props.insertExtraNode;return o?"".concat(i(""),"-click-animating"):"".concat(i(""),"-click-animating-without-extra-node")}},{key:"resetEffect",value:function(i){var o=this;if(!(!i||i===this.extraNode||!(i instanceof Element))){var a=this.props.insertExtraNode,s=this.getAttributeName();i.setAttribute(s,"false"),WM&&(WM.innerHTML=""),a&&this.extraNode&&i.contains(this.extraNode)&&i.removeChild(this.extraNode),["transition","animation"].forEach(function(l){i.removeEventListener("".concat(l,"start"),o.onTransitionStart),i.removeEventListener("".concat(l,"end"),o.onTransitionEnd)})}}},{key:"render",value:function(){return v.exports.createElement(ac,null,this.renderWave)}}]),n}(v.exports.Component);qH.contextType=jn;var jM=function(){return{width:0,opacity:0,transform:"scale(0)"}},GM=function(e){return{width:e.scrollWidth,opacity:1,transform:"scale(1)"}},$pe=function(e){var n=e.prefixCls,r=e.loading,i=e.existIcon,o=!!r;return i?ln.createElement("span",{className:"".concat(n,"-loading-icon")},ln.createElement(m0,null)):ln.createElement(rh,{visible:o,motionName:"".concat(n,"-loading-icon-motion"),removeOnLeave:!0,onAppearStart:jM,onAppearActive:GM,onEnterStart:jM,onEnterActive:GM,onLeaveStart:GM,onLeaveActive:jM},function(a,s){var l=a.className,u=a.style;return ln.createElement("span",{className:"".concat(n,"-loading-icon"),style:u,ref:s},ln.createElement(m0,{className:l}))})},Kpe=$pe,qpe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},j4=/^[\u4e00-\u9fa5]{2}$/,jP=j4.test.bind(j4);function Xpe(t){return typeof t=="string"}function $M(t){return t==="text"||t==="link"}function Ype(t){return v.exports.isValidElement(t)&&t.type===v.exports.Fragment}function Zpe(t,e){if(t!=null){var n=e?" ":"";return typeof t!="string"&&typeof t!="number"&&Xpe(t.type)&&jP(t.props.children)?qo(t,{children:t.props.children.split("").join(n)}):typeof t=="string"?jP(t)?v.exports.createElement("span",null,t.split("").join(n)):v.exports.createElement("span",null,t):Ype(t)?v.exports.createElement("span",null,t):t}}function Jpe(t,e){var n=!1,r=[];return v.exports.Children.forEach(t,function(i){var o=un(i),a=o==="string"||o==="number";if(n&&a){var s=r.length-1,l=r[s];r[s]="".concat(l).concat(i)}else r.push(i);n=a}),v.exports.Children.map(r,function(i){return Zpe(i,e)})}Ns("default","primary","ghost","dashed","link","text");Ns("default","circle","round");Ns("submit","button","reset");var Qpe=function(e,n){var r,i=e.loading,o=i===void 0?!1:i,a=e.prefixCls,s=e.type,l=s===void 0?"default":s,u=e.danger,c=e.shape,h=c===void 0?"default":c,f=e.size,m=e.className,y=e.children,x=e.icon,b=e.ghost,w=b===void 0?!1:b,S=e.block,C=S===void 0?!1:S,M=e.htmlType,T=M===void 0?"button":M,R=qpe(e,["loading","prefixCls","type","danger","shape","size","className","children","icon","ghost","block","htmlType"]),I=v.exports.useContext(Zl),A=v.exports.useContext(KH),N=v.exports.useState(!!o),L=$e(N,2),D=L[0],W=L[1],V=v.exports.useState(!1),B=$e(V,2),K=B[0],j=B[1],G=v.exports.useContext(jn),H=G.getPrefixCls,Y=G.autoInsertSpaceInButton,Z=G.direction,oe=n||v.exports.createRef(),re=function(){return v.exports.Children.count(y)===1&&!x&&!$M(l)},se=function(){if(!(!oe||!oe.current||Y===!1)){var Ue=oe.current.textContent;re()&&jP(Ue)?K||j(!0):K&&j(!1)}},ce=un(o)==="object"&&o.delay?o.delay||!0:!!o;v.exports.useEffect(function(){var We=null;return typeof ce=="number"?We=window.setTimeout(function(){We=null,W(ce)},ce):W(ce),function(){We&&(window.clearTimeout(We),We=null)}},[ce]),v.exports.useEffect(se,[oe]);var ye=function(Ue){var Ve=e.onClick,Be=e.disabled;if(D||Be){Ue.preventDefault();return}Ve==null||Ve(Ue)},fe=H("btn",a),De=Y!==!1,Oe={large:"lg",small:"sm",middle:void 0},Fe=A||f||I,Ee=Fe&&Oe[Fe]||"",Ye=D?"loading":x,be=Xe(fe,(r={},ue(r,"".concat(fe,"-").concat(h),h!=="default"&&h),ue(r,"".concat(fe,"-").concat(l),l),ue(r,"".concat(fe,"-").concat(Ee),Ee),ue(r,"".concat(fe,"-icon-only"),!y&&y!==0&&!!Ye),ue(r,"".concat(fe,"-background-ghost"),w&&!$M(l)),ue(r,"".concat(fe,"-loading"),D),ue(r,"".concat(fe,"-two-chinese-chars"),K&&De),ue(r,"".concat(fe,"-block"),C),ue(r,"".concat(fe,"-dangerous"),!!u),ue(r,"".concat(fe,"-rtl"),Z==="rtl"),r),m),Ce=x&&!D?x:v.exports.createElement(Kpe,{existIcon:!!x,prefixCls:fe,loading:!!D}),Me=y||y===0?Jpe(y,re()&&De):null,ze=No(R,["navigate"]);if(ze.href!==void 0)return v.exports.createElement("a",Se({},ze,{className:be,onClick:ye,ref:oe}),Ce,Me);var Re=v.exports.createElement("button",Se({},R,{type:T,className:be,onClick:ye,ref:oe}),Ce,Me);return $M(l)?Re:v.exports.createElement(qH,{disabled:!!D},Re)},aS=v.exports.forwardRef(Qpe);aS.displayName="Button";aS.Group=Wpe;aS.__ANT_BUTTON=!0;var Ku=aS,eme=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},tme=Ku.Group,XH=function(e){var n=v.exports.useContext(jn),r=n.getPopupContainer,i=n.getPrefixCls,o=n.direction,a=e.prefixCls,s=e.type,l=s===void 0?"default":s,u=e.disabled,c=e.loading,h=e.onClick,f=e.htmlType,m=e.children,y=e.className,x=e.overlay,b=e.trigger,w=e.align,S=e.visible,C=e.onVisibleChange,M=e.placement,T=e.getPopupContainer,R=e.href,I=e.icon,A=I===void 0?v.exports.createElement(rO,null):I,N=e.title,L=e.buttonsRender,D=L===void 0?function(fe){return fe}:L,W=e.mouseEnterDelay,V=e.mouseLeaveDelay,B=e.overlayClassName,K=e.overlayStyle,j=e.destroyPopupOnHide,G=eme(e,["prefixCls","type","disabled","loading","onClick","htmlType","children","className","overlay","trigger","align","visible","onVisibleChange","placement","getPopupContainer","href","icon","title","buttonsRender","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyPopupOnHide"]),H=i("dropdown-button",a),Y={align:w,overlay:x,disabled:u,trigger:u?[]:b,onVisibleChange:C,getPopupContainer:T||r,mouseEnterDelay:W,mouseLeaveDelay:V,overlayClassName:B,overlayStyle:K,destroyPopupOnHide:j};"visible"in e&&(Y.visible=S),"placement"in e?Y.placement=M:Y.placement=o==="rtl"?"bottomLeft":"bottomRight";var Z=v.exports.createElement(Ku,{type:l,disabled:u,loading:c,onClick:h,htmlType:f,href:R,title:N},m),oe=v.exports.createElement(Ku,{type:l,icon:A}),re=D([Z,oe]),se=$e(re,2),ce=se[0],ye=se[1];return v.exports.createElement(tme,Se({},G,{className:Xe(H,y)}),ce,v.exports.createElement(oO,Y,ye))};XH.__ANT_BUTTON=!0;var nme=XH;Ns("topLeft","topCenter","topRight","bottomLeft","bottomCenter","bottomRight","top","bottom");var iO=function(e){var n=v.exports.useContext(jn),r=n.getPopupContainer,i=n.getPrefixCls,o=n.direction,a=function(){var A=i(),N=e.placement,L=N===void 0?"":N,D=e.transitionName;return D!==void 0?D:L.indexOf("top")>=0?"".concat(A,"-slide-down"):"".concat(A,"-slide-up")},s=function(A){var N=e.overlay,L;typeof N=="function"?L=N():L=N,L=v.exports.Children.only(typeof L=="string"?v.exports.createElement("span",null,L):L);var D=L.props,W=D.selectable,V=W===void 0?!1:W,B=D.expandIcon,K=typeof B!="undefined"&&v.exports.isValidElement(B)?B:v.exports.createElement("span",{className:"".concat(A,"-menu-submenu-arrow")},v.exports.createElement(T_,{className:"".concat(A,"-menu-submenu-arrow-icon")})),j=typeof L.type=="string"?L:qo(L,{mode:"vertical",selectable:V,expandIcon:K});return j},l=function(){var A=e.placement;if(!A)return o==="rtl"?"bottomRight":"bottomLeft";if(A.includes("Center")){var N=A.slice(0,A.indexOf("Center"));return N}return A},u=e.arrow,c=e.prefixCls,h=e.children,f=e.trigger,m=e.disabled,y=e.getPopupContainer,x=e.overlayClassName,b=i("dropdown",c),w=v.exports.Children.only(h),S=qo(w,{className:Xe("".concat(b,"-trigger"),ue({},"".concat(b,"-rtl"),o==="rtl"),w.props.className),disabled:m}),C=Xe(x,ue({},"".concat(b,"-rtl"),o==="rtl")),M=m?[]:f,T;M&&M.indexOf("contextMenu")!==-1&&(T=!0);var R=HH({arrowPointAtCenter:un(u)==="object"&&u.pointAtCenter,autoAdjustOverflow:!0});return v.exports.createElement(jH,Se({alignPoint:T},e,{builtinPlacements:R,arrow:!!u,overlayClassName:C,prefixCls:b,getPopupContainer:y||r,transitionName:a(),trigger:M,overlay:function(){return s(b)},placement:l()}),S)};iO.Button=nme;iO.defaultProps={mouseEnterDelay:.15,mouseLeaveDelay:.1};var oO=iO,ty=function(e,n,r,i){var o=r?r.call(i,e,n):void 0;if(o!==void 0)return!!o;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var a=Object.keys(e),s=Object.keys(n);if(a.length!==s.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(n),u=0;u<a.length;u++){var c=a[u];if(!l(c))return!1;var h=e[c],f=n[c];if(o=r?r.call(i,h,f,c):void 0,o===!1||o===void 0&&h!==f)return!1}return!0},rme=["children","locked"],dl=v.exports.createContext(null);function ime(t,e){var n=ve({},t);return Object.keys(e).forEach(function(r){var i=e[r];i!==void 0&&(n[r]=i)}),n}function y0(t){var e=t.children,n=t.locked,r=_n(t,rme),i=v.exports.useContext(dl),o=W1(function(){return ime(i,r)},[i,r],function(a,s){return!n&&(a[0]!==s[0]||!ty(a[1],s[1]))});return v.exports.createElement(dl.Provider,{value:o},e)}function YH(t,e,n,r){var i=v.exports.useContext(dl),o=i.activeKey,a=i.onActive,s=i.onInactive,l={active:o===t};return e||(l.onMouseEnter=function(u){n==null||n({key:t,domEvent:u}),a(t)},l.onMouseLeave=function(u){r==null||r({key:t,domEvent:u}),s(t)}),l}var ome=["item"];function A_(t){var e=t.item,n=_n(t,ome);return Object.defineProperty(n,"item",{get:function(){return Hi(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),e}}),n}function ZH(t){var e=t.icon,n=t.props,r=t.children,i;return typeof e=="function"?i=v.exports.createElement(e,ve({},n)):i=e,i||r||null}function JH(t){var e=v.exports.useContext(dl),n=e.mode,r=e.rtl,i=e.inlineIndent;if(n!=="inline")return null;var o=t;return r?{paddingRight:o*i}:{paddingLeft:o*i}}var ame=[],QH=v.exports.createContext(null);function sS(){return v.exports.useContext(QH)}var e9=v.exports.createContext(ame);function Wm(t){var e=v.exports.useContext(e9);return v.exports.useMemo(function(){return t!==void 0?[].concat(mt(e),[t]):e},[e,t])}var t9=v.exports.createContext(null),n9=v.exports.createContext(null);function r9(t,e){return t===void 0?null:"".concat(t,"-").concat(e)}function i9(t){var e=v.exports.useContext(n9);return r9(e,t)}var aO=v.exports.createContext({}),sme=["title","attribute","elementRef"],lme=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],ume=["active"],cme=function(t){Ni(n,t);var e=ki(n);function n(){return di(this,n),e.apply(this,arguments)}return fi(n,[{key:"render",value:function(){var i=this.props,o=i.title,a=i.attribute,s=i.elementRef,l=_n(i,sme),u=No(l,["eventKey"]);return Hi(!a,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),v.exports.createElement(Wl.Item,Se({},a,{title:typeof o=="string"?o:void 0},u,{ref:s}))}}]),n}(v.exports.Component),dme=function(e){var n,r=e.style,i=e.className,o=e.eventKey;e.warnKey;var a=e.disabled,s=e.itemIcon,l=e.children,u=e.role,c=e.onMouseEnter,h=e.onMouseLeave,f=e.onClick,m=e.onKeyDown,y=e.onFocus,x=_n(e,lme),b=i9(o),w=v.exports.useContext(dl),S=w.prefixCls,C=w.onItemClick,M=w.disabled,T=w.overflowDisabled,R=w.itemIcon,I=w.selectedKeys,A=w.onActive,N=v.exports.useContext(aO),L=N._internalRenderMenuItem,D="".concat(S,"-item"),W=v.exports.useRef(),V=v.exports.useRef(),B=M||a,K=Wm(o),j=function(Fe){return{key:o,keyPath:mt(K).reverse(),item:W.current,domEvent:Fe}},G=s||R,H=YH(o,B,c,h),Y=H.active,Z=_n(H,ume),oe=I.includes(o),re=JH(K.length),se=function(Fe){if(!B){var Ee=j(Fe);f==null||f(A_(Ee)),C(Ee)}},ce=function(Fe){if(m==null||m(Fe),Fe.which===st.ENTER){var Ee=j(Fe);f==null||f(A_(Ee)),C(Ee)}},ye=function(Fe){A(o),y==null||y(Fe)},fe={};e.role==="option"&&(fe["aria-selected"]=oe);var De=v.exports.createElement(cme,Se({ref:W,elementRef:V,role:u===null?"none":u||"menuitem",tabIndex:a?null:-1,"data-menu-id":T&&b?null:b},x,Z,fe,{component:"li","aria-disabled":a,style:ve(ve({},re),r),className:Xe(D,(n={},ue(n,"".concat(D,"-active"),Y),ue(n,"".concat(D,"-selected"),oe),ue(n,"".concat(D,"-disabled"),B),n),i),onClick:se,onKeyDown:ce,onFocus:ye}),l,v.exports.createElement(ZH,{props:ve(ve({},e),{},{isSelected:oe}),icon:G}));return L&&(De=L(De,e,{selected:oe})),De};function ny(t){var e=t.eventKey,n=sS(),r=Wm(e);return v.exports.useEffect(function(){if(n)return n.registerPath(e,r),function(){n.unregisterPath(e,r)}},[r]),n?null:v.exports.createElement(dme,t)}var fme=["label","children","key","type"];function sO(t,e){return cl(t).map(function(n,r){if(v.exports.isValidElement(n)){var i,o,a=n.key,s=(i=(o=n.props)===null||o===void 0?void 0:o.eventKey)!==null&&i!==void 0?i:a,l=s==null;l&&(s="tmp_key-".concat([].concat(mt(e),[r]).join("-")));var u={key:s,eventKey:s};return v.exports.cloneElement(n,u)}return n})}function GP(t){return(t||[]).map(function(e,n){if(e&&un(e)==="object"){var r=e.label,i=e.children,o=e.key,a=e.type,s=_n(e,fme),l=o!=null?o:"tmp-".concat(n);return i||a==="group"?a==="group"?v.exports.createElement(uS,Se({key:l},s,{title:r}),GP(i)):v.exports.createElement(lS,Se({key:l},s,{title:r}),GP(i)):a==="divider"?v.exports.createElement(cO,Se({key:l},s)):v.exports.createElement(ny,Se({key:l},s),r)}return null}).filter(function(e){return e})}function hme(t,e,n){var r=t;return e&&(r=GP(e)),sO(r,n)}function wp(t){var e=v.exports.useRef(t);e.current=t;var n=v.exports.useCallback(function(){for(var r,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(r=e.current)===null||r===void 0?void 0:r.call.apply(r,[e].concat(o))},[]);return t?n:void 0}var pme=["className","children"],mme=function(e,n){var r=e.className,i=e.children,o=_n(e,pme),a=v.exports.useContext(dl),s=a.prefixCls,l=a.mode,u=a.rtl;return v.exports.createElement("ul",Se({className:Xe(s,u&&"".concat(s,"-rtl"),"".concat(s,"-sub"),"".concat(s,"-").concat(l==="inline"?"inline":"vertical"),r)},o,{"data-menu-list":!0,ref:n}),i)},lO=v.exports.forwardRef(mme);lO.displayName="SubMenuList";var sd={adjustX:1,adjustY:1},vme={topLeft:{points:["bl","tl"],overflow:sd,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:sd,offset:[0,7]},leftTop:{points:["tr","tl"],overflow:sd,offset:[-4,0]},rightTop:{points:["tl","tr"],overflow:sd,offset:[4,0]}},gme={topLeft:{points:["bl","tl"],overflow:sd,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:sd,offset:[0,7]},rightTop:{points:["tr","tl"],overflow:sd,offset:[-4,0]},leftTop:{points:["tl","tr"],overflow:sd,offset:[4,0]}};function o9(t,e,n){if(e)return e;if(n)return n[t]||n.other}var yme={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function xme(t){var e=t.prefixCls,n=t.visible,r=t.children,i=t.popup,o=t.popupClassName,a=t.popupOffset,s=t.disabled,l=t.mode,u=t.onVisibleChange,c=v.exports.useContext(dl),h=c.getPopupContainer,f=c.rtl,m=c.subMenuOpenDelay,y=c.subMenuCloseDelay,x=c.builtinPlacements,b=c.triggerSubMenuAction,w=c.forceSubMenuRender,S=c.rootClassName,C=c.motion,M=c.defaultMotions,T=v.exports.useState(!1),R=$e(T,2),I=R[0],A=R[1],N=ve(f?ve({},gme):ve({},vme),x),L=yme[l],D=o9(l,C,M),W=ve(ve({},D),{},{leavedClassName:"".concat(e,"-hidden"),removeOnLeave:!1,motionAppear:!0}),V=v.exports.useRef();return v.exports.useEffect(function(){return V.current=lr(function(){A(n)}),function(){lr.cancel(V.current)}},[n]),v.exports.createElement(nS,{prefixCls:e,popupClassName:Xe("".concat(e,"-popup"),ue({},"".concat(e,"-rtl"),f),o,S),stretch:l==="horizontal"?"minWidth":null,getPopupContainer:h,builtinPlacements:N,popupPlacement:L,popupVisible:I,popup:i,popupAlign:a&&{offset:a},action:s?[]:[b],mouseEnterDelay:m,mouseLeaveDelay:y,onPopupVisibleChange:u,forceRender:w,popupMotion:W},r)}function bme(t){var e=t.id,n=t.open,r=t.keyPath,i=t.children,o="inline",a=v.exports.useContext(dl),s=a.prefixCls,l=a.forceSubMenuRender,u=a.motion,c=a.defaultMotions,h=a.mode,f=v.exports.useRef(!1);f.current=h===o;var m=v.exports.useState(!f.current),y=$e(m,2),x=y[0],b=y[1],w=f.current?n:!1;v.exports.useEffect(function(){f.current&&b(!1)},[h]);var S=ve({},o9(o,u,c));r.length>1&&(S.motionAppear=!1);var C=S.onVisibleChanged;return S.onVisibleChanged=function(M){return!f.current&&!M&&b(!0),C==null?void 0:C(M)},x?null:v.exports.createElement(y0,{mode:o,locked:!f.current},v.exports.createElement(rh,Se({visible:w},S,{forceRender:l,removeOnLeave:!1,leavedClassName:"".concat(s,"-hidden")}),function(M){var T=M.className,R=M.style;return v.exports.createElement(lO,{id:e,className:T,style:R},i)}))}var wme=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],_me=["active"],Sme=function(e){var n,r=e.style,i=e.className,o=e.title,a=e.eventKey;e.warnKey;var s=e.disabled,l=e.internalPopupClose,u=e.children,c=e.itemIcon,h=e.expandIcon,f=e.popupClassName,m=e.popupOffset,y=e.onClick,x=e.onMouseEnter,b=e.onMouseLeave,w=e.onTitleClick,S=e.onTitleMouseEnter,C=e.onTitleMouseLeave,M=_n(e,wme),T=i9(a),R=v.exports.useContext(dl),I=R.prefixCls,A=R.mode,N=R.openKeys,L=R.disabled,D=R.overflowDisabled,W=R.activeKey,V=R.selectedKeys,B=R.itemIcon,K=R.expandIcon,j=R.onItemClick,G=R.onOpenChange,H=R.onActive,Y=v.exports.useContext(aO),Z=Y._internalRenderSubMenuItem,oe=v.exports.useContext(t9),re=oe.isSubPathKey,se=Wm(),ce="".concat(I,"-submenu"),ye=L||s,fe=v.exports.useRef(),De=v.exports.useRef(),Oe=c||B,Fe=h||K,Ee=N.includes(a),Ye=!D&&Ee,be=re(V,a),Ce=YH(a,ye,S,C),Me=Ce.active,ze=_n(Ce,_me),Re=v.exports.useState(!1),We=$e(Re,2),Ue=We[0],Ve=We[1],Be=function(Ze){ye||Ve(Ze)},qe=function(Ze){Be(!0),x==null||x({key:a,domEvent:Ze})},te=function(Ze){Be(!1),b==null||b({key:a,domEvent:Ze})},k=v.exports.useMemo(function(){return Me||(A!=="inline"?Ue||re([W],a):!1)},[A,Me,W,Ue,a,re]),$=JH(se.length),U=function(Ze){ye||(w==null||w({key:a,domEvent:Ze}),A==="inline"&&G(a,!Ee))},ne=wp(function(je){y==null||y(A_(je)),j(je)}),ge=function(Ze){A!=="inline"&&G(a,Ze)},me=function(){H(a)},Q=T&&"".concat(T,"-popup"),_e=v.exports.createElement("div",Se({role:"menuitem",style:$,className:"".concat(ce,"-title"),tabIndex:ye?null:-1,ref:fe,title:typeof o=="string"?o:null,"data-menu-id":D&&T?null:T,"aria-expanded":Ye,"aria-haspopup":!0,"aria-controls":Q,"aria-disabled":ye,onClick:U,onFocus:me},ze),o,v.exports.createElement(ZH,{icon:A!=="horizontal"?Fe:null,props:ve(ve({},e),{},{isOpen:Ye,isSubMenu:!0})},v.exports.createElement("i",{className:"".concat(ce,"-arrow")}))),ke=v.exports.useRef(A);if(A!=="inline"&&(ke.current=se.length>1?"vertical":A),!D){var we=ke.current;_e=v.exports.createElement(xme,{mode:we,prefixCls:ce,visible:!l&&Ye&&A!=="inline",popupClassName:f,popupOffset:m,popup:v.exports.createElement(y0,{mode:we==="horizontal"?"vertical":we},v.exports.createElement(lO,{id:Q,ref:De},u)),disabled:ye,onVisibleChange:ge},_e)}var de=v.exports.createElement(Wl.Item,Se({role:"none"},M,{component:"li",style:r,className:Xe(ce,"".concat(ce,"-").concat(A),i,(n={},ue(n,"".concat(ce,"-open"),Ye),ue(n,"".concat(ce,"-active"),k),ue(n,"".concat(ce,"-selected"),be),ue(n,"".concat(ce,"-disabled"),ye),n)),onMouseEnter:qe,onMouseLeave:te}),_e,!D&&v.exports.createElement(bme,{id:Q,open:Ye,keyPath:se},u));return Z&&(de=Z(de,e,{selected:be,active:k,open:Ye,disabled:ye})),v.exports.createElement(y0,{onItemClick:ne,mode:A==="horizontal"?"vertical":A,itemIcon:Oe,expandIcon:Fe},de)};function lS(t){var e=t.eventKey,n=t.children,r=Wm(e),i=sO(n,r),o=sS();v.exports.useEffect(function(){if(o)return o.registerPath(e,r),function(){o.unregisterPath(e,r)}},[r]);var a;return o?a=i:a=v.exports.createElement(Sme,t,i),v.exports.createElement(e9.Provider,{value:r},a)}function G4(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(U3(t)){var n=t.nodeName.toLowerCase(),r=["input","select","textarea","button"].includes(n)||t.isContentEditable||n==="a"&&!!t.getAttribute("href"),i=t.getAttribute("tabindex"),o=Number(i),a=null;return i&&!Number.isNaN(o)?a=o:r&&a===null&&(a=0),r&&t.disabled&&(a=null),a!==null&&(a>=0||e&&a<0)}return!1}function Cme(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=mt(t.querySelectorAll("*")).filter(function(r){return G4(r,e)});return G4(t,e)&&n.unshift(t),n}var $P=st.LEFT,KP=st.RIGHT,qP=st.UP,Tw=st.DOWN,Pw=st.ENTER,a9=st.ESC,Wv=st.HOME,jv=st.END,$4=[qP,Tw,$P,KP];function Eme(t,e,n,r){var i,o,a,s,l="prev",u="next",c="children",h="parent";if(t==="inline"&&r===Pw)return{inlineTrigger:!0};var f=(i={},ue(i,qP,l),ue(i,Tw,u),i),m=(o={},ue(o,$P,n?u:l),ue(o,KP,n?l:u),ue(o,Tw,c),ue(o,Pw,c),o),y=(a={},ue(a,qP,l),ue(a,Tw,u),ue(a,Pw,c),ue(a,a9,h),ue(a,$P,n?c:h),ue(a,KP,n?h:c),a),x={inline:f,horizontal:m,vertical:y,inlineSub:f,horizontalSub:y,verticalSub:y},b=(s=x["".concat(t).concat(e?"":"Sub")])===null||s===void 0?void 0:s[r];switch(b){case l:return{offset:-1,sibling:!0};case u:return{offset:1,sibling:!0};case h:return{offset:-1,sibling:!1};case c:return{offset:1,sibling:!1};default:return null}}function Mme(t){for(var e=t;e;){if(e.getAttribute("data-menu-list"))return e;e=e.parentElement}return null}function Tme(t,e){for(var n=t||document.activeElement;n;){if(e.has(n))return n;n=n.parentElement}return null}function s9(t,e){var n=Cme(t,!0);return n.filter(function(r){return e.has(r)})}function K4(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;if(!t)return null;var i=s9(t,e),o=i.length,a=i.findIndex(function(s){return n===s});return r<0?a===-1?a=o-1:a-=1:r>0&&(a+=1),a=(a+o)%o,i[a]}function Pme(t,e,n,r,i,o,a,s,l,u){var c=v.exports.useRef(),h=v.exports.useRef();h.current=e;var f=function(){lr.cancel(c.current)};return v.exports.useEffect(function(){return function(){f()}},[]),function(m){var y=m.which;if([].concat($4,[Pw,a9,Wv,jv]).includes(y)){var x,b,w,S=function(){x=new Set,b=new Map,w=new Map;var K=o();return K.forEach(function(j){var G=document.querySelector("[data-menu-id='".concat(r9(r,j),"']"));G&&(x.add(G),w.set(G,j),b.set(j,G))}),x};S();var C=b.get(e),M=Tme(C,x),T=w.get(M),R=Eme(t,a(T,!0).length===1,n,y);if(!R&&y!==Wv&&y!==jv)return;($4.includes(y)||[Wv,jv].includes(y))&&m.preventDefault();var I=function(K){if(K){var j=K,G=K.querySelector("a");G!=null&&G.getAttribute("href")&&(j=G);var H=w.get(K);s(H),f(),c.current=lr(function(){h.current===H&&j.focus()})}};if([Wv,jv].includes(y)||R.sibling||!M){var A;!M||t==="inline"?A=i.current:A=Mme(M);var N,L=s9(A,x);y===Wv?N=L[0]:y===jv?N=L[L.length-1]:N=K4(A,x,M,R.offset),I(N)}else if(R.inlineTrigger)l(T);else if(R.offset>0)l(T,!0),f(),c.current=lr(function(){S();var B=M.getAttribute("aria-controls"),K=document.getElementById(B),j=K4(K,x);I(j)},5);else if(R.offset<0){var D=a(T,!0),W=D[D.length-2],V=b.get(W);l(W,!1),I(V)}}u==null||u(m)}}var Ame=Math.random().toFixed(5).toString().slice(2),q4=0;function Rme(t){var e=Ra(t,{value:t}),n=$e(e,2),r=n[0],i=n[1];return v.exports.useEffect(function(){q4+=1;var o="".concat(Ame,"-").concat(q4);i("rc-menu-uuid-".concat(o))},[]),r}function Ome(t){Promise.resolve().then(t)}var uO="__RC_UTIL_PATH_SPLIT__",X4=function(e){return e.join(uO)},Nme=function(e){return e.split(uO)},XP="rc-menu-more";function kme(){var t=v.exports.useState({}),e=$e(t,2),n=e[1],r=v.exports.useRef(new Map),i=v.exports.useRef(new Map),o=v.exports.useState([]),a=$e(o,2),s=a[0],l=a[1],u=v.exports.useRef(0),c=v.exports.useRef(!1),h=function(){c.current||n({})},f=v.exports.useCallback(function(C,M){var T=X4(M);i.current.set(T,C),r.current.set(C,T),u.current+=1;var R=u.current;Ome(function(){R===u.current&&h()})},[]),m=v.exports.useCallback(function(C,M){var T=X4(M);i.current.delete(T),r.current.delete(C)},[]),y=v.exports.useCallback(function(C){l(C)},[]),x=v.exports.useCallback(function(C,M){var T=r.current.get(C)||"",R=Nme(T);return M&&s.includes(R[0])&&R.unshift(XP),R},[s]),b=v.exports.useCallback(function(C,M){return C.some(function(T){var R=x(T,!0);return R.includes(M)})},[x]),w=function(){var M=mt(r.current.keys());return s.length&&M.push(XP),M},S=v.exports.useCallback(function(C){var M="".concat(r.current.get(C)).concat(uO),T=new Set;return mt(i.current.keys()).forEach(function(R){R.startsWith(M)&&T.add(i.current.get(R))}),T},[]);return v.exports.useEffect(function(){return function(){c.current=!0}},[]),{registerPath:f,unregisterPath:m,refreshOverflowKeys:y,isSubPathKey:b,getKeyPath:x,getKeys:w,getSubPathKeys:S}}var Ime=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem"],Xh=[],Lme=v.exports.forwardRef(function(t,e){var n,r,i=t.prefixCls,o=i===void 0?"rc-menu":i,a=t.rootClassName,s=t.style,l=t.className,u=t.tabIndex,c=u===void 0?0:u,h=t.items,f=t.children,m=t.direction,y=t.id,x=t.mode,b=x===void 0?"vertical":x,w=t.inlineCollapsed,S=t.disabled,C=t.disabledOverflow,M=t.subMenuOpenDelay,T=M===void 0?.1:M,R=t.subMenuCloseDelay,I=R===void 0?.1:R,A=t.forceSubMenuRender,N=t.defaultOpenKeys,L=t.openKeys,D=t.activeKey,W=t.defaultActiveFirst,V=t.selectable,B=V===void 0?!0:V,K=t.multiple,j=K===void 0?!1:K,G=t.defaultSelectedKeys,H=t.selectedKeys,Y=t.onSelect,Z=t.onDeselect,oe=t.inlineIndent,re=oe===void 0?24:oe,se=t.motion,ce=t.defaultMotions,ye=t.triggerSubMenuAction,fe=ye===void 0?"hover":ye,De=t.builtinPlacements,Oe=t.itemIcon,Fe=t.expandIcon,Ee=t.overflowedIndicator,Ye=Ee===void 0?"...":Ee,be=t.overflowedIndicatorPopupClassName,Ce=t.getPopupContainer,Me=t.onClick,ze=t.onOpenChange,Re=t.onKeyDown;t.openAnimation,t.openTransitionName;var We=t._internalRenderMenuItem,Ue=t._internalRenderSubMenuItem,Ve=_n(t,Ime),Be=v.exports.useMemo(function(){return hme(f,h,Xh)},[f,h]),qe=v.exports.useState(!1),te=$e(qe,2),k=te[0],$=te[1],U=v.exports.useRef();v.exports.useImperativeHandle(e,function(){return{list:U.current,focus:function(hn){var Rn;(Rn=U.current)===null||Rn===void 0||Rn.focus(hn)}}});var ne=Rme(y),ge=m==="rtl",me=v.exports.useMemo(function(){return(b==="inline"||b==="vertical")&&w?["vertical",w]:[b,!1]},[b,w]),Q=$e(me,2),_e=Q[0],ke=Q[1],we=v.exports.useState(0),de=$e(we,2),je=de[0],Ze=de[1],vt=je>=Be.length-1||_e!=="horizontal"||C,ot=Ra(N,{value:L,postState:function(hn){return hn||Xh}}),ht=$e(ot,2),at=ht[0],Mt=ht[1],Ct=function(hn){Mt(hn),ze==null||ze(hn)},Ft=v.exports.useState(at),$t=$e(Ft,2),An=$t[0],xt=$t[1],Et=_e==="inline",it=v.exports.useRef(!1);v.exports.useEffect(function(){Et&&xt(at)},[at]),v.exports.useEffect(function(){if(!it.current){it.current=!0;return}Et?Mt(An):Ct(Xh)},[Et]);var rt=kme(),ft=rt.registerPath,bt=rt.unregisterPath,Yt=rt.refreshOverflowKeys,Sn=rt.isSubPathKey,he=rt.getKeyPath,Ae=rt.getKeys,Ge=rt.getSubPathKeys,Ie=v.exports.useMemo(function(){return{registerPath:ft,unregisterPath:bt}},[ft,bt]),Je=v.exports.useMemo(function(){return{isSubPathKey:Sn}},[Sn]);v.exports.useEffect(function(){Yt(vt?Xh:Be.slice(je+1).map(function(tn){return tn.key}))},[je,vt]);var Rt=Ra(D||W&&((n=Be[0])===null||n===void 0?void 0:n.key),{value:D}),Dt=$e(Rt,2),Pt=Dt[0],zt=Dt[1],sn=wp(function(tn){zt(tn)}),Kt=wp(function(){zt(void 0)}),cn=Ra(G||[],{value:H,postState:function(hn){return Array.isArray(hn)?hn:hn==null?Xh:[hn]}}),gt=$e(cn,2),Tt=gt[0],qt=gt[1],Dn=function(hn){if(B){var Rn=hn.key,At=Tt.includes(Rn),Zt;j?At?Zt=Tt.filter(function(Nr){return Nr!==Rn}):Zt=[].concat(mt(Tt),[Rn]):Zt=[Rn],qt(Zt);var br=ve(ve({},hn),{},{selectedKeys:Zt});At?Z==null||Z(br):Y==null||Y(br)}!j&&at.length&&_e!=="inline"&&Ct(Xh)},rn=wp(function(tn){Me==null||Me(A_(tn)),Dn(tn)}),Nt=wp(function(tn,hn){var Rn=at.filter(function(Zt){return Zt!==tn});if(hn)Rn.push(tn);else if(_e!=="inline"){var At=Ge(tn);Rn=Rn.filter(function(Zt){return!At.has(Zt)})}ty(at,Rn)||Ct(Rn)}),ur=wp(Ce),vn=function(hn,Rn){var At=Rn!=null?Rn:!at.includes(hn);Nt(hn,At)},dr=Pme(_e,Pt,ge,ne,U,Ae,he,zt,vn,Re);v.exports.useEffect(function(){$(!0)},[]);var Or=v.exports.useMemo(function(){return{_internalRenderMenuItem:We,_internalRenderSubMenuItem:Ue}},[We,Ue]),Ci=_e!=="horizontal"||C?Be:Be.map(function(tn,hn){return v.exports.createElement(y0,{key:tn.key,overflowDisabled:hn>je},tn)}),hi=v.exports.createElement(Wl,Se({id:y,ref:U,prefixCls:"".concat(o,"-overflow"),component:"ul",itemComponent:ny,className:Xe(o,"".concat(o,"-root"),"".concat(o,"-").concat(_e),l,(r={},ue(r,"".concat(o,"-inline-collapsed"),ke),ue(r,"".concat(o,"-rtl"),ge),r),a),dir:m,style:s,role:"menu",tabIndex:c,data:Ci,renderRawItem:function(hn){return hn},renderRawRest:function(hn){var Rn=hn.length,At=Rn?Be.slice(-Rn):null;return v.exports.createElement(lS,{eventKey:XP,title:Ye,disabled:vt,internalPopupClose:Rn===0,popupClassName:be},At)},maxCount:_e!=="horizontal"||C?Wl.INVALIDATE:Wl.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(hn){Ze(hn)},onKeyDown:dr},Ve));return v.exports.createElement(aO.Provider,{value:Or},v.exports.createElement(n9.Provider,{value:ne},v.exports.createElement(y0,{prefixCls:o,rootClassName:a,mode:_e,openKeys:at,rtl:ge,disabled:S,motion:k?se:null,defaultMotions:k?ce:null,activeKey:Pt,onActive:sn,onInactive:Kt,selectedKeys:Tt,inlineIndent:re,subMenuOpenDelay:T,subMenuCloseDelay:I,forceSubMenuRender:A,builtinPlacements:De,triggerSubMenuAction:fe,getPopupContainer:ur,itemIcon:Oe,expandIcon:Fe,onItemClick:rn,onOpenChange:Nt},v.exports.createElement(t9.Provider,{value:Je},hi),v.exports.createElement("div",{style:{display:"none"},"aria-hidden":!0},v.exports.createElement(QH.Provider,{value:Ie},Be)))))}),Dme=["className","title","eventKey","children"],Fme=["children"],zme=function(e){var n=e.className,r=e.title;e.eventKey;var i=e.children,o=_n(e,Dme),a=v.exports.useContext(dl),s=a.prefixCls,l="".concat(s,"-item-group");return v.exports.createElement("li",Se({},o,{onClick:function(c){return c.stopPropagation()},className:Xe(l,n)}),v.exports.createElement("div",{className:"".concat(l,"-title"),title:typeof r=="string"?r:void 0},r),v.exports.createElement("ul",{className:"".concat(l,"-list")},i))};function uS(t){var e=t.children,n=_n(t,Fme),r=Wm(n.eventKey),i=sO(e,r),o=sS();return o?i:v.exports.createElement(zme,No(n,["warnKey"]),i)}function cO(t){var e=t.className,n=t.style,r=v.exports.useContext(dl),i=r.prefixCls,o=sS();return o?null:v.exports.createElement("li",{className:Xe("".concat(i,"-item-divider"),e),style:n})}var Bme=Wm,jm=Lme;jm.Item=ny;jm.SubMenu=lS;jm.ItemGroup=uS;jm.Divider=cO;var Vme=v.exports.createContext({prefixCls:"",firstLevel:!0,inlineCollapsed:!1}),R_=Vme;function l9(t){var e,n=t.popupClassName,r=t.icon,i=t.title,o=t.theme,a=v.exports.useContext(R_),s=a.prefixCls,l=a.inlineCollapsed,u=a.antdMenuTheme,c=Bme(),h;if(!r)h=l&&!c.length&&i&&typeof i=="string"?v.exports.createElement("div",{className:"".concat(s,"-inline-collapsed-noicon")},i.charAt(0)):v.exports.createElement("span",{className:"".concat(s,"-title-content")},i);else{var f=rc(i)&&i.type==="span";h=v.exports.createElement(v.exports.Fragment,null,qo(r,{className:Xe(rc(r)?(e=r.props)===null||e===void 0?void 0:e.className:"","".concat(s,"-item-icon"))}),f?i:v.exports.createElement("span",{className:"".concat(s,"-title-content")},i))}var m=v.exports.useMemo(function(){return Se(Se({},a),{firstLevel:!1})},[a]);return v.exports.createElement(R_.Provider,{value:m},v.exports.createElement(lS,Se({},No(t,["icon"]),{title:h,popupClassName:Xe(s,"".concat(s,"-").concat(o||u),n)})))}var Ume={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"bars",theme:"outlined"},Hme=Ume,u9=function(e,n){return v.exports.createElement(xr,ve(ve({},e),{},{ref:n,icon:Hme}))};u9.displayName="BarsOutlined";var Wme=v.exports.forwardRef(u9),jme={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"},Gme=jme,c9=function(e,n){return v.exports.createElement(xr,ve(ve({},e),{},{ref:n,icon:Gme}))};c9.displayName="LeftOutlined";var YP=v.exports.forwardRef(c9),d9=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},f9=v.exports.createContext({siderHook:{addSider:function(){return null},removeSider:function(){return null}}});function cS(t){var e=t.suffixCls,n=t.tagName,r=t.displayName;return function(i){var o=v.exports.forwardRef(function(a,s){var l=v.exports.useContext(jn),u=l.getPrefixCls,c=a.prefixCls,h=u(e,c);return v.exports.createElement(i,Se({ref:s,prefixCls:h,tagName:n},a))});return o.displayName=r,o}}var dO=v.exports.forwardRef(function(t,e){var n=t.prefixCls,r=t.className,i=t.children,o=t.tagName,a=d9(t,["prefixCls","className","children","tagName"]),s=Xe(n,r);return v.exports.createElement(o,Se(Se({className:s},a),{ref:e}),i)}),$me=v.exports.forwardRef(function(t,e){var n,r=v.exports.useContext(jn),i=r.direction,o=v.exports.useState([]),a=$e(o,2),s=a[0],l=a[1],u=t.prefixCls,c=t.className,h=t.children,f=t.hasSider,m=t.tagName,y=d9(t,["prefixCls","className","children","hasSider","tagName"]),x=Xe(u,(n={},ue(n,"".concat(u,"-has-sider"),typeof f=="boolean"?f:s.length>0),ue(n,"".concat(u,"-rtl"),i==="rtl"),n),c),b=v.exports.useMemo(function(){return{siderHook:{addSider:function(S){l(function(C){return[].concat(mt(C),[S])})},removeSider:function(S){l(function(C){return C.filter(function(M){return M!==S})})}}}},[]);return v.exports.createElement(f9.Provider,{value:b},v.exports.createElement(m,Se({ref:e,className:x},y),h))});cS({suffixCls:"layout",tagName:"section",displayName:"Layout"})($me);cS({suffixCls:"layout-header",tagName:"header",displayName:"Header"})(dO);cS({suffixCls:"layout-footer",tagName:"footer",displayName:"Footer"})(dO);cS({suffixCls:"layout-content",tagName:"main",displayName:"Content"})(dO);var Kme=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},qme=Kme,Xme=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},Y4={xs:"479.98px",sm:"575.98px",md:"767.98px",lg:"991.98px",xl:"1199.98px",xxl:"1599.98px"},fO=v.exports.createContext({}),Yme=function(){var t=0;return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return t+=1,"".concat(e).concat(t)}}(),Zme=v.exports.forwardRef(function(t,e){var n=t.prefixCls,r=t.className,i=t.trigger,o=t.children,a=t.defaultCollapsed,s=a===void 0?!1:a,l=t.theme,u=l===void 0?"dark":l,c=t.style,h=c===void 0?{}:c,f=t.collapsible,m=f===void 0?!1:f,y=t.reverseArrow,x=y===void 0?!1:y,b=t.width,w=b===void 0?200:b,S=t.collapsedWidth,C=S===void 0?80:S,M=t.zeroWidthTriggerStyle,T=t.breakpoint,R=t.onCollapse,I=t.onBreakpoint,A=Xme(t,["prefixCls","className","trigger","children","defaultCollapsed","theme","style","collapsible","reverseArrow","width","collapsedWidth","zeroWidthTriggerStyle","breakpoint","onCollapse","onBreakpoint"]),N=v.exports.useContext(f9),L=N.siderHook,D=v.exports.useState("collapsed"in A?A.collapsed:s),W=$e(D,2),V=W[0],B=W[1],K=v.exports.useState(!1),j=$e(K,2),G=j[0],H=j[1];v.exports.useEffect(function(){"collapsed"in A&&B(A.collapsed)},[A.collapsed]);var Y=function(De,Oe){"collapsed"in A||B(De),R==null||R(De,Oe)},Z=v.exports.useRef();Z.current=function(fe){H(fe.matches),I==null||I(fe.matches),V!==fe.matches&&Y(fe.matches,"responsive")},v.exports.useEffect(function(){function fe(Ee){return Z.current(Ee)}var De;if(typeof window!="undefined"){var Oe=window,Fe=Oe.matchMedia;if(Fe&&T&&T in Y4){De=Fe("(max-width: ".concat(Y4[T],")"));try{De.addEventListener("change",fe)}catch{De.addListener(fe)}fe(De)}}return function(){try{De==null||De.removeEventListener("change",fe)}catch{De==null||De.removeListener(fe)}}},[T]),v.exports.useEffect(function(){var fe=Yme("ant-sider-");return L.addSider(fe),function(){return L.removeSider(fe)}},[]);var oe=function(){Y(!V,"clickTrigger")},re=v.exports.useContext(jn),se=re.getPrefixCls,ce=function(){var De,Oe=se("layout-sider",n),Fe=No(A,["collapsed"]),Ee=V?C:w,Ye=qme(Ee)?"".concat(Ee,"px"):String(Ee),be=parseFloat(String(C||0))===0?v.exports.createElement("span",{onClick:oe,className:Xe("".concat(Oe,"-zero-width-trigger"),"".concat(Oe,"-zero-width-trigger-").concat(x?"right":"left")),style:M},i||v.exports.createElement(Wme,null)):null,Ce={expanded:x?v.exports.createElement(T_,null):v.exports.createElement(YP,null),collapsed:x?v.exports.createElement(YP,null):v.exports.createElement(T_,null)},Me=V?"collapsed":"expanded",ze=Ce[Me],Re=i!==null?be||v.exports.createElement("div",{className:"".concat(Oe,"-trigger"),onClick:oe,style:{width:Ye}},i||ze):null,We=Se(Se({},h),{flex:"0 0 ".concat(Ye),maxWidth:Ye,minWidth:Ye,width:Ye}),Ue=Xe(Oe,"".concat(Oe,"-").concat(u),(De={},ue(De,"".concat(Oe,"-collapsed"),!!V),ue(De,"".concat(Oe,"-has-trigger"),m&&i!==null&&!be),ue(De,"".concat(Oe,"-below"),!!G),ue(De,"".concat(Oe,"-zero-width"),parseFloat(Ye)===0),De),r);return v.exports.createElement("aside",Se({className:Ue},Fe,{style:We,ref:e}),v.exports.createElement("div",{className:"".concat(Oe,"-children")},o),m||G&&be?Re:null)},ye=v.exports.useMemo(function(){return{siderCollapsed:V}},[V]);return v.exports.createElement(fO.Provider,{value:ye},ce())});Zme.displayName="Sider";var Jme=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},hO=function(t){Ni(n,t);var e=ki(n);function n(){var r;return di(this,n),r=e.apply(this,arguments),r.renderItem=function(i){var o,a=i.siderCollapsed,s,l=r.context,u=l.prefixCls,c=l.firstLevel,h=l.inlineCollapsed,f=l.direction,m=l.disableMenuItemTitleTooltip,y=r.props,x=y.className,b=y.children,w=r.props,S=w.title,C=w.icon,M=w.danger,T=Jme(w,["title","icon","danger"]),R=S;typeof S=="undefined"?R=c?b:"":S===!1&&(R="");var I={title:R};!a&&!h&&(I.title=null,I.visible=!1);var A=cl(b).length,N=v.exports.createElement(ny,Se({},T,{className:Xe((o={},ue(o,"".concat(u,"-item-danger"),M),ue(o,"".concat(u,"-item-only-child"),(C?A+1:A)===1),o),x),title:typeof S=="string"?S:void 0}),qo(C,{className:Xe(rc(C)?(s=C.props)===null||s===void 0?void 0:s.className:"","".concat(u,"-item-icon"))}),r.renderItemChildren(h));return m||(N=v.exports.createElement(WH,Se({},I,{placement:f==="rtl"?"left":"right",overlayClassName:"".concat(u,"-inline-collapsed-tooltip")}),N)),N},r}return fi(n,[{key:"renderItemChildren",value:function(i){var o=this.context,a=o.prefixCls,s=o.firstLevel,l=this.props,u=l.icon,c=l.children,h=v.exports.createElement("span",{className:"".concat(a,"-title-content")},c);return(!u||rc(c)&&c.type==="span")&&c&&i&&s&&typeof c=="string"?v.exports.createElement("div",{className:"".concat(a,"-inline-collapsed-noicon")},c.charAt(0)):h}},{key:"render",value:function(){return v.exports.createElement(fO.Consumer,null,this.renderItem)}}]),n}(v.exports.Component);hO.contextType=R_;var Qme=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},eve=function(e){var n=e.prefixCls,r=e.className,i=e.dashed,o=Qme(e,["prefixCls","className","dashed"]),a=v.exports.useContext(jn),s=a.getPrefixCls,l=s("menu",n),u=Xe(ue({},"".concat(l,"-item-divider-dashed"),!!i),r);return v.exports.createElement(cO,Se({className:u},o))},h9=eve,tve=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function ZP(t){return(t||[]).map(function(e,n){if(e&&un(e)==="object"){var r=e,i=r.label,o=r.children,a=r.key,s=r.type,l=tve(r,["label","children","key","type"]),u=a!=null?a:"tmp-".concat(n);return o||s==="group"?s==="group"?v.exports.createElement(uS,Se({key:u},l,{title:i}),ZP(o)):v.exports.createElement(l9,Se({key:u},l,{title:i}),ZP(o)):s==="divider"?v.exports.createElement(h9,Se({key:u},l)):v.exports.createElement(hO,Se({key:u},l),i)}return null}).filter(function(e){return e})}function nve(t){return v.exports.useMemo(function(){return t&&ZP(t)},[t])}var rve=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},ive=v.exports.forwardRef(function(t,e){var n=v.exports.useContext(jn),r=n.getPrefixCls,i=n.getPopupContainer,o=n.direction,a=r(),s=t.prefixCls,l=t.className,u=t.theme,c=u===void 0?"light":u,h=t.expandIcon,f=t._internalDisableMenuItemTitleTooltip,m=t.inlineCollapsed,y=t.siderCollapsed,x=t.items,b=t.children,w=rve(t,["prefixCls","className","theme","expandIcon","_internalDisableMenuItemTitleTooltip","inlineCollapsed","siderCollapsed","items","children"]),S=No(w,["collapsedWidth"]),C=nve(x)||b,M=v.exports.useMemo(function(){return y!==void 0?y:m},[m,y]),T={horizontal:{motionName:"".concat(a,"-slide-up")},inline:DH,other:{motionName:"".concat(a,"-zoom-big")}},R=r("menu",s),I=Xe("".concat(R,"-").concat(c),l),A=v.exports.useMemo(function(){return{prefixCls:R,inlineCollapsed:M||!1,antdMenuTheme:c,direction:o,firstLevel:!0,disableMenuItemTitleTooltip:f}},[R,M,c,o,f]);return v.exports.createElement(R_.Provider,{value:A},v.exports.createElement(jm,Se({getPopupContainer:i,overflowedIndicator:v.exports.createElement(rO,null),overflowedIndicatorPopupClassName:"".concat(R,"-").concat(c)},S,{inlineCollapsed:M,className:I,prefixCls:R,direction:o,defaultMotions:T,expandIcon:typeof h=="function"?h:qo(h,{className:"".concat(R,"-submenu-expand-icon")}),ref:e}),C))}),ry=function(t){Ni(n,t);var e=ki(n);function n(){var r;return di(this,n),r=e.apply(this,arguments),r.focus=function(i){var o;(o=r.menu)===null||o===void 0||o.focus(i)},r}return fi(n,[{key:"render",value:function(){var i=this;return v.exports.createElement(fO.Consumer,null,function(o){return v.exports.createElement(ive,Se({ref:function(s){i.menu=s}},i.props,o))})}}]),n}(v.exports.Component);ry.Divider=h9;ry.Item=hO;ry.SubMenu=l9;ry.ItemGroup=uS;var p9=ry,ove=Q0,ave=ey,sve="[object Symbol]";function lve(t){return typeof t=="symbol"||ave(t)&&ove(t)==sve}var uve=lve,cve=/\s/;function dve(t){for(var e=t.length;e--&&cve.test(t.charAt(e)););return e}var fve=dve,hve=fve,pve=/^\s+/;function mve(t){return t&&t.slice(0,hve(t)+1).replace(pve,"")}var vve=mve,gve=vve,Z4=Q1,yve=uve,J4=0/0,xve=/^[-+]0x[0-9a-f]+$/i,bve=/^0b[01]+$/i,wve=/^0o[0-7]+$/i,_ve=parseInt;function Sve(t){if(typeof t=="number")return t;if(yve(t))return J4;if(Z4(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Z4(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=gve(t);var n=bve.test(t);return n||wve.test(t)?_ve(t.slice(2),n?2:8):xve.test(t)?J4:+t}var Cve=Sve,dS={exports:{}},fS={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eve=v.exports,Mve=Symbol.for("react.element"),Tve=Symbol.for("react.fragment"),Pve=Object.prototype.hasOwnProperty,Ave=Eve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Rve={key:!0,ref:!0,__self:!0,__source:!0};function m9(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)Pve.call(e,r)&&!Rve.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Mve,type:t,key:o,ref:a,props:i,_owner:Ave.current}}fS.Fragment=Tve;fS.jsx=m9;fS.jsxs=m9;dS.exports=fS;const Ut=dS.exports.jsx,oo=dS.exports.jsxs,x0=dS.exports.Fragment;var pO=function(t){Ni(n,t);var e=ki(n);function n(r){var i;di(this,n),i=e.call(this,r),i.handleChange=function(a){var s=i.props,l=s.disabled,u=s.onChange;l||("checked"in i.props||i.setState({checked:a.target.checked}),u&&u({target:ve(ve({},i.props),{},{checked:a.target.checked}),stopPropagation:function(){a.stopPropagation()},preventDefault:function(){a.preventDefault()},nativeEvent:a.nativeEvent}))},i.saveInput=function(a){i.input=a};var o="checked"in r?r.checked:r.defaultChecked;return i.state={checked:o},i}return fi(n,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var i,o=this.props,a=o.prefixCls,s=o.className,l=o.style,u=o.name,c=o.id,h=o.type,f=o.disabled,m=o.readOnly,y=o.tabIndex,x=o.onClick,b=o.onFocus,w=o.onBlur,S=o.onKeyDown,C=o.onKeyPress,M=o.onKeyUp,T=o.autoFocus,R=o.value,I=o.required,A=_n(o,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),N=Object.keys(A).reduce(function(W,V){return(V.substr(0,5)==="aria-"||V.substr(0,5)==="data-"||V==="role")&&(W[V]=A[V]),W},{}),L=this.state.checked,D=Xe(a,s,(i={},ue(i,"".concat(a,"-checked"),L),ue(i,"".concat(a,"-disabled"),f),i));return oo("span",{className:D,style:l,children:[Ut("input",nt({name:u,id:c,type:h,required:I,readOnly:m,disabled:f,tabIndex:y,className:"".concat(a,"-input"),checked:!!L,onClick:x,onFocus:b,onBlur:w,onKeyUp:M,onKeyDown:S,onKeyPress:C,onChange:this.handleChange,autoFocus:T,ref:this.saveInput,value:R},N)),Ut("span",{className:"".concat(a,"-inner")})]})}}],[{key:"getDerivedStateFromProps",value:function(i,o){return"checked"in i?ve(ve({},o),{},{checked:i.checked}):null}}]),n}(v.exports.Component);pO.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}};var v9=v.exports.createContext(null),Ove=v9.Provider,g9=v.exports.createContext(null),Nve=g9.Provider,kve=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},Ive=function(e,n){var r,i=v.exports.useContext(v9),o=v.exports.useContext(g9),a=v.exports.useContext(jn),s=a.getPrefixCls,l=a.direction,u=v.exports.useRef(),c=Yl(n,u),h=v.exports.useContext(nc),f=h.isFormItemInput,m=function(A){var N,L;(N=e.onChange)===null||N===void 0||N.call(e,A),(L=i==null?void 0:i.onChange)===null||L===void 0||L.call(i,A)},y=e.prefixCls,x=e.className,b=e.children,w=e.style,S=kve(e,["prefixCls","className","children","style"]),C=s("radio",y),M=((i==null?void 0:i.optionType)||o)==="button"?"".concat(C,"-button"):C,T=Se({},S);i&&(T.name=i.name,T.onChange=m,T.checked=e.value===i.value,T.disabled=e.disabled||i.disabled);var R=Xe("".concat(M,"-wrapper"),(r={},ue(r,"".concat(M,"-wrapper-checked"),T.checked),ue(r,"".concat(M,"-wrapper-disabled"),T.disabled),ue(r,"".concat(M,"-wrapper-rtl"),l==="rtl"),ue(r,"".concat(M,"-wrapper-in-form-item"),f),r),x);return v.exports.createElement("label",{className:R,style:w,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave},v.exports.createElement(pO,Se({},T,{type:"radio",prefixCls:M,ref:c})),b!==void 0?v.exports.createElement("span",null,b):null)},y9=v.exports.forwardRef(Ive);y9.displayName="Radio";var O_=y9,Lve=v.exports.forwardRef(function(t,e){var n=v.exports.useContext(jn),r=n.getPrefixCls,i=n.direction,o=v.exports.useContext(Zl),a=Ra(t.defaultValue,{value:t.value}),s=$e(a,2),l=s[0],u=s[1],c=function(m){var y=l,x=m.target.value;"value"in t||u(x);var b=t.onChange;b&&x!==y&&b(m)},h=function(){var m,y=t.prefixCls,x=t.className,b=x===void 0?"":x,w=t.options,S=t.buttonStyle,C=S===void 0?"outline":S,M=t.disabled,T=t.children,R=t.size,I=t.style,A=t.id,N=t.onMouseEnter,L=t.onMouseLeave,D=r("radio",y),W="".concat(D,"-group"),V=T;w&&w.length>0&&(V=w.map(function(j){return typeof j=="string"||typeof j=="number"?v.exports.createElement(O_,{key:j.toString(),prefixCls:D,disabled:M,value:j,checked:l===j},j):v.exports.createElement(O_,{key:"radio-group-value-options-".concat(j.value),prefixCls:D,disabled:j.disabled||M,value:j.value,checked:l===j.value,style:j.style},j.label)}));var B=R||o,K=Xe(W,"".concat(W,"-").concat(C),(m={},ue(m,"".concat(W,"-").concat(B),B),ue(m,"".concat(W,"-rtl"),i==="rtl"),m),b);return v.exports.createElement("div",Se({},bpe(t),{className:K,style:I,onMouseEnter:N,onMouseLeave:L,id:A,ref:e}),V)};return v.exports.createElement(Ove,{value:{onChange:c,value:l,disabled:t.disabled,name:t.name,optionType:t.optionType}},h())}),Dve=v.exports.memo(Lve),Fve=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},zve=function(e,n){var r=v.exports.useContext(jn),i=r.getPrefixCls,o=e.prefixCls,a=Fve(e,["prefixCls"]),s=i("radio",o);return v.exports.createElement(Nve,{value:"button"},v.exports.createElement(O_,Se({prefixCls:s},a,{type:"radio",ref:n})))},Bve=v.exports.forwardRef(zve),mO=O_;mO.Button=Bve;mO.Group=Dve;var x9=mO,Vve=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},Uve=function(e){var n=e.prefixCls,r=e.className,i=e.hoverable,o=i===void 0?!0:i,a=Vve(e,["prefixCls","className","hoverable"]);return v.exports.createElement(ac,null,function(s){var l=s.getPrefixCls,u=l("card",n),c=Xe("".concat(u,"-grid"),r,ue({},"".concat(u,"-grid-hoverable"),o));return v.exports.createElement("div",Se({},a,{className:c}))})},b9=Uve,Hve=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},Wve=function(e){return v.exports.createElement(ac,null,function(n){var r=n.getPrefixCls,i=e.prefixCls,o=e.className,a=e.avatar,s=e.title,l=e.description,u=Hve(e,["prefixCls","className","avatar","title","description"]),c=r("card",i),h=Xe("".concat(c,"-meta"),o),f=a?v.exports.createElement("div",{className:"".concat(c,"-meta-avatar")},a):null,m=s?v.exports.createElement("div",{className:"".concat(c,"-meta-title")},s):null,y=l?v.exports.createElement("div",{className:"".concat(c,"-meta-description")},l):null,x=m||y?v.exports.createElement("div",{className:"".concat(c,"-meta-detail")},m,y):null;return v.exports.createElement("div",Se({},u,{className:h}),f,x)})},jve=Wve;function w9(t){var e=v.exports.useRef(),n=v.exports.useRef(!1);function r(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];n.current||(lr.cancel(e.current),e.current=lr(function(){t.apply(void 0,o)}))}return v.exports.useEffect(function(){return function(){n.current=!0,lr.cancel(e.current)}},[]),r}function Gve(t){var e=v.exports.useRef([]),n=v.exports.useState({}),r=$e(n,2),i=r[1],o=v.exports.useRef(typeof t=="function"?t():t),a=w9(function(){var l=o.current;e.current.forEach(function(u){l=u(l)}),e.current=[],o.current=l,i({})});function s(l){e.current.push(l),a()}return[o.current,s]}function $ve(t,e){var n,r=t.prefixCls,i=t.id,o=t.active,a=t.tab,s=a.key,l=a.tab,u=a.disabled,c=a.closeIcon,h=t.closable,f=t.renderWrapper,m=t.removeAriaLabel,y=t.editable,x=t.onClick,b=t.onRemove,w=t.onFocus,S=t.style,C="".concat(r,"-tab");v.exports.useEffect(function(){return b},[]);var M=y&&h!==!1&&!u;function T(A){u||x(A)}function R(A){A.preventDefault(),A.stopPropagation(),y.onEdit("remove",{key:s,event:A})}var I=v.exports.createElement("div",{key:s,ref:e,className:Xe(C,(n={},ue(n,"".concat(C,"-with-remove"),M),ue(n,"".concat(C,"-active"),o),ue(n,"".concat(C,"-disabled"),u),n)),style:S,onClick:T},v.exports.createElement("div",{role:"tab","aria-selected":o,id:i&&"".concat(i,"-tab-").concat(s),className:"".concat(C,"-btn"),"aria-controls":i&&"".concat(i,"-panel-").concat(s),"aria-disabled":u,tabIndex:u?null:0,onClick:function(N){N.stopPropagation(),T(N)},onKeyDown:function(N){[st.SPACE,st.ENTER].includes(N.which)&&(N.preventDefault(),T(N))},onFocus:w},l),M&&v.exports.createElement("button",{type:"button","aria-label":m||"remove",tabIndex:0,className:"".concat(C,"-remove"),onClick:function(N){N.stopPropagation(),R(N)}},c||y.removeIcon||"\xD7"));return f?f(I):I}var Kve=v.exports.forwardRef($ve),Q4={width:0,height:0,left:0,top:0};function qve(t,e,n){return v.exports.useMemo(function(){for(var r,i=new Map,o=e.get((r=t[0])===null||r===void 0?void 0:r.key)||Q4,a=o.left+o.width,s=0;s<t.length;s+=1){var l=t[s].key,u=e.get(l);if(!u){var c;u=e.get((c=t[s-1])===null||c===void 0?void 0:c.key)||Q4}var h=i.get(l)||ve({},u);h.right=a-h.left-h.width,i.set(l,h)}return i},[t.map(function(r){return r.key}).join("_"),e,n])}var eF={width:0,height:0,left:0,top:0,right:0};function Xve(t,e,n,r,i){var o=i.tabs,a=i.tabPosition,s=i.rtl,l,u,c;["top","bottom"].includes(a)?(l="width",u=s?"right":"left",c=Math.abs(e.left)):(l="height",u="top",c=-e.top);var h=e[l],f=n[l],m=r[l],y=h;return f+m>h&&f<h&&(y=h-m),v.exports.useMemo(function(){if(!o.length)return[0,0];for(var x=o.length,b=x,w=0;w<x;w+=1){var S=t.get(o[w].key)||eF;if(S[u]+S[l]>c+y){b=w-1;break}}for(var C=0,M=x-1;M>=0;M-=1){var T=t.get(o[M].key)||eF;if(T[u]<c){C=M+1;break}}return[C,b]},[t,c,y,a,o.map(function(x){return x.key}).join("_"),s])}function Yve(t,e){var n=t.prefixCls,r=t.editable,i=t.locale,o=t.style;return!r||r.showAdd===!1?null:v.exports.createElement("button",{ref:e,type:"button",className:"".concat(n,"-nav-add"),style:o,"aria-label":(i==null?void 0:i.addAriaLabel)||"Add tab",onClick:function(s){r.onEdit("add",{event:s})}},r.addIcon||"+")}var _9=v.exports.forwardRef(Yve);function Zve(t,e){var n=t.prefixCls,r=t.id,i=t.tabs,o=t.locale,a=t.mobile,s=t.moreIcon,l=s===void 0?"More":s,u=t.moreTransitionName,c=t.style,h=t.className,f=t.editable,m=t.tabBarGutter,y=t.rtl,x=t.removeAriaLabel,b=t.onTabClick,w=v.exports.useState(!1),S=$e(w,2),C=S[0],M=S[1],T=v.exports.useState(null),R=$e(T,2),I=R[0],A=R[1],N="".concat(r,"-more-popup"),L="".concat(n,"-dropdown"),D=I!==null?"".concat(N,"-").concat(I):null,W=o==null?void 0:o.dropdownAriaLabel;function V(Z,oe){Z.preventDefault(),Z.stopPropagation(),f.onEdit("remove",{key:oe,event:Z})}var B=v.exports.createElement(jm,{onClick:function(oe){var re=oe.key,se=oe.domEvent;b(re,se),M(!1)},id:N,tabIndex:-1,role:"listbox","aria-activedescendant":D,selectedKeys:[I],"aria-label":W!==void 0?W:"expanded dropdown"},i.map(function(Z){var oe=f&&Z.closable!==!1&&!Z.disabled;return v.exports.createElement(ny,{key:Z.key,id:"".concat(N,"-").concat(Z.key),role:"option","aria-controls":r&&"".concat(r,"-panel-").concat(Z.key),disabled:Z.disabled},v.exports.createElement("span",null,Z.tab),oe&&v.exports.createElement("button",{type:"button","aria-label":x||"remove",tabIndex:0,className:"".concat(L,"-menu-item-remove"),onClick:function(se){se.stopPropagation(),V(se,Z.key)}},Z.closeIcon||f.removeIcon||"\xD7"))}));function K(Z){for(var oe=i.filter(function(fe){return!fe.disabled}),re=oe.findIndex(function(fe){return fe.key===I})||0,se=oe.length,ce=0;ce<se;ce+=1){re=(re+Z+se)%se;var ye=oe[re];if(!ye.disabled){A(ye.key);return}}}function j(Z){var oe=Z.which;if(!C){[st.DOWN,st.SPACE,st.ENTER].includes(oe)&&(M(!0),Z.preventDefault());return}switch(oe){case st.UP:K(-1),Z.preventDefault();break;case st.DOWN:K(1),Z.preventDefault();break;case st.ESC:M(!1);break;case st.SPACE:case st.ENTER:I!==null&&b(I,Z);break}}v.exports.useEffect(function(){var Z=document.getElementById(D);Z&&Z.scrollIntoView&&Z.scrollIntoView(!1)},[I]),v.exports.useEffect(function(){C||A(null)},[C]);var G=ue({},y?"marginRight":"marginLeft",m);i.length||(G.visibility="hidden",G.order=1);var H=Xe(ue({},"".concat(L,"-rtl"),y)),Y=a?null:v.exports.createElement(jH,{prefixCls:L,overlay:B,trigger:["hover"],visible:C,transitionName:u,onVisibleChange:M,overlayClassName:H,mouseEnterDelay:.1,mouseLeaveDelay:.1},v.exports.createElement("button",{type:"button",className:"".concat(n,"-nav-more"),style:G,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":N,id:"".concat(r,"-more"),"aria-expanded":C,onKeyDown:j},l));return v.exports.createElement("div",{className:Xe("".concat(n,"-nav-operations"),h),style:c,ref:e},Y,v.exports.createElement(_9,{prefixCls:n,locale:o,editable:f}))}var Jve=v.exports.memo(v.exports.forwardRef(Zve),function(t,e){return e.tabMoving}),vO=v.exports.createContext(null),Qve=.1,tF=.01,Aw=20,nF=Math.pow(.995,Aw);function ege(t,e){var n=v.exports.useState(),r=$e(n,2),i=r[0],o=r[1],a=v.exports.useState(0),s=$e(a,2),l=s[0],u=s[1],c=v.exports.useState(0),h=$e(c,2),f=h[0],m=h[1],y=v.exports.useState(),x=$e(y,2),b=x[0],w=x[1],S=v.exports.useRef();function C(N){var L=N.touches[0],D=L.screenX,W=L.screenY;o({x:D,y:W}),window.clearInterval(S.current)}function M(N){if(!!i){N.preventDefault();var L=N.touches[0],D=L.screenX,W=L.screenY;o({x:D,y:W});var V=D-i.x,B=W-i.y;e(V,B);var K=Date.now();u(K),m(K-l),w({x:V,y:B})}}function T(){if(!!i&&(o(null),w(null),b)){var N=b.x/f,L=b.y/f,D=Math.abs(N),W=Math.abs(L);if(Math.max(D,W)<Qve)return;var V=N,B=L;S.current=window.setInterval(function(){if(Math.abs(V)<tF&&Math.abs(B)<tF){window.clearInterval(S.current);return}V*=nF,B*=nF,e(V*Aw,B*Aw)},Aw)}}var R=v.exports.useRef();function I(N){var L=N.deltaX,D=N.deltaY,W=0,V=Math.abs(L),B=Math.abs(D);V===B?W=R.current==="x"?L:D:V>B?(W=L,R.current="x"):(W=D,R.current="y"),e(-W,-W)&&N.preventDefault()}var A=v.exports.useRef(null);A.current={onTouchStart:C,onTouchMove:M,onTouchEnd:T,onWheel:I},v.exports.useEffect(function(){function N(V){A.current.onTouchStart(V)}function L(V){A.current.onTouchMove(V)}function D(V){A.current.onTouchEnd(V)}function W(V){A.current.onWheel(V)}return document.addEventListener("touchmove",L,{passive:!1}),document.addEventListener("touchend",D,{passive:!1}),t.current.addEventListener("touchstart",N,{passive:!1}),t.current.addEventListener("wheel",W),function(){document.removeEventListener("touchmove",L),document.removeEventListener("touchend",D)}},[])}function tge(){var t=v.exports.useRef(new Map);function e(r){return t.current.has(r)||t.current.set(r,v.exports.createRef()),t.current.get(r)}function n(r){t.current.delete(r)}return[e,n]}function rF(t,e){var n=v.exports.useRef(t),r=v.exports.useState({}),i=$e(r,2),o=i[1];function a(s){var l=typeof s=="function"?s(n.current):s;l!==n.current&&e(l,n.current),n.current=l,o({})}return[n.current,a]}var iF=function(e){var n=e.position,r=e.prefixCls,i=e.extra;if(!i)return null;var o,a={};return i&&un(i)==="object"&&!v.exports.isValidElement(i)?a=i:a.right=i,n==="right"&&(o=a.right),n==="left"&&(o=a.left),o?v.exports.createElement("div",{className:"".concat(r,"-extra-content")},o):null};function nge(t,e){var n,r=v.exports.useContext(vO),i=r.prefixCls,o=r.tabs,a=t.className,s=t.style,l=t.id,u=t.animated,c=t.activeKey,h=t.rtl,f=t.extra,m=t.editable,y=t.locale,x=t.tabPosition,b=t.tabBarGutter,w=t.children,S=t.onTabClick,C=t.onTabScroll,M=v.exports.useRef(),T=v.exports.useRef(),R=v.exports.useRef(),I=v.exports.useRef(),A=tge(),N=$e(A,2),L=N[0],D=N[1],W=x==="top"||x==="bottom",V=rF(0,function(gt,Tt){W&&C&&C({direction:gt>Tt?"left":"right"})}),B=$e(V,2),K=B[0],j=B[1],G=rF(0,function(gt,Tt){!W&&C&&C({direction:gt>Tt?"top":"bottom"})}),H=$e(G,2),Y=H[0],Z=H[1],oe=v.exports.useState(0),re=$e(oe,2),se=re[0],ce=re[1],ye=v.exports.useState(0),fe=$e(ye,2),De=fe[0],Oe=fe[1],Fe=v.exports.useState(null),Ee=$e(Fe,2),Ye=Ee[0],be=Ee[1],Ce=v.exports.useState(null),Me=$e(Ce,2),ze=Me[0],Re=Me[1],We=v.exports.useState(0),Ue=$e(We,2),Ve=Ue[0],Be=Ue[1],qe=v.exports.useState(0),te=$e(qe,2),k=te[0],$=te[1],U=Gve(new Map),ne=$e(U,2),ge=ne[0],me=ne[1],Q=qve(o,ge,se),_e="".concat(i,"-nav-operations-hidden"),ke=0,we=0;W?h?(ke=0,we=Math.max(0,se-Ye)):(ke=Math.min(0,Ye-se),we=0):(ke=Math.min(0,ze-De),we=0);function de(gt){return gt<ke?ke:gt>we?we:gt}var je=v.exports.useRef(),Ze=v.exports.useState(),vt=$e(Ze,2),ot=vt[0],ht=vt[1];function at(){ht(Date.now())}function Mt(){window.clearTimeout(je.current)}ege(M,function(gt,Tt){function qt(Dn,rn){Dn(function(Nt){var ur=de(Nt+rn);return ur})}if(W){if(Ye>=se)return!1;qt(j,gt)}else{if(ze>=De)return!1;qt(Z,Tt)}return Mt(),at(),!0}),v.exports.useEffect(function(){return Mt(),ot&&(je.current=window.setTimeout(function(){ht(0)},100)),Mt},[ot]);function Ct(){var gt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:c,Tt=Q.get(gt)||{width:0,height:0,left:0,right:0,top:0};if(W){var qt=K;h?Tt.right<K?qt=Tt.right:Tt.right+Tt.width>K+Ye&&(qt=Tt.right+Tt.width-Ye):Tt.left<-K?qt=-Tt.left:Tt.left+Tt.width>-K+Ye&&(qt=-(Tt.left+Tt.width-Ye)),Z(0),j(de(qt))}else{var Dn=Y;Tt.top<-Y?Dn=-Tt.top:Tt.top+Tt.height>-Y+ze&&(Dn=-(Tt.top+Tt.height-ze)),j(0),Z(de(Dn))}}var Ft=Xve(Q,{width:Ye,height:ze,left:K,top:Y},{width:se,height:De},{width:Ve,height:k},ve(ve({},t),{},{tabs:o})),$t=$e(Ft,2),An=$t[0],xt=$t[1],Et={};x==="top"||x==="bottom"?Et[h?"marginRight":"marginLeft"]=b:Et.marginTop=b;var it=o.map(function(gt,Tt){var qt=gt.key;return v.exports.createElement(Kve,{id:l,prefixCls:i,key:qt,tab:gt,style:Tt===0?void 0:Et,closable:gt.closable,editable:m,active:qt===c,renderWrapper:w,removeAriaLabel:y==null?void 0:y.removeAriaLabel,ref:L(qt),onClick:function(rn){S(qt,rn)},onRemove:function(){D(qt)},onFocus:function(){Ct(qt),at(),M.current&&(h||(M.current.scrollLeft=0),M.current.scrollTop=0)}})}),rt=w9(function(){var gt,Tt,qt,Dn,rn,Nt,ur=((gt=M.current)===null||gt===void 0?void 0:gt.offsetWidth)||0,vn=((Tt=M.current)===null||Tt===void 0?void 0:Tt.offsetHeight)||0,dr=((qt=I.current)===null||qt===void 0?void 0:qt.offsetWidth)||0,Or=((Dn=I.current)===null||Dn===void 0?void 0:Dn.offsetHeight)||0;be(ur),Re(vn),Be(dr),$(Or);var Ci=(((rn=T.current)===null||rn===void 0?void 0:rn.offsetWidth)||0)-dr,hi=(((Nt=T.current)===null||Nt===void 0?void 0:Nt.offsetHeight)||0)-Or;ce(Ci),Oe(hi),me(function(){var tn=new Map;return o.forEach(function(hn){var Rn=hn.key,At=L(Rn).current;At&&tn.set(Rn,{width:At.offsetWidth,height:At.offsetHeight,left:At.offsetLeft,top:At.offsetTop})}),tn})}),ft=o.slice(0,An),bt=o.slice(xt+1),Yt=[].concat(mt(ft),mt(bt)),Sn=v.exports.useState(),he=$e(Sn,2),Ae=he[0],Ge=he[1],Ie=Q.get(c),Je=v.exports.useRef();function Rt(){lr.cancel(Je.current)}v.exports.useEffect(function(){var gt={};return Ie&&(W?(h?gt.right=Ie.right:gt.left=Ie.left,gt.width=Ie.width):(gt.top=Ie.top,gt.height=Ie.height)),Rt(),Je.current=lr(function(){Ge(gt)}),Rt},[Ie,W,h]),v.exports.useEffect(function(){Ct()},[c,Ie,Q,W]),v.exports.useEffect(function(){rt()},[h,b,c,o.map(function(gt){return gt.key}).join("_")]);var Dt=!!Yt.length,Pt="".concat(i,"-nav-wrap"),zt,sn,Kt,cn;return W?h?(sn=K>0,zt=K+Ye<se):(zt=K<0,sn=-K+Ye<se):(Kt=Y<0,cn=-Y+ze<De),v.exports.createElement("div",{ref:e,role:"tablist",className:Xe("".concat(i,"-nav"),a),style:s,onKeyDown:function(){at()}},v.exports.createElement(iF,{position:"left",extra:f,prefixCls:i}),v.exports.createElement($l,{onResize:rt},v.exports.createElement("div",{className:Xe(Pt,(n={},ue(n,"".concat(Pt,"-ping-left"),zt),ue(n,"".concat(Pt,"-ping-right"),sn),ue(n,"".concat(Pt,"-ping-top"),Kt),ue(n,"".concat(Pt,"-ping-bottom"),cn),n)),ref:M},v.exports.createElement($l,{onResize:rt},v.exports.createElement("div",{ref:T,className:"".concat(i,"-nav-list"),style:{transform:"translate(".concat(K,"px, ").concat(Y,"px)"),transition:ot?"none":void 0}},it,v.exports.createElement(_9,{ref:I,prefixCls:i,locale:y,editable:m,style:ve(ve({},it.length===0?void 0:Et),{},{visibility:Dt?"hidden":null})}),v.exports.createElement("div",{className:Xe("".concat(i,"-ink-bar"),ue({},"".concat(i,"-ink-bar-animated"),u.inkBar)),style:Ae}))))),v.exports.createElement(Jve,Se({},t,{removeAriaLabel:y==null?void 0:y.removeAriaLabel,ref:R,prefixCls:i,tabs:Yt,className:!Dt&&_e,tabMoving:!!ot})),v.exports.createElement(iF,{position:"right",extra:f,prefixCls:i}))}var oF=v.exports.forwardRef(nge);function rge(t){var e=t.id,n=t.activeKey,r=t.animated,i=t.tabPosition,o=t.rtl,a=t.destroyInactiveTabPane,s=v.exports.useContext(vO),l=s.prefixCls,u=s.tabs,c=r.tabPane,h=u.findIndex(function(f){return f.key===n});return v.exports.createElement("div",{className:Xe("".concat(l,"-content-holder"))},v.exports.createElement("div",{className:Xe("".concat(l,"-content"),"".concat(l,"-content-").concat(i),ue({},"".concat(l,"-content-animated"),c)),style:h&&c?ue({},o?"marginRight":"marginLeft","-".concat(h,"00%")):null},u.map(function(f){return v.exports.cloneElement(f.node,{key:f.key,prefixCls:l,tabKey:f.key,id:e,animated:c,active:f.key===n,destroyInactiveTabPane:a})})))}function S9(t){var e=t.prefixCls,n=t.forceRender,r=t.className,i=t.style,o=t.id,a=t.active,s=t.animated,l=t.destroyInactiveTabPane,u=t.tabKey,c=t.children,h=v.exports.useState(n),f=$e(h,2),m=f[0],y=f[1];v.exports.useEffect(function(){a?y(!0):l&&y(!1)},[a,l]);var x={};return a||(s?(x.visibility="hidden",x.height=0,x.overflowY="hidden"):x.display="none"),v.exports.createElement("div",{id:o&&"".concat(o,"-panel-").concat(u),role:"tabpanel",tabIndex:a?0:-1,"aria-labelledby":o&&"".concat(o,"-tab-").concat(u),"aria-hidden":!a,style:ve(ve({},x),i),className:Xe("".concat(e,"-tabpane"),a&&"".concat(e,"-tabpane-active"),r)},(a||m||n)&&c)}var ige=["id","prefixCls","className","children","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","moreIcon","moreTransitionName","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll"],aF=0;function oge(t){return cl(t).map(function(e){if(v.exports.isValidElement(e)){var n=e.key!==void 0?String(e.key):void 0;return ve(ve({key:n},e.props),{},{node:e})}return null}).filter(function(e){return e})}function age(t,e){var n,r=t.id,i=t.prefixCls,o=i===void 0?"rc-tabs":i,a=t.className,s=t.children,l=t.direction,u=t.activeKey,c=t.defaultActiveKey,h=t.editable,f=t.animated,m=f===void 0?{inkBar:!0,tabPane:!1}:f,y=t.tabPosition,x=y===void 0?"top":y,b=t.tabBarGutter,w=t.tabBarStyle,S=t.tabBarExtraContent,C=t.locale,M=t.moreIcon,T=t.moreTransitionName,R=t.destroyInactiveTabPane,I=t.renderTabBar,A=t.onChange,N=t.onTabClick,L=t.onTabScroll,D=_n(t,ige),W=oge(s),V=l==="rtl",B;m===!1?B={inkBar:!1,tabPane:!1}:m===!0?B={inkBar:!0,tabPane:!0}:B=ve({inkBar:!0,tabPane:!1},un(m)==="object"?m:{});var K=v.exports.useState(!1),j=$e(K,2),G=j[0],H=j[1];v.exports.useEffect(function(){H(V3())},[]);var Y=Ra(function(){var Re;return(Re=W[0])===null||Re===void 0?void 0:Re.key},{value:u,defaultValue:c}),Z=$e(Y,2),oe=Z[0],re=Z[1],se=v.exports.useState(function(){return W.findIndex(function(Re){return Re.key===oe})}),ce=$e(se,2),ye=ce[0],fe=ce[1];v.exports.useEffect(function(){var Re=W.findIndex(function(Ue){return Ue.key===oe});if(Re===-1){var We;Re=Math.max(0,Math.min(ye,W.length-1)),re((We=W[Re])===null||We===void 0?void 0:We.key)}fe(Re)},[W.map(function(Re){return Re.key}).join("_"),oe,ye]);var De=Ra(null,{value:r}),Oe=$e(De,2),Fe=Oe[0],Ee=Oe[1],Ye=x;G&&!["left","right"].includes(x)&&(Ye="top"),v.exports.useEffect(function(){r||(Ee("rc-tabs-".concat(aF)),aF+=1)},[]);function be(Re,We){N==null||N(Re,We);var Ue=Re!==oe;re(Re),Ue&&(A==null||A(Re))}var Ce={id:Fe,activeKey:oe,animated:B,tabPosition:Ye,rtl:V,mobile:G},Me,ze=ve(ve({},Ce),{},{editable:h,locale:C,moreIcon:M,moreTransitionName:T,tabBarGutter:b,onTabClick:be,onTabScroll:L,extra:S,style:w,panes:s});return I?Me=I(ze,oF):Me=v.exports.createElement(oF,ze),v.exports.createElement(vO.Provider,{value:{tabs:W,prefixCls:o}},v.exports.createElement("div",Se({ref:e,id:r,className:Xe(o,"".concat(o,"-").concat(Ye),(n={},ue(n,"".concat(o,"-mobile"),G),ue(n,"".concat(o,"-editable"),h),ue(n,"".concat(o,"-rtl"),V),n),a)},D),Me,v.exports.createElement(rge,Se({destroyInactiveTabPane:R},Ce,{animated:B}))))}var C9=v.exports.forwardRef(age);C9.TabPane=S9;var sge={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},lge=sge,E9=function(e,n){return v.exports.createElement(xr,ve(ve({},e),{},{ref:n,icon:lge}))};E9.displayName="PlusOutlined";var uge=v.exports.forwardRef(E9),cge=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function JP(t){var e=t.type,n=t.className,r=t.size,i=t.onEdit,o=t.hideAdd,a=t.centered,s=t.addIcon,l=cge(t,["type","className","size","onEdit","hideAdd","centered","addIcon"]),u=l.prefixCls,c=l.moreIcon,h=c===void 0?v.exports.createElement(rO,null):c,f=v.exports.useContext(jn),m=f.getPrefixCls,y=f.direction,x=m("tabs",u),b;e==="editable-card"&&(b={onEdit:function(C,M){var T=M.key,R=M.event;i==null||i(C==="add"?R:T,C)},removeIcon:v.exports.createElement(B3,null),addIcon:s||v.exports.createElement(uge,null),showAdd:o!==!0});var w=m();return v.exports.createElement(Zl.Consumer,null,function(S){var C,M=r!==void 0?r:S;return v.exports.createElement(C9,Se({direction:y,moreTransitionName:"".concat(w,"-slide-up")},l,{className:Xe((C={},ue(C,"".concat(x,"-").concat(M),M),ue(C,"".concat(x,"-card"),["card","editable-card"].includes(e)),ue(C,"".concat(x,"-editable-card"),e==="editable-card"),ue(C,"".concat(x,"-centered"),a),C),n),editable:b,moreIcon:h,prefixCls:x}))})}JP.TabPane=S9;var dge=v.exports.createContext({}),M9=dge,T9=function(e){if(pl()&&window.document.documentElement){var n=Array.isArray(e)?e:[e],r=window.document.documentElement;return n.some(function(i){return i in r.style})}return!1},fge=function(e,n){if(!T9(e))return!1;var r=document.createElement("div"),i=r.style[e];return r.style[e]=n,r.style[e]!==i};function hge(t,e){return!Array.isArray(t)&&e!==void 0?fge(t,e):T9(t)}var pge=function(){return pl()&&window.document.documentElement},cb,mge=function(){if(!pge())return!1;if(cb!==void 0)return cb;var e=document.createElement("div");return e.style.display="flex",e.style.flexDirection="column",e.style.rowGap="1px",e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div")),document.body.appendChild(e),cb=e.scrollHeight===1,document.body.removeChild(e),cb},P9=function(){var t=v.exports.useState(!1),e=$e(t,2),n=e[0],r=e[1];return v.exports.useEffect(function(){r(mge())},[]),n},vge=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};Ns("top","middle","bottom","stretch");Ns("start","end","center","space-around","space-between","space-evenly");var A9=v.exports.forwardRef(function(t,e){var n,r=t.prefixCls,i=t.justify,o=t.align,a=t.className,s=t.style,l=t.children,u=t.gutter,c=u===void 0?0:u,h=t.wrap,f=vge(t,["prefixCls","justify","align","className","style","children","gutter","wrap"]),m=v.exports.useContext(jn),y=m.getPrefixCls,x=m.direction,b=v.exports.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),w=$e(b,2),S=w[0],C=w[1],M=P9(),T=v.exports.useRef(c);v.exports.useEffect(function(){var H=M_.subscribe(function(Y){var Z=T.current||0;(!Array.isArray(Z)&&un(Z)==="object"||Array.isArray(Z)&&(un(Z[0])==="object"||un(Z[1])==="object"))&&C(Y)});return function(){return M_.unsubscribe(H)}},[]);var R=function(){var Y=[void 0,void 0],Z=Array.isArray(c)?c:[c,void 0];return Z.forEach(function(oe,re){if(un(oe)==="object")for(var se=0;se<B4.length;se++){var ce=B4[se];if(S[ce]&&oe[ce]!==void 0){Y[re]=oe[ce];break}}else Y[re]=oe}),Y},I=y("row",r),A=R(),N=Xe(I,(n={},ue(n,"".concat(I,"-no-wrap"),h===!1),ue(n,"".concat(I,"-").concat(i),i),ue(n,"".concat(I,"-").concat(o),o),ue(n,"".concat(I,"-rtl"),x==="rtl"),n),a),L={},D=A[0]!=null&&A[0]>0?A[0]/-2:void 0,W=A[1]!=null&&A[1]>0?A[1]/-2:void 0;if(D&&(L.marginLeft=D,L.marginRight=D),M){var V=$e(A,2);L.rowGap=V[1]}else W&&(L.marginTop=W,L.marginBottom=W);var B=$e(A,2),K=B[0],j=B[1],G=v.exports.useMemo(function(){return{gutter:[K,j],wrap:h,supportFlexGap:M}},[K,j,h,M]);return v.exports.createElement(M9.Provider,{value:G},v.exports.createElement("div",Se({},f,{className:N,style:Se(Se({},L),s),ref:e}),l))});A9.displayName="Row";var Gv=A9,gge=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function yge(t){return typeof t=="number"?"".concat(t," ").concat(t," auto"):/^\d+(\.\d+)?(px|em|rem|%)$/.test(t)?"0 0 ".concat(t):t}var xge=["xs","sm","md","lg","xl","xxl"],R9=v.exports.forwardRef(function(t,e){var n,r=v.exports.useContext(jn),i=r.getPrefixCls,o=r.direction,a=v.exports.useContext(M9),s=a.gutter,l=a.wrap,u=a.supportFlexGap,c=t.prefixCls,h=t.span,f=t.order,m=t.offset,y=t.push,x=t.pull,b=t.className,w=t.children,S=t.flex,C=t.style,M=gge(t,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),T=i("col",c),R={};xge.forEach(function(D){var W,V={},B=t[D];typeof B=="number"?V.span=B:un(B)==="object"&&(V=B||{}),delete M[D],R=Se(Se({},R),(W={},ue(W,"".concat(T,"-").concat(D,"-").concat(V.span),V.span!==void 0),ue(W,"".concat(T,"-").concat(D,"-order-").concat(V.order),V.order||V.order===0),ue(W,"".concat(T,"-").concat(D,"-offset-").concat(V.offset),V.offset||V.offset===0),ue(W,"".concat(T,"-").concat(D,"-push-").concat(V.push),V.push||V.push===0),ue(W,"".concat(T,"-").concat(D,"-pull-").concat(V.pull),V.pull||V.pull===0),ue(W,"".concat(T,"-rtl"),o==="rtl"),W))});var I=Xe(T,(n={},ue(n,"".concat(T,"-").concat(h),h!==void 0),ue(n,"".concat(T,"-order-").concat(f),f),ue(n,"".concat(T,"-offset-").concat(m),m),ue(n,"".concat(T,"-push-").concat(y),y),ue(n,"".concat(T,"-pull-").concat(x),x),n),b,R),A={};if(s&&s[0]>0){var N=s[0]/2;A.paddingLeft=N,A.paddingRight=N}if(s&&s[1]>0&&!u){var L=s[1]/2;A.paddingTop=L,A.paddingBottom=L}return S&&(A.flex=yge(S),l===!1&&!A.minWidth&&(A.minWidth=0)),v.exports.createElement("div",Se({},M,{style:Se(Se({},A),C),className:I,ref:e}),w)});R9.displayName="Col";var Nl=R9,bge=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function wge(t){var e=t.map(function(n,r){return v.exports.createElement("li",{style:{width:"".concat(100/t.length,"%")},key:"action-".concat(r)},v.exports.createElement("span",null,n))});return e}var _ge=v.exports.forwardRef(function(t,e){var n,r,i=v.exports.useContext(jn),o=i.getPrefixCls,a=i.direction,s=v.exports.useContext(Zl),l=function(Ce){var Me;(Me=t.onTabChange)===null||Me===void 0||Me.call(t,Ce)},u=function(){var Ce;return v.exports.Children.forEach(t.children,function(Me){Me&&Me.type&&Me.type===b9&&(Ce=!0)}),Ce},c=t.prefixCls,h=t.className,f=t.extra,m=t.headStyle,y=m===void 0?{}:m,x=t.bodyStyle,b=x===void 0?{}:x,w=t.title,S=t.loading,C=t.bordered,M=C===void 0?!0:C,T=t.size,R=t.type,I=t.cover,A=t.actions,N=t.tabList,L=t.children,D=t.activeTabKey,W=t.defaultActiveTabKey,V=t.tabBarExtraContent,B=t.hoverable,K=t.tabProps,j=K===void 0?{}:K,G=bge(t,["prefixCls","className","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),H=o("card",c),Y=b.padding===0||b.padding==="0px"?{padding:24}:void 0,Z=v.exports.createElement("div",{className:"".concat(H,"-loading-block")}),oe=v.exports.createElement("div",{className:"".concat(H,"-loading-content"),style:Y},v.exports.createElement(Gv,{gutter:8},v.exports.createElement(Nl,{span:22},Z)),v.exports.createElement(Gv,{gutter:8},v.exports.createElement(Nl,{span:8},Z),v.exports.createElement(Nl,{span:15},Z)),v.exports.createElement(Gv,{gutter:8},v.exports.createElement(Nl,{span:6},Z),v.exports.createElement(Nl,{span:18},Z)),v.exports.createElement(Gv,{gutter:8},v.exports.createElement(Nl,{span:13},Z),v.exports.createElement(Nl,{span:9},Z)),v.exports.createElement(Gv,{gutter:8},v.exports.createElement(Nl,{span:4},Z),v.exports.createElement(Nl,{span:3},Z),v.exports.createElement(Nl,{span:16},Z))),re=D!==void 0,se=Se(Se({},j),(n={},ue(n,re?"activeKey":"defaultActiveKey",re?D:W),ue(n,"tabBarExtraContent",V),n)),ce,ye=N&&N.length?v.exports.createElement(JP,Se({size:"large"},se,{className:"".concat(H,"-head-tabs"),onChange:l}),N.map(function(be){return v.exports.createElement(JP.TabPane,{tab:be.tab,disabled:be.disabled,key:be.key})})):null;(w||f||ye)&&(ce=v.exports.createElement("div",{className:"".concat(H,"-head"),style:y},v.exports.createElement("div",{className:"".concat(H,"-head-wrapper")},w&&v.exports.createElement("div",{className:"".concat(H,"-head-title")},w),f&&v.exports.createElement("div",{className:"".concat(H,"-extra")},f)),ye));var fe=I?v.exports.createElement("div",{className:"".concat(H,"-cover")},I):null,De=v.exports.createElement("div",{className:"".concat(H,"-body"),style:b},S?oe:L),Oe=A&&A.length?v.exports.createElement("ul",{className:"".concat(H,"-actions")},wge(A)):null,Fe=No(G,["onTabChange"]),Ee=T||s,Ye=Xe(H,(r={},ue(r,"".concat(H,"-loading"),S),ue(r,"".concat(H,"-bordered"),M),ue(r,"".concat(H,"-hoverable"),B),ue(r,"".concat(H,"-contain-grid"),u()),ue(r,"".concat(H,"-contain-tabs"),N&&N.length),ue(r,"".concat(H,"-").concat(Ee),Ee),ue(r,"".concat(H,"-type-").concat(R),!!R),ue(r,"".concat(H,"-rtl"),a==="rtl"),r),h);return v.exports.createElement("div",Se({ref:e},Fe,{className:Ye}),ce,fe,De,Oe)}),Sge=_ge,gO=Sge;gO.Grid=b9;gO.Meta=jve;var Cge=gO,Ege=Jl,Mge=function(){return Ege.Date.now()},Tge=Mge,Pge=Q1,KM=Tge,sF=Cve,Age="Expected a function",Rge=Math.max,Oge=Math.min;function Nge(t,e,n){var r,i,o,a,s,l,u=0,c=!1,h=!1,f=!0;if(typeof t!="function")throw new TypeError(Age);e=sF(e)||0,Pge(n)&&(c=!!n.leading,h="maxWait"in n,o=h?Rge(sF(n.maxWait)||0,e):o,f="trailing"in n?!!n.trailing:f);function m(R){var I=r,A=i;return r=i=void 0,u=R,a=t.apply(A,I),a}function y(R){return u=R,s=setTimeout(w,e),c?m(R):a}function x(R){var I=R-l,A=R-u,N=e-I;return h?Oge(N,o-A):N}function b(R){var I=R-l,A=R-u;return l===void 0||I>=e||I<0||h&&A>=o}function w(){var R=KM();if(b(R))return S(R);s=setTimeout(w,x(R))}function S(R){return s=void 0,f&&r?m(R):(r=i=void 0,a)}function C(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function M(){return s===void 0?a:S(KM())}function T(){var R=KM(),I=b(R);if(r=arguments,i=this,l=R,I){if(s===void 0)return y(l);if(h)return clearTimeout(s),s=setTimeout(w,e),m(l)}return s===void 0&&(s=setTimeout(w,e)),a}return T.cancel=C,T.flush=M,T}var O9=Nge;function N9(t,e){var n=new Set;return t.forEach(function(r){e.has(r)||n.add(r)}),n}function kge(t){var e=t||{},n=e.disabled,r=e.disableCheckbox,i=e.checkable;return!!(n||r)||i===!1}function Ige(t,e,n,r){for(var i=new Set(t),o=new Set,a=0;a<=n;a+=1){var s=e.get(a)||new Set;s.forEach(function(h){var f=h.key,m=h.node,y=h.children,x=y===void 0?[]:y;i.has(f)&&!r(m)&&x.filter(function(b){return!r(b.node)}).forEach(function(b){i.add(b.key)})})}for(var l=new Set,u=n;u>=0;u-=1){var c=e.get(u)||new Set;c.forEach(function(h){var f=h.parent,m=h.node;if(!(r(m)||!h.parent||l.has(h.parent.key))){if(r(h.parent.node)){l.add(f.key);return}var y=!0,x=!1;(f.children||[]).filter(function(b){return!r(b.node)}).forEach(function(b){var w=b.key,S=i.has(w);y&&!S&&(y=!1),!x&&(S||o.has(w))&&(x=!0)}),y&&i.add(f.key),x&&o.add(f.key),l.add(f.key)}})}return{checkedKeys:Array.from(i),halfCheckedKeys:Array.from(N9(o,i))}}function Lge(t,e,n,r,i){for(var o=new Set(t),a=new Set(e),s=0;s<=r;s+=1){var l=n.get(s)||new Set;l.forEach(function(f){var m=f.key,y=f.node,x=f.children,b=x===void 0?[]:x;!o.has(m)&&!a.has(m)&&!i(y)&&b.filter(function(w){return!i(w.node)}).forEach(function(w){o.delete(w.key)})})}a=new Set;for(var u=new Set,c=r;c>=0;c-=1){var h=n.get(c)||new Set;h.forEach(function(f){var m=f.parent,y=f.node;if(!(i(y)||!f.parent||u.has(f.parent.key))){if(i(f.parent.node)){u.add(m.key);return}var x=!0,b=!1;(m.children||[]).filter(function(w){return!i(w.node)}).forEach(function(w){var S=w.key,C=o.has(S);x&&!C&&(x=!1),!b&&(C||a.has(S))&&(b=!0)}),x||o.delete(m.key),b&&a.add(m.key),u.add(m.key)}})}return{checkedKeys:Array.from(o),halfCheckedKeys:Array.from(N9(a,o))}}function Qp(t,e,n,r){var i=[],o;r?o=r:o=kge;var a=new Set(t.filter(function(c){var h=!!n[c];return h||i.push(c),h})),s=new Map,l=0;Object.keys(n).forEach(function(c){var h=n[c],f=h.level,m=s.get(f);m||(m=new Set,s.set(f,m)),m.add(h),l=Math.max(l,f)}),Hi(!i.length,"Tree missing follow keys: ".concat(i.slice(0,100).map(function(c){return"'".concat(c,"'")}).join(", ")));var u;return e===!0?u=Ige(a,s,l,o):u=Lge(a,e.halfCheckedKeys,s,l,o),u}var yO=v.exports.createContext(null),Dge=function(e){for(var n=e.prefixCls,r=e.level,i=e.isStart,o=e.isEnd,a="".concat(n,"-indent-unit"),s=[],l=0;l<r;l+=1){var u;s.push(v.exports.createElement("span",{key:l,className:Xe(a,(u={},ue(u,"".concat(a,"-start"),i[l]),ue(u,"".concat(a,"-end"),o[l]),u))}))}return v.exports.createElement("span",{"aria-hidden":"true",className:"".concat(n,"-indent")},s)},Fge=v.exports.memo(Dge),zge=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],lF="open",uF="close",Bge="---",Vge=function(t){Ni(n,t);var e=ki(n);function n(){var r;di(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),r.state={dragNodeHighlight:!1},r.selectHandle=void 0,r.onSelectorClick=function(s){var l=r.props.context.onNodeClick;l(s,no(r.props)),r.isSelectable()?r.onSelect(s):r.onCheck(s)},r.onSelectorDoubleClick=function(s){var l=r.props.context.onNodeDoubleClick;l(s,no(r.props))},r.onSelect=function(s){if(!r.isDisabled()){var l=r.props.context.onNodeSelect;s.preventDefault(),l(s,no(r.props))}},r.onCheck=function(s){if(!r.isDisabled()){var l=r.props,u=l.disableCheckbox,c=l.checked,h=r.props.context.onNodeCheck;if(!(!r.isCheckable()||u)){s.preventDefault();var f=!c;h(s,no(r.props),f)}}},r.onMouseEnter=function(s){var l=r.props.context.onNodeMouseEnter;l(s,no(r.props))},r.onMouseLeave=function(s){var l=r.props.context.onNodeMouseLeave;l(s,no(r.props))},r.onContextMenu=function(s){var l=r.props.context.onNodeContextMenu;l(s,no(r.props))},r.onDragStart=function(s){var l=r.props.context.onNodeDragStart;s.stopPropagation(),r.setState({dragNodeHighlight:!0}),l(s,_s(r));try{s.dataTransfer.setData("text/plain","")}catch{}},r.onDragEnter=function(s){var l=r.props.context.onNodeDragEnter;s.preventDefault(),s.stopPropagation(),l(s,_s(r))},r.onDragOver=function(s){var l=r.props.context.onNodeDragOver;s.preventDefault(),s.stopPropagation(),l(s,_s(r))},r.onDragLeave=function(s){var l=r.props.context.onNodeDragLeave;s.stopPropagation(),l(s,_s(r))},r.onDragEnd=function(s){var l=r.props.context.onNodeDragEnd;s.stopPropagation(),r.setState({dragNodeHighlight:!1}),l(s,_s(r))},r.onDrop=function(s){var l=r.props.context.onNodeDrop;s.preventDefault(),s.stopPropagation(),r.setState({dragNodeHighlight:!1}),l(s,_s(r))},r.onExpand=function(s){var l=r.props,u=l.loading,c=l.context.onNodeExpand;u||c(s,no(r.props))},r.setSelectHandle=function(s){r.selectHandle=s},r.getNodeState=function(){var s=r.props.expanded;return r.isLeaf()?null:s?lF:uF},r.hasChildren=function(){var s=r.props.eventKey,l=r.props.context.keyEntities,u=l[s]||{},c=u.children;return!!(c||[]).length},r.isLeaf=function(){var s=r.props,l=s.isLeaf,u=s.loaded,c=r.props.context.loadData,h=r.hasChildren();return l===!1?!1:l||!c&&!h||c&&u&&!h},r.isDisabled=function(){var s=r.props.disabled,l=r.props.context.disabled;return!!(l||s)},r.isCheckable=function(){var s=r.props.checkable,l=r.props.context.checkable;return!l||s===!1?!1:l},r.syncLoadData=function(s){var l=s.expanded,u=s.loading,c=s.loaded,h=r.props.context,f=h.loadData,m=h.onNodeLoad;u||f&&l&&!r.isLeaf()&&!r.hasChildren()&&!c&&m(no(r.props))},r.isDraggable=function(){var s=r.props,l=s.data,u=s.context.draggable;return!!(u&&(!u.nodeDraggable||u.nodeDraggable(l)))},r.renderDragHandler=function(){var s=r.props.context,l=s.draggable,u=s.prefixCls;return l!=null&&l.icon?v.exports.createElement("span",{className:"".concat(u,"-draggable-icon")},l.icon):null},r.renderSwitcherIconDom=function(s){var l=r.props.switcherIcon,u=r.props.context.switcherIcon,c=l||u;return typeof c=="function"?c(ve(ve({},r.props),{},{isLeaf:s})):c},r.renderSwitcher=function(){var s=r.props.expanded,l=r.props.context.prefixCls;if(r.isLeaf()){var u=r.renderSwitcherIconDom(!0);return u!==!1?v.exports.createElement("span",{className:Xe("".concat(l,"-switcher"),"".concat(l,"-switcher-noop"))},u):null}var c=Xe("".concat(l,"-switcher"),"".concat(l,"-switcher_").concat(s?lF:uF)),h=r.renderSwitcherIconDom(!1);return h!==!1?v.exports.createElement("span",{onClick:r.onExpand,className:c},h):null},r.renderCheckbox=function(){var s=r.props,l=s.checked,u=s.halfChecked,c=s.disableCheckbox,h=r.props.context.prefixCls,f=r.isDisabled(),m=r.isCheckable();if(!m)return null;var y=typeof m!="boolean"?m:null;return v.exports.createElement("span",{className:Xe("".concat(h,"-checkbox"),l&&"".concat(h,"-checkbox-checked"),!l&&u&&"".concat(h,"-checkbox-indeterminate"),(f||c)&&"".concat(h,"-checkbox-disabled")),onClick:r.onCheck},y)},r.renderIcon=function(){var s=r.props.loading,l=r.props.context.prefixCls;return v.exports.createElement("span",{className:Xe("".concat(l,"-iconEle"),"".concat(l,"-icon__").concat(r.getNodeState()||"docu"),s&&"".concat(l,"-icon_loading"))})},r.renderSelector=function(){var s=r.state.dragNodeHighlight,l=r.props,u=l.title,c=l.selected,h=l.icon,f=l.loading,m=l.data,y=r.props.context,x=y.prefixCls,b=y.showIcon,w=y.icon,S=y.loadData,C=y.titleRender,M=r.isDisabled(),T="".concat(x,"-node-content-wrapper"),R;if(b){var I=h||w;R=I?v.exports.createElement("span",{className:Xe("".concat(x,"-iconEle"),"".concat(x,"-icon__customize"))},typeof I=="function"?I(r.props):I):r.renderIcon()}else S&&f&&(R=r.renderIcon());var A;typeof u=="function"?A=u(m):C?A=C(m):A=u;var N=v.exports.createElement("span",{className:"".concat(x,"-title")},A);return v.exports.createElement("span",{ref:r.setSelectHandle,title:typeof u=="string"?u:"",className:Xe("".concat(T),"".concat(T,"-").concat(r.getNodeState()||"normal"),!M&&(c||s)&&"".concat(x,"-node-selected")),onMouseEnter:r.onMouseEnter,onMouseLeave:r.onMouseLeave,onContextMenu:r.onContextMenu,onClick:r.onSelectorClick,onDoubleClick:r.onSelectorDoubleClick},R,N,r.renderDropIndicator())},r.renderDropIndicator=function(){var s=r.props,l=s.disabled,u=s.eventKey,c=r.props.context,h=c.draggable,f=c.dropLevelOffset,m=c.dropPosition,y=c.prefixCls,x=c.indent,b=c.dropIndicatorRender,w=c.dragOverNodeKey,S=c.direction,C=h!==!1,M=!l&&C&&w===u;return M?b({dropPosition:m,dropLevelOffset:f,indent:x,prefixCls:y,direction:S}):null},r}return fi(n,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var i=this.props.selectable,o=this.props.context.selectable;return typeof i=="boolean"?i:o}},{key:"render",value:function(){var i,o=this.props,a=o.eventKey,s=o.className,l=o.style,u=o.dragOver,c=o.dragOverGapTop,h=o.dragOverGapBottom,f=o.isLeaf,m=o.isStart,y=o.isEnd,x=o.expanded,b=o.selected,w=o.checked,S=o.halfChecked,C=o.loading,M=o.domRef,T=o.active;o.data;var R=o.onMouseMove,I=o.selectable,A=_n(o,zge),N=this.props.context,L=N.prefixCls,D=N.filterTreeNode,W=N.keyEntities,V=N.dropContainerKey,B=N.dropTargetKey,K=N.draggingNodeKey,j=this.isDisabled(),G=Hf(A,{aria:!0,data:!0}),H=W[a]||{},Y=H.level,Z=y[y.length-1],oe=this.isDraggable(),re=!j&&oe,se=K===a,ce=I!==void 0?{"aria-selected":!!I}:void 0;return v.exports.createElement("div",Se({ref:M,className:Xe(s,"".concat(L,"-treenode"),(i={},ue(i,"".concat(L,"-treenode-disabled"),j),ue(i,"".concat(L,"-treenode-switcher-").concat(x?"open":"close"),!f),ue(i,"".concat(L,"-treenode-checkbox-checked"),w),ue(i,"".concat(L,"-treenode-checkbox-indeterminate"),S),ue(i,"".concat(L,"-treenode-selected"),b),ue(i,"".concat(L,"-treenode-loading"),C),ue(i,"".concat(L,"-treenode-active"),T),ue(i,"".concat(L,"-treenode-leaf-last"),Z),ue(i,"".concat(L,"-treenode-draggable"),re),ue(i,"dragging",se),ue(i,"drop-target",B===a),ue(i,"drop-container",V===a),ue(i,"drag-over",!j&&u),ue(i,"drag-over-gap-top",!j&&c),ue(i,"drag-over-gap-bottom",!j&&h),ue(i,"filter-node",D&&D(no(this.props))),i)),style:l,draggable:re,"aria-grabbed":se,onDragStart:re?this.onDragStart:void 0,onDragEnter:oe?this.onDragEnter:void 0,onDragOver:oe?this.onDragOver:void 0,onDragLeave:oe?this.onDragLeave:void 0,onDrop:oe?this.onDrop:void 0,onDragEnd:oe?this.onDragEnd:void 0,onMouseMove:R},ce,G),v.exports.createElement(Fge,{prefixCls:L,level:Y,isStart:m,isEnd:y}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),n}(v.exports.Component),Wf=function(e){return v.exports.createElement(yO.Consumer,null,function(n){return v.exports.createElement(Vge,Se({},e,{context:n}))})};Wf.displayName="TreeNode";Wf.defaultProps={title:Bge};Wf.isTreeNode=1;function Nu(t,e){if(!t)return[];var n=t.slice(),r=n.indexOf(e);return r>=0&&n.splice(r,1),n}function qc(t,e){var n=(t||[]).slice();return n.indexOf(e)===-1&&n.push(e),n}function xO(t){return t.split("-")}function k9(t,e){return"".concat(t,"-").concat(e)}function Uge(t){return t&&t.type&&t.type.isTreeNode}function Hge(t,e){var n=[],r=e[t];function i(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];o.forEach(function(a){var s=a.key,l=a.children;n.push(s),i(l)})}return i(r.children),n}function Wge(t){if(t.parent){var e=xO(t.pos);return Number(e[e.length-1])===t.parent.children.length-1}return!1}function jge(t){var e=xO(t.pos);return Number(e[e.length-1])===0}function cF(t,e,n,r,i,o,a,s,l,u){var c,h=t.clientX,f=t.clientY,m=t.target.getBoundingClientRect(),y=m.top,x=m.height,b=(u==="rtl"?-1:1)*(((i==null?void 0:i.x)||0)-h),w=(b-12)/r,S=s[n.props.eventKey];if(f<y+x/2){var C=a.findIndex(function(K){return K.key===S.key}),M=C<=0?0:C-1,T=a[M].key;S=s[T]}var R=S.key,I=S,A=S.key,N=0,L=0;if(!l.includes(R))for(var D=0;D<w&&Wge(S);D+=1)S=S.parent,L+=1;var W=e.props.data,V=S.node,B=!0;return jge(S)&&S.level===0&&f<y+x/2&&o({dragNode:W,dropNode:V,dropPosition:-1})&&S.key===n.props.eventKey?N=-1:(I.children||[]).length&&l.includes(A)?o({dragNode:W,dropNode:V,dropPosition:0})?N=0:B=!1:L===0?w>-1.5?o({dragNode:W,dropNode:V,dropPosition:1})?N=1:B=!1:o({dragNode:W,dropNode:V,dropPosition:0})?N=0:o({dragNode:W,dropNode:V,dropPosition:1})?N=1:B=!1:o({dragNode:W,dropNode:V,dropPosition:1})?N=1:B=!1,{dropPosition:N,dropLevelOffset:L,dropTargetKey:S.key,dropTargetPos:S.pos,dragOverNodeKey:A,dropContainerKey:N===0?null:((c=S.parent)===null||c===void 0?void 0:c.key)||null,dropAllowed:B}}function dF(t,e){if(!!t){var n=e.multiple;return n?t.slice():t.length?[t[0]]:t}}function qM(t){if(!t)return null;var e;if(Array.isArray(t))e={checkedKeys:t,halfCheckedKeys:void 0};else if(un(t)==="object")e={checkedKeys:t.checked||void 0,halfCheckedKeys:t.halfChecked||void 0};else return Hi(!1,"`checkedKeys` is not an array or an object"),null;return e}function QP(t,e){var n=new Set;function r(i){if(!n.has(i)){var o=e[i];if(!!o){n.add(i);var a=o.parent,s=o.node;s.disabled||a&&r(a.key)}}}return(t||[]).forEach(function(i){r(i)}),mt(n)}var Gge=["children"];function iy(t,e){return t!=null?t:e}function N_(t){var e=t||{},n=e.title,r=e._title,i=e.key,o=e.children,a=n||"title";return{title:a,_title:r||[a],key:i||"key",children:o||"children"}}function I9(t){function e(n){var r=cl(n);return r.map(function(i){if(!Uge(i))return Hi(!i,"Tree/TreeNode can only accept TreeNode as children."),null;var o=i.key,a=i.props,s=a.children,l=_n(a,Gge),u=ve({key:o},l),c=e(s);return c.length&&(u.children=c),u}).filter(function(i){return i})}return e(t)}function XM(t,e,n){var r=N_(n),i=r._title,o=r.key,a=r.children,s=new Set(e===!0?[]:e),l=[];function u(c){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return c.map(function(f,m){for(var y=k9(h?h.pos:"0",m),x=iy(f[o],y),b,w=0;w<i.length;w+=1){var S=i[w];if(f[S]!==void 0){b=f[S];break}}var C=ve(ve({},No(f,[].concat(mt(i),[o,a]))),{},{title:b,key:x,parent:h,pos:y,children:null,data:f,isStart:[].concat(mt(h?h.isStart:[]),[m===0]),isEnd:[].concat(mt(h?h.isEnd:[]),[m===c.length-1])});return l.push(C),e===!0||s.has(x)?C.children=u(f[a]||[],C):C.children=[],C})}return u(t),l}function $ge(t,e,n){var r={};un(n)==="object"?r=n:r={externalGetKey:n},r=r||{};var i=r,o=i.childrenPropName,a=i.externalGetKey,s=i.fieldNames,l=N_(s),u=l.key,c=l.children,h=o||c,f;a?typeof a=="string"?f=function(x){return x[a]}:typeof a=="function"&&(f=function(x){return a(x)}):f=function(x,b){return iy(x[u],b)};function m(y,x,b,w){var S=y?y[h]:t,C=y?k9(b.pos,x):"0",M=y?[].concat(mt(w),[y]):[];if(y){var T=f(y,C),R={node:y,index:x,pos:C,key:T,parentPos:b.node?b.pos:null,level:b.level+1,nodes:M};e(R)}S&&S.forEach(function(I,A){m(I,A,{node:y,pos:C,level:b?b.level+1:-1},M)})}m(null)}function bO(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.initWrapper,r=e.processEntity,i=e.onProcessFinished,o=e.externalGetKey,a=e.childrenPropName,s=e.fieldNames,l=arguments.length>2?arguments[2]:void 0,u=o||l,c={},h={},f={posEntities:c,keyEntities:h};return n&&(f=n(f)||f),$ge(t,function(m){var y=m.node,x=m.index,b=m.pos,w=m.key,S=m.parentPos,C=m.level,M=m.nodes,T={node:y,nodes:M,index:x,key:w,pos:b,level:C},R=iy(w,b);c[b]=T,h[R]=T,T.parent=c[S],T.parent&&(T.parent.children=T.parent.children||[],T.parent.children.push(T)),r&&r(T,f)},{externalGetKey:u,childrenPropName:a,fieldNames:s}),i&&i(f),f}function k_(t,e){var n=e.expandedKeys,r=e.selectedKeys,i=e.loadedKeys,o=e.loadingKeys,a=e.checkedKeys,s=e.halfCheckedKeys,l=e.dragOverNodeKey,u=e.dropPosition,c=e.keyEntities,h=c[t],f={eventKey:t,expanded:n.indexOf(t)!==-1,selected:r.indexOf(t)!==-1,loaded:i.indexOf(t)!==-1,loading:o.indexOf(t)!==-1,checked:a.indexOf(t)!==-1,halfChecked:s.indexOf(t)!==-1,pos:String(h?h.pos:""),dragOver:l===t&&u===0,dragOverGapTop:l===t&&u===-1,dragOverGapBottom:l===t&&u===1};return f}function no(t){var e=t.data,n=t.expanded,r=t.selected,i=t.checked,o=t.loaded,a=t.loading,s=t.halfChecked,l=t.dragOver,u=t.dragOverGapTop,c=t.dragOverGapBottom,h=t.pos,f=t.active,m=t.eventKey,y=ve(ve({},e),{},{expanded:n,selected:r,checked:i,loaded:o,loading:a,halfChecked:s,dragOver:l,dragOverGapTop:u,dragOverGapBottom:c,pos:h,active:f,key:m});return"props"in y||Object.defineProperty(y,"props",{get:function(){return Hi(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),t}}),y}var Kge=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},L9=v.exports.createContext(null),qge=function(e,n){var r=e.defaultValue,i=e.children,o=e.options,a=o===void 0?[]:o,s=e.prefixCls,l=e.className,u=e.style,c=e.onChange,h=Kge(e,["defaultValue","children","options","prefixCls","className","style","onChange"]),f=v.exports.useContext(jn),m=f.getPrefixCls,y=f.direction,x=v.exports.useState(h.value||r||[]),b=$e(x,2),w=b[0],S=b[1],C=v.exports.useState([]),M=$e(C,2),T=M[0],R=M[1];v.exports.useEffect(function(){"value"in h&&S(h.value||[])},[h.value]);var I=function(){return a.map(function(G){return typeof G=="string"||typeof G=="number"?{label:G,value:G}:G})},A=function(G){R(function(H){return H.filter(function(Y){return Y!==G})})},N=function(G){R(function(H){return[].concat(mt(H),[G])})},L=function(G){var H=w.indexOf(G.value),Y=mt(w);H===-1?Y.push(G.value):Y.splice(H,1),"value"in h||S(Y);var Z=I();c==null||c(Y.filter(function(oe){return T.indexOf(oe)!==-1}).sort(function(oe,re){var se=Z.findIndex(function(ye){return ye.value===oe}),ce=Z.findIndex(function(ye){return ye.value===re});return se-ce}))},D=m("checkbox",s),W="".concat(D,"-group"),V=No(h,["value","disabled"]);a&&a.length>0&&(i=I().map(function(j){return v.exports.createElement(F9,{prefixCls:D,key:j.value.toString(),disabled:"disabled"in j?j.disabled:h.disabled,value:j.value,checked:w.indexOf(j.value)!==-1,onChange:j.onChange,className:"".concat(W,"-item"),style:j.style},j.label)}));var B={toggleOption:L,value:w,disabled:h.disabled,name:h.name,registerValue:N,cancelValue:A},K=Xe(W,ue({},"".concat(W,"-rtl"),y==="rtl"),l);return v.exports.createElement("div",Se({className:K,style:u},V,{ref:n}),v.exports.createElement(L9.Provider,{value:B},i))},Xge=v.exports.forwardRef(qge),Yge=v.exports.memo(Xge),Zge=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},Jge=function(e,n){var r,i=e.prefixCls,o=e.className,a=e.children,s=e.indeterminate,l=s===void 0?!1:s,u=e.style,c=e.onMouseEnter,h=e.onMouseLeave,f=e.skipGroup,m=f===void 0?!1:f,y=Zge(e,["prefixCls","className","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup"]),x=v.exports.useContext(jn),b=x.getPrefixCls,w=x.direction,S=v.exports.useContext(L9),C=v.exports.useContext(nc),M=C.isFormItemInput,T=v.exports.useRef(y.value);v.exports.useEffect(function(){S==null||S.registerValue(y.value)},[]),v.exports.useEffect(function(){if(!m)return y.value!==T.current&&(S==null||S.cancelValue(T.current),S==null||S.registerValue(y.value),T.current=y.value),function(){return S==null?void 0:S.cancelValue(y.value)}},[y.value]);var R=b("checkbox",i),I=Se({},y);S&&!m&&(I.onChange=function(){y.onChange&&y.onChange.apply(y,arguments),S.toggleOption&&S.toggleOption({label:a,value:y.value})},I.name=S.name,I.checked=S.value.indexOf(y.value)!==-1,I.disabled=y.disabled||S.disabled);var A=Xe((r={},ue(r,"".concat(R,"-wrapper"),!0),ue(r,"".concat(R,"-rtl"),w==="rtl"),ue(r,"".concat(R,"-wrapper-checked"),I.checked),ue(r,"".concat(R,"-wrapper-disabled"),I.disabled),ue(r,"".concat(R,"-wrapper-in-form-item"),M),r),o),N=Xe(ue({},"".concat(R,"-indeterminate"),l)),L=l?"mixed":void 0;return v.exports.createElement("label",{className:A,style:u,onMouseEnter:c,onMouseLeave:h},v.exports.createElement(pO,Se({"aria-checked":L},I,{prefixCls:R,className:N,ref:n})),a!==void 0&&v.exports.createElement("span",null,a))},D9=v.exports.forwardRef(Jge);D9.displayName="Checkbox";var F9=D9,wO=F9;wO.Group=Yge;wO.__ANT_CHECKBOX=!0;var I_=wO,YM;function eA(t){if(typeof document=="undefined")return 0;if(t||YM===void 0){var e=document.createElement("div");e.style.width="100%",e.style.height="200px";var n=document.createElement("div"),r=n.style;r.position="absolute",r.top="0",r.left="0",r.pointerEvents="none",r.visibility="hidden",r.width="200px",r.height="150px",r.overflow="hidden",n.appendChild(e),document.body.appendChild(n);var i=e.offsetWidth;n.style.overflow="scroll";var o=e.offsetWidth;i===o&&(o=n.clientWidth),document.body.removeChild(n),YM=i-o}return YM}function fF(t){var e=t.match(/^(.*)px$/),n=Number(e==null?void 0:e[1]);return Number.isNaN(n)?eA():n}function Qge(t){if(typeof document=="undefined"||!t||!(t instanceof Element))return{width:0,height:0};var e=getComputedStyle(t,"::-webkit-scrollbar"),n=e.width,r=e.height;return{width:fF(n),height:fF(r)}}function Rw(t){return!!(t.addonBefore||t.addonAfter)}function z9(t){return!!(t.prefix||t.suffix||t.allowClear)}function hF(t,e,n,r){if(!!n){var i=e;if(e.type==="click"){var o=t.cloneNode(!0);i=Object.create(e,{target:{value:o},currentTarget:{value:o}}),o.value="",n(i);return}if(r!==void 0){i=Object.create(e,{target:{value:t},currentTarget:{value:t}}),t.value=r,n(i);return}n(i)}}function e0e(t,e){if(!!t){t.focus(e);var n=e||{},r=n.cursor;if(r){var i=t.value.length;switch(r){case"start":t.setSelectionRange(0,0);break;case"end":t.setSelectionRange(i,i);break;default:t.setSelectionRange(0,i)}}}}function pF(t){return typeof t=="undefined"||t===null?"":String(t)}var t0e=function(e){var n=e.inputElement,r=e.prefixCls,i=e.prefix,o=e.suffix,a=e.addonBefore,s=e.addonAfter,l=e.className,u=e.style,c=e.affixWrapperClassName,h=e.groupClassName,f=e.wrapperClassName,m=e.disabled,y=e.readOnly,x=e.focused,b=e.triggerFocus,w=e.allowClear,S=e.value,C=e.handleReset,M=e.hidden,T=v.exports.useRef(null),R=function(H){var Y;!((Y=T.current)===null||Y===void 0)&&Y.contains(H.target)&&(b==null||b())},I=function(){var H;if(!w)return null;var Y=!m&&!y&&S,Z="".concat(r,"-clear-icon"),oe=un(w)==="object"&&(w==null?void 0:w.clearIcon)?w.clearIcon:"\u2716";return Ut("span",{onClick:C,onMouseDown:function(se){return se.preventDefault()},className:Xe(Z,(H={},ue(H,"".concat(Z,"-hidden"),!Y),ue(H,"".concat(Z,"-has-suffix"),!!o),H)),role:"button",tabIndex:-1,children:oe})},A=v.exports.cloneElement(n,{value:S,hidden:M});if(z9(e)){var N,L="".concat(r,"-affix-wrapper"),D=Xe(L,(N={},ue(N,"".concat(L,"-disabled"),m),ue(N,"".concat(L,"-focused"),x),ue(N,"".concat(L,"-readonly"),y),ue(N,"".concat(L,"-input-with-clear-btn"),o&&w&&S),N),!Rw(e)&&l,c),W=(o||w)&&oo("span",{className:"".concat(r,"-suffix"),children:[I(),o]});A=oo("span",{className:D,style:u,hidden:!Rw(e)&&M,onMouseDown:R,ref:T,children:[i&&Ut("span",{className:"".concat(r,"-prefix"),children:i}),v.exports.cloneElement(n,{style:null,value:S,hidden:null}),W]})}if(Rw(e)){var V="".concat(r,"-group"),B="".concat(V,"-addon"),K=Xe("".concat(r,"-wrapper"),V,f),j=Xe("".concat(r,"-group-wrapper"),l,h);return Ut("span",{className:j,style:u,hidden:M,children:oo("span",{className:K,children:[a&&Ut("span",{className:B,children:a}),v.exports.cloneElement(A,{style:null,hidden:null}),s&&Ut("span",{className:B,children:s})]})})}return A},n0e=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","type","inputClassName"],r0e=v.exports.forwardRef(function(t,e){var n=t.autoComplete,r=t.onChange,i=t.onFocus,o=t.onBlur,a=t.onPressEnter,s=t.onKeyDown,l=t.prefixCls,u=l===void 0?"rc-input":l,c=t.disabled,h=t.htmlSize,f=t.className,m=t.maxLength,y=t.suffix,x=t.showCount,b=t.type,w=b===void 0?"text":b,S=t.inputClassName,C=_n(t,n0e),M=Ra(t.defaultValue,{value:t.value}),T=$e(M,2),R=T[0],I=T[1],A=v.exports.useState(!1),N=$e(A,2),L=N[0],D=N[1],W=v.exports.useRef(null),V=function(re){W.current&&e0e(W.current,re)};v.exports.useImperativeHandle(e,function(){return{focus:V,blur:function(){var re;(re=W.current)===null||re===void 0||re.blur()},setSelectionRange:function(re,se,ce){var ye;(ye=W.current)===null||ye===void 0||ye.setSelectionRange(re,se,ce)},select:function(){var re;(re=W.current)===null||re===void 0||re.select()},input:W.current}}),v.exports.useEffect(function(){D(function(oe){return oe&&c?!1:oe})},[c]);var B=function(re){t.value===void 0&&I(re.target.value),W.current&&hF(W.current,re,r)},K=function(re){a&&re.key==="Enter"&&a(re),s==null||s(re)},j=function(re){D(!0),i==null||i(re)},G=function(re){D(!1),o==null||o(re)},H=function(re){I(""),V(),W.current&&hF(W.current,re,r)},Y=function(){var re=No(t,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","affixWrapperClassName","groupClassName","inputClassName","wrapperClassName","htmlSize"]);return Ut("input",nt({},ve(ve({autoComplete:n},re),{},{onChange:B,onFocus:j,onBlur:G,onKeyDown:K,className:Xe(u,ue({},"".concat(u,"-disabled"),c),S,!Rw(t)&&!z9(t)&&f),ref:W,size:h,type:w})))},Z=function(){var re=Number(m)>0;if(y||x){var se=mt(pF(R)).length,ce=un(x)==="object"?x.formatter({count:se,maxLength:m}):"".concat(se).concat(re?" / ".concat(m):"");return oo(x0,{children:[!!x&&Ut("span",{className:Xe("".concat(u,"-show-count-suffix"),ue({},"".concat(u,"-show-count-has-suffix"),!!y)),children:ce}),y]})}return null};return Ut(t0e,nt({},ve(ve({},C),{},{prefixCls:u,className:f,inputElement:Y(),handleReset:H,value:pF(R),focused:L,triggerFocus:V,suffix:Z(),disabled:c})))});function i0e(t){return!!(t.prefix||t.suffix||t.allowClear)}var o0e=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function a0e(t){return typeof t=="undefined"||t===null?"":String(t)}function ZM(t,e,n,r){if(!!n){var i=e;if(e.type==="click"){var o=t.cloneNode(!0);i=Object.create(e,{target:{value:o},currentTarget:{value:o}}),o.value="",n(i);return}if(r!==void 0){i=Object.create(e,{target:{value:t},currentTarget:{value:t}}),t.value=r,n(i);return}n(i)}}function s0e(t,e){if(!!t){t.focus(e);var n=e||{},r=n.cursor;if(r){var i=t.value.length;switch(r){case"start":t.setSelectionRange(0,0);break;case"end":t.setSelectionRange(i,i);break;default:t.setSelectionRange(0,i)}}}}var l0e=v.exports.forwardRef(function(t,e){var n,r,i,o=t.prefixCls,a=t.bordered,s=a===void 0?!0:a,l=t.status,u=t.size,c=t.onBlur,h=t.onFocus,f=t.suffix,m=t.allowClear,y=t.addonAfter,x=t.addonBefore,b=o0e(t,["prefixCls","bordered","status","size","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore"]),w=ln.useContext(jn),S=w.getPrefixCls,C=w.direction,M=w.input,T=S("input",o),R=v.exports.useRef(null),I=ln.useContext(Zl),A=u||I,N=v.exports.useContext(nc),L=N.status,D=N.hasFeedback,W=N.feedbackIcon,V=rS(L,l),B=i0e(t)||!!D,K=v.exports.useRef(B);v.exports.useEffect(function(){B&&K.current,K.current=B},[B]);var j=v.exports.useRef([]),G=function(){j.current.push(window.setTimeout(function(){var se,ce,ye,fe;((se=R.current)===null||se===void 0?void 0:se.input)&&((ce=R.current)===null||ce===void 0?void 0:ce.input.getAttribute("type"))==="password"&&((ye=R.current)===null||ye===void 0?void 0:ye.input.hasAttribute("value"))&&((fe=R.current)===null||fe===void 0||fe.input.removeAttribute("value"))}))};v.exports.useEffect(function(){return G(),function(){return j.current.forEach(function(re){return window.clearTimeout(re)})}},[]);var H=function(se){G(),c==null||c(se)},Y=function(se){G(),h==null||h(se)},Z=(D||f)&&oo(x0,{children:[f,D&&W]}),oe;return un(m)==="object"&&(m==null?void 0:m.clearIcon)?oe=m:m&&(oe={clearIcon:Ut(X1,{})}),Ut(r0e,Jt(nt({ref:Yl(e,R),prefixCls:T,autoComplete:M==null?void 0:M.autoComplete},b),{onBlur:H,onFocus:Y,suffix:Z,allowClear:oe,addonAfter:y&&Ut(F4,{children:y}),addonBefore:x&&Ut(F4,{children:x}),inputClassName:Xe((n={},ue(n,"".concat(T,"-sm"),A==="small"),ue(n,"".concat(T,"-lg"),A==="large"),ue(n,"".concat(T,"-rtl"),C==="rtl"),ue(n,"".concat(T,"-borderless"),!s),n),!B&&Of(T,V)),affixWrapperClassName:Xe((r={},ue(r,"".concat(T,"-affix-wrapper-sm"),A==="small"),ue(r,"".concat(T,"-affix-wrapper-lg"),A==="large"),ue(r,"".concat(T,"-affix-wrapper-rtl"),C==="rtl"),ue(r,"".concat(T,"-affix-wrapper-borderless"),!s),r),Of("".concat(T,"-affix-wrapper"),V,D)),wrapperClassName:Xe(ue({},"".concat(T,"-group-rtl"),C==="rtl")),groupClassName:Xe((i={},ue(i,"".concat(T,"-group-wrapper-sm"),A==="small"),ue(i,"".concat(T,"-group-wrapper-lg"),A==="large"),ue(i,"".concat(T,"-group-wrapper-rtl"),C==="rtl"),i),Of("".concat(T,"-group-wrapper"),V,D))}))}),_O=l0e,u0e=function(e){var n,r=v.exports.useContext(jn),i=r.getPrefixCls,o=r.direction,a=e.prefixCls,s=e.className,l=s===void 0?"":s,u=i("input-group",a),c=Xe(u,(n={},ue(n,"".concat(u,"-lg"),e.size==="large"),ue(n,"".concat(u,"-sm"),e.size==="small"),ue(n,"".concat(u,"-compact"),e.compact),ue(n,"".concat(u,"-rtl"),o==="rtl"),n),l),h=v.exports.useContext(nc),f=v.exports.useMemo(function(){return Se(Se({},h),{isFormItemInput:!1})},[h]);return v.exports.createElement("span",{className:c,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},v.exports.createElement(nc.Provider,{value:f},e.children))},c0e=u0e,d0e=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},B9=v.exports.forwardRef(function(t,e){var n,r=t.prefixCls,i=t.inputPrefixCls,o=t.className,a=t.size,s=t.suffix,l=t.enterButton,u=l===void 0?!1:l,c=t.addonAfter,h=t.loading,f=t.disabled,m=t.onSearch,y=t.onChange,x=t.onCompositionStart,b=t.onCompositionEnd,w=d0e(t,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),S=v.exports.useContext(jn),C=S.getPrefixCls,M=S.direction,T=v.exports.useContext(Zl),R=v.exports.useRef(!1),I=a||T,A=v.exports.useRef(null),N=function(ce){ce&&ce.target&&ce.type==="click"&&m&&m(ce.target.value,ce),y&&y(ce)},L=function(ce){var ye;document.activeElement===((ye=A.current)===null||ye===void 0?void 0:ye.input)&&ce.preventDefault()},D=function(ce){var ye,fe;m&&m((fe=(ye=A.current)===null||ye===void 0?void 0:ye.input)===null||fe===void 0?void 0:fe.value,ce)},W=function(ce){R.current||D(ce)},V=C("input-search",r),B=C("input",i),K=typeof u=="boolean"?v.exports.createElement(tO,null):null,j="".concat(V,"-button"),G,H=u||{},Y=H.type&&H.type.__ANT_BUTTON===!0;Y||H.type==="button"?G=qo(H,Se({onMouseDown:L,onClick:function(ce){var ye,fe;(fe=(ye=H==null?void 0:H.props)===null||ye===void 0?void 0:ye.onClick)===null||fe===void 0||fe.call(ye,ce),D(ce)},key:"enterButton"},Y?{className:j,size:I}:{})):G=v.exports.createElement(Ku,{className:j,type:u?"primary":void 0,size:I,disabled:f,key:"enterButton",onMouseDown:L,onClick:D,loading:h,icon:K},u),c&&(G=[G,qo(c,{key:"addonAfter"})]);var Z=Xe(V,(n={},ue(n,"".concat(V,"-rtl"),M==="rtl"),ue(n,"".concat(V,"-").concat(I),!!I),ue(n,"".concat(V,"-with-button"),!!u),n),o),oe=function(ce){R.current=!0,x==null||x(ce)},re=function(ce){R.current=!1,b==null||b(ce)};return v.exports.createElement(_O,Se({ref:Yl(A,e),onPressEnter:W},w,{size:I,onCompositionStart:oe,onCompositionEnd:re,prefixCls:B,addonAfter:G,suffix:s,onChange:N,className:Z,disabled:f}))});B9.displayName="Search";var f0e=B9,h0e=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important
`,p0e=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break"],JM={},ys;function m0e(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=t.getAttribute("id")||t.getAttribute("data-reactid")||t.getAttribute("name");if(e&&JM[n])return JM[n];var r=window.getComputedStyle(t),i=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),o=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),a=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),s=p0e.map(function(u){return"".concat(u,":").concat(r.getPropertyValue(u))}).join(";"),l={sizingStyle:s,paddingSize:o,borderSize:a,boxSizing:i};return e&&n&&(JM[n]=l),l}function v0e(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;ys||(ys=document.createElement("textarea"),ys.setAttribute("tab-index","-1"),ys.setAttribute("aria-hidden","true"),document.body.appendChild(ys)),t.getAttribute("wrap")?ys.setAttribute("wrap",t.getAttribute("wrap")):ys.removeAttribute("wrap");var i=m0e(t,e),o=i.paddingSize,a=i.borderSize,s=i.boxSizing,l=i.sizingStyle;ys.setAttribute("style","".concat(l,";").concat(h0e)),ys.value=t.value||t.placeholder||"";var u=Number.MIN_SAFE_INTEGER,c=Number.MAX_SAFE_INTEGER,h=ys.scrollHeight,f;if(s==="border-box"?h+=a:s==="content-box"&&(h-=o),n!==null||r!==null){ys.value=" ";var m=ys.scrollHeight-o;n!==null&&(u=m*n,s==="border-box"&&(u=u+o+a),h=Math.max(u,h)),r!==null&&(c=m*r,s==="border-box"&&(c=c+o+a),f=h>c?"":"hidden",h=Math.min(c,h))}return{height:h,minHeight:u,maxHeight:c,overflowY:f,resize:"none"}}var Jc;(function(t){t[t.NONE=0]="NONE",t[t.RESIZING=1]="RESIZING",t[t.RESIZED=2]="RESIZED"})(Jc||(Jc={}));var g0e=function(t){Ni(n,t);var e=ki(n);function n(r){var i;return di(this,n),i=e.call(this,r),i.nextFrameActionId=void 0,i.resizeFrameId=void 0,i.textArea=void 0,i.saveTextArea=function(o){i.textArea=o},i.handleResize=function(o){var a=i.state.resizeStatus,s=i.props,l=s.autoSize,u=s.onResize;a===Jc.NONE&&(typeof u=="function"&&u(o),l&&i.resizeOnNextFrame())},i.resizeOnNextFrame=function(){cancelAnimationFrame(i.nextFrameActionId),i.nextFrameActionId=requestAnimationFrame(i.resizeTextarea)},i.resizeTextarea=function(){var o=i.props.autoSize;if(!(!o||!i.textArea)){var a=o.minRows,s=o.maxRows,l=v0e(i.textArea,!1,a,s);i.setState({textareaStyles:l,resizeStatus:Jc.RESIZING},function(){cancelAnimationFrame(i.resizeFrameId),i.resizeFrameId=requestAnimationFrame(function(){i.setState({resizeStatus:Jc.RESIZED},function(){i.resizeFrameId=requestAnimationFrame(function(){i.setState({resizeStatus:Jc.NONE}),i.fixFirefoxAutoScroll()})})})})}},i.renderTextArea=function(){var o=i.props,a=o.prefixCls,s=a===void 0?"rc-textarea":a,l=o.autoSize,u=o.onResize,c=o.className,h=o.disabled,f=i.state,m=f.textareaStyles,y=f.resizeStatus,x=No(i.props,["prefixCls","onPressEnter","autoSize","defaultValue","onResize"]),b=Xe(s,c,ue({},"".concat(s,"-disabled"),h));"value"in x&&(x.value=x.value||"");var w=ve(ve(ve({},i.props.style),m),y===Jc.RESIZING?{overflowX:"hidden",overflowY:"hidden"}:null);return v.exports.createElement($l,{onResize:i.handleResize,disabled:!(l||u)},v.exports.createElement("textarea",Se({},x,{className:b,style:w,ref:i.saveTextArea})))},i.state={textareaStyles:{},resizeStatus:Jc.NONE},i}return fi(n,[{key:"componentDidUpdate",value:function(i){(i.value!==this.props.value||!ty(i.autoSize,this.props.autoSize))&&this.resizeTextarea()}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.nextFrameActionId),cancelAnimationFrame(this.resizeFrameId)}},{key:"fixFirefoxAutoScroll",value:function(){try{if(document.activeElement===this.textArea){var i=this.textArea.selectionStart,o=this.textArea.selectionEnd;this.textArea.setSelectionRange(i,o)}}catch{}}},{key:"render",value:function(){return this.renderTextArea()}}]),n}(v.exports.Component),y0e=function(t){Ni(n,t);var e=ki(n);function n(r){var i;di(this,n),i=e.call(this,r),i.resizableTextArea=void 0,i.focus=function(){i.resizableTextArea.textArea.focus()},i.saveTextArea=function(a){i.resizableTextArea=a},i.handleChange=function(a){var s=i.props.onChange;i.setValue(a.target.value,function(){i.resizableTextArea.resizeTextarea()}),s&&s(a)},i.handleKeyDown=function(a){var s=i.props,l=s.onPressEnter,u=s.onKeyDown;a.keyCode===13&&l&&l(a),u&&u(a)};var o=typeof r.value=="undefined"||r.value===null?r.defaultValue:r.value;return i.state={value:o},i}return fi(n,[{key:"setValue",value:function(i,o){"value"in this.props||this.setState({value:i},o)}},{key:"blur",value:function(){this.resizableTextArea.textArea.blur()}},{key:"render",value:function(){return v.exports.createElement(g0e,Se({},this.props,{value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,ref:this.saveTextArea}))}}],[{key:"getDerivedStateFromProps",value:function(i){return"value"in i?{value:i.value}:null}}]),n}(v.exports.Component),x0e=Ns("text","input");function b0e(t){return!!(t.addonBefore||t.addonAfter)}var w0e=function(t){Ni(n,t);var e=ki(n);function n(){return di(this,n),e.apply(this,arguments)}return fi(n,[{key:"renderClearIcon",value:function(i){var o,a=this.props,s=a.value,l=a.disabled,u=a.readOnly,c=a.handleReset,h=a.suffix,f=!l&&!u&&s,m="".concat(i,"-clear-icon");return v.exports.createElement(X1,{onClick:c,onMouseDown:function(x){return x.preventDefault()},className:Xe((o={},ue(o,"".concat(m,"-hidden"),!f),ue(o,"".concat(m,"-has-suffix"),!!h),o),m),role:"button"})}},{key:"renderTextAreaWithClearIcon",value:function(i,o,a){var s,l=this.props,u=l.value,c=l.allowClear,h=l.className,f=l.style,m=l.direction,y=l.bordered,x=l.hidden,b=l.status,w=a.status,S=a.hasFeedback;if(!c)return qo(o,{value:u});var C=Xe("".concat(i,"-affix-wrapper"),"".concat(i,"-affix-wrapper-textarea-with-clear-btn"),Of("".concat(i,"-affix-wrapper"),rS(w,b),S),(s={},ue(s,"".concat(i,"-affix-wrapper-rtl"),m==="rtl"),ue(s,"".concat(i,"-affix-wrapper-borderless"),!y),ue(s,"".concat(h),!b0e(this.props)&&h),s));return v.exports.createElement("span",{className:C,style:f,hidden:x},qo(o,{style:null,value:u}),this.renderClearIcon(i))}},{key:"render",value:function(){var i=this;return v.exports.createElement(nc.Consumer,null,function(o){var a=i.props,s=a.prefixCls,l=a.inputType,u=a.element;if(l===x0e[0])return i.renderTextAreaWithClearIcon(s,u,o)})}}]),n}(v.exports.Component),_0e=w0e,S0e=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function V9(t,e){return mt(t||"").slice(0,e).join("")}function mF(t,e,n,r){var i=n;return t?i=V9(n,r):mt(e||"").length<n.length&&mt(n||"").length>r&&(i=e),i}var C0e=v.exports.forwardRef(function(t,e){var n,r=t.prefixCls,i=t.bordered,o=i===void 0?!0:i,a=t.showCount,s=a===void 0?!1:a,l=t.maxLength,u=t.className,c=t.style,h=t.size,f=t.onCompositionStart,m=t.onCompositionEnd,y=t.onChange,x=t.status,b=S0e(t,["prefixCls","bordered","showCount","maxLength","className","style","size","onCompositionStart","onCompositionEnd","onChange","status"]),w=v.exports.useContext(jn),S=w.getPrefixCls,C=w.direction,M=v.exports.useContext(Zl),T=v.exports.useContext(nc),R=T.status,I=T.hasFeedback,A=T.isFormItemInput,N=T.feedbackIcon,L=rS(R,x),D=v.exports.useRef(null),W=v.exports.useRef(null),V=v.exports.useState(!1),B=$e(V,2),K=B[0],j=B[1],G=v.exports.useRef(),H=v.exports.useRef(0),Y=Ra(b.defaultValue,{value:b.value}),Z=$e(Y,2),oe=Z[0],re=Z[1],se=b.hidden,ce=function(Ue,Ve){b.value===void 0&&(re(Ue),Ve==null||Ve())},ye=Number(l)>0,fe=function(Ue){j(!0),G.current=oe,H.current=Ue.currentTarget.selectionStart,f==null||f(Ue)},De=function(Ue){var Ve;j(!1);var Be=Ue.currentTarget.value;if(ye){var qe=H.current>=l+1||H.current===((Ve=G.current)===null||Ve===void 0?void 0:Ve.length);Be=mF(qe,G.current,Be,l)}Be!==oe&&(ce(Be),ZM(Ue.currentTarget,Ue,y,Be)),m==null||m(Ue)},Oe=function(Ue){var Ve=Ue.target.value;if(!K&&ye){var Be=Ue.target.selectionStart>=l+1||Ue.target.selectionStart===Ve.length||!Ue.target.selectionStart;Ve=mF(Be,oe,Ve,l)}ce(Ve),ZM(Ue.currentTarget,Ue,y,Ve)},Fe=function(Ue){var Ve,Be;ce("",function(){var qe;(qe=D.current)===null||qe===void 0||qe.focus()}),ZM((Be=(Ve=D.current)===null||Ve===void 0?void 0:Ve.resizableTextArea)===null||Be===void 0?void 0:Be.textArea,Ue,y)},Ee=S("input",r);v.exports.useImperativeHandle(e,function(){var We;return{resizableTextArea:(We=D.current)===null||We===void 0?void 0:We.resizableTextArea,focus:function(Ve){var Be,qe;s0e((qe=(Be=D.current)===null||Be===void 0?void 0:Be.resizableTextArea)===null||qe===void 0?void 0:qe.textArea,Ve)},blur:function(){var Ve;return(Ve=D.current)===null||Ve===void 0?void 0:Ve.blur()}}});var Ye=v.exports.createElement(y0e,Se({},No(b,["allowClear"]),{className:Xe((n={},ue(n,"".concat(Ee,"-borderless"),!o),ue(n,u,u&&!s),ue(n,"".concat(Ee,"-sm"),M==="small"||h==="small"),ue(n,"".concat(Ee,"-lg"),M==="large"||h==="large"),n),Of(Ee,L)),style:s?void 0:c,prefixCls:Ee,onCompositionStart:fe,onChange:Oe,onCompositionEnd:De,ref:D})),be=a0e(oe);!K&&ye&&(b.value===null||b.value===void 0)&&(be=V9(be,l));var Ce=v.exports.createElement(_0e,Se({},b,{prefixCls:Ee,direction:C,inputType:"text",value:be,element:Ye,handleReset:Fe,ref:W,bordered:o,status:x,style:s?void 0:c}));if(s||I){var Me,ze=mt(be).length,Re="";return un(s)==="object"?Re=s.formatter({count:ze,maxLength:l}):Re="".concat(ze).concat(ye?" / ".concat(l):""),v.exports.createElement("div",{hidden:se,className:Xe("".concat(Ee,"-textarea"),(Me={},ue(Me,"".concat(Ee,"-textarea-rtl"),C==="rtl"),ue(Me,"".concat(Ee,"-textarea-show-count"),s),ue(Me,"".concat(Ee,"-textarea-in-form-item"),A),Me),Of("".concat(Ee,"-textarea"),L,I),u),style:c,"data-count":Re},Ce,I&&v.exports.createElement("span",{className:"".concat(Ee,"-textarea-suffix")},N))}return Ce}),E0e=C0e,M0e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},T0e=M0e,U9=function(e,n){return v.exports.createElement(xr,ve(ve({},e),{},{ref:n,icon:T0e}))};U9.displayName="EyeOutlined";var P0e=v.exports.forwardRef(U9),A0e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},R0e=A0e,H9=function(e,n){return v.exports.createElement(xr,ve(ve({},e),{},{ref:n,icon:R0e}))};H9.displayName="EyeInvisibleOutlined";var O0e=v.exports.forwardRef(H9),N0e=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},k0e={click:"onClick",hover:"onMouseOver"},SO=v.exports.forwardRef(function(t,e){var n=v.exports.useState(!1),r=$e(n,2),i=r[0],o=r[1],a=function(){var c=t.disabled;c||o(!i)},s=function(c){var h,f=t.action,m=t.iconRender,y=m===void 0?function(){return null}:m,x=k0e[f]||"",b=y(i),w=(h={},ue(h,x,a),ue(h,"className","".concat(c,"-icon")),ue(h,"key","passwordIcon"),ue(h,"onMouseDown",function(C){C.preventDefault()}),ue(h,"onMouseUp",function(C){C.preventDefault()}),h);return v.exports.cloneElement(v.exports.isValidElement(b)?b:v.exports.createElement("span",null,b),w)},l=function(c){var h=c.getPrefixCls,f=t.className,m=t.prefixCls,y=t.inputPrefixCls,x=t.size,b=t.visibilityToggle,w=N0e(t,["className","prefixCls","inputPrefixCls","size","visibilityToggle"]),S=h("input",y),C=h("input-password",m),M=b&&s(C),T=Xe(C,f,ue({},"".concat(C,"-").concat(x),!!x)),R=Se(Se({},No(w,["suffix","iconRender"])),{type:i?"text":"password",className:T,prefixCls:S,suffix:M});return x&&(R.size=x),v.exports.createElement(_O,Se({ref:e},R))};return v.exports.createElement(ac,null,l)});SO.defaultProps={action:"click",visibilityToggle:!0,iconRender:function(e){return e?v.exports.createElement(P0e,null):v.exports.createElement(O0e,null)}};SO.displayName="Password";var I0e=SO,oy=_O;oy.Group=c0e;oy.Search=f0e;oy.TextArea=E0e;oy.Password=I0e;var W9=oy;function vF(t){var e=t.getBoundingClientRect(),n=document.documentElement;return{left:e.left+(window.pageXOffset||n.scrollLeft)-(n.clientLeft||document.body.clientLeft||0),top:e.top+(window.pageYOffset||n.scrollTop)-(n.clientTop||document.body.clientTop||0)}}var L0e=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};Ns("small","default","large");var Ow=null;function D0e(t,e){var n=e.indicator,r="".concat(t,"-dot");return n===null?null:rc(n)?qo(n,{className:Xe(n.props.className,r)}):rc(Ow)?qo(Ow,{className:Xe(Ow.props.className,r)}):v.exports.createElement("span",{className:Xe(r,"".concat(t,"-dot-spin"))},v.exports.createElement("i",{className:"".concat(t,"-dot-item")}),v.exports.createElement("i",{className:"".concat(t,"-dot-item")}),v.exports.createElement("i",{className:"".concat(t,"-dot-item")}),v.exports.createElement("i",{className:"".concat(t,"-dot-item")}))}function F0e(t,e){return!!t&&!!e&&!isNaN(Number(e))}var j9=function(t){Ni(n,t);var e=ki(n);function n(r){var i;di(this,n),i=e.call(this,r),i.debouncifyUpdateSpinning=function(l){var u=l||i.props,c=u.delay;c&&(i.cancelExistingSpin(),i.updateSpinning=O9(i.originalUpdateSpinning,c))},i.updateSpinning=function(){var l=i.props.spinning,u=i.state.spinning;u!==l&&i.setState({spinning:l})},i.renderSpin=function(l){var u,c=l.direction,h=i.props,f=h.spinPrefixCls,m=h.className,y=h.size,x=h.tip,b=h.wrapperClassName,w=h.style,S=L0e(h,["spinPrefixCls","className","size","tip","wrapperClassName","style"]),C=i.state.spinning,M=Xe(f,(u={},ue(u,"".concat(f,"-sm"),y==="small"),ue(u,"".concat(f,"-lg"),y==="large"),ue(u,"".concat(f,"-spinning"),C),ue(u,"".concat(f,"-show-text"),!!x),ue(u,"".concat(f,"-rtl"),c==="rtl"),u),m),T=No(S,["spinning","delay","indicator","prefixCls"]),R=v.exports.createElement("div",Se({},T,{style:w,className:M,"aria-live":"polite","aria-busy":C}),D0e(f,i.props),x?v.exports.createElement("div",{className:"".concat(f,"-text")},x):null);if(i.isNestedPattern()){var I=Xe("".concat(f,"-container"),ue({},"".concat(f,"-blur"),C));return v.exports.createElement("div",Se({},T,{className:Xe("".concat(f,"-nested-loading"),b)}),C&&v.exports.createElement("div",{key:"loading"},R),v.exports.createElement("div",{className:I,key:"container"},i.props.children))}return R};var o=r.spinning,a=r.delay,s=F0e(o,a);return i.state={spinning:o&&!s},i.originalUpdateSpinning=i.updateSpinning,i.debouncifyUpdateSpinning(r),i}return fi(n,[{key:"componentDidMount",value:function(){this.updateSpinning()}},{key:"componentDidUpdate",value:function(){this.debouncifyUpdateSpinning(),this.updateSpinning()}},{key:"componentWillUnmount",value:function(){this.cancelExistingSpin()}},{key:"cancelExistingSpin",value:function(){var i=this.updateSpinning;i&&i.cancel&&i.cancel()}},{key:"isNestedPattern",value:function(){return!!(this.props&&typeof this.props.children!="undefined")}},{key:"render",value:function(){return v.exports.createElement(ac,null,this.renderSpin)}}]),n}(v.exports.Component);j9.defaultProps={spinning:!0,size:"default",wrapperClassName:""};var G9=function(e){var n=e.prefixCls,r=v.exports.useContext(jn),i=r.getPrefixCls,o=i("spin",n),a=Se(Se({},e),{spinPrefixCls:o});return v.exports.createElement(j9,a)};G9.setDefaultIndicator=function(t){Ow=t};var z0e=G9,$v=function(e){var n,r="".concat(e.rootPrefixCls,"-item"),i=Xe(r,"".concat(r,"-").concat(e.page),(n={},ue(n,"".concat(r,"-active"),e.active),ue(n,"".concat(r,"-disabled"),!e.page),ue(n,e.className,!!e.className),n)),o=function(){e.onClick(e.page)},a=function(l){e.onKeyPress(l,e.onClick,e.page)};return ln.createElement("li",{title:e.showTitle?e.page:null,className:i,onClick:o,onKeyPress:a,tabIndex:"0"},e.itemRender(e.page,"page",ln.createElement("a",{rel:"nofollow"},e.page)))},hf={ZERO:48,NINE:57,NUMPAD_ZERO:96,NUMPAD_NINE:105,BACKSPACE:8,DELETE:46,ENTER:13,ARROW_UP:38,ARROW_DOWN:40},$9=function(t){Ni(n,t);var e=ki(n);function n(){var r;di(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),r.state={goInputText:""},r.buildOptionText=function(s){return"".concat(s," ").concat(r.props.locale.items_per_page)},r.changeSize=function(s){r.props.changeSize(Number(s))},r.handleChange=function(s){r.setState({goInputText:s.target.value})},r.handleBlur=function(s){var l=r.props,u=l.goButton,c=l.quickGo,h=l.rootPrefixCls,f=r.state.goInputText;u||f===""||(r.setState({goInputText:""}),!(s.relatedTarget&&(s.relatedTarget.className.indexOf("".concat(h,"-item-link"))>=0||s.relatedTarget.className.indexOf("".concat(h,"-item"))>=0))&&c(r.getValidValue()))},r.go=function(s){var l=r.state.goInputText;l!==""&&(s.keyCode===hf.ENTER||s.type==="click")&&(r.setState({goInputText:""}),r.props.quickGo(r.getValidValue()))},r}return fi(n,[{key:"getValidValue",value:function(){var i=this.state.goInputText;return!i||isNaN(i)?void 0:Number(i)}},{key:"getPageSizeOptions",value:function(){var i=this.props,o=i.pageSize,a=i.pageSizeOptions;return a.some(function(s){return s.toString()===o.toString()})?a:a.concat([o.toString()]).sort(function(s,l){var u=isNaN(Number(s))?0:Number(s),c=isNaN(Number(l))?0:Number(l);return u-c})}},{key:"render",value:function(){var i=this,o=this.props,a=o.pageSize,s=o.locale,l=o.rootPrefixCls,u=o.changeSize,c=o.quickGo,h=o.goButton,f=o.selectComponentClass,m=o.buildOptionText,y=o.selectPrefixCls,x=o.disabled,b=this.state.goInputText,w="".concat(l,"-options"),S=f,C=null,M=null,T=null;if(!u&&!c)return null;var R=this.getPageSizeOptions();if(u&&S){var I=R.map(function(A,N){return ln.createElement(S.Option,{key:N,value:A.toString()},(m||i.buildOptionText)(A))});C=ln.createElement(S,{disabled:x,prefixCls:y,showSearch:!1,className:"".concat(w,"-size-changer"),optionLabelProp:"children",dropdownMatchSelectWidth:!1,value:(a||R[0]).toString(),onChange:this.changeSize,getPopupContainer:function(N){return N.parentNode},"aria-label":s.page_size,defaultOpen:!1},I)}return c&&(h&&(T=typeof h=="boolean"?ln.createElement("button",{type:"button",onClick:this.go,onKeyUp:this.go,disabled:x,className:"".concat(w,"-quick-jumper-button")},s.jump_to_confirm):ln.createElement("span",{onClick:this.go,onKeyUp:this.go},h)),M=ln.createElement("div",{className:"".concat(w,"-quick-jumper")},s.jump_to,ln.createElement("input",{disabled:x,type:"text",value:b,onChange:this.handleChange,onKeyUp:this.go,onBlur:this.handleBlur,"aria-label":s.page}),s.page,T)),ln.createElement("li",{className:"".concat(w)},C,M)}}]),n}(ln.Component);$9.defaultProps={pageSizeOptions:["10","20","50","100"]};var B0e={items_per_page:"\u6761/\u9875",jump_to:"\u8DF3\u81F3",jump_to_confirm:"\u786E\u5B9A",page:"\u9875",prev_page:"\u4E0A\u4E00\u9875",next_page:"\u4E0B\u4E00\u9875",prev_5:"\u5411\u524D 5 \u9875",next_5:"\u5411\u540E 5 \u9875",prev_3:"\u5411\u524D 3 \u9875",next_3:"\u5411\u540E 3 \u9875",page_size:"\u9875\u7801"};function tA(){}function gF(t){var e=Number(t);return typeof e=="number"&&!isNaN(e)&&isFinite(e)&&Math.floor(e)===e}function V0e(t,e,n){return n}function Lc(t,e,n){var r=typeof t=="undefined"?e.pageSize:t;return Math.floor((n.total-1)/r)+1}var K9=function(t){Ni(n,t);var e=ki(n);function n(r){var i;di(this,n),i=e.call(this,r),i.getJumpPrevPage=function(){return Math.max(1,i.state.current-(i.props.showLessItems?3:5))},i.getJumpNextPage=function(){return Math.min(Lc(void 0,i.state,i.props),i.state.current+(i.props.showLessItems?3:5))},i.getItemIcon=function(u,c){var h=i.props.prefixCls,f=u||Ut("button",{type:"button","aria-label":c,className:"".concat(h,"-item-link")});return typeof u=="function"&&(f=ln.createElement(u,ve({},i.props))),f},i.savePaginationNode=function(u){i.paginationNode=u},i.isValid=function(u){var c=i.props.total;return gF(u)&&u!==i.state.current&&gF(c)&&c>0},i.shouldDisplayQuickJumper=function(){var u=i.props,c=u.showQuickJumper,h=u.total,f=i.state.pageSize;return h<=f?!1:c},i.handleKeyDown=function(u){(u.keyCode===hf.ARROW_UP||u.keyCode===hf.ARROW_DOWN)&&u.preventDefault()},i.handleKeyUp=function(u){var c=i.getValidValue(u),h=i.state.currentInputValue;c!==h&&i.setState({currentInputValue:c}),u.keyCode===hf.ENTER?i.handleChange(c):u.keyCode===hf.ARROW_UP?i.handleChange(c-1):u.keyCode===hf.ARROW_DOWN&&i.handleChange(c+1)},i.handleBlur=function(u){var c=i.getValidValue(u);i.handleChange(c)},i.changePageSize=function(u){var c=i.state.current,h=Lc(u,i.state,i.props);c=c>h?h:c,h===0&&(c=i.state.current),typeof u=="number"&&("pageSize"in i.props||i.setState({pageSize:u}),"current"in i.props||i.setState({current:c,currentInputValue:c})),i.props.onShowSizeChange(c,u),"onChange"in i.props&&i.props.onChange&&i.props.onChange(c,u)},i.handleChange=function(u){var c=i.props,h=c.disabled,f=c.onChange,m=i.state,y=m.pageSize,x=m.current,b=m.currentInputValue;if(i.isValid(u)&&!h){var w=Lc(void 0,i.state,i.props),S=u;return u>w?S=w:u<1&&(S=1),"current"in i.props||i.setState({current:S}),S!==b&&i.setState({currentInputValue:S}),f(S,y),S}return x},i.prev=function(){i.hasPrev()&&i.handleChange(i.state.current-1)},i.next=function(){i.hasNext()&&i.handleChange(i.state.current+1)},i.jumpPrev=function(){i.handleChange(i.getJumpPrevPage())},i.jumpNext=function(){i.handleChange(i.getJumpNextPage())},i.hasPrev=function(){return i.state.current>1},i.hasNext=function(){return i.state.current<Lc(void 0,i.state,i.props)},i.runIfEnter=function(u,c){if(u.key==="Enter"||u.charCode===13){for(var h=arguments.length,f=new Array(h>2?h-2:0),m=2;m<h;m++)f[m-2]=arguments[m];c.apply(void 0,f)}},i.runIfEnterPrev=function(u){i.runIfEnter(u,i.prev)},i.runIfEnterNext=function(u){i.runIfEnter(u,i.next)},i.runIfEnterJumpPrev=function(u){i.runIfEnter(u,i.jumpPrev)},i.runIfEnterJumpNext=function(u){i.runIfEnter(u,i.jumpNext)},i.handleGoTO=function(u){(u.keyCode===hf.ENTER||u.type==="click")&&i.handleChange(i.state.currentInputValue)};var o=r.onChange!==tA,a="current"in r;a&&!o&&console.warn("Warning: You provided a `current` prop to a Pagination component without an `onChange` handler. This will render a read-only component.");var s=r.defaultCurrent;"current"in r&&(s=r.current);var l=r.defaultPageSize;return"pageSize"in r&&(l=r.pageSize),s=Math.min(s,Lc(l,void 0,r)),i.state={current:s,currentInputValue:s,pageSize:l},i}return fi(n,[{key:"componentDidUpdate",value:function(i,o){var a=this.props.prefixCls;if(o.current!==this.state.current&&this.paginationNode){var s=this.paginationNode.querySelector(".".concat(a,"-item-").concat(o.current));s&&document.activeElement===s&&s.blur()}}},{key:"getValidValue",value:function(i){var o=i.target.value,a=Lc(void 0,this.state,this.props),s=this.state.currentInputValue,l;return o===""?l=o:isNaN(Number(o))?l=s:o>=a?l=a:l=Number(o),l}},{key:"getShowSizeChanger",value:function(){var i=this.props,o=i.showSizeChanger,a=i.total,s=i.totalBoundaryShowSizeChanger;return typeof o!="undefined"?o:a>s}},{key:"renderPrev",value:function(i){var o=this.props,a=o.prevIcon,s=o.itemRender,l=s(i,"prev",this.getItemIcon(a,"prev page")),u=!this.hasPrev();return v.exports.isValidElement(l)?v.exports.cloneElement(l,{disabled:u}):l}},{key:"renderNext",value:function(i){var o=this.props,a=o.nextIcon,s=o.itemRender,l=s(i,"next",this.getItemIcon(a,"next page")),u=!this.hasNext();return v.exports.isValidElement(l)?v.exports.cloneElement(l,{disabled:u}):l}},{key:"render",value:function(){var i=this,o=this.props,a=o.prefixCls,s=o.className,l=o.style,u=o.disabled,c=o.hideOnSinglePage,h=o.total,f=o.locale,m=o.showQuickJumper,y=o.showLessItems,x=o.showTitle,b=o.showTotal,w=o.simple,S=o.itemRender,C=o.showPrevNextJumpers,M=o.jumpPrevIcon,T=o.jumpNextIcon,R=o.selectComponentClass,I=o.selectPrefixCls,A=o.pageSizeOptions,N=this.state,L=N.current,D=N.pageSize,W=N.currentInputValue;if(c===!0&&h<=D)return null;var V=Lc(void 0,this.state,this.props),B=[],K=null,j=null,G=null,H=null,Y=null,Z=m&&m.goButton,oe=y?1:2,re=L-1>0?L-1:0,se=L+1<V?L+1:V,ce=Object.keys(this.props).reduce(function(We,Ue){return(Ue.substr(0,5)==="data-"||Ue.substr(0,5)==="aria-"||Ue==="role")&&(We[Ue]=i.props[Ue]),We},{});if(w)return Z&&(typeof Z=="boolean"?Y=Ut("button",{type:"button",onClick:this.handleGoTO,onKeyUp:this.handleGoTO,children:f.jump_to_confirm}):Y=Ut("span",{onClick:this.handleGoTO,onKeyUp:this.handleGoTO,children:Z}),Y=Ut("li",{title:x?"".concat(f.jump_to).concat(L,"/").concat(V):null,className:"".concat(a,"-simple-pager"),children:Y})),oo("ul",Jt(nt({className:Xe(a,"".concat(a,"-simple"),ue({},"".concat(a,"-disabled"),u),s),style:l,ref:this.savePaginationNode},ce),{children:[Ut("li",{title:x?f.prev_page:null,onClick:this.prev,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterPrev,className:Xe("".concat(a,"-prev"),ue({},"".concat(a,"-disabled"),!this.hasPrev())),"aria-disabled":!this.hasPrev(),children:this.renderPrev(re)}),oo("li",{title:x?"".concat(L,"/").concat(V):null,className:"".concat(a,"-simple-pager"),children:[Ut("input",{type:"text",value:W,disabled:u,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onChange:this.handleKeyUp,onBlur:this.handleBlur,size:"3"}),Ut("span",{className:"".concat(a,"-slash"),children:"/"}),V]}),Ut("li",{title:x?f.next_page:null,onClick:this.next,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterNext,className:Xe("".concat(a,"-next"),ue({},"".concat(a,"-disabled"),!this.hasNext())),"aria-disabled":!this.hasNext(),children:this.renderNext(se)}),Y]}));if(V<=3+oe*2){var ye={locale:f,rootPrefixCls:a,onClick:this.handleChange,onKeyPress:this.runIfEnter,showTitle:x,itemRender:S};V||B.push(v.exports.createElement($v,Jt(nt({},ye),{key:"noPager",page:1,className:"".concat(a,"-item-disabled")})));for(var fe=1;fe<=V;fe+=1){var De=L===fe;B.push(v.exports.createElement($v,Jt(nt({},ye),{key:fe,page:fe,active:De})))}}else{var Oe=y?f.prev_3:f.prev_5,Fe=y?f.next_3:f.next_5;C&&(K=Ut("li",{title:x?Oe:null,onClick:this.jumpPrev,tabIndex:"0",onKeyPress:this.runIfEnterJumpPrev,className:Xe("".concat(a,"-jump-prev"),ue({},"".concat(a,"-jump-prev-custom-icon"),!!M)),children:S(this.getJumpPrevPage(),"jump-prev",this.getItemIcon(M,"prev page"))},"prev"),j=Ut("li",{title:x?Fe:null,tabIndex:"0",onClick:this.jumpNext,onKeyPress:this.runIfEnterJumpNext,className:Xe("".concat(a,"-jump-next"),ue({},"".concat(a,"-jump-next-custom-icon"),!!T)),children:S(this.getJumpNextPage(),"jump-next",this.getItemIcon(T,"next page"))},"next")),H=Ut($v,{locale:f,last:!0,rootPrefixCls:a,onClick:this.handleChange,onKeyPress:this.runIfEnter,page:V,active:!1,showTitle:x,itemRender:S},V),G=Ut($v,{locale:f,rootPrefixCls:a,onClick:this.handleChange,onKeyPress:this.runIfEnter,page:1,active:!1,showTitle:x,itemRender:S},1);var Ee=Math.max(1,L-oe),Ye=Math.min(L+oe,V);L-1<=oe&&(Ye=1+oe*2),V-L<=oe&&(Ee=V-oe*2);for(var be=Ee;be<=Ye;be+=1){var Ce=L===be;B.push(Ut($v,{locale:f,rootPrefixCls:a,onClick:this.handleChange,onKeyPress:this.runIfEnter,page:be,active:Ce,showTitle:x,itemRender:S},be))}L-1>=oe*2&&L!==1+2&&(B[0]=v.exports.cloneElement(B[0],{className:"".concat(a,"-item-after-jump-prev")}),B.unshift(K)),V-L>=oe*2&&L!==V-2&&(B[B.length-1]=v.exports.cloneElement(B[B.length-1],{className:"".concat(a,"-item-before-jump-next")}),B.push(j)),Ee!==1&&B.unshift(G),Ye!==V&&B.push(H)}var Me=null;b&&(Me=Ut("li",{className:"".concat(a,"-total-text"),children:b(h,[h===0?0:(L-1)*D+1,L*D>h?h:L*D])}));var ze=!this.hasPrev()||!V,Re=!this.hasNext()||!V;return oo("ul",Jt(nt({className:Xe(a,s,ue({},"".concat(a,"-disabled"),u)),style:l,unselectable:"unselectable",ref:this.savePaginationNode},ce),{children:[Me,Ut("li",{title:x?f.prev_page:null,onClick:this.prev,tabIndex:ze?null:0,onKeyPress:this.runIfEnterPrev,className:Xe("".concat(a,"-prev"),ue({},"".concat(a,"-disabled"),ze)),"aria-disabled":ze,children:this.renderPrev(re)}),B,Ut("li",{title:x?f.next_page:null,onClick:this.next,tabIndex:Re?null:0,onKeyPress:this.runIfEnterNext,className:Xe("".concat(a,"-next"),ue({},"".concat(a,"-disabled"),Re)),"aria-disabled":Re,children:this.renderNext(se)}),Ut($9,{disabled:u,locale:f,rootPrefixCls:a,selectComponentClass:R,selectPrefixCls:I,changeSize:this.getShowSizeChanger()?this.changePageSize:null,current:L,pageSize:D,pageSizeOptions:A,quickGo:this.shouldDisplayQuickJumper()?this.handleChange:null,goButton:Z})]}))}}],[{key:"getDerivedStateFromProps",value:function(i,o){var a={};if("current"in i&&(a.current=i.current,i.current!==o.current&&(a.currentInputValue=a.current)),"pageSize"in i&&i.pageSize!==o.pageSize){var s=o.current,l=Lc(i.pageSize,o,i);s=s>l?l:s,"current"in i||(a.current=s,a.currentInputValue=s),a.pageSize=i.pageSize}return a}}]),n}(ln.Component);K9.defaultProps={defaultCurrent:1,total:0,defaultPageSize:10,onChange:tA,className:"",selectPrefixCls:"rc-select",prefixCls:"rc-pagination",selectComponentClass:null,hideOnSinglePage:!1,showPrevNextJumpers:!0,showQuickJumper:!1,showLessItems:!1,showTitle:!0,onShowSizeChange:tA,locale:B0e,style:{},itemRender:V0e,totalBoundaryShowSizeChanger:50};var U0e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"},H0e=U0e,q9=function(e,n){return v.exports.createElement(xr,ve(ve({},e),{},{ref:n,icon:H0e}))};q9.displayName="DoubleLeftOutlined";var W0e=v.exports.forwardRef(q9),j0e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"},G0e=j0e,X9=function(e,n){return v.exports.createElement(xr,ve(ve({},e),{},{ref:n,icon:G0e}))};X9.displayName="DoubleRightOutlined";var $0e=v.exports.forwardRef(X9),Y9=function(e){return v.exports.createElement(oS,Se({},e,{size:"small"}))},Z9=function(e){return v.exports.createElement(oS,Se({},e,{size:"middle"}))};Y9.Option=oS.Option;Z9.Option=oS.Option;var K0e=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},q0e=function(e){var n=e.prefixCls,r=e.selectPrefixCls,i=e.className,o=e.size,a=e.locale,s=e.selectComponentClass,l=e.responsive,u=K0e(e,["prefixCls","selectPrefixCls","className","size","locale","selectComponentClass","responsive"]),c=VH(l),h=c.xs,f=v.exports.useContext(jn),m=f.getPrefixCls,y=f.direction,x=m("pagination",n),b=function(){var C=v.exports.createElement("span",{className:"".concat(x,"-item-ellipsis")},"\u2022\u2022\u2022"),M=v.exports.createElement("button",{className:"".concat(x,"-item-link"),type:"button",tabIndex:-1},v.exports.createElement(YP,null)),T=v.exports.createElement("button",{className:"".concat(x,"-item-link"),type:"button",tabIndex:-1},v.exports.createElement(T_,null)),R=v.exports.createElement("a",{className:"".concat(x,"-item-link")},v.exports.createElement("div",{className:"".concat(x,"-item-container")},v.exports.createElement(W0e,{className:"".concat(x,"-item-link-icon")}),C)),I=v.exports.createElement("a",{className:"".concat(x,"-item-link")},v.exports.createElement("div",{className:"".concat(x,"-item-container")},v.exports.createElement($0e,{className:"".concat(x,"-item-link-icon")}),C));if(y==="rtl"){var A=[T,M];M=A[0],T=A[1];var N=[I,R];R=N[0],I=N[1]}return{prevIcon:M,nextIcon:T,jumpPrevIcon:R,jumpNextIcon:I}},w=function(C){var M=Se(Se({},C),a),T=o==="small"||!!(h&&!o&&l),R=m("select",r),I=Xe(ue({mini:T},"".concat(x,"-rtl"),y==="rtl"),i);return v.exports.createElement(K9,Se({},b(),u,{prefixCls:x,selectPrefixCls:R,className:I,selectComponentClass:s||(T?Y9:Z9),locale:M}))};return v.exports.createElement(X0,{componentName:"Pagination",defaultLocale:zV},w)},X0e=q0e;function Y0e(t){var e=t.className,n=t.direction,r=t.index,i=t.marginDirection,o=t.children,a=t.split,s=t.wrap,l=v.exports.useContext(J9),u=l.horizontalSize,c=l.verticalSize,h=l.latestIndex,f=l.supportFlexGap,m={};return f||(n==="vertical"?r<h&&(m={marginBottom:u/(a?2:1)}):m=Se(Se({},r<h&&ue({},i,u/(a?2:1))),s&&{paddingBottom:c})),o==null?null:v.exports.createElement(v.exports.Fragment,null,v.exports.createElement("div",{className:e,style:m},o),r<h&&a&&v.exports.createElement("span",{className:"".concat(e,"-split"),style:m},a))}var Z0e=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},J9=v.exports.createContext({latestIndex:0,horizontalSize:0,verticalSize:0,supportFlexGap:!1}),J0e={small:8,middle:16,large:24};function Q0e(t){return typeof t=="string"?J0e[t]:t||0}var eye=function(e){var n,r=v.exports.useContext(jn),i=r.getPrefixCls,o=r.space,a=r.direction,s=e.size,l=s===void 0?(o==null?void 0:o.size)||"small":s,u=e.align,c=e.className,h=e.children,f=e.direction,m=f===void 0?"horizontal":f,y=e.prefixCls,x=e.split,b=e.style,w=e.wrap,S=w===void 0?!1:w,C=Z0e(e,["size","align","className","children","direction","prefixCls","split","style","wrap"]),M=P9(),T=v.exports.useMemo(function(){return(Array.isArray(l)?l:[l,l]).map(function(Y){return Q0e(Y)})},[l]),R=$e(T,2),I=R[0],A=R[1],N=cl(h,{keepEmpty:!0}),L=u===void 0&&m==="horizontal"?"center":u,D=i("space",y),W=Xe(D,"".concat(D,"-").concat(m),(n={},ue(n,"".concat(D,"-rtl"),a==="rtl"),ue(n,"".concat(D,"-align-").concat(L),L),n),c),V="".concat(D,"-item"),B=a==="rtl"?"marginLeft":"marginRight",K=0,j=N.map(function(Y,Z){Y!=null&&(K=Z);var oe=Y&&Y.key||"".concat(V,"-").concat(Z);return v.exports.createElement(Y0e,{className:V,key:oe,direction:m,index:Z,marginDirection:B,split:x,wrap:S},Y)}),G=v.exports.useMemo(function(){return{horizontalSize:I,verticalSize:A,latestIndex:K,supportFlexGap:M}},[I,A,K,M]);if(N.length===0)return null;var H={};return S&&(H.flexWrap="wrap",M||(H.marginBottom=-A)),M&&(H.columnGap=I,H.rowGap=A),v.exports.createElement("div",Se({className:W,style:Se(Se({},H),b)},C),v.exports.createElement(J9.Provider,{value:G},j))},tye=eye;function nye(t){return null}function rye(t){return null}var iye="RC_TABLE_KEY";function Q9(t){return t==null?[]:Array.isArray(t)?t:[t]}function eW(t,e){if(!e&&typeof e!="number")return t;for(var n=Q9(e),r=t,i=0;i<n.length;i+=1){if(!r)return null;var o=n[i];r=r[o]}return r}function hS(t){var e=[],n={};return t.forEach(function(r){for(var i=r||{},o=i.key,a=i.dataIndex,s=o||Q9(a).join("-")||iye;n[s];)s="".concat(s,"_next");n[s]=!0,e.push(s)}),e}function oye(){var t={};function e(o,a){a&&Object.keys(a).forEach(function(s){var l=a[s];l&&un(l)==="object"?(o[s]=o[s]||{},e(o[s],l)):o[s]=l})}for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return r.forEach(function(o){e(t,o)}),t}function nA(t){return t!=null}var tW=v.exports.createContext(!1),nW=v.exports.createContext({}),rW=v.exports.createContext({renderWithProps:!1}),aye=["colSpan","rowSpan","style","className"];function sye(t,e,n,r){var i=t+e-1;return t<=r&&i>=n}function lye(t){return t&&un(t)==="object"&&!Array.isArray(t)&&!v.exports.isValidElement(t)}function uye(t){return typeof t=="string"?!0:Dm(t)}var cye=function(e){var n=e.ellipsis,r=e.rowType,i=e.children,o,a=n===!0?{showTitle:!0}:n;return a&&(a.showTitle||r==="header")&&(typeof i=="string"||typeof i=="number"?o=i.toString():v.exports.isValidElement(i)&&typeof i.props.children=="string"&&(o=i.props.children)),o};function dye(t,e){var n,r,i,o=t.prefixCls,a=t.className,s=t.record,l=t.index,u=t.renderIndex,c=t.dataIndex,h=t.render,f=t.children,m=t.component,y=m===void 0?"td":m,x=t.colSpan,b=t.rowSpan,w=t.fixLeft,S=t.fixRight,C=t.firstFixLeft,M=t.lastFixLeft,T=t.firstFixRight,R=t.lastFixRight,I=t.appendNode,A=t.additionalProps,N=A===void 0?{}:A,L=t.ellipsis,D=t.align,W=t.rowType,V=t.isSticky,B=t.hovering,K=t.onHover,j="".concat(o,"-cell"),G=v.exports.useContext(rW),H=v.exports.useContext(tW),Y=v.exports.useMemo(function(){if(nA(f))return[f];var Be=eW(s,c),qe=Be,te=void 0;if(h){var k=h(Be,s,u);lye(k)?(qe=k.children,te=k.props,G.renderWithProps=!0):qe=k}return[qe,te]},[G.renderWithProps?Math.random():0,f,c,G,s,h,u]),Z=$e(Y,2),oe=Z[0],re=Z[1],se=oe;un(se)==="object"&&!Array.isArray(se)&&!v.exports.isValidElement(se)&&(se=null),L&&(M||T)&&(se=v.exports.createElement("span",{className:"".concat(j,"-content")},se));var ce=re||{},ye=ce.colSpan,fe=ce.rowSpan,De=ce.style,Oe=ce.className,Fe=_n(ce,aye),Ee=(n=ye!==void 0?ye:x)!==null&&n!==void 0?n:1,Ye=(r=fe!==void 0?fe:b)!==null&&r!==void 0?r:1;if(Ee===0||Ye===0)return null;var be={},Ce=typeof w=="number"&&H,Me=typeof S=="number"&&H;Ce&&(be.position="sticky",be.left=w),Me&&(be.position="sticky",be.right=S);var ze={};D&&(ze.textAlign=D);var Re=function(qe){var te;s&&K(l,l+Ye-1),N==null||(te=N.onMouseEnter)===null||te===void 0||te.call(N,qe)},We=function(qe){var te;s&&K(-1,-1),N==null||(te=N.onMouseLeave)===null||te===void 0||te.call(N,qe)},Ue=cye({rowType:W,ellipsis:L,children:oe}),Ve=ve(ve(ve({title:Ue},Fe),N),{},{colSpan:Ee!==1?Ee:null,rowSpan:Ye!==1?Ye:null,className:Xe(j,a,(i={},ue(i,"".concat(j,"-fix-left"),Ce&&H),ue(i,"".concat(j,"-fix-left-first"),C&&H),ue(i,"".concat(j,"-fix-left-last"),M&&H),ue(i,"".concat(j,"-fix-right"),Me&&H),ue(i,"".concat(j,"-fix-right-first"),T&&H),ue(i,"".concat(j,"-fix-right-last"),R&&H),ue(i,"".concat(j,"-ellipsis"),L),ue(i,"".concat(j,"-with-append"),I),ue(i,"".concat(j,"-fix-sticky"),(Ce||Me)&&V&&H),ue(i,"".concat(j,"-row-hover"),!re&&B),i),N.className,Oe),style:ve(ve(ve(ve({},N.style),ze),be),De),onMouseEnter:Re,onMouseLeave:We,ref:uye(y)?e:null});return v.exports.createElement(y,Ve,I,se)}var iW=v.exports.forwardRef(dye);iW.displayName="Cell";var fye=["expanded","className","hovering"],hye=v.exports.memo(iW,function(t,e){return e.shouldCellUpdate?fye.every(function(n){return t[n]===e[n]})&&!e.shouldCellUpdate(e.record,t.record):ty(t,e)}),ay=v.exports.forwardRef(function(t,e){var n=v.exports.useContext(nW),r=n.onHover,i=n.startRow,o=n.endRow,a=t.index,s=t.additionalProps,l=s===void 0?{}:s,u=t.colSpan,c=t.rowSpan,h=l.colSpan,f=l.rowSpan,m=u!=null?u:h,y=c!=null?c:f,x=sye(a,y||1,i,o);return v.exports.createElement(hye,Se({},t,{colSpan:m,rowSpan:y,hovering:x,ref:e,onHover:r}))});ay.displayName="WrappedCell";var Ql=v.exports.createContext(null);function CO(t,e,n,r,i){var o=n[t]||{},a=n[e]||{},s,l;o.fixed==="left"?s=r.left[t]:a.fixed==="right"&&(l=r.right[e]);var u=!1,c=!1,h=!1,f=!1,m=n[e+1],y=n[t-1];if(i==="rtl"){if(s!==void 0){var x=y&&y.fixed==="left";f=!x}else if(l!==void 0){var b=m&&m.fixed==="right";h=!b}}else if(s!==void 0){var w=m&&m.fixed==="left";u=!w}else if(l!==void 0){var S=y&&y.fixed==="right";c=!S}return{fixLeft:s,fixRight:l,lastFixLeft:u,firstFixRight:c,lastFixRight:h,firstFixLeft:f,isSticky:r.isSticky}}function oW(t){var e=t.cells,n=t.stickyOffsets,r=t.flattenColumns,i=t.rowComponent,o=t.cellComponent,a=t.onHeaderRow,s=t.index,l=v.exports.useContext(Ql),u=l.prefixCls,c=l.direction,h;a&&(h=a(e.map(function(m){return m.column}),s));var f=hS(e.map(function(m){return m.column}));return v.exports.createElement(i,h,e.map(function(m,y){var x=m.column,b=CO(m.colStart,m.colEnd,r,n,c),w;return x&&x.onHeaderCell&&(w=m.column.onHeaderCell(x)),v.exports.createElement(ay,Se({},m,{ellipsis:x.ellipsis,align:x.align,component:o,prefixCls:u,key:f[y]},b,{additionalProps:w,rowType:"header"}))}))}oW.displayName="HeaderRow";function pye(t){var e=[];function n(a,s){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;e[l]=e[l]||[];var u=s,c=a.filter(Boolean).map(function(h){var f={key:h.key,className:h.className||"",children:h.title,column:h,colStart:u},m=1,y=h.children;return y&&y.length>0&&(m=n(y,u,l+1).reduce(function(x,b){return x+b},0),f.hasSubColumns=!0),"colSpan"in h&&(m=h.colSpan),"rowSpan"in h&&(f.rowSpan=h.rowSpan),f.colSpan=m,f.colEnd=f.colStart+m-1,e[l].push(f),u+=m,m});return c}n(t,0);for(var r=e.length,i=function(s){e[s].forEach(function(l){!("rowSpan"in l)&&!l.hasSubColumns&&(l.rowSpan=r-s)})},o=0;o<r;o+=1)i(o);return e}function yF(t){var e=t.stickyOffsets,n=t.columns,r=t.flattenColumns,i=t.onHeaderRow,o=v.exports.useContext(Ql),a=o.prefixCls,s=o.getComponent,l=v.exports.useMemo(function(){return pye(n)},[n]),u=s(["header","wrapper"],"thead"),c=s(["header","row"],"tr"),h=s(["header","cell"],"th");return v.exports.createElement(u,{className:"".concat(a,"-thead")},l.map(function(f,m){var y=v.exports.createElement(oW,{key:m,flattenColumns:r,cells:f,stickyOffsets:e,rowComponent:c,cellComponent:h,onHeaderRow:i,index:m});return y}))}var EO=v.exports.createContext(null),aW=v.exports.createContext(null);function sW(t){var e=t.prefixCls,n=t.children,r=t.component,i=t.cellComponent,o=t.className,a=t.expanded,s=t.colSpan,l=t.isEmpty,u=v.exports.useContext(Ql),c=u.scrollbarSize,h=v.exports.useContext(aW),f=h.fixHeader,m=h.fixColumn,y=h.componentWidth,x=h.horizonScroll;return v.exports.useMemo(function(){var b=n;return(l?x:m)&&(b=v.exports.createElement("div",{style:{width:y-(f?c:0),position:"sticky",left:0,overflow:"hidden"},className:"".concat(e,"-expanded-row-fixed")},b)),v.exports.createElement(r,{className:o,style:{display:a?null:"none"}},v.exports.createElement(ay,{component:i,prefixCls:e,colSpan:s},b))},[n,r,o,a,s,l,c,y,m,f,x])}var lW=v.exports.createContext(null);function uW(t){var e=t.className,n=t.style,r=t.record,i=t.index,o=t.renderIndex,a=t.rowKey,s=t.rowExpandable,l=t.expandedKeys,u=t.onRow,c=t.indent,h=c===void 0?0:c,f=t.rowComponent,m=t.cellComponent,y=t.childrenColumnName,x=v.exports.useContext(Ql),b=x.prefixCls,w=x.fixedInfoList,S=v.exports.useContext(EO),C=S.flattenColumns,M=S.expandableType,T=S.expandRowByClick,R=S.onTriggerExpand,I=S.rowClassName,A=S.expandedRowClassName,N=S.indentSize,L=S.expandIcon,D=S.expandedRowRender,W=S.expandIconColumnIndex,V=v.exports.useState(!1),B=$e(V,2),K=B[0],j=B[1],G=l&&l.has(t.recordKey);v.exports.useEffect(function(){G&&j(!0)},[G]);var H=M==="row"&&(!s||s(r)),Y=M==="nest",Z=y&&r&&r[y],oe=H||Y,re=v.exports.useRef(R);re.current=R;var se=function(){re.current.apply(re,arguments)},ce;u&&(ce=u(r,i));var ye=function(Ce){var Me,ze;T&&oe&&se(r,Ce);for(var Re=arguments.length,We=new Array(Re>1?Re-1:0),Ue=1;Ue<Re;Ue++)We[Ue-1]=arguments[Ue];(Me=ce)===null||Me===void 0||(ze=Me.onClick)===null||ze===void 0||ze.call.apply(ze,[Me,Ce].concat(We))},fe;typeof I=="string"?fe=I:typeof I=="function"&&(fe=I(r,i,h));var De=hS(C),Oe=v.exports.createElement(f,Se({},ce,{"data-row-key":a,className:Xe(e,"".concat(b,"-row"),"".concat(b,"-row-level-").concat(h),fe,ce&&ce.className),style:ve(ve({},n),ce?ce.style:null),onClick:ye}),C.map(function(be,Ce){var Me=be.render,ze=be.dataIndex,Re=be.className,We=De[Ce],Ue=w[Ce],Ve;Ce===(W||0)&&Y&&(Ve=v.exports.createElement(v.exports.Fragment,null,v.exports.createElement("span",{style:{paddingLeft:"".concat(N*h,"px")},className:"".concat(b,"-row-indent indent-level-").concat(h)}),L({prefixCls:b,expanded:G,expandable:Z,record:r,onExpand:se})));var Be;return be.onCell&&(Be=be.onCell(r,i)),v.exports.createElement(ay,Se({className:Re,ellipsis:be.ellipsis,align:be.align,component:m,prefixCls:b,key:We,record:r,index:i,renderIndex:o,dataIndex:ze,render:Me,shouldCellUpdate:be.shouldCellUpdate,expanded:Ve&&G},Ue,{appendNode:Ve,additionalProps:Be}))})),Fe;if(H&&(K||G)){var Ee=D(r,i,h+1,G),Ye=A&&A(r,i,h);Fe=v.exports.createElement(sW,{expanded:G,className:Xe("".concat(b,"-expanded-row"),"".concat(b,"-expanded-row-level-").concat(h+1),Ye),prefixCls:b,component:f,cellComponent:m,colSpan:C.length,isEmpty:!1},Ee)}return v.exports.createElement(v.exports.Fragment,null,Oe,Fe)}uW.displayName="BodyRow";function cW(t,e,n,r,i,o){var a=[];a.push({record:t,indent:e,index:o});var s=i(t),l=r==null?void 0:r.has(s);if(t&&Array.isArray(t[n])&&l)for(var u=0;u<t[n].length;u+=1){var c=cW(t[n][u],e+1,n,r,i,u);a.push.apply(a,mt(c))}return a}function mye(t,e,n,r){var i=v.exports.useMemo(function(){if(n!=null&&n.size){for(var o=[],a=0;a<(t==null?void 0:t.length);a+=1){var s=t[a];o.push.apply(o,mt(cW(s,0,e,n,r,a)))}return o}return t==null?void 0:t.map(function(l,u){return{record:l,indent:0,index:u}})},[t,e,n,r]);return i}function vye(t){var e=t.columnKey,n=t.onColumnResize,r=v.exports.useRef();return v.exports.useEffect(function(){r.current&&n(e,r.current.offsetWidth)},[]),v.exports.createElement($l,{data:e},v.exports.createElement("td",{ref:r,style:{padding:0,border:0,height:0}},v.exports.createElement("div",{style:{height:0,overflow:"hidden"}},"\xA0")))}function gye(t){var e=t.prefixCls,n=t.columnsKey,r=t.onColumnResize;return v.exports.createElement("tr",{"aria-hidden":"true",className:"".concat(e,"-measure-row"),style:{height:0,fontSize:0}},v.exports.createElement($l.Collection,{onBatchResize:function(o){o.forEach(function(a){var s=a.data,l=a.size;r(s,l.offsetWidth)})}},n.map(function(i){return v.exports.createElement(vye,{key:i,columnKey:i,onColumnResize:r})})))}function yye(t){var e=t.data,n=t.getRowKey,r=t.measureColumnWidth,i=t.expandedKeys,o=t.onRow,a=t.rowExpandable,s=t.emptyNode,l=t.childrenColumnName,u=v.exports.useContext(lW),c=u.onColumnResize,h=v.exports.useContext(Ql),f=h.prefixCls,m=h.getComponent,y=v.exports.useContext(EO),x=y.flattenColumns,b=mye(e,l,i,n),w=v.exports.useRef({renderWithProps:!1}),S=v.exports.useState(-1),C=$e(S,2),M=C[0],T=C[1],R=v.exports.useState(-1),I=$e(R,2),A=I[0],N=I[1],L=v.exports.useCallback(function(V,B){T(V),N(B)},[]),D=v.exports.useMemo(function(){return{startRow:M,endRow:A,onHover:L}},[L,M,A]),W=v.exports.useMemo(function(){var V=m(["body","wrapper"],"tbody"),B=m(["body","row"],"tr"),K=m(["body","cell"],"td"),j;e.length?j=b.map(function(H,Y){var Z=H.record,oe=H.indent,re=H.index,se=n(Z,Y);return v.exports.createElement(uW,{key:se,rowKey:se,record:Z,recordKey:se,index:Y,renderIndex:re,rowComponent:B,cellComponent:K,expandedKeys:i,onRow:o,getRowKey:n,rowExpandable:a,childrenColumnName:l,indent:oe})}):j=v.exports.createElement(sW,{expanded:!0,className:"".concat(f,"-placeholder"),prefixCls:f,component:B,cellComponent:K,colSpan:x.length,isEmpty:!0},s);var G=hS(x);return v.exports.createElement(V,{className:"".concat(f,"-tbody")},r&&v.exports.createElement(gye,{prefixCls:f,columnsKey:G,onColumnResize:c}),j)},[e,f,o,r,i,n,m,s,x,l,c,a,b]);return v.exports.createElement(rW.Provider,{value:w.current},v.exports.createElement(nW.Provider,{value:D},W))}var dW=v.exports.memo(yye);dW.displayName="Body";var xye=["expandable"],Lg="RC_TABLE_INTERNAL_COL_DEFINE";function bye(t){var e=t.expandable,n=_n(t,xye),r;return"expandable"in t?r=ve(ve({},n),e):r=n,r.showExpandColumn===!1&&(r.expandIconColumnIndex=-1),r}var pf={},wye=["children"],_ye=["fixed"];function MO(t){return cl(t).filter(function(e){return v.exports.isValidElement(e)}).map(function(e){var n=e.key,r=e.props,i=r.children,o=_n(r,wye),a=ve({key:n},o);return i&&(a.children=MO(i)),a})}function rA(t){return t.reduce(function(e,n){var r=n.fixed,i=r===!0?"left":r,o=n.children;return o&&o.length>0?[].concat(mt(e),mt(rA(o).map(function(a){return ve({fixed:i},a)}))):[].concat(mt(e),[ve(ve({},n),{},{fixed:i})])},[])}function Sye(t){return t.map(function(e){var n=e.fixed,r=_n(e,_ye),i=n;return n==="left"?i="right":n==="right"&&(i="left"),ve({fixed:i},r)})}function Cye(t,e){var n=t.prefixCls,r=t.columns,i=t.children,o=t.expandable,a=t.expandedKeys,s=t.getRowKey,l=t.onTriggerExpand,u=t.expandIcon,c=t.rowExpandable,h=t.expandIconColumnIndex,f=t.direction,m=t.expandRowByClick,y=t.columnWidth,x=t.fixed,b=v.exports.useMemo(function(){return r||MO(i)},[r,i]),w=v.exports.useMemo(function(){if(o){var M,T=b.slice();if(!T.includes(pf)){var R=h||0;R>=0&&T.splice(R,0,pf)}var I=T.indexOf(pf);T=T.filter(function(D,W){return D!==pf||W===I});var A=b[I],N;(x==="left"||x)&&!h?N="left":(x==="right"||x)&&h===b.length?N="right":N=A?A.fixed:null;var L=(M={},ue(M,Lg,{className:"".concat(n,"-expand-icon-col"),columnType:"EXPAND_COLUMN"}),ue(M,"title",""),ue(M,"fixed",N),ue(M,"className","".concat(n,"-row-expand-icon-cell")),ue(M,"width",y),ue(M,"render",function(W,V,B){var K=s(V,B),j=a.has(K),G=c?c(V):!0,H=u({prefixCls:n,expanded:j,expandable:G,record:V,onExpand:l});return m?v.exports.createElement("span",{onClick:function(Z){return Z.stopPropagation()}},H):H}),M);return T.map(function(D){return D===pf?L:D})}return b.filter(function(D){return D!==pf})},[o,b,s,a,u,f]),S=v.exports.useMemo(function(){var M=w;return e&&(M=e(M)),M.length||(M=[{render:function(){return null}}]),M},[e,w,f]),C=v.exports.useMemo(function(){return f==="rtl"?Sye(rA(S)):rA(S)},[S,f]);return[S,C]}function fW(t){var e=v.exports.useRef(t),n=v.exports.useState({}),r=$e(n,2),i=r[1],o=v.exports.useRef(null),a=v.exports.useRef([]);function s(l){a.current.push(l);var u=Promise.resolve();o.current=u,u.then(function(){if(o.current===u){var c=a.current,h=e.current;a.current=[],c.forEach(function(f){e.current=f(e.current)}),o.current=null,h!==e.current&&i({})}})}return v.exports.useEffect(function(){return function(){o.current=null}},[]),[e.current,s]}function Eye(t){var e=v.exports.useRef(t||null),n=v.exports.useRef();function r(){window.clearTimeout(n.current)}function i(a){e.current=a,r(),n.current=window.setTimeout(function(){e.current=null,n.current=void 0},100)}function o(){return e.current}return v.exports.useEffect(function(){return r},[]),[i,o]}function Mye(t,e,n){var r=v.exports.useMemo(function(){for(var i=[],o=[],a=0,s=0,l=0;l<e;l+=1)if(n==="rtl"){o[l]=s,s+=t[l]||0;var u=e-l-1;i[u]=a,a+=t[u]||0}else{i[l]=a,a+=t[l]||0;var c=e-l-1;o[c]=s,s+=t[c]||0}return{left:i,right:o}},[t,e,n]);return r}var Tye=["columnType"];function hW(t){for(var e=t.colWidths,n=t.columns,r=t.columCount,i=[],o=r||n.length,a=!1,s=o-1;s>=0;s-=1){var l=e[s],u=n&&n[s],c=u&&u[Lg];if(l||c||a){var h=c||{};h.columnType;var f=_n(h,Tye);i.unshift(v.exports.createElement("col",Se({key:s,style:{width:l}},f))),a=!0}}return v.exports.createElement("colgroup",null,i)}function xF(t){var e=t.className,n=t.children;return v.exports.createElement("div",{className:e},n)}var pW=v.exports.createContext({});function Pye(t){var e=t.className,n=t.index,r=t.children,i=t.colSpan,o=i===void 0?1:i,a=t.rowSpan,s=t.align,l=v.exports.useContext(Ql),u=l.prefixCls,c=l.direction,h=v.exports.useContext(pW),f=h.scrollColumnIndex,m=h.stickyOffsets,y=h.flattenColumns,x=n+o-1,b=x+1===f?o+1:o,w=CO(n,n+b-1,y,m,c);return v.exports.createElement(ay,Se({className:e,index:n,component:"td",prefixCls:u,record:null,dataIndex:null,align:s,colSpan:b,rowSpan:a,render:function(){return r}},w))}var Aye=["children"];function Rye(t){var e=t.children,n=_n(t,Aye);return v.exports.createElement("tr",n,e)}function pS(t){var e=t.children;return e}pS.Row=Rye;pS.Cell=Pye;function db(t){var e=t.children,n=t.stickyOffsets,r=t.flattenColumns,i=v.exports.useContext(Ql),o=i.prefixCls,a=r.length-1,s=r[a],l=v.exports.useMemo(function(){return{stickyOffsets:n,flattenColumns:r,scrollColumnIndex:s!=null&&s.scrollbar?a:null}},[s,r,a,n]);return v.exports.createElement(pW.Provider,{value:l},v.exports.createElement("tfoot",{className:"".concat(o,"-summary")},e))}var mW=pS;function Oye(t){var e,n=t.prefixCls,r=t.record,i=t.onExpand,o=t.expanded,a=t.expandable,s="".concat(n,"-row-expand-icon");if(!a)return v.exports.createElement("span",{className:Xe(s,"".concat(n,"-row-spaced"))});var l=function(c){i(r,c),c.stopPropagation()};return v.exports.createElement("span",{className:Xe(s,(e={},ue(e,"".concat(n,"-row-expanded"),o),ue(e,"".concat(n,"-row-collapsed"),!o),e)),onClick:l})}function Nye(t,e,n){var r=[];function i(o){(o||[]).forEach(function(a,s){r.push(e(a,s)),i(a[n])})}return i(t),r}var kye=function(e,n){var r,i,o=e.scrollBodyRef,a=e.onScroll,s=e.offsetScroll,l=e.container,u=v.exports.useContext(Ql),c=u.prefixCls,h=((r=o.current)===null||r===void 0?void 0:r.scrollWidth)||0,f=((i=o.current)===null||i===void 0?void 0:i.clientWidth)||0,m=h&&f*(f/h),y=v.exports.useRef(),x=fW({scrollLeft:0,isHiddenScrollBar:!1}),b=$e(x,2),w=b[0],S=b[1],C=v.exports.useRef({delta:0,x:0}),M=v.exports.useState(!1),T=$e(M,2),R=T[0],I=T[1],A=function(){I(!1)},N=function(B){B.persist(),C.current.delta=B.pageX-w.scrollLeft,C.current.x=0,I(!0),B.preventDefault()},L=function(B){var K,j=B||((K=window)===null||K===void 0?void 0:K.event),G=j.buttons;if(!R||G===0){R&&I(!1);return}var H=C.current.x+B.pageX-C.current.x-C.current.delta;H<=0&&(H=0),H+m>=f&&(H=f-m),a({scrollLeft:H/f*(h+2)}),C.current.x=B.pageX},D=function(){if(!!o.current){var B=vF(o.current).top,K=B+o.current.offsetHeight,j=l===window?document.documentElement.scrollTop+window.innerHeight:vF(l).top+l.clientHeight;K-eA()<=j||B>=j-s?S(function(G){return ve(ve({},G),{},{isHiddenScrollBar:!0})}):S(function(G){return ve(ve({},G),{},{isHiddenScrollBar:!1})})}},W=function(B){S(function(K){return ve(ve({},K),{},{scrollLeft:B/h*f||0})})};return v.exports.useImperativeHandle(n,function(){return{setScrollLeft:W}}),v.exports.useEffect(function(){var V=ju(document.body,"mouseup",A,!1),B=ju(document.body,"mousemove",L,!1);return D(),function(){V.remove(),B.remove()}},[m,R]),v.exports.useEffect(function(){var V=ju(l,"scroll",D,!1),B=ju(window,"resize",D,!1);return function(){V.remove(),B.remove()}},[l]),v.exports.useEffect(function(){w.isHiddenScrollBar||S(function(V){var B=o.current;return B?ve(ve({},V),{},{scrollLeft:B.scrollLeft/B.scrollWidth*B.clientWidth}):V})},[w.isHiddenScrollBar]),h<=f||!m||w.isHiddenScrollBar?null:v.exports.createElement("div",{style:{height:eA(),width:f,bottom:s},className:"".concat(c,"-sticky-scroll")},v.exports.createElement("div",{onMouseDown:N,ref:y,className:Xe("".concat(c,"-sticky-scroll-bar"),ue({},"".concat(c,"-sticky-scroll-bar-active"),R)),style:{width:"".concat(m,"px"),transform:"translate3d(".concat(w.scrollLeft,"px, 0, 0)")}}))},Iye=v.exports.forwardRef(kye),bF=pl()?window:null;function Lye(t,e){var n=un(t)==="object"?t:{},r=n.offsetHeader,i=r===void 0?0:r,o=n.offsetSummary,a=o===void 0?0:o,s=n.offsetScroll,l=s===void 0?0:s,u=n.getContainer,c=u===void 0?function(){return bF}:u,h=c()||bF;return v.exports.useMemo(function(){var f=!!t;return{isSticky:f,stickyClassName:f?"".concat(e,"-sticky-holder"):"",offsetHeader:i,offsetSummary:a,offsetScroll:l,container:h}},[l,i,a,e,h])}var Dye=["className","noData","columns","flattenColumns","colWidths","columCount","stickyOffsets","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName","onScroll","maxContentScroll","children"];function Fye(t,e){return v.exports.useMemo(function(){for(var n=[],r=0;r<e;r+=1){var i=t[r];if(i!==void 0)n[r]=i;else return null}return n},[t.join("_"),e])}var iA=v.exports.forwardRef(function(t,e){var n=t.className,r=t.noData,i=t.columns,o=t.flattenColumns,a=t.colWidths,s=t.columCount,l=t.stickyOffsets,u=t.direction,c=t.fixHeader,h=t.stickyTopOffset,f=t.stickyBottomOffset,m=t.stickyClassName,y=t.onScroll,x=t.maxContentScroll,b=t.children,w=_n(t,Dye),S=v.exports.useContext(Ql),C=S.prefixCls,M=S.scrollbarSize,T=S.isSticky,R=T&&!c?0:M,I=v.exports.useRef(null),A=v.exports.useCallback(function(j){m_(e,j),m_(I,j)},[]);v.exports.useEffect(function(){var j;function G(H){var Y=H.currentTarget,Z=H.deltaX;Z&&(y({currentTarget:Y,scrollLeft:Y.scrollLeft+Z}),H.preventDefault())}return(j=I.current)===null||j===void 0||j.addEventListener("wheel",G),function(){var H;(H=I.current)===null||H===void 0||H.removeEventListener("wheel",G)}},[]);var N=v.exports.useMemo(function(){return o.every(function(j){return j.width>=0})},[o]),L=o[o.length-1],D={fixed:L?L.fixed:null,scrollbar:!0,onHeaderCell:function(){return{className:"".concat(C,"-cell-scrollbar")}}},W=v.exports.useMemo(function(){return R?[].concat(mt(i),[D]):i},[R,i]),V=v.exports.useMemo(function(){return R?[].concat(mt(o),[D]):o},[R,o]),B=v.exports.useMemo(function(){var j=l.right,G=l.left;return ve(ve({},l),{},{left:u==="rtl"?[].concat(mt(G.map(function(H){return H+R})),[0]):G,right:u==="rtl"?j:[].concat(mt(j.map(function(H){return H+R})),[0]),isSticky:T})},[R,l,T]),K=Fye(a,s);return v.exports.createElement("div",{style:ve({overflow:"hidden"},T?{top:h,bottom:f}:{}),ref:A,className:Xe(n,ue({},m,!!m))},v.exports.createElement("table",{style:{tableLayout:"fixed",visibility:r||K?null:"hidden"}},(!r||!x||N)&&v.exports.createElement(hW,{colWidths:K?[].concat(mt(K),[R]):[],columCount:s+1,columns:V}),b(ve(ve({},w),{},{stickyOffsets:B,columns:W,flattenColumns:V}))))});iA.displayName="FixedHolder";var zye=[],Bye={},Nw="rc-table-internal-hook",Vye=v.exports.memo(function(t){var e=t.children;return e},function(t,e){return ty(t.props,e.props)?t.pingLeft!==e.pingLeft||t.pingRight!==e.pingRight:!1});function ih(t){var e,n=t.prefixCls,r=t.className,i=t.rowClassName,o=t.style,a=t.data,s=t.rowKey,l=t.scroll,u=t.tableLayout,c=t.direction,h=t.title,f=t.footer,m=t.summary,y=t.id,x=t.showHeader,b=t.components,w=t.emptyText,S=t.onRow,C=t.onHeaderRow,M=t.internalHooks,T=t.transformColumns,R=t.internalRefs,I=t.sticky,A=a||zye,N=!!A.length,L=v.exports.useMemo(function(){return oye(b,{})},[b]),D=v.exports.useCallback(function(Cn,Fn){return eW(L,Cn)||Fn},[L]),W=v.exports.useMemo(function(){return typeof s=="function"?s:function(Cn){var Fn=Cn&&Cn[s];return Fn}},[s]),V=bye(t),B=V.expandIcon,K=V.expandedRowKeys,j=V.defaultExpandedRowKeys,G=V.defaultExpandAllRows,H=V.expandedRowRender,Y=V.onExpand,Z=V.onExpandedRowsChange,oe=V.expandRowByClick,re=V.rowExpandable,se=V.expandIconColumnIndex,ce=V.expandedRowClassName,ye=V.childrenColumnName,fe=V.indentSize,De=B||Oye,Oe=ye||"children",Fe=v.exports.useMemo(function(){return H?"row":t.expandable&&M===Nw&&t.expandable.__PARENT_RENDER_ICON__||A.some(function(Cn){return Cn&&un(Cn)==="object"&&Cn[Oe]})?"nest":!1},[!!H,A]),Ee=v.exports.useState(function(){return j||(G?Nye(A,W,Oe):[])}),Ye=$e(Ee,2),be=Ye[0],Ce=Ye[1],Me=v.exports.useMemo(function(){return new Set(K||be||[])},[K,be]),ze=v.exports.useCallback(function(Cn){var Fn=W(Cn,A.indexOf(Cn)),hr,pi=Me.has(Fn);pi?(Me.delete(Fn),hr=mt(Me)):hr=[].concat(mt(Me),[Fn]),Ce(hr),Y&&Y(!pi,Cn),Z&&Z(hr)},[W,Me,A,Y,Z]),Re=v.exports.useState(0),We=$e(Re,2),Ue=We[0],Ve=We[1],Be=Cye(ve(ve(ve({},t),V),{},{expandable:!!H,expandedKeys:Me,getRowKey:W,onTriggerExpand:ze,expandIcon:De,expandIconColumnIndex:se,direction:c}),M===Nw?T:null),qe=$e(Be,2),te=qe[0],k=qe[1],$=v.exports.useMemo(function(){return{columns:te,flattenColumns:k}},[te,k]),U=v.exports.useRef(),ne=v.exports.useRef(),ge=v.exports.useRef(),me=v.exports.useRef(),Q=v.exports.useState(!1),_e=$e(Q,2),ke=_e[0],we=_e[1],de=v.exports.useState(!1),je=$e(de,2),Ze=je[0],vt=je[1],ot=fW(new Map),ht=$e(ot,2),at=ht[0],Mt=ht[1],Ct=hS(k),Ft=Ct.map(function(Cn){return at.get(Cn)}),$t=v.exports.useMemo(function(){return Ft},[Ft.join("_")]),An=Mye($t,k.length,c),xt=l&&nA(l.y),Et=l&&nA(l.x)||Boolean(V.fixed),it=Et&&k.some(function(Cn){var Fn=Cn.fixed;return Fn}),rt=v.exports.useRef(),ft=Lye(I,n),bt=ft.isSticky,Yt=ft.offsetHeader,Sn=ft.offsetSummary,he=ft.offsetScroll,Ae=ft.stickyClassName,Ge=ft.container,Ie=m==null?void 0:m(A),Je=(xt||bt)&&v.exports.isValidElement(Ie)&&Ie.type===pS&&Ie.props.fixed,Rt,Dt,Pt;xt&&(Dt={overflowY:"scroll",maxHeight:l.y}),Et&&(Rt={overflowX:"auto"},xt||(Dt={overflowY:"hidden"}),Pt={width:(l==null?void 0:l.x)===!0?"auto":l==null?void 0:l.x,minWidth:"100%"});var zt=v.exports.useCallback(function(Cn,Fn){U3(U.current)&&Mt(function(hr){if(hr.get(Cn)!==Fn){var pi=new Map(hr);return pi.set(Cn,Fn),pi}return hr})},[]),sn=Eye(null),Kt=$e(sn,2),cn=Kt[0],gt=Kt[1];function Tt(Cn,Fn){!Fn||(typeof Fn=="function"?Fn(Cn):Fn.scrollLeft!==Cn&&(Fn.scrollLeft=Cn))}var qt=function(Fn){var hr=Fn.currentTarget,pi=Fn.scrollLeft,uu=c==="rtl",mo=typeof pi=="number"?pi:hr.scrollLeft,fc=hr||Bye;if(!gt()||gt()===fc){var Ls;cn(fc),Tt(mo,ne.current),Tt(mo,ge.current),Tt(mo,me.current),Tt(mo,(Ls=rt.current)===null||Ls===void 0?void 0:Ls.setScrollLeft)}if(hr){var gl=hr.scrollWidth,yl=hr.clientWidth;if(gl===yl)return;uu?(we(-mo<gl-yl),vt(-mo>0)):(we(mo>0),vt(mo<gl-yl))}},Dn=function(){Et&&ge.current?qt({currentTarget:ge.current}):(we(!1),vt(!1))},rn=function(Fn){var hr=Fn.width;hr!==Ue&&(Dn(),Ve(U.current?U.current.offsetWidth:hr))},Nt=v.exports.useRef(!1);v.exports.useEffect(function(){Nt.current&&Dn()},[Et,a,te.length]),v.exports.useEffect(function(){Nt.current=!0},[]);var ur=v.exports.useState(0),vn=$e(ur,2),dr=vn[0],Or=vn[1],Ci=v.exports.useState(!0),hi=$e(Ci,2),tn=hi[0],hn=hi[1];v.exports.useEffect(function(){Or(Qge(ge.current).width),hn(hge("position","sticky"))},[]),v.exports.useEffect(function(){M===Nw&&R&&(R.body.current=ge.current)});var Rn=D(["table"],"table"),At=v.exports.useMemo(function(){return u||(it?(l==null?void 0:l.x)==="max-content"?"auto":"fixed":xt||bt||k.some(function(Cn){var Fn=Cn.ellipsis;return Fn})?"fixed":"auto")},[xt,it,k,u,bt]),Zt,br={colWidths:$t,columCount:k.length,stickyOffsets:An,onHeaderRow:C,fixHeader:xt,scroll:l},Nr=v.exports.useMemo(function(){return N?null:typeof w=="function"?w():w},[N,w]),Yn=v.exports.createElement(dW,{data:A,measureColumnWidth:xt||Et||bt,expandedKeys:Me,rowExpandable:re,getRowKey:W,onRow:S,emptyNode:Nr,childrenColumnName:Oe}),fr=v.exports.createElement(hW,{colWidths:k.map(function(Cn){var Fn=Cn.width;return Fn}),columns:k}),$r=D(["body"]);if(xt||bt){var Tr;typeof $r=="function"?(Tr=$r(A,{scrollbarSize:dr,ref:ge,onScroll:qt}),br.colWidths=k.map(function(Cn,Fn){var hr=Cn.width,pi=Fn===te.length-1?hr-dr:hr;return typeof pi=="number"&&!Number.isNaN(pi)?pi:(Hi(!1,"When use `components.body` with render props. Each column should have a fixed `width` value."),0)})):Tr=v.exports.createElement("div",{style:ve(ve({},Rt),Dt),onScroll:qt,ref:ge,className:Xe("".concat(n,"-body"))},v.exports.createElement(Rn,{style:ve(ve({},Pt),{},{tableLayout:At})},fr,Yn,!Je&&Ie&&v.exports.createElement(db,{stickyOffsets:An,flattenColumns:k},Ie)));var Kr=ve(ve(ve({noData:!A.length,maxContentScroll:Et&&l.x==="max-content"},br),$),{},{direction:c,stickyClassName:Ae,onScroll:qt});Zt=v.exports.createElement(v.exports.Fragment,null,x!==!1&&v.exports.createElement(iA,Se({},Kr,{stickyTopOffset:Yt,className:"".concat(n,"-header"),ref:ne}),function(Cn){return v.exports.createElement(v.exports.Fragment,null,v.exports.createElement(yF,Cn),Je==="top"&&v.exports.createElement(db,Cn,Ie))}),Tr,Je&&Je!=="top"&&v.exports.createElement(iA,Se({},Kr,{stickyBottomOffset:Sn,className:"".concat(n,"-summary"),ref:me}),function(Cn){return v.exports.createElement(db,Cn,Ie)}),bt&&v.exports.createElement(Iye,{ref:rt,offsetScroll:he,scrollBodyRef:ge,onScroll:qt,container:Ge}))}else Zt=v.exports.createElement("div",{style:ve(ve({},Rt),Dt),className:Xe("".concat(n,"-content")),onScroll:qt,ref:ge},v.exports.createElement(Rn,{style:ve(ve({},Pt),{},{tableLayout:At})},fr,x!==!1&&v.exports.createElement(yF,Se({},br,$)),Yn,Ie&&v.exports.createElement(db,{stickyOffsets:An,flattenColumns:k},Ie)));var ho=Hf(t,{aria:!0,data:!0}),po=v.exports.createElement("div",Se({className:Xe(n,r,(e={},ue(e,"".concat(n,"-rtl"),c==="rtl"),ue(e,"".concat(n,"-ping-left"),ke),ue(e,"".concat(n,"-ping-right"),Ze),ue(e,"".concat(n,"-layout-fixed"),u==="fixed"),ue(e,"".concat(n,"-fixed-header"),xt),ue(e,"".concat(n,"-fixed-column"),it),ue(e,"".concat(n,"-scroll-horizontal"),Et),ue(e,"".concat(n,"-has-fix-left"),k[0]&&k[0].fixed),ue(e,"".concat(n,"-has-fix-right"),k[k.length-1]&&k[k.length-1].fixed==="right"),e)),style:o,id:y,ref:U},ho),v.exports.createElement(Vye,{pingLeft:ke,pingRight:Ze,props:ve(ve({},t),{},{stickyOffsets:An,mergedExpandedKeys:Me})},h&&v.exports.createElement(xF,{className:"".concat(n,"-title")},h(A)),v.exports.createElement("div",{className:"".concat(n,"-container")},Zt),f&&v.exports.createElement(xF,{className:"".concat(n,"-footer")},f(A))));Et&&(po=v.exports.createElement($l,{onResize:rn},po));var Ii=v.exports.useMemo(function(){return{prefixCls:n,getComponent:D,scrollbarSize:dr,direction:c,fixedInfoList:k.map(function(Cn,Fn){return CO(Fn,Fn,k,An,c)}),isSticky:bt}},[n,D,dr,c,k,An,c,bt]),au=v.exports.useMemo(function(){return ve(ve({},$),{},{tableLayout:At,rowClassName:i,expandedRowClassName:ce,expandIcon:De,expandableType:Fe,expandRowByClick:oe,expandedRowRender:H,onTriggerExpand:ze,expandIconColumnIndex:se,indentSize:fe})},[$,At,i,ce,De,Fe,oe,H,ze,se,fe]),su=v.exports.useMemo(function(){return{componentWidth:Ue,fixHeader:xt,fixColumn:it,horizonScroll:Et}},[Ue,xt,it,Et]),lu=v.exports.useMemo(function(){return{onColumnResize:zt}},[zt]);return v.exports.createElement(tW.Provider,{value:tn},v.exports.createElement(Ql.Provider,{value:Ii},v.exports.createElement(EO.Provider,{value:au},v.exports.createElement(aW.Provider,{value:su},v.exports.createElement(lW.Provider,{value:lu},po)))))}ih.EXPAND_COLUMN=pf;ih.Column=rye;ih.ColumnGroup=nye;ih.Summary=mW;ih.defaultProps={rowKey:"key",prefixCls:"rc-table",emptyText:function(){return"No Data"}};var Uye=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},vW=10;function Hye(t,e){var n={current:e.current,pageSize:e.pageSize},r=t&&un(t)==="object"?t:{};return Object.keys(r).forEach(function(i){var o=e[i];typeof o!="function"&&(n[i]=o)}),n}function Wye(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.forEach(function(i){i&&Object.keys(i).forEach(function(o){var a=i[o];a!==void 0&&(t[o]=a)})}),t}function jye(t,e,n){var r=e&&un(e)==="object"?e:{},i=r.total,o=i===void 0?0:i,a=Uye(r,["total"]),s=v.exports.useState(function(){return{current:"defaultCurrent"in a?a.defaultCurrent:1,pageSize:"defaultPageSize"in a?a.defaultPageSize:vW}}),l=$e(s,2),u=l[0],c=l[1],h=Wye(u,a,{total:o>0?o:t}),f=Math.ceil((o||t)/h.pageSize);h.current>f&&(h.current=f||1);var m=function(b,w){c({current:b!=null?b:1,pageSize:w||h.pageSize})},y=function(b,w){var S;e&&((S=e.onChange)===null||S===void 0||S.call(e,b,w)),m(b,w),n(b,w||(h==null?void 0:h.pageSize))};return e===!1?[{},function(){}]:[Se(Se({},h),{onChange:y}),m]}function Gye(t,e,n){var r=v.exports.useRef({});function i(o){if(!r.current||r.current.data!==t||r.current.childrenColumnName!==e||r.current.getRowKey!==n){let s=function(l){l.forEach(function(u,c){var h=n(u,c);a.set(h,u),u&&un(u)==="object"&&e in u&&s(u[e]||[])})};var a=new Map;s(t),r.current={data:t,childrenColumnName:e,kvMap:a,getRowKey:n}}return r.current.kvMap.get(o)}return[i]}var Xc={},oA="SELECT_ALL",aA="SELECT_INVERT",sA="SELECT_NONE",wF=[];function gW(t,e){var n=[];return(t||[]).forEach(function(r){n.push(r),r&&un(r)==="object"&&e in r&&(n=[].concat(mt(n),mt(gW(r[e],e))))}),n}function $ye(t,e){var n=t||{},r=n.preserveSelectedRowKeys,i=n.selectedRowKeys,o=n.defaultSelectedRowKeys,a=n.getCheckboxProps,s=n.onChange,l=n.onSelect,u=n.onSelectAll,c=n.onSelectInvert,h=n.onSelectNone,f=n.onSelectMultiple,m=n.columnWidth,y=n.type,x=n.selections,b=n.fixed,w=n.renderCell,S=n.hideSelectAll,C=n.checkStrictly,M=C===void 0?!0:C,T=e.prefixCls,R=e.data,I=e.pageData,A=e.getRecordByKey,N=e.getRowKey,L=e.expandType,D=e.childrenColumnName,W=e.locale,V=e.getPopupContainer,B=Ra(i||o||wF,{value:i}),K=$e(B,2),j=K[0],G=K[1],H=v.exports.useRef(new Map),Y=v.exports.useCallback(function(Ve){if(r){var Be=new Map;Ve.forEach(function(qe){var te=A(qe);!te&&H.current.has(qe)&&(te=H.current.get(qe)),Be.set(qe,te)}),H.current=Be}},[A,r]);v.exports.useEffect(function(){Y(j)},[j]);var Z=v.exports.useMemo(function(){return M?{keyEntities:null}:bO(R,{externalGetKey:N,childrenPropName:D})},[R,N,M,D]),oe=Z.keyEntities,re=v.exports.useMemo(function(){return gW(I,D)},[I,D]),se=v.exports.useMemo(function(){var Ve=new Map;return re.forEach(function(Be,qe){var te=N(Be,qe),k=(a?a(Be):null)||{};Ve.set(te,k)}),Ve},[re,N,a]),ce=v.exports.useCallback(function(Ve){var Be;return!!(!((Be=se.get(N(Ve)))===null||Be===void 0)&&Be.disabled)},[se,N]),ye=v.exports.useMemo(function(){if(M)return[j||[],[]];var Ve=Qp(j,!0,oe,ce),Be=Ve.checkedKeys,qe=Ve.halfCheckedKeys;return[Be||[],qe]},[j,M,oe,ce]),fe=$e(ye,2),De=fe[0],Oe=fe[1],Fe=v.exports.useMemo(function(){var Ve=y==="radio"?De.slice(0,1):De;return new Set(Ve)},[De,y]),Ee=v.exports.useMemo(function(){return y==="radio"?new Set:new Set(Oe)},[Oe,y]),Ye=v.exports.useState(null),be=$e(Ye,2),Ce=be[0],Me=be[1];v.exports.useEffect(function(){t||G(wF)},[!!t]);var ze=v.exports.useCallback(function(Ve){var Be,qe;Y(Ve),r?(Be=Ve,qe=Ve.map(function(te){return H.current.get(te)})):(Be=[],qe=[],Ve.forEach(function(te){var k=A(te);k!==void 0&&(Be.push(te),qe.push(k))})),G(Be),s==null||s(Be,qe)},[G,A,s,r]),Re=v.exports.useCallback(function(Ve,Be,qe,te){if(l){var k=qe.map(function($){return A($)});l(A(Ve),Be,k,te)}ze(qe)},[l,A,ze]),We=v.exports.useMemo(function(){if(!x||S)return null;var Ve=x===!0?[oA,aA,sA]:x;return Ve.map(function(Be){return Be===oA?{key:"all",text:W.selectionAll,onSelect:function(){ze(R.map(function(te,k){return N(te,k)}).filter(function(te){var k=se.get(te);return!(k!=null&&k.disabled)||Fe.has(te)}))}}:Be===aA?{key:"invert",text:W.selectInvert,onSelect:function(){var te=new Set(Fe);I.forEach(function($,U){var ne=N($,U),ge=se.get(ne);ge!=null&&ge.disabled||(te.has(ne)?te.delete(ne):te.add(ne))});var k=Array.from(te);c&&c(k),ze(k)}}:Be===sA?{key:"none",text:W.selectNone,onSelect:function(){h==null||h(),ze(Array.from(Fe).filter(function(te){var k=se.get(te);return k==null?void 0:k.disabled}))}}:Be})},[x,Fe,I,N,c,ze]),Ue=v.exports.useCallback(function(Ve){var Be;if(!t)return Ve.filter(function(xt){return xt!==Xc});var qe=mt(Ve),te=new Set(Fe),k=re.map(N).filter(function(xt){return!se.get(xt).disabled}),$=k.every(function(xt){return te.has(xt)}),U=k.some(function(xt){return te.has(xt)}),ne=function(){var Et=[];$?k.forEach(function(rt){te.delete(rt),Et.push(rt)}):k.forEach(function(rt){te.has(rt)||(te.add(rt),Et.push(rt))});var it=Array.from(te);u==null||u(!$,it.map(function(rt){return A(rt)}),Et.map(function(rt){return A(rt)})),ze(it)},ge;if(y!=="radio"){var me;if(We){var Q=v.exports.createElement(p9,{getPopupContainer:V,items:We.map(function(xt,Et){var it=xt.key,rt=xt.text,ft=xt.onSelect;return{key:it||Et,onClick:function(){ft==null||ft(k)},label:rt}})});me=v.exports.createElement("div",{className:"".concat(T,"-selection-extra")},v.exports.createElement(oO,{overlay:Q,getPopupContainer:V},v.exports.createElement("span",null,v.exports.createElement(kH,null))))}var _e=re.map(function(xt,Et){var it=N(xt,Et),rt=se.get(it)||{};return Se({checked:te.has(it)},rt)}).filter(function(xt){var Et=xt.disabled;return Et}),ke=!!_e.length&&_e.length===re.length,we=ke&&_e.every(function(xt){var Et=xt.checked;return Et}),de=ke&&_e.some(function(xt){var Et=xt.checked;return Et});ge=!S&&v.exports.createElement("div",{className:"".concat(T,"-selection")},v.exports.createElement(I_,{checked:ke?we:!!re.length&&$,indeterminate:ke?!we&&de:!$&&U,onChange:ne,disabled:re.length===0||ke,skipGroup:!0}),me)}var je;y==="radio"?je=function(Et,it,rt){var ft=N(it,rt),bt=te.has(ft);return{node:v.exports.createElement(x9,Se({},se.get(ft),{checked:bt,onClick:function(Sn){return Sn.stopPropagation()},onChange:function(Sn){te.has(ft)||Re(ft,!0,[ft],Sn.nativeEvent)}})),checked:bt}}:je=function(Et,it,rt){var ft,bt=N(it,rt),Yt=te.has(bt),Sn=Ee.has(bt),he=se.get(bt),Ae;return L==="nest"?Ae=Sn:Ae=(ft=he==null?void 0:he.indeterminate)!==null&&ft!==void 0?ft:Sn,{node:v.exports.createElement(I_,Se({},he,{indeterminate:Ae,checked:Yt,skipGroup:!0,onClick:function(Ie){return Ie.stopPropagation()},onChange:function(Ie){var Je=Ie.nativeEvent,Rt=Je.shiftKey,Dt=-1,Pt=-1;if(Rt&&M){var zt=new Set([Ce,bt]);k.some(function(vn,dr){if(zt.has(vn))if(Dt===-1)Dt=dr;else return Pt=dr,!0;return!1})}if(Pt!==-1&&Dt!==Pt&&M){var sn=k.slice(Dt,Pt+1),Kt=[];Yt?sn.forEach(function(vn){te.has(vn)&&(Kt.push(vn),te.delete(vn))}):sn.forEach(function(vn){te.has(vn)||(Kt.push(vn),te.add(vn))});var cn=Array.from(te);f==null||f(!Yt,cn.map(function(vn){return A(vn)}),Kt.map(function(vn){return A(vn)})),ze(cn)}else{var gt=De;if(M){var Tt=Yt?Nu(gt,bt):qc(gt,bt);Re(bt,!Yt,Tt,Je)}else{var qt=Qp([].concat(mt(gt),[bt]),!0,oe,ce),Dn=qt.checkedKeys,rn=qt.halfCheckedKeys,Nt=Dn;if(Yt){var ur=new Set(Dn);ur.delete(bt),Nt=Qp(Array.from(ur),{checked:!1,halfCheckedKeys:rn},oe,ce).checkedKeys}Re(bt,!Yt,Nt,Je)}}Me(bt)}})),checked:Yt}};var Ze=function(Et,it,rt){var ft=je(Et,it,rt),bt=ft.node,Yt=ft.checked;return w?w(Yt,it,rt,bt):bt};if(!qe.includes(Xc))if(qe.findIndex(function(xt){var Et;return((Et=xt[Lg])===null||Et===void 0?void 0:Et.columnType)==="EXPAND_COLUMN"})===0){var vt=qe,ot=A3(vt),ht=ot[0],at=ot.slice(1);qe=[ht,Xc].concat(mt(at))}else qe=[Xc].concat(mt(qe));var Mt=qe.indexOf(Xc);qe=qe.filter(function(xt,Et){return xt!==Xc||Et===Mt});var Ct=qe[Mt-1],Ft=qe[Mt+1],$t=b;$t===void 0&&((Ft==null?void 0:Ft.fixed)!==void 0?$t=Ft.fixed:(Ct==null?void 0:Ct.fixed)!==void 0&&($t=Ct.fixed)),$t&&Ct&&((Be=Ct[Lg])===null||Be===void 0?void 0:Be.columnType)==="EXPAND_COLUMN"&&Ct.fixed===void 0&&(Ct.fixed=$t);var An=ue({fixed:$t,width:m,className:"".concat(T,"-selection-column"),title:t.columnTitle||ge,render:Ze},Lg,{className:"".concat(T,"-selection-col")});return qe.map(function(xt){return xt===Xc?An:xt})},[N,re,t,De,Fe,Ee,m,We,L,Ce,se,f,Re,ce]);return[Ue,Fe]}var Kye={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"},qye=Kye,yW=function(e,n){return v.exports.createElement(xr,ve(ve({},e),{},{ref:n,icon:qye}))};yW.displayName="CaretDownOutlined";var Xye=v.exports.forwardRef(yW),Yye={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"},Zye=Yye,xW=function(e,n){return v.exports.createElement(xr,ve(ve({},e),{},{ref:n,icon:Zye}))};xW.displayName="CaretUpOutlined";var Jye=v.exports.forwardRef(xW);function mm(t,e){return"key"in t&&t.key!==void 0&&t.key!==null?t.key:t.dataIndex?Array.isArray(t.dataIndex)?t.dataIndex.join("."):t.dataIndex:e}function mS(t,e){return e?"".concat(e,"-").concat(t):"".concat(t)}function TO(t,e){return typeof t=="function"?t(e):t}var kw="ascend",QM="descend";function L_(t){return un(t.sorter)==="object"&&typeof t.sorter.multiple=="number"?t.sorter.multiple:!1}function _F(t){return typeof t=="function"?t:t&&un(t)==="object"&&t.compare?t.compare:!1}function Qye(t,e){return e?t[t.indexOf(e)+1]:t[0]}function lA(t,e,n){var r=[];function i(o,a){r.push({column:o,key:mm(o,a),multiplePriority:L_(o),sortOrder:o.sortOrder})}return(t||[]).forEach(function(o,a){var s=mS(a,n);o.children?("sortOrder"in o&&i(o,s),r=[].concat(mt(r),mt(lA(o.children,e,s)))):o.sorter&&("sortOrder"in o?i(o,s):e&&o.defaultSortOrder&&r.push({column:o,key:mm(o,s),multiplePriority:L_(o),sortOrder:o.defaultSortOrder}))}),r}function bW(t,e,n,r,i,o,a,s){return(e||[]).map(function(l,u){var c=mS(u,s),h=l;if(h.sorter){var f=h.sortDirections||i,m=h.showSorterTooltip===void 0?a:h.showSorterTooltip,y=mm(h,c),x=n.find(function(L){var D=L.key;return D===y}),b=x?x.sortOrder:null,w=Qye(f,b),S=f.includes(kw)&&v.exports.createElement(Jye,{className:Xe("".concat(t,"-column-sorter-up"),{active:b===kw})}),C=f.includes(QM)&&v.exports.createElement(Xye,{className:Xe("".concat(t,"-column-sorter-down"),{active:b===QM})}),M=o||{},T=M.cancelSort,R=M.triggerAsc,I=M.triggerDesc,A=T;w===QM?A=I:w===kw&&(A=R);var N=un(m)==="object"?m:{title:A};h=Se(Se({},h),{className:Xe(h.className,ue({},"".concat(t,"-column-sort"),b)),title:function(D){var W=v.exports.createElement("div",{className:"".concat(t,"-column-sorters")},v.exports.createElement("span",{className:"".concat(t,"-column-title")},TO(l.title,D)),v.exports.createElement("span",{className:Xe("".concat(t,"-column-sorter"),ue({},"".concat(t,"-column-sorter-full"),!!(S&&C)))},v.exports.createElement("span",{className:"".concat(t,"-column-sorter-inner")},S,C)));return m?v.exports.createElement(WH,N,W):W},onHeaderCell:function(D){var W=l.onHeaderCell&&l.onHeaderCell(D)||{},V=W.onClick,B=W.onKeyDown;return W.onClick=function(K){r({column:l,key:y,sortOrder:w,multiplePriority:L_(l)}),V==null||V(K)},W.onKeyDown=function(K){K.keyCode===st.ENTER&&(r({column:l,key:y,sortOrder:w,multiplePriority:L_(l)}),B==null||B(K))},b&&(b==="ascend"?W["aria-sort"]="ascending":W["aria-sort"]="descending"),W.className=Xe(W.className,"".concat(t,"-column-has-sorters")),W.tabIndex=0,W}})}return"children"in h&&(h=Se(Se({},h),{children:bW(t,h.children,n,r,i,o,a,c)})),h})}function SF(t){var e=t.column,n=t.sortOrder;return{column:e,order:n,field:e.dataIndex,columnKey:e.key}}function CF(t){var e=t.filter(function(n){var r=n.sortOrder;return r}).map(SF);return e.length===0&&t.length?Se(Se({},SF(t[t.length-1])),{column:void 0}):e.length<=1?e[0]||{}:e}function uA(t,e,n){var r=e.slice().sort(function(a,s){return s.multiplePriority-a.multiplePriority}),i=t.slice(),o=r.filter(function(a){var s=a.column.sorter,l=a.sortOrder;return _F(s)&&l});return o.length?i.sort(function(a,s){for(var l=0;l<o.length;l+=1){var u=o[l],c=u.column.sorter,h=u.sortOrder,f=_F(c);if(f&&h){var m=f(a,s,h);if(m!==0)return h===kw?m:-m}}return 0}).map(function(a){var s=a[n];return s?Se(Se({},a),ue({},n,uA(s,e,n))):a}):i}function exe(t){var e=t.prefixCls,n=t.mergedColumns,r=t.onSorterChange,i=t.sortDirections,o=t.tableLocale,a=t.showSorterTooltip,s=v.exports.useState(lA(n,!0)),l=$e(s,2),u=l[0],c=l[1],h=v.exports.useMemo(function(){var b=!0,w=lA(n,!1);if(!w.length)return u;var S=[];function C(T){b?S.push(T):S.push(Se(Se({},T),{sortOrder:null}))}var M=null;return w.forEach(function(T){M===null?(C(T),T.sortOrder&&(T.multiplePriority===!1?b=!1:M=!0)):(M&&T.multiplePriority!==!1||(b=!1),C(T))}),S},[n,u]),f=v.exports.useMemo(function(){var b=h.map(function(w){var S=w.column,C=w.sortOrder;return{column:S,order:C}});return{sortColumns:b,sortColumn:b[0]&&b[0].column,sortOrder:b[0]&&b[0].order}},[h]);function m(b){var w;b.multiplePriority===!1||!h.length||h[0].multiplePriority===!1?w=[b]:w=[].concat(mt(h.filter(function(S){var C=S.key;return C!==b.key})),[b]),c(w),r(CF(w),w)}var y=function(w){return bW(e,w,h,m,i,o,a)},x=function(){return CF(h)};return[y,h,f,x]}var txe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z"}}]},name:"filter",theme:"filled"},nxe=txe,wW=function(e,n){return v.exports.createElement(xr,ve(ve({},e),{},{ref:n,icon:nxe}))};wW.displayName="FilterFilled";var rxe=v.exports.forwardRef(wW),ixe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"},oxe=ixe,_W=function(e,n){return v.exports.createElement(xr,ve(ve({},e),{},{ref:n,icon:oxe}))};_W.displayName="HolderOutlined";var axe=v.exports.forwardRef(_W),sxe=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],SW=function(e,n){var r=e.className,i=e.style,o=e.motion,a=e.motionNodes,s=e.motionType,l=e.onMotionStart,u=e.onMotionEnd,c=e.active,h=e.treeNodeRequiredProps,f=_n(e,sxe),m=v.exports.useState(!0),y=$e(m,2),x=y[0],b=y[1],w=v.exports.useContext(yO),S=w.prefixCls,C=v.exports.useRef(!1),M=function(){C.current||u(),C.current=!0};return v.exports.useEffect(function(){a&&s==="hide"&&x&&b(!1)},[a]),v.exports.useEffect(function(){return a&&l(),function(){a&&M()}},[]),a?v.exports.createElement(rh,Se({ref:n,visible:x},o,{motionAppear:s==="show",onAppearEnd:M,onLeaveEnd:M}),function(T,R){var I=T.className,A=T.style;return v.exports.createElement("div",{ref:R,className:Xe("".concat(S,"-treenode-motion"),I),style:A},a.map(function(N){var L=Se({},N.data),D=N.title,W=N.key,V=N.isStart,B=N.isEnd;delete L.children;var K=k_(W,h);return v.exports.createElement(Wf,Se({},L,K,{title:D,active:c,data:N.data,key:W,isStart:V,isEnd:B}))}))}):v.exports.createElement(Wf,Se({domRef:n,className:r,style:i},f,{active:c}))};SW.displayName="MotionTreeNode";var lxe=v.exports.forwardRef(SW);function uxe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=t.length,r=e.length;if(Math.abs(n-r)!==1)return{add:!1,key:null};function i(o,a){var s=new Map;o.forEach(function(u){s.set(u,!0)});var l=a.filter(function(u){return!s.has(u)});return l.length===1?l[0]:null}return n<r?{add:!0,key:i(t,e)}:{add:!1,key:i(e,t)}}function EF(t,e,n){var r=t.findIndex(function(s){return s.key===n}),i=t[r+1],o=e.findIndex(function(s){return s.key===n});if(i){var a=e.findIndex(function(s){return s.key===i.key});return e.slice(o+1,a)}return e.slice(o+1)}var cxe=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],MF={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},dxe=function(){},jf="RC_TREE_MOTION_".concat(Math.random()),cA={key:jf},CW={key:jf,level:0,index:0,pos:"0",node:cA,nodes:[cA]},TF={parent:null,children:[],pos:CW.pos,data:cA,title:null,key:jf,isStart:[],isEnd:[]};function PF(t,e,n,r){return e===!1||!n?t:t.slice(0,Math.ceil(n/r)+1)}function AF(t){var e=t.key,n=t.pos;return iy(e,n)}function fxe(t){for(var e=String(t.data.key),n=t;n.parent;)n=n.parent,e="".concat(n.data.key," > ").concat(e);return e}var hxe=function(e,n){var r=e.prefixCls,i=e.data;e.selectable,e.checkable;var o=e.expandedKeys,a=e.selectedKeys,s=e.checkedKeys,l=e.loadedKeys,u=e.loadingKeys,c=e.halfCheckedKeys,h=e.keyEntities,f=e.disabled,m=e.dragging,y=e.dragOverNodeKey,x=e.dropPosition,b=e.motion,w=e.height,S=e.itemHeight,C=e.virtual,M=e.focusable,T=e.activeItem,R=e.focused,I=e.tabIndex,A=e.onKeyDown,N=e.onFocus,L=e.onBlur,D=e.onActiveChange,W=e.onListChangeStart,V=e.onListChangeEnd,B=_n(e,cxe),K=v.exports.useRef(null),j=v.exports.useRef(null);v.exports.useImperativeHandle(n,function(){return{scrollTo:function(qe){K.current.scrollTo(qe)},getIndentWidth:function(){return j.current.offsetWidth}}});var G=v.exports.useState(o),H=$e(G,2),Y=H[0],Z=H[1],oe=v.exports.useState(i),re=$e(oe,2),se=re[0],ce=re[1],ye=v.exports.useState(i),fe=$e(ye,2),De=fe[0],Oe=fe[1],Fe=v.exports.useState([]),Ee=$e(Fe,2),Ye=Ee[0],be=Ee[1],Ce=v.exports.useState(null),Me=$e(Ce,2),ze=Me[0],Re=Me[1];function We(){ce(i),Oe(i),be([]),Re(null),V()}v.exports.useEffect(function(){Z(o);var Be=uxe(Y,o);if(Be.key!==null)if(Be.add){var qe=se.findIndex(function(ge){var me=ge.key;return me===Be.key}),te=PF(EF(se,i,Be.key),C,w,S),k=se.slice();k.splice(qe+1,0,TF),Oe(k),be(te),Re("show")}else{var $=i.findIndex(function(ge){var me=ge.key;return me===Be.key}),U=PF(EF(i,se,Be.key),C,w,S),ne=i.slice();ne.splice($+1,0,TF),Oe(ne),be(U),Re("hide")}else se!==i&&(ce(i),Oe(i))},[o,i]),v.exports.useEffect(function(){m||We()},[m]);var Ue=b?De:i,Ve={expandedKeys:o,selectedKeys:a,loadedKeys:l,loadingKeys:u,checkedKeys:s,halfCheckedKeys:c,dragOverNodeKey:y,dropPosition:x,keyEntities:h};return v.exports.createElement(v.exports.Fragment,null,R&&T&&v.exports.createElement("span",{style:MF,"aria-live":"assertive"},fxe(T)),v.exports.createElement("div",null,v.exports.createElement("input",{style:MF,disabled:M===!1||f,tabIndex:M!==!1?I:null,onKeyDown:A,onFocus:N,onBlur:L,value:"",onChange:dxe,"aria-label":"for screen reader"})),v.exports.createElement("div",{className:"".concat(r,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden"}},v.exports.createElement("div",{className:"".concat(r,"-indent")},v.exports.createElement("div",{ref:j,className:"".concat(r,"-indent-unit")}))),v.exports.createElement(Z3,Se({},B,{data:Ue,itemKey:AF,height:w,fullHeight:!1,virtual:C,itemHeight:S,prefixCls:"".concat(r,"-list"),ref:K,onVisibleChange:function(qe,te){var k=new Set(qe),$=te.filter(function(U){return!k.has(U)});$.some(function(U){return AF(U)===jf})&&We()}}),function(Be){var qe=Be.pos,te=Se({},Be.data),k=Be.title,$=Be.key,U=Be.isStart,ne=Be.isEnd,ge=iy($,qe);delete te.key,delete te.children;var me=k_(ge,Ve);return v.exports.createElement(lxe,Se({},te,me,{title:k,active:!!T&&$===T.key,pos:qe,data:Be.data,isStart:U,isEnd:ne,motion:b,motionNodes:$===jf?Ye:null,motionType:ze,onMotionStart:W,onMotionEnd:We,treeNodeRequiredProps:Ve,onMouseMove:function(){D(null)}}))}))},EW=v.exports.forwardRef(hxe);EW.displayName="NodeList";function pxe(t){var e=t.dropPosition,n=t.dropLevelOffset,r=t.indent,i={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(e){case-1:i.top=0,i.left=-n*r;break;case 1:i.bottom=0,i.left=-n*r;break;case 0:i.bottom=0,i.left=r;break}return v.exports.createElement("div",{style:i})}var mxe=10,PO=function(t){Ni(n,t);var e=ki(n);function n(){var r;di(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),r.destroyed=!1,r.delayedDragEnterLogic=void 0,r.loadingRetryTimes={},r.state={keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:N_()},r.dragStartMousePosition=null,r.dragNode=void 0,r.currentMouseOverDroppableNodeKey=null,r.listRef=v.exports.createRef(),r.onNodeDragStart=function(s,l){var u=r.state,c=u.expandedKeys,h=u.keyEntities,f=r.props.onDragStart,m=l.props.eventKey;r.dragNode=l,r.dragStartMousePosition={x:s.clientX,y:s.clientY};var y=Nu(c,m);r.setState({draggingNodeKey:m,dragChildrenKeys:Hge(m,h),indent:r.listRef.current.getIndentWidth()}),r.setExpandedKeys(y),window.addEventListener("dragend",r.onWindowDragEnd),f==null||f({event:s,node:no(l.props)})},r.onNodeDragEnter=function(s,l){var u=r.state,c=u.expandedKeys,h=u.keyEntities,f=u.dragChildrenKeys,m=u.flattenNodes,y=u.indent,x=r.props,b=x.onDragEnter,w=x.onExpand,S=x.allowDrop,C=x.direction,M=l.props,T=M.pos,R=M.eventKey,I=_s(r),A=I.dragNode;if(r.currentMouseOverDroppableNodeKey!==R&&(r.currentMouseOverDroppableNodeKey=R),!A){r.resetDragState();return}var N=cF(s,A,l,y,r.dragStartMousePosition,S,m,h,c,C),L=N.dropPosition,D=N.dropLevelOffset,W=N.dropTargetKey,V=N.dropContainerKey,B=N.dropTargetPos,K=N.dropAllowed,j=N.dragOverNodeKey;if(f.indexOf(W)!==-1||!K){r.resetDragState();return}if(r.delayedDragEnterLogic||(r.delayedDragEnterLogic={}),Object.keys(r.delayedDragEnterLogic).forEach(function(G){clearTimeout(r.delayedDragEnterLogic[G])}),A.props.eventKey!==l.props.eventKey&&(s.persist(),r.delayedDragEnterLogic[T]=window.setTimeout(function(){if(r.state.draggingNodeKey!==null){var G=mt(c),H=h[l.props.eventKey];H&&(H.children||[]).length&&(G=qc(c,l.props.eventKey)),"expandedKeys"in r.props||r.setExpandedKeys(G),w==null||w(G,{node:no(l.props),expanded:!0,nativeEvent:s.nativeEvent})}},800)),A.props.eventKey===W&&D===0){r.resetDragState();return}r.setState({dragOverNodeKey:j,dropPosition:L,dropLevelOffset:D,dropTargetKey:W,dropContainerKey:V,dropTargetPos:B,dropAllowed:K}),b==null||b({event:s,node:no(l.props),expandedKeys:c})},r.onNodeDragOver=function(s,l){var u=r.state,c=u.dragChildrenKeys,h=u.flattenNodes,f=u.keyEntities,m=u.expandedKeys,y=u.indent,x=r.props,b=x.onDragOver,w=x.allowDrop,S=x.direction,C=_s(r),M=C.dragNode;if(!!M){var T=cF(s,M,l,y,r.dragStartMousePosition,w,h,f,m,S),R=T.dropPosition,I=T.dropLevelOffset,A=T.dropTargetKey,N=T.dropContainerKey,L=T.dropAllowed,D=T.dropTargetPos,W=T.dragOverNodeKey;c.indexOf(A)!==-1||!L||(M.props.eventKey===A&&I===0?r.state.dropPosition===null&&r.state.dropLevelOffset===null&&r.state.dropTargetKey===null&&r.state.dropContainerKey===null&&r.state.dropTargetPos===null&&r.state.dropAllowed===!1&&r.state.dragOverNodeKey===null||r.resetDragState():R===r.state.dropPosition&&I===r.state.dropLevelOffset&&A===r.state.dropTargetKey&&N===r.state.dropContainerKey&&D===r.state.dropTargetPos&&L===r.state.dropAllowed&&W===r.state.dragOverNodeKey||r.setState({dropPosition:R,dropLevelOffset:I,dropTargetKey:A,dropContainerKey:N,dropTargetPos:D,dropAllowed:L,dragOverNodeKey:W}),b==null||b({event:s,node:no(l.props)}))}},r.onNodeDragLeave=function(s,l){r.currentMouseOverDroppableNodeKey===l.props.eventKey&&!s.currentTarget.contains(s.relatedTarget)&&(r.resetDragState(),r.currentMouseOverDroppableNodeKey=null);var u=r.props.onDragLeave;u==null||u({event:s,node:no(l.props)})},r.onWindowDragEnd=function(s){r.onNodeDragEnd(s,null,!0),window.removeEventListener("dragend",r.onWindowDragEnd)},r.onNodeDragEnd=function(s,l){var u=r.props.onDragEnd;r.setState({dragOverNodeKey:null}),r.cleanDragState(),u==null||u({event:s,node:no(l.props)}),r.dragNode=null},r.onNodeDrop=function(s,l){var u,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,h=r.state,f=h.dragChildrenKeys,m=h.dropPosition,y=h.dropTargetKey,x=h.dropTargetPos,b=h.dropAllowed;if(!!b){var w=r.props.onDrop;if(r.setState({dragOverNodeKey:null}),r.cleanDragState(),y!==null){var S=ve(ve({},k_(y,r.getTreeNodeRequiredProps())),{},{active:((u=r.getActiveItem())===null||u===void 0?void 0:u.data.key)===y,data:r.state.keyEntities[y].node}),C=f.indexOf(y)!==-1;Hi(!C,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var M=xO(x),T={event:s,node:no(S),dragNode:r.dragNode?no(r.dragNode.props):null,dragNodesKeys:[r.dragNode.props.eventKey].concat(f),dropToGap:m!==0,dropPosition:m+Number(M[M.length-1])};c||w==null||w(T),r.dragNode=null}}},r.cleanDragState=function(){var s=r.state.draggingNodeKey;s!==null&&r.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),r.dragStartMousePosition=null,r.currentMouseOverDroppableNodeKey=null},r.onNodeClick=function(s,l){var u=r.props.onClick;u==null||u(s,l)},r.onNodeDoubleClick=function(s,l){var u=r.props.onDoubleClick;u==null||u(s,l)},r.onNodeSelect=function(s,l){var u=r.state.selectedKeys,c=r.state,h=c.keyEntities,f=c.fieldNames,m=r.props,y=m.onSelect,x=m.multiple,b=l.selected,w=l[f.key],S=!b;S?x?u=qc(u,w):u=[w]:u=Nu(u,w);var C=u.map(function(M){var T=h[M];return T?T.node:null}).filter(function(M){return M});r.setUncontrolledState({selectedKeys:u}),y==null||y(u,{event:"select",selected:S,node:l,selectedNodes:C,nativeEvent:s.nativeEvent})},r.onNodeCheck=function(s,l,u){var c=r.state,h=c.keyEntities,f=c.checkedKeys,m=c.halfCheckedKeys,y=r.props,x=y.checkStrictly,b=y.onCheck,w=l.key,S,C={event:"check",node:l,checked:u,nativeEvent:s.nativeEvent};if(x){var M=u?qc(f,w):Nu(f,w),T=Nu(m,w);S={checked:M,halfChecked:T},C.checkedNodes=M.map(function(D){return h[D]}).filter(function(D){return D}).map(function(D){return D.node}),r.setUncontrolledState({checkedKeys:M})}else{var R=Qp([].concat(mt(f),[w]),!0,h),I=R.checkedKeys,A=R.halfCheckedKeys;if(!u){var N=new Set(I);N.delete(w);var L=Qp(Array.from(N),{checked:!1,halfCheckedKeys:A},h);I=L.checkedKeys,A=L.halfCheckedKeys}S=I,C.checkedNodes=[],C.checkedNodesPositions=[],C.halfCheckedKeys=A,I.forEach(function(D){var W=h[D];if(!!W){var V=W.node,B=W.pos;C.checkedNodes.push(V),C.checkedNodesPositions.push({node:V,pos:B})}}),r.setUncontrolledState({checkedKeys:I},!1,{halfCheckedKeys:A})}b==null||b(S,C)},r.onNodeLoad=function(s){var l=s.key,u=new Promise(function(c,h){r.setState(function(f){var m=f.loadedKeys,y=m===void 0?[]:m,x=f.loadingKeys,b=x===void 0?[]:x,w=r.props,S=w.loadData,C=w.onLoad;if(!S||y.indexOf(l)!==-1||b.indexOf(l)!==-1)return null;var M=S(s);return M.then(function(){var T=r.state.loadedKeys,R=qc(T,l);C==null||C(R,{event:"load",node:s}),r.setUncontrolledState({loadedKeys:R}),r.setState(function(I){return{loadingKeys:Nu(I.loadingKeys,l)}}),c()}).catch(function(T){if(r.setState(function(I){return{loadingKeys:Nu(I.loadingKeys,l)}}),r.loadingRetryTimes[l]=(r.loadingRetryTimes[l]||0)+1,r.loadingRetryTimes[l]>=mxe){var R=r.state.loadedKeys;Hi(!1,"Retry for `loadData` many times but still failed. No more retry."),r.setUncontrolledState({loadedKeys:qc(R,l)}),c()}h(T)}),{loadingKeys:qc(b,l)}})});return u.catch(function(){}),u},r.onNodeMouseEnter=function(s,l){var u=r.props.onMouseEnter;u==null||u({event:s,node:l})},r.onNodeMouseLeave=function(s,l){var u=r.props.onMouseLeave;u==null||u({event:s,node:l})},r.onNodeContextMenu=function(s,l){var u=r.props.onRightClick;u&&(s.preventDefault(),u({event:s,node:l}))},r.onFocus=function(){var s=r.props.onFocus;r.setState({focused:!0});for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];s==null||s.apply(void 0,u)},r.onBlur=function(){var s=r.props.onBlur;r.setState({focused:!1}),r.onActiveChange(null);for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];s==null||s.apply(void 0,u)},r.getTreeNodeRequiredProps=function(){var s=r.state,l=s.expandedKeys,u=s.selectedKeys,c=s.loadedKeys,h=s.loadingKeys,f=s.checkedKeys,m=s.halfCheckedKeys,y=s.dragOverNodeKey,x=s.dropPosition,b=s.keyEntities;return{expandedKeys:l||[],selectedKeys:u||[],loadedKeys:c||[],loadingKeys:h||[],checkedKeys:f||[],halfCheckedKeys:m||[],dragOverNodeKey:y,dropPosition:x,keyEntities:b}},r.setExpandedKeys=function(s){var l=r.state,u=l.treeData,c=l.fieldNames,h=XM(u,s,c);r.setUncontrolledState({expandedKeys:s,flattenNodes:h},!0)},r.onNodeExpand=function(s,l){var u=r.state.expandedKeys,c=r.state,h=c.listChanging,f=c.fieldNames,m=r.props,y=m.onExpand,x=m.loadData,b=l.expanded,w=l[f.key];if(!h){var S=u.indexOf(w),C=!b;if(Hi(b&&S!==-1||!b&&S===-1,"Expand state not sync with index check"),C?u=qc(u,w):u=Nu(u,w),r.setExpandedKeys(u),y==null||y(u,{node:l,expanded:C,nativeEvent:s.nativeEvent}),C&&x){var M=r.onNodeLoad(l);M&&M.then(function(){var T=XM(r.state.treeData,u,f);r.setUncontrolledState({flattenNodes:T})}).catch(function(){var T=r.state.expandedKeys,R=Nu(T,w);r.setExpandedKeys(R)})}}},r.onListChangeStart=function(){r.setUncontrolledState({listChanging:!0})},r.onListChangeEnd=function(){setTimeout(function(){r.setUncontrolledState({listChanging:!1})})},r.onActiveChange=function(s){var l=r.state.activeKey,u=r.props.onActiveChange;l!==s&&(r.setState({activeKey:s}),s!==null&&r.scrollTo({key:s}),u==null||u(s))},r.getActiveItem=function(){var s=r.state,l=s.activeKey,u=s.flattenNodes;return l===null?null:u.find(function(c){var h=c.key;return h===l})||null},r.offsetActiveKey=function(s){var l=r.state,u=l.flattenNodes,c=l.activeKey,h=u.findIndex(function(y){var x=y.key;return x===c});h===-1&&s<0&&(h=u.length),h=(h+s+u.length)%u.length;var f=u[h];if(f){var m=f.key;r.onActiveChange(m)}else r.onActiveChange(null)},r.onKeyDown=function(s){var l=r.state,u=l.activeKey,c=l.expandedKeys,h=l.checkedKeys,f=r.props,m=f.onKeyDown,y=f.checkable,x=f.selectable;switch(s.which){case st.UP:{r.offsetActiveKey(-1),s.preventDefault();break}case st.DOWN:{r.offsetActiveKey(1),s.preventDefault();break}}var b=r.getActiveItem();if(b&&b.data){var w=r.getTreeNodeRequiredProps(),S=b.data.isLeaf===!1||!!(b.data.children||[]).length,C=no(ve(ve({},k_(u,w)),{},{data:b.data,active:!0}));switch(s.which){case st.LEFT:{S&&c.includes(u)?r.onNodeExpand({},C):b.parent&&r.onActiveChange(b.parent.data.key),s.preventDefault();break}case st.RIGHT:{S&&!c.includes(u)?r.onNodeExpand({},C):b.children&&b.children.length&&r.onActiveChange(b.children[0].data.key),s.preventDefault();break}case st.ENTER:case st.SPACE:{y&&!C.disabled&&C.checkable!==!1&&!C.disableCheckbox?r.onNodeCheck({},C,!h.includes(u)):!y&&x&&!C.disabled&&C.selectable!==!1&&r.onNodeSelect({},C);break}}}m==null||m(s)},r.setUncontrolledState=function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!r.destroyed){var c=!1,h=!0,f={};Object.keys(s).forEach(function(m){if(m in r.props){h=!1;return}c=!0,f[m]=s[m]}),c&&(!l||h)&&r.setState(ve(ve({},f),u))}},r.scrollTo=function(s){r.listRef.current.scrollTo(s)},r}return fi(n,[{key:"componentDidMount",value:function(){this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var i=this.props.activeKey;i!==void 0&&i!==this.state.activeKey&&(this.setState({activeKey:i}),i!==null&&this.scrollTo({key:i}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var i,o=this.state,a=o.focused,s=o.flattenNodes,l=o.keyEntities,u=o.draggingNodeKey,c=o.activeKey,h=o.dropLevelOffset,f=o.dropContainerKey,m=o.dropTargetKey,y=o.dropPosition,x=o.dragOverNodeKey,b=o.indent,w=this.props,S=w.prefixCls,C=w.className,M=w.style,T=w.showLine,R=w.focusable,I=w.tabIndex,A=I===void 0?0:I,N=w.selectable,L=w.showIcon,D=w.icon,W=w.switcherIcon,V=w.draggable,B=w.checkable,K=w.checkStrictly,j=w.disabled,G=w.motion,H=w.loadData,Y=w.filterTreeNode,Z=w.height,oe=w.itemHeight,re=w.virtual,se=w.titleRender,ce=w.dropIndicatorRender,ye=w.onContextMenu,fe=w.onScroll,De=w.direction,Oe=w.rootClassName,Fe=w.rootStyle,Ee=Hf(this.props,{aria:!0,data:!0}),Ye;return V&&(un(V)==="object"?Ye=V:typeof V=="function"?Ye={nodeDraggable:V}:Ye={}),v.exports.createElement(yO.Provider,{value:{prefixCls:S,selectable:N,showIcon:L,icon:D,switcherIcon:W,draggable:Ye,draggingNodeKey:u,checkable:B,checkStrictly:K,disabled:j,keyEntities:l,dropLevelOffset:h,dropContainerKey:f,dropTargetKey:m,dropPosition:y,dragOverNodeKey:x,indent:b,direction:De,dropIndicatorRender:ce,loadData:H,filterTreeNode:Y,titleRender:se,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},v.exports.createElement("div",{role:"tree",className:Xe(S,C,Oe,(i={},ue(i,"".concat(S,"-show-line"),T),ue(i,"".concat(S,"-focused"),a),ue(i,"".concat(S,"-active-focused"),c!==null),i)),style:Fe},v.exports.createElement(EW,Se({ref:this.listRef,prefixCls:S,style:M,data:s,disabled:j,selectable:N,checkable:!!B,motion:G,dragging:u!==null,height:Z,itemHeight:oe,virtual:re,focusable:R,focused:a,tabIndex:A,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:ye,onScroll:fe},this.getTreeNodeRequiredProps(),Ee))))}}],[{key:"getDerivedStateFromProps",value:function(i,o){var a=o.prevProps,s={prevProps:i};function l(R){return!a&&R in i||a&&a[R]!==i[R]}var u,c=o.fieldNames;if(l("fieldNames")&&(c=N_(i.fieldNames),s.fieldNames=c),l("treeData")?u=i.treeData:l("children")&&(Hi(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),u=I9(i.children)),u){s.treeData=u;var h=bO(u,{fieldNames:c});s.keyEntities=ve(ue({},jf,CW),h.keyEntities)}var f=s.keyEntities||o.keyEntities;if(l("expandedKeys")||a&&l("autoExpandParent"))s.expandedKeys=i.autoExpandParent||!a&&i.defaultExpandParent?QP(i.expandedKeys,f):i.expandedKeys;else if(!a&&i.defaultExpandAll){var m=ve({},f);delete m[jf],s.expandedKeys=Object.keys(m).map(function(R){return m[R].key})}else!a&&i.defaultExpandedKeys&&(s.expandedKeys=i.autoExpandParent||i.defaultExpandParent?QP(i.defaultExpandedKeys,f):i.defaultExpandedKeys);if(s.expandedKeys||delete s.expandedKeys,u||s.expandedKeys){var y=XM(u||o.treeData,s.expandedKeys||o.expandedKeys,c);s.flattenNodes=y}if(i.selectable&&(l("selectedKeys")?s.selectedKeys=dF(i.selectedKeys,i):!a&&i.defaultSelectedKeys&&(s.selectedKeys=dF(i.defaultSelectedKeys,i))),i.checkable){var x;if(l("checkedKeys")?x=qM(i.checkedKeys)||{}:!a&&i.defaultCheckedKeys?x=qM(i.defaultCheckedKeys)||{}:u&&(x=qM(i.checkedKeys)||{checkedKeys:o.checkedKeys,halfCheckedKeys:o.halfCheckedKeys}),x){var b=x,w=b.checkedKeys,S=w===void 0?[]:w,C=b.halfCheckedKeys,M=C===void 0?[]:C;if(!i.checkStrictly){var T=Qp(S,!0,f);S=T.checkedKeys,M=T.halfCheckedKeys}s.checkedKeys=S,s.halfCheckedKeys=M}}return l("loadedKeys")&&(s.loadedKeys=i.loadedKeys),s}}]),n}(v.exports.Component);PO.defaultProps={prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:pxe,allowDrop:function(){return!0}};PO.TreeNode=Wf;var vxe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"},gxe=vxe,MW=function(e,n){return v.exports.createElement(xr,ve(ve({},e),{},{ref:n,icon:gxe}))};MW.displayName="FileOutlined";var TW=v.exports.forwardRef(MW),yxe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"},xxe=yxe,PW=function(e,n){return v.exports.createElement(xr,ve(ve({},e),{},{ref:n,icon:xxe}))};PW.displayName="FolderOpenOutlined";var bxe=v.exports.forwardRef(PW),wxe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"},_xe=wxe,AW=function(e,n){return v.exports.createElement(xr,ve(ve({},e),{},{ref:n,icon:_xe}))};AW.displayName="FolderOutlined";var Sxe=v.exports.forwardRef(AW),Lu;(function(t){t[t.None=0]="None",t[t.Start=1]="Start",t[t.End=2]="End"})(Lu||(Lu={}));function AO(t,e){function n(r){var i=r.key,o=r.children;e(i,r)!==!1&&AO(o||[],e)}t.forEach(n)}function Cxe(t){var e=t.treeData,n=t.expandedKeys,r=t.startKey,i=t.endKey,o=[],a=Lu.None;if(r&&r===i)return[r];if(!r||!i)return[];function s(l){return l===r||l===i}return AO(e,function(l){if(a===Lu.End)return!1;if(s(l)){if(o.push(l),a===Lu.None)a=Lu.Start;else if(a===Lu.Start)return a=Lu.End,!1}else a===Lu.Start&&o.push(l);return n.indexOf(l)!==-1}),o}function e2(t,e){var n=mt(e),r=[];return AO(t,function(i,o){var a=n.indexOf(i);return a!==-1&&(r.push(o),n.splice(a,1)),!!n.length}),r}var RF=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Exe(t){var e=t.isLeaf,n=t.expanded;return e?v.exports.createElement(TW,null):n?v.exports.createElement(bxe,null):v.exports.createElement(Sxe,null)}function OF(t){var e=t.treeData,n=t.children;return e||I9(n)}var Mxe=function(e,n){var r=e.defaultExpandAll,i=e.defaultExpandParent,o=e.defaultExpandedKeys,a=RF(e,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]),s=v.exports.useRef(),l=v.exports.useRef(),u=v.exports.createRef();v.exports.useImperativeHandle(n,function(){return u.current});var c=function(){var H=bO(OF(a)),Y=H.keyEntities,Z;return r?Z=Object.keys(Y):i?Z=QP(a.expandedKeys||o||[],Y):Z=a.expandedKeys||o,Z},h=v.exports.useState(a.selectedKeys||a.defaultSelectedKeys||[]),f=$e(h,2),m=f[0],y=f[1],x=v.exports.useState(c()),b=$e(x,2),w=b[0],S=b[1];v.exports.useEffect(function(){"selectedKeys"in a&&y(a.selectedKeys)},[a.selectedKeys]),v.exports.useEffect(function(){"expandedKeys"in a&&S(a.expandedKeys)},[a.expandedKeys]);var C=function(H,Y){var Z=Y.isLeaf;Z||H.shiftKey||H.metaKey||H.ctrlKey||u.current.onNodeExpand(H,Y)},M=O9(C,200,{leading:!0}),T=function(H,Y){var Z;return"expandedKeys"in a||S(H),(Z=a.onExpand)===null||Z===void 0?void 0:Z.call(a,H,Y)},R=function(H,Y){var Z,oe=a.expandAction;oe==="click"&&M(H,Y),(Z=a.onClick)===null||Z===void 0||Z.call(a,H,Y)},I=function(H,Y){var Z,oe=a.expandAction;oe==="doubleClick"&&M(H,Y),(Z=a.onDoubleClick)===null||Z===void 0||Z.call(a,H,Y)},A=function(H,Y){var Z,oe=a.multiple,re=Y.node,se=Y.nativeEvent,ce=re.key,ye=ce===void 0?"":ce,fe=OF(a),De=Se(Se({},Y),{selected:!0}),Oe=(se==null?void 0:se.ctrlKey)||(se==null?void 0:se.metaKey),Fe=se==null?void 0:se.shiftKey,Ee;oe&&Oe?(Ee=H,s.current=ye,l.current=Ee,De.selectedNodes=e2(fe,Ee)):oe&&Fe?(Ee=Array.from(new Set([].concat(mt(l.current||[]),mt(Cxe({treeData:fe,expandedKeys:w,startKey:ye,endKey:s.current}))))),De.selectedNodes=e2(fe,Ee)):(Ee=[ye],s.current=ye,l.current=Ee,De.selectedNodes=e2(fe,Ee)),(Z=a.onSelect)===null||Z===void 0||Z.call(a,Ee,De),"selectedKeys"in a||y(Ee)},N=v.exports.useContext(jn),L=N.getPrefixCls,D=N.direction,W=a.prefixCls,V=a.className,B=RF(a,["prefixCls","className"]),K=L("tree",W),j=Xe("".concat(K,"-directory"),ue({},"".concat(K,"-directory-rtl"),D==="rtl"),V);return v.exports.createElement(kW,Se({icon:Exe,ref:u,blockNode:!0},B,{prefixCls:K,className:j,expandedKeys:w,selectedKeys:m,onSelect:A,onClick:R,onDoubleClick:I,onExpand:T}))},RO=v.exports.forwardRef(Mxe);RO.displayName="DirectoryTree";RO.defaultProps={showIcon:!0,expandAction:"click"};var Txe=RO,Pxe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"},Axe=Pxe,RW=function(e,n){return v.exports.createElement(xr,ve(ve({},e),{},{ref:n,icon:Axe}))};RW.displayName="MinusSquareOutlined";var Rxe=v.exports.forwardRef(RW),Oxe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"},Nxe=Oxe,OW=function(e,n){return v.exports.createElement(xr,ve(ve({},e),{},{ref:n,icon:Nxe}))};OW.displayName="PlusSquareOutlined";var kxe=v.exports.forwardRef(OW),Ixe={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"},Lxe=Ixe,NW=function(e,n){return v.exports.createElement(xr,ve(ve({},e),{},{ref:n,icon:Lxe}))};NW.displayName="CaretDownFilled";var Dxe=v.exports.forwardRef(NW);function Fxe(t,e,n,r){var i=r.isLeaf,o=r.expanded,a=r.loading;if(a)return v.exports.createElement(m0,{className:"".concat(t,"-switcher-loading-icon")});var s;if(n&&un(n)==="object"&&(s=n.showLeafIcon),i)return n?un(n)==="object"&&!s?v.exports.createElement("span",{className:"".concat(t,"-switcher-leaf-line")}):v.exports.createElement(TW,{className:"".concat(t,"-switcher-line-icon")}):null;var l="".concat(t,"-switcher-icon"),u=typeof e=="function"?e({expanded:!!o}):e;return rc(u)?qo(u,{className:Xe(u.props.className||"",l)}):u||(n?o?v.exports.createElement(Rxe,{className:"".concat(t,"-switcher-line-icon")}):v.exports.createElement(kxe,{className:"".concat(t,"-switcher-line-icon")}):v.exports.createElement(Dxe,{className:l}))}var NF=4;function zxe(t){var e,n=t.dropPosition,r=t.dropLevelOffset,i=t.prefixCls,o=t.indent,a=t.direction,s=a===void 0?"ltr":a,l=s==="ltr"?"left":"right",u=s==="ltr"?"right":"left",c=(e={},ue(e,l,-r*o+NF),ue(e,u,0),e);switch(n){case-1:c.top=-3;break;case 1:c.bottom=-3;break;default:c.bottom=-3,c[l]=o+NF;break}return ln.createElement("div",{style:c,className:"".concat(i,"-drop-indicator")})}var vS=v.exports.forwardRef(function(t,e){var n,r=v.exports.useContext(jn),i=r.getPrefixCls,o=r.direction,a=r.virtual,s=t.prefixCls,l=t.className,u=t.showIcon,c=t.showLine,h=t.switcherIcon,f=t.blockNode,m=t.children,y=t.checkable,x=t.selectable,b=t.draggable,w=i("tree",s),S=Se(Se({},t),{showLine:Boolean(c),dropIndicatorRender:zxe}),C=v.exports.useMemo(function(){if(!b)return!1;var M={};switch(un(b)){case"function":M.nodeDraggable=b;break;case"object":M=Se({},b);break}return M.icon!==!1&&(M.icon=M.icon||v.exports.createElement(axe,null)),M},[b]);return v.exports.createElement(PO,Se({itemHeight:20,ref:e,virtual:a},S,{prefixCls:w,className:Xe((n={},ue(n,"".concat(w,"-icon-hide"),!u),ue(n,"".concat(w,"-block-node"),f),ue(n,"".concat(w,"-unselectable"),!x),ue(n,"".concat(w,"-rtl"),o==="rtl"),n),l),direction:o,checkable:y&&v.exports.createElement("span",{className:"".concat(w,"-checkbox-inner")}),selectable:x,switcherIcon:function(T){return Fxe(w,h,c,T)},draggable:C}),m)});vS.TreeNode=Wf;vS.DirectoryTree=Txe;vS.defaultProps={checkable:!1,selectable:!0,showIcon:!1,motion:Se(Se({},DH),{motionAppear:!1}),blockNode:!1};var kW=vS,Bxe=function(e){return v.exports.createElement("div",{className:e.className,onClick:function(r){return r.stopPropagation()}},e.children)},Vxe=Bxe,Uxe=function(e){var n=e.value,r=e.onChange,i=e.filterSearch,o=e.tablePrefixCls,a=e.locale;return i?v.exports.createElement("div",{className:"".concat(o,"-filter-dropdown-search")},v.exports.createElement(W9,{prefix:v.exports.createElement(tO,null),placeholder:a.filterSearchPlaceholder,onChange:r,value:n,htmlSize:1,className:"".concat(o,"-filter-dropdown-search-input")})):null},kF=Uxe;function Hxe(t){var e=v.exports.useRef(t),n=BH();return[function(){return e.current},function(r){e.current=r,n()}]}function Wxe(t){return t.some(function(e){var n=e.children;return n})}function IW(t,e){return typeof e=="string"||typeof e=="number"?e==null?void 0:e.toString().toLowerCase().includes(t.trim().toLowerCase()):!1}function LW(t){var e=t.filters,n=t.prefixCls,r=t.filteredKeys,i=t.filterMultiple,o=t.searchValue,a=t.filterSearch;return e.map(function(s,l){var u=String(s.value);if(s.children)return{key:u||l,label:s.text,popupClassName:"".concat(n,"-dropdown-submenu"),children:LW({filters:s.children,prefixCls:n,filteredKeys:r,filterMultiple:i,searchValue:o,filterSearch:a})};var c=i?I_:x9,h={key:s.value!==void 0?u:l,label:v.exports.createElement(v.exports.Fragment,null,v.exports.createElement(c,{checked:r.includes(u)}),v.exports.createElement("span",null,s.text))};return o.trim()?typeof a=="function"?a(o,s)?h:null:IW(o,s.text)?h:null:h})}function jxe(t){var e,n=t.tablePrefixCls,r=t.prefixCls,i=t.column,o=t.dropdownPrefixCls,a=t.columnKey,s=t.filterMultiple,l=t.filterMode,u=l===void 0?"menu":l,c=t.filterSearch,h=c===void 0?!1:c,f=t.filterState,m=t.triggerFilter,y=t.locale,x=t.children,b=t.getPopupContainer,w=i.filterDropdownVisible,S=i.onFilterDropdownVisibleChange,C=i.filterResetToDefaultFilteredValue,M=i.defaultFilteredValue,T=v.exports.useState(!1),R=$e(T,2),I=R[0],A=R[1],N=!!(f&&(((e=f.filteredKeys)===null||e===void 0?void 0:e.length)||f.forceFiltered)),L=function(me){A(me),S==null||S(me)},D=typeof w=="boolean"?w:I,W=f==null?void 0:f.filteredKeys,V=Hxe(W||[]),B=$e(V,2),K=B[0],j=B[1],G=function(me){var Q=me.selectedKeys;j(Q)},H=function(me,Q){var _e=Q.node,ke=Q.checked;G(s?{selectedKeys:me}:{selectedKeys:ke&&_e.key?[_e.key]:[]})};v.exports.useEffect(function(){!I||G({selectedKeys:W||[]})},[W]);var Y=v.exports.useState([]),Z=$e(Y,2),oe=Z[0],re=Z[1],se=v.exports.useRef(),ce=function(me){se.current=window.setTimeout(function(){re(me)})},ye=function(){window.clearTimeout(se.current)};v.exports.useEffect(function(){return function(){window.clearTimeout(se.current)}},[]);var fe=v.exports.useState(""),De=$e(fe,2),Oe=De[0],Fe=De[1],Ee=function(me){var Q=me.target.value;Fe(Q)};v.exports.useEffect(function(){I||Fe("")},[I]);var Ye=function(me){var Q=me&&me.length?me:null;if(Q===null&&(!f||!f.filteredKeys)||FP(Q,f==null?void 0:f.filteredKeys))return null;m({column:i,key:a,filteredKeys:Q})},be=function(){L(!1),Ye(K())},Ce=function(){var me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{confirm:!1,closeDropdown:!1},Q=me.confirm,_e=me.closeDropdown;Q&&Ye([]),_e&&L(!1),Fe(""),j(C?(M||[]).map(function(ke){return String(ke)}):[])},Me=function(){var me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{closeDropdown:!0},Q=me.closeDropdown;Q&&L(!1),Ye(K())},ze=function(me){me&&W!==void 0&&j(W||[]),L(me),!me&&!i.filterDropdown&&be()},Re=Xe(ue({},"".concat(o,"-menu-without-submenu"),!Wxe(i.filters||[]))),We=function(me){if(me.target.checked){var Q=em(i==null?void 0:i.filters).map(function(_e){return String(_e)});j(Q)}else j([])},Ue=function ge(me){var Q=me.filters;return(Q||[]).map(function(_e,ke){var we=String(_e.value),de={title:_e.text,key:_e.value!==void 0?we:ke};return _e.children&&(de.children=ge({filters:_e.children})),de})},Ve;if(typeof i.filterDropdown=="function")Ve=i.filterDropdown({prefixCls:"".concat(o,"-custom"),setSelectedKeys:function(me){return G({selectedKeys:me})},selectedKeys:K(),confirm:Me,clearFilters:Ce,filters:i.filters,visible:D});else if(i.filterDropdown)Ve=i.filterDropdown;else{var Be=K()||[],qe=function(){return(i.filters||[]).length===0?v.exports.createElement(yf,{image:yf.PRESENTED_IMAGE_SIMPLE,description:y.filterEmptyText,imageStyle:{height:24},style:{margin:0,padding:"16px 0"}}):u==="tree"?v.exports.createElement(v.exports.Fragment,null,v.exports.createElement(kF,{filterSearch:h,value:Oe,onChange:Ee,tablePrefixCls:n,locale:y}),v.exports.createElement("div",{className:"".concat(n,"-filter-dropdown-tree")},s?v.exports.createElement(I_,{checked:Be.length===em(i.filters).length,indeterminate:Be.length>0&&Be.length<em(i.filters).length,className:"".concat(n,"-filter-dropdown-checkall"),onChange:We},y.filterCheckall):null,v.exports.createElement(kW,{checkable:!0,selectable:!1,blockNode:!0,multiple:s,checkStrictly:!s,className:"".concat(o,"-menu"),onCheck:H,checkedKeys:Be,selectedKeys:Be,showIcon:!1,treeData:Ue({filters:i.filters}),autoExpandParent:!0,defaultExpandAll:!0,filterTreeNode:Oe.trim()?function(me){return IW(Oe,me.title)}:void 0}))):v.exports.createElement(v.exports.Fragment,null,v.exports.createElement(kF,{filterSearch:h,value:Oe,onChange:Ee,tablePrefixCls:n,locale:y}),v.exports.createElement(p9,{multiple:s,prefixCls:"".concat(o,"-menu"),className:Re,onClick:ye,onSelect:G,onDeselect:G,selectedKeys:Be,getPopupContainer:b,openKeys:oe,onOpenChange:ce,items:LW({filters:i.filters||[],filterSearch:h,prefixCls:r,filteredKeys:K(),filterMultiple:s,searchValue:Oe})}))},te=function(){return C?FP((M||[]).map(function(me){return String(me)}),Be):Be.length===0};Ve=v.exports.createElement(v.exports.Fragment,null,qe(),v.exports.createElement("div",{className:"".concat(r,"-dropdown-btns")},v.exports.createElement(Ku,{type:"link",size:"small",disabled:te(),onClick:function(){return Ce()}},y.filterReset),v.exports.createElement(Ku,{type:"primary",size:"small",onClick:be},y.filterConfirm)))}var k=v.exports.createElement(Vxe,{className:"".concat(r,"-dropdown")},Ve),$;typeof i.filterIcon=="function"?$=i.filterIcon(N):i.filterIcon?$=i.filterIcon:$=v.exports.createElement(rxe,null);var U=v.exports.useContext(jn),ne=U.direction;return v.exports.createElement("div",{className:"".concat(r,"-column")},v.exports.createElement("span",{className:"".concat(n,"-column-title")},x),v.exports.createElement(oO,{overlay:k,trigger:["click"],visible:D,onVisibleChange:ze,getPopupContainer:b,placement:ne==="rtl"?"bottomLeft":"bottomRight"},v.exports.createElement("span",{role:"button",tabIndex:-1,className:Xe("".concat(r,"-trigger"),{active:N}),onClick:function(me){me.stopPropagation()}},$)))}function dA(t,e,n){var r=[];return(t||[]).forEach(function(i,o){var a,s=mS(o,n);if(i.filters||"filterDropdown"in i||"onFilter"in i)if("filteredValue"in i){var l=i.filteredValue;"filterDropdown"in i||(l=(a=l==null?void 0:l.map(String))!==null&&a!==void 0?a:l),r.push({column:i,key:mm(i,s),filteredKeys:l,forceFiltered:i.filtered})}else r.push({column:i,key:mm(i,s),filteredKeys:e&&i.defaultFilteredValue?i.defaultFilteredValue:void 0,forceFiltered:i.filtered});"children"in i&&(r=[].concat(mt(r),mt(dA(i.children,e,s))))}),r}function DW(t,e,n,r,i,o,a,s){return n.map(function(l,u){var c=mS(u,s),h=l.filterMultiple,f=h===void 0?!0:h,m=l.filterMode,y=l.filterSearch,x=l;if(x.filters||x.filterDropdown){var b=mm(x,c),w=r.find(function(S){var C=S.key;return b===C});x=Se(Se({},x),{title:function(C){return v.exports.createElement(jxe,{tablePrefixCls:t,prefixCls:"".concat(t,"-filter"),dropdownPrefixCls:e,column:x,columnKey:b,filterState:w,filterMultiple:f,filterMode:m,filterSearch:y,triggerFilter:i,locale:a,getPopupContainer:o},TO(l.title,C))}})}return"children"in x&&(x=Se(Se({},x),{children:DW(t,e,x.children,r,i,o,a,c)})),x})}function em(t){var e=[];return(t||[]).forEach(function(n){var r=n.value,i=n.children;e.push(r),i&&(e=[].concat(mt(e),mt(em(i))))}),e}function IF(t){var e={};return t.forEach(function(n){var r=n.key,i=n.filteredKeys,o=n.column,a=o.filters,s=o.filterDropdown;if(s)e[r]=i||null;else if(Array.isArray(i)){var l=em(a);e[r]=l.filter(function(u){return i.includes(String(u))})}else e[r]=null}),e}function LF(t,e){return e.reduce(function(n,r){var i=r.column,o=i.onFilter,a=i.filters,s=r.filteredKeys;return o&&s&&s.length?n.filter(function(l){return s.some(function(u){var c=em(a),h=c.findIndex(function(m){return String(m)===String(u)}),f=h!==-1?c[h]:u;return o(f,l)})}):n},t)}function Gxe(t){var e=t.prefixCls,n=t.dropdownPrefixCls,r=t.mergedColumns,i=t.onFilterChange,o=t.getPopupContainer,a=t.locale,s=v.exports.useState(dA(r,!0)),l=$e(s,2),u=l[0],c=l[1],h=v.exports.useMemo(function(){var x=dA(r,!1),b=!0;return x.forEach(function(w){var S=w.filteredKeys;S!==void 0&&(b=!1)}),b?u:x},[r,u]),f=v.exports.useCallback(function(){return IF(h)},[h]),m=function(b){var w=h.filter(function(S){var C=S.key;return C!==b.key});w.push(b),c(w),i(IF(w),w)},y=function(b){return DW(e,n,b,h,m,o,a)};return[y,h,f]}function FW(t,e){return t.map(function(n){var r=Se({},n);return r.title=TO(n.title,e),"children"in r&&(r.children=FW(r.children,e)),r})}function $xe(t){var e=v.exports.useCallback(function(n){return FW(n,t)},[t]);return[e]}function Kxe(t){return function(n){var r,i=n.prefixCls,o=n.onExpand,a=n.record,s=n.expanded,l=n.expandable,u="".concat(i,"-row-expand-icon");return v.exports.createElement("button",{type:"button",onClick:function(h){o(a,h),h.stopPropagation()},className:Xe(u,(r={},ue(r,"".concat(u,"-spaced"),!l),ue(r,"".concat(u,"-expanded"),l&&s),ue(r,"".concat(u,"-collapsed"),l&&!s),r)),"aria-label":s?t.collapse:t.expand})}}function qxe(t){return null}function Xxe(t){return null}var Yxe=[];function Zxe(t,e){var n,r=t.prefixCls,i=t.className,o=t.style,a=t.size,s=t.bordered,l=t.dropdownPrefixCls,u=t.dataSource,c=t.pagination,h=t.rowSelection,f=t.rowKey,m=t.rowClassName,y=t.columns,x=t.children,b=t.childrenColumnName,w=t.onChange,S=t.getPopupContainer,C=t.loading,M=t.expandIcon,T=t.expandable,R=t.expandedRowRender,I=t.expandIconColumnIndex,A=t.indentSize,N=t.scroll,L=t.sortDirections,D=t.locale,W=t.showSorterTooltip,V=W===void 0?!0:W,B=v.exports.useMemo(function(){return y||MO(x)},[y,x]),K=v.exports.useMemo(function(){return B.some(function(gt){return gt.responsive})},[B]),j=VH(K),G=v.exports.useMemo(function(){var gt=new Set(Object.keys(j).filter(function(Tt){return j[Tt]}));return B.filter(function(Tt){return!Tt.responsive||Tt.responsive.some(function(qt){return gt.has(qt)})})},[B,j]),H=No(t,["className","style","columns"]),Y=v.exports.useContext(Zl),Z=v.exports.useContext(jn),oe=Z.locale,re=oe===void 0?fm:oe,se=Z.renderEmpty,ce=Z.direction,ye=a||Y,fe=Se(Se({},re.Table),D),De=u||Yxe,Oe=v.exports.useContext(jn),Fe=Oe.getPrefixCls,Ee=Fe("table",r),Ye=Fe("dropdown",l),be=Se({childrenColumnName:b,expandIconColumnIndex:I},T),Ce=be.childrenColumnName,Me=Ce===void 0?"children":Ce,ze=v.exports.useMemo(function(){return De.some(function(gt){return gt==null?void 0:gt[Me]})?"nest":R||T&&T.expandedRowRender?"row":null},[De]),Re={body:v.exports.useRef()},We=v.exports.useMemo(function(){return typeof f=="function"?f:function(gt){return gt==null?void 0:gt[f]}},[f]),Ue=Gye(De,Me,We),Ve=$e(Ue,1),Be=Ve[0],qe={},te=function(Tt,qt){var Dn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,rn=Se(Se({},qe),Tt);Dn&&(qe.resetPagination(),rn.pagination.current&&(rn.pagination.current=1),c&&c.onChange&&c.onChange(1,rn.pagination.pageSize)),N&&N.scrollToFirstRowOnChange!==!1&&Re.body.current&&uoe(0,{getContainer:function(){return Re.body.current}}),w==null||w(rn.pagination,rn.filters,rn.sorter,{currentDataSource:LF(uA(De,rn.sorterStates,Me),rn.filterStates),action:qt})},k=function(Tt,qt){te({sorter:Tt,sorterStates:qt},"sort",!1)},$=exe({prefixCls:Ee,mergedColumns:G,onSorterChange:k,sortDirections:L||["ascend","descend"],tableLocale:fe,showSorterTooltip:V}),U=$e($,4),ne=U[0],ge=U[1],me=U[2],Q=U[3],_e=v.exports.useMemo(function(){return uA(De,ge,Me)},[De,ge]);qe.sorter=Q(),qe.sorterStates=ge;var ke=function(Tt,qt){te({filters:Tt,filterStates:qt},"filter",!0)},we=Gxe({prefixCls:Ee,locale:fe,dropdownPrefixCls:Ye,mergedColumns:G,onFilterChange:ke,getPopupContainer:S}),de=$e(we,3),je=de[0],Ze=de[1],vt=de[2],ot=LF(_e,Ze);qe.filters=vt(),qe.filterStates=Ze;var ht=v.exports.useMemo(function(){return Se({},me)},[me]),at=$xe(ht),Mt=$e(at,1),Ct=Mt[0],Ft=function(Tt,qt){te({pagination:Se(Se({},qe.pagination),{current:Tt,pageSize:qt})},"paginate")},$t=jye(ot.length,c,Ft),An=$e($t,2),xt=An[0],Et=An[1];qe.pagination=c===!1?{}:Hye(c,xt),qe.resetPagination=Et;var it=v.exports.useMemo(function(){if(c===!1||!xt.pageSize)return ot;var gt=xt.current,Tt=gt===void 0?1:gt,qt=xt.total,Dn=xt.pageSize,rn=Dn===void 0?vW:Dn;return ot.length<qt?ot.length>rn?ot.slice((Tt-1)*rn,Tt*rn):ot:ot.slice((Tt-1)*rn,Tt*rn)},[!!c,ot,xt&&xt.current,xt&&xt.pageSize,xt&&xt.total]),rt=$ye(h,{prefixCls:Ee,data:ot,pageData:it,getRowKey:We,getRecordByKey:Be,expandType:ze,childrenColumnName:Me,locale:fe,getPopupContainer:S}),ft=$e(rt,2),bt=ft[0],Yt=ft[1],Sn=function(Tt,qt,Dn){var rn;return typeof m=="function"?rn=Xe(m(Tt,qt,Dn)):rn=Xe(m),Xe(ue({},"".concat(Ee,"-row-selected"),Yt.has(We(Tt,qt))),rn)};be.__PARENT_RENDER_ICON__=be.expandIcon,be.expandIcon=be.expandIcon||M||Kxe(fe),ze==="nest"&&be.expandIconColumnIndex===void 0?be.expandIconColumnIndex=h?1:0:be.expandIconColumnIndex>0&&h&&(be.expandIconColumnIndex-=1),typeof be.indentSize!="number"&&(be.indentSize=typeof A=="number"?A:15);var he=v.exports.useCallback(function(gt){return Ct(bt(je(ne(gt))))},[ne,je,bt]),Ae,Ge;if(c!==!1&&(xt==null?void 0:xt.total)){var Ie;xt.size?Ie=xt.size:Ie=ye==="small"||ye==="middle"?"small":void 0;var Je=function(Tt){return v.exports.createElement(X0e,Se({},xt,{className:Xe("".concat(Ee,"-pagination ").concat(Ee,"-pagination-").concat(Tt),xt.className),size:Ie}))},Rt=ce==="rtl"?"left":"right",Dt=xt.position;if(Dt!==null&&Array.isArray(Dt)){var Pt=Dt.find(function(gt){return gt.indexOf("top")!==-1}),zt=Dt.find(function(gt){return gt.indexOf("bottom")!==-1}),sn=Dt.every(function(gt){return"".concat(gt)==="none"});!Pt&&!zt&&!sn&&(Ge=Je(Rt)),Pt&&(Ae=Je(Pt.toLowerCase().replace("top",""))),zt&&(Ge=Je(zt.toLowerCase().replace("bottom","")))}else Ge=Je(Rt)}var Kt;typeof C=="boolean"?Kt={spinning:C}:un(C)==="object"&&(Kt=Se({spinning:!0},C));var cn=Xe("".concat(Ee,"-wrapper"),ue({},"".concat(Ee,"-wrapper-rtl"),ce==="rtl"),i);return v.exports.createElement("div",{ref:e,className:cn,style:o},v.exports.createElement(z0e,Se({spinning:!1},Kt),Ae,v.exports.createElement(ih,Se({},H,{columns:G,direction:ce,expandable:be,prefixCls:Ee,className:Xe((n={},ue(n,"".concat(Ee,"-middle"),ye==="middle"),ue(n,"".concat(Ee,"-small"),ye==="small"),ue(n,"".concat(Ee,"-bordered"),s),ue(n,"".concat(Ee,"-empty"),De.length===0),n)),data:it,rowKey:We,rowClassName:Sn,emptyText:D&&D.emptyText||se("Table"),internalHooks:Nw,internalRefs:Re,transformColumns:he})),Ge))}var Jxe=v.exports.forwardRef(Zxe),eu=Jxe;eu.defaultProps={rowKey:"key"};eu.SELECTION_COLUMN=Xc;eu.EXPAND_COLUMN=ih.EXPAND_COLUMN;eu.SELECTION_ALL=oA;eu.SELECTION_INVERT=aA;eu.SELECTION_NONE=sA;eu.Column=qxe;eu.ColumnGroup=Xxe;eu.Summary=mW;var Qxe=eu,Rs={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(t,e){(function(){var n,r="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",s="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",u=500,c="__lodash_placeholder__",h=1,f=2,m=4,y=1,x=2,b=1,w=2,S=4,C=8,M=16,T=32,R=64,I=128,A=256,N=512,L=30,D="...",W=800,V=16,B=1,K=2,j=3,G=1/0,H=9007199254740991,Y=17976931348623157e292,Z=0/0,oe=4294967295,re=oe-1,se=oe>>>1,ce=[["ary",I],["bind",b],["bindKey",w],["curry",C],["curryRight",M],["flip",N],["partial",T],["partialRight",R],["rearg",A]],ye="[object Arguments]",fe="[object Array]",De="[object AsyncFunction]",Oe="[object Boolean]",Fe="[object Date]",Ee="[object DOMException]",Ye="[object Error]",be="[object Function]",Ce="[object GeneratorFunction]",Me="[object Map]",ze="[object Number]",Re="[object Null]",We="[object Object]",Ue="[object Promise]",Ve="[object Proxy]",Be="[object RegExp]",qe="[object Set]",te="[object String]",k="[object Symbol]",$="[object Undefined]",U="[object WeakMap]",ne="[object WeakSet]",ge="[object ArrayBuffer]",me="[object DataView]",Q="[object Float32Array]",_e="[object Float64Array]",ke="[object Int8Array]",we="[object Int16Array]",de="[object Int32Array]",je="[object Uint8Array]",Ze="[object Uint8ClampedArray]",vt="[object Uint16Array]",ot="[object Uint32Array]",ht=/\b__p \+= '';/g,at=/\b(__p \+=) '' \+/g,Mt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ct=/&(?:amp|lt|gt|quot|#39);/g,Ft=/[&<>"']/g,$t=RegExp(Ct.source),An=RegExp(Ft.source),xt=/<%-([\s\S]+?)%>/g,Et=/<%([\s\S]+?)%>/g,it=/<%=([\s\S]+?)%>/g,rt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ft=/^\w*$/,bt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Yt=/[\\^$.*+?()[\]{}|]/g,Sn=RegExp(Yt.source),he=/^\s+/,Ae=/\s/,Ge=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ie=/\{\n\/\* \[wrapped with (.+)\] \*/,Je=/,? & /,Rt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Dt=/[()=,{}\[\]\/\s]/,Pt=/\\(\\)?/g,zt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,sn=/\w*$/,Kt=/^[-+]0x[0-9a-f]+$/i,cn=/^0b[01]+$/i,gt=/^\[object .+?Constructor\]$/,Tt=/^0o[0-7]+$/i,qt=/^(?:0|[1-9]\d*)$/,Dn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,rn=/($^)/,Nt=/['\n\r\u2028\u2029\\]/g,ur="\\ud800-\\udfff",vn="\\u0300-\\u036f",dr="\\ufe20-\\ufe2f",Or="\\u20d0-\\u20ff",Ci=vn+dr+Or,hi="\\u2700-\\u27bf",tn="a-z\\xdf-\\xf6\\xf8-\\xff",hn="\\xac\\xb1\\xd7\\xf7",Rn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",At="\\u2000-\\u206f",Zt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",br="A-Z\\xc0-\\xd6\\xd8-\\xde",Nr="\\ufe0e\\ufe0f",Yn=hn+Rn+At+Zt,fr="['\u2019]",$r="["+ur+"]",Tr="["+Yn+"]",Kr="["+Ci+"]",ho="\\d+",po="["+hi+"]",Ii="["+tn+"]",au="[^"+ur+Yn+ho+hi+tn+br+"]",su="\\ud83c[\\udffb-\\udfff]",lu="(?:"+Kr+"|"+su+")",Cn="[^"+ur+"]",Fn="(?:\\ud83c[\\udde6-\\uddff]){2}",hr="[\\ud800-\\udbff][\\udc00-\\udfff]",pi="["+br+"]",uu="\\u200d",mo="(?:"+Ii+"|"+au+")",fc="(?:"+pi+"|"+au+")",Ls="(?:"+fr+"(?:d|ll|m|re|s|t|ve))?",gl="(?:"+fr+"(?:D|LL|M|RE|S|T|VE))?",yl=lu+"?",Li="["+Nr+"]?",Id="(?:"+uu+"(?:"+[Cn,Fn,hr].join("|")+")"+Li+yl+")*",Zo="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ld="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",us=Li+yl+Id,sv="(?:"+[po,Fn,hr].join("|")+")"+us,q="(?:"+[Cn+Kr+"?",Kr,Fn,hr,$r].join("|")+")",F=RegExp(fr,"g"),X=RegExp(Kr,"g"),ae=RegExp(su+"(?="+su+")|"+q+us,"g"),He=RegExp([pi+"?"+Ii+"+"+Ls+"(?="+[Tr,pi,"$"].join("|")+")",fc+"+"+gl+"(?="+[Tr,pi+mo,"$"].join("|")+")",pi+"?"+mo+"+"+Ls,pi+"+"+gl,Ld,Zo,ho,sv].join("|"),"g"),dt=RegExp("["+uu+ur+Ci+Nr+"]"),dn=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ht=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Vn=-1,Bt={};Bt[Q]=Bt[_e]=Bt[ke]=Bt[we]=Bt[de]=Bt[je]=Bt[Ze]=Bt[vt]=Bt[ot]=!0,Bt[ye]=Bt[fe]=Bt[ge]=Bt[Oe]=Bt[me]=Bt[Fe]=Bt[Ye]=Bt[be]=Bt[Me]=Bt[ze]=Bt[We]=Bt[Be]=Bt[qe]=Bt[te]=Bt[U]=!1;var wt={};wt[ye]=wt[fe]=wt[ge]=wt[me]=wt[Oe]=wt[Fe]=wt[Q]=wt[_e]=wt[ke]=wt[we]=wt[de]=wt[Me]=wt[ze]=wt[We]=wt[Be]=wt[qe]=wt[te]=wt[k]=wt[je]=wt[Ze]=wt[vt]=wt[ot]=!0,wt[Ye]=wt[be]=wt[U]=!1;var on={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},or={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},On={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},pn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Mn=parseFloat,Zn=parseInt,an=typeof Ca=="object"&&Ca&&Ca.Object===Object&&Ca,Un=typeof self=="object"&&self&&self.Object===Object&&self,Jn=an||Un||Function("return this")(),gn=e&&!e.nodeType&&e,wr=gn&&!0&&t&&!t.nodeType&&t,So=wr&&wr.exports===gn,Zi=So&&an.process,Pr=function(){try{var Ne=wr&&wr.require&&wr.require("util").types;return Ne||Zi&&Zi.binding&&Zi.binding("util")}catch{}}(),mi=Pr&&Pr.isArrayBuffer,Qn=Pr&&Pr.isDate,hc=Pr&&Pr.isMap,Co=Pr&&Pr.isRegExp,xl=Pr&&Pr.isSet,va=Pr&&Pr.isTypedArray;function vi(Ne,tt,Qe){switch(Qe.length){case 0:return Ne.call(tt);case 1:return Ne.call(tt,Qe[0]);case 2:return Ne.call(tt,Qe[0],Qe[1]);case 3:return Ne.call(tt,Qe[0],Qe[1],Qe[2])}return Ne.apply(tt,Qe)}function lv(Ne,tt,Qe,Vt){for(var bn=-1,er=Ne==null?0:Ne.length;++bn<er;){var ai=Ne[bn];tt(Vt,ai,Qe(ai),Ne)}return Vt}function Ji(Ne,tt){for(var Qe=-1,Vt=Ne==null?0:Ne.length;++Qe<Vt&&tt(Ne[Qe],Qe,Ne)!==!1;);return Ne}function vC(Ne,tt){for(var Qe=Ne==null?0:Ne.length;Qe--&&tt(Ne[Qe],Qe,Ne)!==!1;);return Ne}function pc(Ne,tt){for(var Qe=-1,Vt=Ne==null?0:Ne.length;++Qe<Vt;)if(!tt(Ne[Qe],Qe,Ne))return!1;return!0}function gi(Ne,tt){for(var Qe=-1,Vt=Ne==null?0:Ne.length,bn=0,er=[];++Qe<Vt;){var ai=Ne[Qe];tt(ai,Qe,Ne)&&(er[bn++]=ai)}return er}function bl(Ne,tt){var Qe=Ne==null?0:Ne.length;return!!Qe&&cs(Ne,tt,0)>-1}function Ia(Ne,tt,Qe){for(var Vt=-1,bn=Ne==null?0:Ne.length;++Vt<bn;)if(Qe(tt,Ne[Vt]))return!0;return!1}function qr(Ne,tt){for(var Qe=-1,Vt=Ne==null?0:Ne.length,bn=Array(Vt);++Qe<Vt;)bn[Qe]=tt(Ne[Qe],Qe,Ne);return bn}function Ds(Ne,tt){for(var Qe=-1,Vt=tt.length,bn=Ne.length;++Qe<Vt;)Ne[bn+Qe]=tt[Qe];return Ne}function Dd(Ne,tt,Qe,Vt){var bn=-1,er=Ne==null?0:Ne.length;for(Vt&&er&&(Qe=Ne[++bn]);++bn<er;)Qe=tt(Qe,Ne[bn],bn,Ne);return Qe}function cu(Ne,tt,Qe,Vt){var bn=Ne==null?0:Ne.length;for(Vt&&bn&&(Qe=Ne[--bn]);bn--;)Qe=tt(Qe,Ne[bn],bn,Ne);return Qe}function Fr(Ne,tt){for(var Qe=-1,Vt=Ne==null?0:Ne.length;++Qe<Vt;)if(tt(Ne[Qe],Qe,Ne))return!0;return!1}var Fy=Fd("length");function Wr(Ne){return Ne.split("")}function uv(Ne){return Ne.match(Rt)||[]}function Jo(Ne,tt,Qe){var Vt;return Qe(Ne,function(bn,er,ai){if(tt(bn,er,ai))return Vt=er,!1}),Vt}function hh(Ne,tt,Qe,Vt){for(var bn=Ne.length,er=Qe+(Vt?1:-1);Vt?er--:++er<bn;)if(tt(Ne[er],er,Ne))return er;return-1}function cs(Ne,tt,Qe){return tt===tt?_C(Ne,tt,Qe):hh(Ne,zy,Qe)}function cv(Ne,tt,Qe,Vt){for(var bn=Qe-1,er=Ne.length;++bn<er;)if(Vt(Ne[bn],tt))return bn;return-1}function zy(Ne){return Ne!==Ne}function By(Ne,tt){var Qe=Ne==null?0:Ne.length;return Qe?mc(Ne,tt)/Qe:Z}function Fd(Ne){return function(tt){return tt==null?n:tt[Ne]}}function dv(Ne){return function(tt){return Ne==null?n:Ne[tt]}}function ph(Ne,tt,Qe,Vt,bn){return bn(Ne,function(er,ai,kr){Qe=Vt?(Vt=!1,er):tt(Qe,er,ai,kr)}),Qe}function zd(Ne,tt){var Qe=Ne.length;for(Ne.sort(tt);Qe--;)Ne[Qe]=Ne[Qe].value;return Ne}function mc(Ne,tt){for(var Qe,Vt=-1,bn=Ne.length;++Vt<bn;){var er=tt(Ne[Vt]);er!==n&&(Qe=Qe===n?er:Qe+er)}return Qe}function mh(Ne,tt){for(var Qe=-1,Vt=Array(Ne);++Qe<Ne;)Vt[Qe]=tt(Qe);return Vt}function wl(Ne,tt){return qr(tt,function(Qe){return[Qe,Ne[Qe]]})}function fv(Ne){return Ne&&Ne.slice(0,Uy(Ne)+1).replace(he,"")}function Eo(Ne){return function(tt){return Ne(tt)}}function Bd(Ne,tt){return qr(tt,function(Qe){return Ne[Qe]})}function Vd(Ne,tt){return Ne.has(tt)}function Ud(Ne,tt){for(var Qe=-1,Vt=Ne.length;++Qe<Vt&&cs(tt,Ne[Qe],0)>-1;);return Qe}function du(Ne,tt){for(var Qe=Ne.length;Qe--&&cs(tt,Ne[Qe],0)>-1;);return Qe}function vc(Ne,tt){for(var Qe=Ne.length,Vt=0;Qe--;)Ne[Qe]===tt&&++Vt;return Vt}var vh=dv(on),gC=dv(or);function yC(Ne){return"\\"+pn[Ne]}function xC(Ne,tt){return Ne==null?n:Ne[tt]}function gc(Ne){return dt.test(Ne)}function fu(Ne){return dn.test(Ne)}function bC(Ne){for(var tt,Qe=[];!(tt=Ne.next()).done;)Qe.push(tt.value);return Qe}function hv(Ne){var tt=-1,Qe=Array(Ne.size);return Ne.forEach(function(Vt,bn){Qe[++tt]=[bn,Vt]}),Qe}function Vy(Ne,tt){return function(Qe){return Ne(tt(Qe))}}function _l(Ne,tt){for(var Qe=-1,Vt=Ne.length,bn=0,er=[];++Qe<Vt;){var ai=Ne[Qe];(ai===tt||ai===c)&&(Ne[Qe]=c,er[bn++]=Qe)}return er}function Hd(Ne){var tt=-1,Qe=Array(Ne.size);return Ne.forEach(function(Vt){Qe[++tt]=Vt}),Qe}function wC(Ne){var tt=-1,Qe=Array(Ne.size);return Ne.forEach(function(Vt){Qe[++tt]=[Vt,Vt]}),Qe}function _C(Ne,tt,Qe){for(var Vt=Qe-1,bn=Ne.length;++Vt<bn;)if(Ne[Vt]===tt)return Vt;return-1}function yc(Ne,tt,Qe){for(var Vt=Qe+1;Vt--;)if(Ne[Vt]===tt)return Vt;return Vt}function hu(Ne){return gc(Ne)?gh(Ne):Fy(Ne)}function La(Ne){return gc(Ne)?Gn(Ne):Wr(Ne)}function Uy(Ne){for(var tt=Ne.length;tt--&&Ae.test(Ne.charAt(tt)););return tt}var SC=dv(On);function gh(Ne){for(var tt=ae.lastIndex=0;ae.test(Ne);)++tt;return tt}function Gn(Ne){return Ne.match(ae)||[]}function Sl(Ne){return Ne.match(He)||[]}var CC=function Ne(tt){tt=tt==null?Jn:Cl.defaults(Jn.Object(),tt,Cl.pick(Jn,Ht));var Qe=tt.Array,Vt=tt.Date,bn=tt.Error,er=tt.Function,ai=tt.Math,kr=tt.Object,pv=tt.RegExp,Hy=tt.String,ko=tt.TypeError,pu=Qe.prototype,Wy=er.prototype,Fs=kr.prototype,yh=tt["__core-js_shared__"],xh=Wy.toString,_r=Fs.hasOwnProperty,jy=0,xc=function(){var d=/[^.]+$/.exec(yh&&yh.keys&&yh.keys.IE_PROTO||"");return d?"Symbol(src)_1."+d:""}(),bh=Fs.toString,EC=xh.call(kr),bc=Jn._,MC=pv("^"+xh.call(_r).replace(Yt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wh=So?tt.Buffer:n,El=tt.Symbol,_h=tt.Uint8Array,Sh=wh?wh.allocUnsafe:n,Ch=Vy(kr.getPrototypeOf,kr),Eh=kr.create,Gy=Fs.propertyIsEnumerable,Mh=pu.splice,Th=El?El.isConcatSpreadable:n,wc=El?El.iterator:n,mu=El?El.toStringTag:n,Ph=function(){try{var d=Yd(kr,"defineProperty");return d({},"",{}),d}catch{}}(),TC=tt.clearTimeout!==Jn.clearTimeout&&tt.clearTimeout,mv=Vt&&Vt.now!==Jn.Date.now&&Vt.now,PC=tt.setTimeout!==Jn.setTimeout&&tt.setTimeout,Ah=ai.ceil,_c=ai.floor,vv=kr.getOwnPropertySymbols,AC=wh?wh.isBuffer:n,$y=tt.isFinite,RC=pu.join,OC=Vy(kr.keys,kr),Di=ai.max,vo=ai.min,NC=Vt.now,kC=tt.parseInt,Ky=ai.random,IC=pu.reverse,gv=Yd(tt,"DataView"),vu=Yd(tt,"Map"),yv=Yd(tt,"Promise"),Sc=Yd(tt,"Set"),Wd=Yd(tt,"WeakMap"),jd=Yd(kr,"create"),Rh=Wd&&new Wd,Qo={},qy=Zd(gv),LC=Zd(vu),DC=Zd(yv),xv=Zd(Sc),FC=Zd(Wd),Oh=El?El.prototype:n,Gd=Oh?Oh.valueOf:n,Xy=Oh?Oh.toString:n;function ie(d){if(Ei(d)&&!kn(d)&&!(d instanceof Nn)){if(d instanceof ea)return d;if(_r.call(d,"__wrapped__"))return Yk(d)}return new ea(d)}var Cc=function(){function d(){}return function(g){if(!yi(g))return{};if(Eh)return Eh(g);d.prototype=g;var P=new d;return d.prototype=n,P}}();function Da(){}function ea(d,g){this.__wrapped__=d,this.__actions__=[],this.__chain__=!!g,this.__index__=0,this.__values__=n}ie.templateSettings={escape:xt,evaluate:Et,interpolate:it,variable:"",imports:{_:ie}},ie.prototype=Da.prototype,ie.prototype.constructor=ie,ea.prototype=Cc(Da.prototype),ea.prototype.constructor=ea;function Nn(d){this.__wrapped__=d,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=oe,this.__views__=[]}function zC(){var d=new Nn(this.__wrapped__);return d.__actions__=xa(this.__actions__),d.__dir__=this.__dir__,d.__filtered__=this.__filtered__,d.__iteratees__=xa(this.__iteratees__),d.__takeCount__=this.__takeCount__,d.__views__=xa(this.__views__),d}function Ml(){if(this.__filtered__){var d=new Nn(this);d.__dir__=-1,d.__filtered__=!0}else d=this.clone(),d.__dir__*=-1;return d}function BC(){var d=this.__wrapped__.value(),g=this.__dir__,P=kn(d),z=g<0,J=P?d.length:0,le=yq(0,J,this.__views__),xe=le.start,Pe=le.end,Le=Pe-xe,ut=z?Pe:xe-1,ct=this.__iteratees__,pt=ct.length,kt=0,nn=vo(Le,this.__takeCount__);if(!P||!z&&J==Le&&nn==Le)return xk(d,this.__actions__);var yn=[];e:for(;Le--&&kt<nn;){ut+=g;for(var Bn=-1,xn=d[ut];++Bn<pt;){var Kn=ct[Bn],ar=Kn.iteratee,Ba=Kn.type,na=ar(xn);if(Ba==K)xn=na;else if(!na){if(Ba==B)continue e;break e}}yn[kt++]=xn}return yn}Nn.prototype=Cc(Da.prototype),Nn.prototype.constructor=Nn;function Tl(d){var g=-1,P=d==null?0:d.length;for(this.clear();++g<P;){var z=d[g];this.set(z[0],z[1])}}function VC(){this.__data__=jd?jd(null):{},this.size=0}function UC(d){var g=this.has(d)&&delete this.__data__[d];return this.size-=g?1:0,g}function HC(d){var g=this.__data__;if(jd){var P=g[d];return P===l?n:P}return _r.call(g,d)?g[d]:n}function WC(d){var g=this.__data__;return jd?g[d]!==n:_r.call(g,d)}function Yy(d,g){var P=this.__data__;return this.size+=this.has(d)?0:1,P[d]=jd&&g===n?l:g,this}Tl.prototype.clear=VC,Tl.prototype.delete=UC,Tl.prototype.get=HC,Tl.prototype.has=WC,Tl.prototype.set=Yy;function zs(d){var g=-1,P=d==null?0:d.length;for(this.clear();++g<P;){var z=d[g];this.set(z[0],z[1])}}function Zy(){this.__data__=[],this.size=0}function jC(d){var g=this.__data__,P=Mc(g,d);if(P<0)return!1;var z=g.length-1;return P==z?g.pop():Mh.call(g,P,1),--this.size,!0}function Jy(d){var g=this.__data__,P=Mc(g,d);return P<0?n:g[P][1]}function GC(d){return Mc(this.__data__,d)>-1}function $C(d,g){var P=this.__data__,z=Mc(P,d);return z<0?(++this.size,P.push([d,g])):P[z][1]=g,this}zs.prototype.clear=Zy,zs.prototype.delete=jC,zs.prototype.get=Jy,zs.prototype.has=GC,zs.prototype.set=$C;function Io(d){var g=-1,P=d==null?0:d.length;for(this.clear();++g<P;){var z=d[g];this.set(z[0],z[1])}}function Qy(){this.size=0,this.__data__={hash:new Tl,map:new(vu||zs),string:new Tl}}function KC(d){var g=xx(this,d).delete(d);return this.size-=g?1:0,g}function qC(d){return xx(this,d).get(d)}function bv(d){return xx(this,d).has(d)}function XC(d,g){var P=xx(this,d),z=P.size;return P.set(d,g),this.size+=P.size==z?0:1,this}Io.prototype.clear=Qy,Io.prototype.delete=KC,Io.prototype.get=qC,Io.prototype.has=bv,Io.prototype.set=XC;function Bs(d){var g=-1,P=d==null?0:d.length;for(this.__data__=new Io;++g<P;)this.add(d[g])}function YC(d){return this.__data__.set(d,l),this}function Ec(d){return this.__data__.has(d)}Bs.prototype.add=Bs.prototype.push=YC,Bs.prototype.has=Ec;function ga(d){var g=this.__data__=new zs(d);this.size=g.size}function ZC(){this.__data__=new zs,this.size=0}function JC(d){var g=this.__data__,P=g.delete(d);return this.size=g.size,P}function Nh(d){return this.__data__.get(d)}function QC(d){return this.__data__.has(d)}function eE(d,g){var P=this.__data__;if(P instanceof zs){var z=P.__data__;if(!vu||z.length<i-1)return z.push([d,g]),this.size=++P.size,this;P=this.__data__=new Io(z)}return P.set(d,g),this.size=P.size,this}ga.prototype.clear=ZC,ga.prototype.delete=JC,ga.prototype.get=Nh,ga.prototype.has=QC,ga.prototype.set=eE;function ex(d,g){var P=kn(d),z=!P&&Jd(d),J=!P&&!z&&kc(d),le=!P&&!z&&!J&&Vh(d),xe=P||z||J||le,Pe=xe?mh(d.length,Hy):[],Le=Pe.length;for(var ut in d)(g||_r.call(d,ut))&&!(xe&&(ut=="length"||J&&(ut=="offset"||ut=="parent")||le&&(ut=="buffer"||ut=="byteLength"||ut=="byteOffset")||bu(ut,Le)))&&Pe.push(ut);return Pe}function tx(d){var g=d.length;return g?d[dE(0,g-1)]:n}function tE(d,g){return bx(xa(d),Lo(g,0,d.length))}function $d(d){return bx(xa(d))}function kh(d,g,P){(P!==n&&!Ws(d[g],P)||P===n&&!(g in d))&&Vs(d,g,P)}function Kd(d,g,P){var z=d[g];(!(_r.call(d,g)&&Ws(z,P))||P===n&&!(g in d))&&Vs(d,g,P)}function Mc(d,g){for(var P=d.length;P--;)if(Ws(d[P][0],g))return P;return-1}function nx(d,g,P,z){return Us(d,function(J,le,xe){g(z,J,P(J),xe)}),z}function rx(d,g){return d&&Al(g,go(g),d)}function wv(d,g){return d&&Al(g,wa(g),d)}function Vs(d,g,P){g=="__proto__"&&Ph?Ph(d,g,{configurable:!0,enumerable:!0,value:P,writable:!0}):d[g]=P}function _v(d,g){for(var P=-1,z=g.length,J=Qe(z),le=d==null;++P<z;)J[P]=le?n:DE(d,g[P]);return J}function Lo(d,g,P){return d===d&&(P!==n&&(d=d<=P?d:P),g!==n&&(d=d>=g?d:g)),d}function ya(d,g,P,z,J,le){var xe,Pe=g&h,Le=g&f,ut=g&m;if(P&&(xe=J?P(d,z,J,le):P(d)),xe!==n)return xe;if(!yi(d))return d;var ct=kn(d);if(ct){if(xe=bq(d),!Pe)return xa(d,xe)}else{var pt=Do(d),kt=pt==be||pt==Ce;if(kc(d))return _k(d,Pe);if(pt==We||pt==ye||kt&&!J){if(xe=Le||kt?{}:Uk(d),!Pe)return Le?uq(d,wv(xe,d)):lq(d,rx(xe,d))}else{if(!wt[pt])return J?d:{};xe=wq(d,pt,Pe)}}le||(le=new ga);var nn=le.get(d);if(nn)return nn;le.set(d,xe),vI(d)?d.forEach(function(xn){xe.add(ya(xn,g,P,xn,d,le))}):pI(d)&&d.forEach(function(xn,Kn){xe.set(Kn,ya(xn,g,P,Kn,d,le))});var yn=ut?Le?_E:wE:Le?wa:go,Bn=ct?n:yn(d);return Ji(Bn||d,function(xn,Kn){Bn&&(Kn=xn,xn=d[Kn]),Kd(xe,Kn,ya(xn,g,P,Kn,d,le))}),xe}function nE(d){var g=go(d);return function(P){return Ih(P,d,g)}}function Ih(d,g,P){var z=P.length;if(d==null)return!z;for(d=kr(d);z--;){var J=P[z],le=g[J],xe=d[J];if(xe===n&&!(J in d)||!le(xe))return!1}return!0}function ix(d,g,P){if(typeof d!="function")throw new ko(a);return Av(function(){d.apply(n,P)},g)}function qd(d,g,P,z){var J=-1,le=bl,xe=!0,Pe=d.length,Le=[],ut=g.length;if(!Pe)return Le;P&&(g=qr(g,Eo(P))),z?(le=Ia,xe=!1):g.length>=i&&(le=Vd,xe=!1,g=new Bs(g));e:for(;++J<Pe;){var ct=d[J],pt=P==null?ct:P(ct);if(ct=z||ct!==0?ct:0,xe&&pt===pt){for(var kt=ut;kt--;)if(g[kt]===pt)continue e;Le.push(ct)}else le(g,pt,z)||Le.push(ct)}return Le}var Us=Tk(ds),ox=Tk(Dh,!0);function rE(d,g){var P=!0;return Us(d,function(z,J,le){return P=!!g(z,J,le),P}),P}function Lh(d,g,P){for(var z=-1,J=d.length;++z<J;){var le=d[z],xe=g(le);if(xe!=null&&(Pe===n?xe===xe&&!za(xe):P(xe,Pe)))var Pe=xe,Le=le}return Le}function iE(d,g,P,z){var J=d.length;for(P=zn(P),P<0&&(P=-P>J?0:J+P),z=z===n||z>J?J:zn(z),z<0&&(z+=J),z=P>z?0:yI(z);P<z;)d[P++]=g;return d}function ax(d,g){var P=[];return Us(d,function(z,J,le){g(z,J,le)&&P.push(z)}),P}function Qi(d,g,P,z,J){var le=-1,xe=d.length;for(P||(P=Sq),J||(J=[]);++le<xe;){var Pe=d[le];g>0&&P(Pe)?g>1?Qi(Pe,g-1,P,z,J):Ds(J,Pe):z||(J[J.length]=Pe)}return J}var Sv=Pk(),sx=Pk(!0);function ds(d,g){return d&&Sv(d,g,go)}function Dh(d,g){return d&&sx(d,g,go)}function Xd(d,g){return gi(g,function(P){return wu(d[P])})}function Pl(d,g){g=Oc(g,d);for(var P=0,z=g.length;d!=null&&P<z;)d=d[Rl(g[P++])];return P&&P==z?d:n}function lx(d,g,P){var z=g(d);return kn(d)?z:Ds(z,P(d))}function Mo(d){return d==null?d===n?$:Re:mu&&mu in kr(d)?gq(d):Rq(d)}function Cv(d,g){return d>g}function oE(d,g){return d!=null&&_r.call(d,g)}function aE(d,g){return d!=null&&g in kr(d)}function sE(d,g,P){return d>=vo(g,P)&&d<Di(g,P)}function Ev(d,g,P){for(var z=P?Ia:bl,J=d[0].length,le=d.length,xe=le,Pe=Qe(le),Le=1/0,ut=[];xe--;){var ct=d[xe];xe&&g&&(ct=qr(ct,Eo(g))),Le=vo(ct.length,Le),Pe[xe]=!P&&(g||J>=120&&ct.length>=120)?new Bs(xe&&ct):n}ct=d[0];var pt=-1,kt=Pe[0];e:for(;++pt<J&&ut.length<Le;){var nn=ct[pt],yn=g?g(nn):nn;if(nn=P||nn!==0?nn:0,!(kt?Vd(kt,yn):z(ut,yn,P))){for(xe=le;--xe;){var Bn=Pe[xe];if(!(Bn?Vd(Bn,yn):z(d[xe],yn,P)))continue e}kt&&kt.push(yn),ut.push(nn)}}return ut}function lE(d,g,P,z){return ds(d,function(J,le,xe){g(z,P(J),le,xe)}),z}function Tc(d,g,P){g=Oc(g,d),d=Gk(d,g);var z=d==null?d:d[Rl(hs(g))];return z==null?n:vi(z,d,P)}function ux(d){return Ei(d)&&Mo(d)==ye}function uE(d){return Ei(d)&&Mo(d)==ge}function E(d){return Ei(d)&&Mo(d)==Fe}function p(d,g,P,z,J){return d===g?!0:d==null||g==null||!Ei(d)&&!Ei(g)?d!==d&&g!==g:_(d,g,P,z,p,J)}function _(d,g,P,z,J,le){var xe=kn(d),Pe=kn(g),Le=xe?fe:Do(d),ut=Pe?fe:Do(g);Le=Le==ye?We:Le,ut=ut==ye?We:ut;var ct=Le==We,pt=ut==We,kt=Le==ut;if(kt&&kc(d)){if(!kc(g))return!1;xe=!0,ct=!1}if(kt&&!ct)return le||(le=new ga),xe||Vh(d)?zk(d,g,P,z,J,le):mq(d,g,Le,P,z,J,le);if(!(P&y)){var nn=ct&&_r.call(d,"__wrapped__"),yn=pt&&_r.call(g,"__wrapped__");if(nn||yn){var Bn=nn?d.value():d,xn=yn?g.value():g;return le||(le=new ga),J(Bn,xn,P,z,le)}}return kt?(le||(le=new ga),vq(d,g,P,z,J,le)):!1}function O(d){return Ei(d)&&Do(d)==Me}function ee(d,g,P,z){var J=P.length,le=J,xe=!z;if(d==null)return!le;for(d=kr(d);J--;){var Pe=P[J];if(xe&&Pe[2]?Pe[1]!==d[Pe[0]]:!(Pe[0]in d))return!1}for(;++J<le;){Pe=P[J];var Le=Pe[0],ut=d[Le],ct=Pe[1];if(xe&&Pe[2]){if(ut===n&&!(Le in d))return!1}else{var pt=new ga;if(z)var kt=z(ut,ct,Le,d,g,pt);if(!(kt===n?p(ct,ut,y|x,z,pt):kt))return!1}}return!0}function Te(d){if(!yi(d)||Eq(d))return!1;var g=wu(d)?MC:gt;return g.test(Zd(d))}function Ke(d){return Ei(d)&&Mo(d)==Be}function St(d){return Ei(d)&&Do(d)==qe}function fn(d){return Ei(d)&&Mx(d.length)&&!!Bt[Mo(d)]}function wn(d){return typeof d=="function"?d:d==null?_a:typeof d=="object"?kn(d)?gu(d[0],d[1]):Ac(d):AI(d)}function tr(d){if(!Pv(d))return OC(d);var g=[];for(var P in kr(d))_r.call(d,P)&&P!="constructor"&&g.push(P);return g}function pr(d){if(!yi(d))return Aq(d);var g=Pv(d),P=[];for(var z in d)z=="constructor"&&(g||!_r.call(d,z))||P.push(z);return P}function Hs(d,g){return d<g}function Pc(d,g){var P=-1,z=ba(d)?Qe(d.length):[];return Us(d,function(J,le,xe){z[++P]=g(J,le,xe)}),z}function Ac(d){var g=CE(d);return g.length==1&&g[0][2]?Wk(g[0][0],g[0][1]):function(P){return P===d||ee(P,d,g)}}function gu(d,g){return ME(d)&&Hk(g)?Wk(Rl(d),g):function(P){var z=DE(P,d);return z===n&&z===g?FE(P,d):p(g,z,y|x)}}function cx(d,g,P,z,J){d!==g&&Sv(g,function(le,xe){if(J||(J=new ga),yi(le))qK(d,g,xe,P,cx,z,J);else{var Pe=z?z(PE(d,xe),le,xe+"",d,g,J):n;Pe===n&&(Pe=le),kh(d,xe,Pe)}},wa)}function qK(d,g,P,z,J,le,xe){var Pe=PE(d,P),Le=PE(g,P),ut=xe.get(Le);if(ut){kh(d,P,ut);return}var ct=le?le(Pe,Le,P+"",d,g,xe):n,pt=ct===n;if(pt){var kt=kn(Le),nn=!kt&&kc(Le),yn=!kt&&!nn&&Vh(Le);ct=Le,kt||nn||yn?kn(Pe)?ct=Pe:Fi(Pe)?ct=xa(Pe):nn?(pt=!1,ct=_k(Le,!0)):yn?(pt=!1,ct=Sk(Le,!0)):ct=[]:Rv(Le)||Jd(Le)?(ct=Pe,Jd(Pe)?ct=xI(Pe):(!yi(Pe)||wu(Pe))&&(ct=Uk(Le))):pt=!1}pt&&(xe.set(Le,ct),J(ct,Le,z,le,xe),xe.delete(Le)),kh(d,P,ct)}function dk(d,g){var P=d.length;if(!!P)return g+=g<0?P:0,bu(g,P)?d[g]:n}function fk(d,g,P){g.length?g=qr(g,function(le){return kn(le)?function(xe){return Pl(xe,le.length===1?le[0]:le)}:le}):g=[_a];var z=-1;g=qr(g,Eo(mn()));var J=Pc(d,function(le,xe,Pe){var Le=qr(g,function(ut){return ut(le)});return{criteria:Le,index:++z,value:le}});return zd(J,function(le,xe){return sq(le,xe,P)})}function XK(d,g){return hk(d,g,function(P,z){return FE(d,z)})}function hk(d,g,P){for(var z=-1,J=g.length,le={};++z<J;){var xe=g[z],Pe=Pl(d,xe);P(Pe,xe)&&Mv(le,Oc(xe,d),Pe)}return le}function YK(d){return function(g){return Pl(g,d)}}function cE(d,g,P,z){var J=z?cv:cs,le=-1,xe=g.length,Pe=d;for(d===g&&(g=xa(g)),P&&(Pe=qr(d,Eo(P)));++le<xe;)for(var Le=0,ut=g[le],ct=P?P(ut):ut;(Le=J(Pe,ct,Le,z))>-1;)Pe!==d&&Mh.call(Pe,Le,1),Mh.call(d,Le,1);return d}function pk(d,g){for(var P=d?g.length:0,z=P-1;P--;){var J=g[P];if(P==z||J!==le){var le=J;bu(J)?Mh.call(d,J,1):pE(d,J)}}return d}function dE(d,g){return d+_c(Ky()*(g-d+1))}function ZK(d,g,P,z){for(var J=-1,le=Di(Ah((g-d)/(P||1)),0),xe=Qe(le);le--;)xe[z?le:++J]=d,d+=P;return xe}function fE(d,g){var P="";if(!d||g<1||g>H)return P;do g%2&&(P+=d),g=_c(g/2),g&&(d+=d);while(g);return P}function Hn(d,g){return AE(jk(d,g,_a),d+"")}function JK(d){return tx(Uh(d))}function QK(d,g){var P=Uh(d);return bx(P,Lo(g,0,P.length))}function Mv(d,g,P,z){if(!yi(d))return d;g=Oc(g,d);for(var J=-1,le=g.length,xe=le-1,Pe=d;Pe!=null&&++J<le;){var Le=Rl(g[J]),ut=P;if(Le==="__proto__"||Le==="constructor"||Le==="prototype")return d;if(J!=xe){var ct=Pe[Le];ut=z?z(ct,Le,Pe):n,ut===n&&(ut=yi(ct)?ct:bu(g[J+1])?[]:{})}Kd(Pe,Le,ut),Pe=Pe[Le]}return d}var mk=Rh?function(d,g){return Rh.set(d,g),d}:_a,eq=Ph?function(d,g){return Ph(d,"toString",{configurable:!0,enumerable:!1,value:BE(g),writable:!0})}:_a;function tq(d){return bx(Uh(d))}function fs(d,g,P){var z=-1,J=d.length;g<0&&(g=-g>J?0:J+g),P=P>J?J:P,P<0&&(P+=J),J=g>P?0:P-g>>>0,g>>>=0;for(var le=Qe(J);++z<J;)le[z]=d[z+g];return le}function nq(d,g){var P;return Us(d,function(z,J,le){return P=g(z,J,le),!P}),!!P}function dx(d,g,P){var z=0,J=d==null?z:d.length;if(typeof g=="number"&&g===g&&J<=se){for(;z<J;){var le=z+J>>>1,xe=d[le];xe!==null&&!za(xe)&&(P?xe<=g:xe<g)?z=le+1:J=le}return J}return hE(d,g,_a,P)}function hE(d,g,P,z){var J=0,le=d==null?0:d.length;if(le===0)return 0;g=P(g);for(var xe=g!==g,Pe=g===null,Le=za(g),ut=g===n;J<le;){var ct=_c((J+le)/2),pt=P(d[ct]),kt=pt!==n,nn=pt===null,yn=pt===pt,Bn=za(pt);if(xe)var xn=z||yn;else ut?xn=yn&&(z||kt):Pe?xn=yn&&kt&&(z||!nn):Le?xn=yn&&kt&&!nn&&(z||!Bn):nn||Bn?xn=!1:xn=z?pt<=g:pt<g;xn?J=ct+1:le=ct}return vo(le,re)}function vk(d,g){for(var P=-1,z=d.length,J=0,le=[];++P<z;){var xe=d[P],Pe=g?g(xe):xe;if(!P||!Ws(Pe,Le)){var Le=Pe;le[J++]=xe===0?0:xe}}return le}function gk(d){return typeof d=="number"?d:za(d)?Z:+d}function Fa(d){if(typeof d=="string")return d;if(kn(d))return qr(d,Fa)+"";if(za(d))return Xy?Xy.call(d):"";var g=d+"";return g=="0"&&1/d==-G?"-0":g}function Rc(d,g,P){var z=-1,J=bl,le=d.length,xe=!0,Pe=[],Le=Pe;if(P)xe=!1,J=Ia;else if(le>=i){var ut=g?null:hq(d);if(ut)return Hd(ut);xe=!1,J=Vd,Le=new Bs}else Le=g?[]:Pe;e:for(;++z<le;){var ct=d[z],pt=g?g(ct):ct;if(ct=P||ct!==0?ct:0,xe&&pt===pt){for(var kt=Le.length;kt--;)if(Le[kt]===pt)continue e;g&&Le.push(pt),Pe.push(ct)}else J(Le,pt,P)||(Le!==Pe&&Le.push(pt),Pe.push(ct))}return Pe}function pE(d,g){return g=Oc(g,d),d=Gk(d,g),d==null||delete d[Rl(hs(g))]}function yk(d,g,P,z){return Mv(d,g,P(Pl(d,g)),z)}function fx(d,g,P,z){for(var J=d.length,le=z?J:-1;(z?le--:++le<J)&&g(d[le],le,d););return P?fs(d,z?0:le,z?le+1:J):fs(d,z?le+1:0,z?J:le)}function xk(d,g){var P=d;return P instanceof Nn&&(P=P.value()),Dd(g,function(z,J){return J.func.apply(J.thisArg,Ds([z],J.args))},P)}function mE(d,g,P){var z=d.length;if(z<2)return z?Rc(d[0]):[];for(var J=-1,le=Qe(z);++J<z;)for(var xe=d[J],Pe=-1;++Pe<z;)Pe!=J&&(le[J]=qd(le[J]||xe,d[Pe],g,P));return Rc(Qi(le,1),g,P)}function bk(d,g,P){for(var z=-1,J=d.length,le=g.length,xe={};++z<J;){var Pe=z<le?g[z]:n;P(xe,d[z],Pe)}return xe}function vE(d){return Fi(d)?d:[]}function gE(d){return typeof d=="function"?d:_a}function Oc(d,g){return kn(d)?d:ME(d,g)?[d]:Xk(Ar(d))}var rq=Hn;function Nc(d,g,P){var z=d.length;return P=P===n?z:P,!g&&P>=z?d:fs(d,g,P)}var wk=TC||function(d){return Jn.clearTimeout(d)};function _k(d,g){if(g)return d.slice();var P=d.length,z=Sh?Sh(P):new d.constructor(P);return d.copy(z),z}function yE(d){var g=new d.constructor(d.byteLength);return new _h(g).set(new _h(d)),g}function iq(d,g){var P=g?yE(d.buffer):d.buffer;return new d.constructor(P,d.byteOffset,d.byteLength)}function oq(d){var g=new d.constructor(d.source,sn.exec(d));return g.lastIndex=d.lastIndex,g}function aq(d){return Gd?kr(Gd.call(d)):{}}function Sk(d,g){var P=g?yE(d.buffer):d.buffer;return new d.constructor(P,d.byteOffset,d.length)}function Ck(d,g){if(d!==g){var P=d!==n,z=d===null,J=d===d,le=za(d),xe=g!==n,Pe=g===null,Le=g===g,ut=za(g);if(!Pe&&!ut&&!le&&d>g||le&&xe&&Le&&!Pe&&!ut||z&&xe&&Le||!P&&Le||!J)return 1;if(!z&&!le&&!ut&&d<g||ut&&P&&J&&!z&&!le||Pe&&P&&J||!xe&&J||!Le)return-1}return 0}function sq(d,g,P){for(var z=-1,J=d.criteria,le=g.criteria,xe=J.length,Pe=P.length;++z<xe;){var Le=Ck(J[z],le[z]);if(Le){if(z>=Pe)return Le;var ut=P[z];return Le*(ut=="desc"?-1:1)}}return d.index-g.index}function Ek(d,g,P,z){for(var J=-1,le=d.length,xe=P.length,Pe=-1,Le=g.length,ut=Di(le-xe,0),ct=Qe(Le+ut),pt=!z;++Pe<Le;)ct[Pe]=g[Pe];for(;++J<xe;)(pt||J<le)&&(ct[P[J]]=d[J]);for(;ut--;)ct[Pe++]=d[J++];return ct}function Mk(d,g,P,z){for(var J=-1,le=d.length,xe=-1,Pe=P.length,Le=-1,ut=g.length,ct=Di(le-Pe,0),pt=Qe(ct+ut),kt=!z;++J<ct;)pt[J]=d[J];for(var nn=J;++Le<ut;)pt[nn+Le]=g[Le];for(;++xe<Pe;)(kt||J<le)&&(pt[nn+P[xe]]=d[J++]);return pt}function xa(d,g){var P=-1,z=d.length;for(g||(g=Qe(z));++P<z;)g[P]=d[P];return g}function Al(d,g,P,z){var J=!P;P||(P={});for(var le=-1,xe=g.length;++le<xe;){var Pe=g[le],Le=z?z(P[Pe],d[Pe],Pe,P,d):n;Le===n&&(Le=d[Pe]),J?Vs(P,Pe,Le):Kd(P,Pe,Le)}return P}function lq(d,g){return Al(d,EE(d),g)}function uq(d,g){return Al(d,Bk(d),g)}function hx(d,g){return function(P,z){var J=kn(P)?lv:nx,le=g?g():{};return J(P,d,mn(z,2),le)}}function Fh(d){return Hn(function(g,P){var z=-1,J=P.length,le=J>1?P[J-1]:n,xe=J>2?P[2]:n;for(le=d.length>3&&typeof le=="function"?(J--,le):n,xe&&ta(P[0],P[1],xe)&&(le=J<3?n:le,J=1),g=kr(g);++z<J;){var Pe=P[z];Pe&&d(g,Pe,z,le)}return g})}function Tk(d,g){return function(P,z){if(P==null)return P;if(!ba(P))return d(P,z);for(var J=P.length,le=g?J:-1,xe=kr(P);(g?le--:++le<J)&&z(xe[le],le,xe)!==!1;);return P}}function Pk(d){return function(g,P,z){for(var J=-1,le=kr(g),xe=z(g),Pe=xe.length;Pe--;){var Le=xe[d?Pe:++J];if(P(le[Le],Le,le)===!1)break}return g}}function cq(d,g,P){var z=g&b,J=Tv(d);function le(){var xe=this&&this!==Jn&&this instanceof le?J:d;return xe.apply(z?P:this,arguments)}return le}function Ak(d){return function(g){g=Ar(g);var P=gc(g)?La(g):n,z=P?P[0]:g.charAt(0),J=P?Nc(P,1).join(""):g.slice(1);return z[d]()+J}}function zh(d){return function(g){return Dd(TI(MI(g).replace(F,"")),d,"")}}function Tv(d){return function(){var g=arguments;switch(g.length){case 0:return new d;case 1:return new d(g[0]);case 2:return new d(g[0],g[1]);case 3:return new d(g[0],g[1],g[2]);case 4:return new d(g[0],g[1],g[2],g[3]);case 5:return new d(g[0],g[1],g[2],g[3],g[4]);case 6:return new d(g[0],g[1],g[2],g[3],g[4],g[5]);case 7:return new d(g[0],g[1],g[2],g[3],g[4],g[5],g[6])}var P=Cc(d.prototype),z=d.apply(P,g);return yi(z)?z:P}}function dq(d,g,P){var z=Tv(d);function J(){for(var le=arguments.length,xe=Qe(le),Pe=le,Le=Bh(J);Pe--;)xe[Pe]=arguments[Pe];var ut=le<3&&xe[0]!==Le&&xe[le-1]!==Le?[]:_l(xe,Le);if(le-=ut.length,le<P)return Ik(d,g,px,J.placeholder,n,xe,ut,n,n,P-le);var ct=this&&this!==Jn&&this instanceof J?z:d;return vi(ct,this,xe)}return J}function Rk(d){return function(g,P,z){var J=kr(g);if(!ba(g)){var le=mn(P,3);g=go(g),P=function(Pe){return le(J[Pe],Pe,J)}}var xe=d(g,P,z);return xe>-1?J[le?g[xe]:xe]:n}}function Ok(d){return xu(function(g){var P=g.length,z=P,J=ea.prototype.thru;for(d&&g.reverse();z--;){var le=g[z];if(typeof le!="function")throw new ko(a);if(J&&!xe&&yx(le)=="wrapper")var xe=new ea([],!0)}for(z=xe?z:P;++z<P;){le=g[z];var Pe=yx(le),Le=Pe=="wrapper"?SE(le):n;Le&&TE(Le[0])&&Le[1]==(I|C|T|A)&&!Le[4].length&&Le[9]==1?xe=xe[yx(Le[0])].apply(xe,Le[3]):xe=le.length==1&&TE(le)?xe[Pe]():xe.thru(le)}return function(){var ut=arguments,ct=ut[0];if(xe&&ut.length==1&&kn(ct))return xe.plant(ct).value();for(var pt=0,kt=P?g[pt].apply(this,ut):ct;++pt<P;)kt=g[pt].call(this,kt);return kt}})}function px(d,g,P,z,J,le,xe,Pe,Le,ut){var ct=g&I,pt=g&b,kt=g&w,nn=g&(C|M),yn=g&N,Bn=kt?n:Tv(d);function xn(){for(var Kn=arguments.length,ar=Qe(Kn),Ba=Kn;Ba--;)ar[Ba]=arguments[Ba];if(nn)var na=Bh(xn),Va=vc(ar,na);if(z&&(ar=Ek(ar,z,J,nn)),le&&(ar=Mk(ar,le,xe,nn)),Kn-=Va,nn&&Kn<ut){var zi=_l(ar,na);return Ik(d,g,px,xn.placeholder,P,ar,zi,Pe,Le,ut-Kn)}var js=pt?P:this,Su=kt?js[d]:d;return Kn=ar.length,Pe?ar=Oq(ar,Pe):yn&&Kn>1&&ar.reverse(),ct&&Le<Kn&&(ar.length=Le),this&&this!==Jn&&this instanceof xn&&(Su=Bn||Tv(Su)),Su.apply(js,ar)}return xn}function Nk(d,g){return function(P,z){return lE(P,d,g(z),{})}}function mx(d,g){return function(P,z){var J;if(P===n&&z===n)return g;if(P!==n&&(J=P),z!==n){if(J===n)return z;typeof P=="string"||typeof z=="string"?(P=Fa(P),z=Fa(z)):(P=gk(P),z=gk(z)),J=d(P,z)}return J}}function xE(d){return xu(function(g){return g=qr(g,Eo(mn())),Hn(function(P){var z=this;return d(g,function(J){return vi(J,z,P)})})})}function vx(d,g){g=g===n?" ":Fa(g);var P=g.length;if(P<2)return P?fE(g,d):g;var z=fE(g,Ah(d/hu(g)));return gc(g)?Nc(La(z),0,d).join(""):z.slice(0,d)}function fq(d,g,P,z){var J=g&b,le=Tv(d);function xe(){for(var Pe=-1,Le=arguments.length,ut=-1,ct=z.length,pt=Qe(ct+Le),kt=this&&this!==Jn&&this instanceof xe?le:d;++ut<ct;)pt[ut]=z[ut];for(;Le--;)pt[ut++]=arguments[++Pe];return vi(kt,J?P:this,pt)}return xe}function kk(d){return function(g,P,z){return z&&typeof z!="number"&&ta(g,P,z)&&(P=z=n),g=_u(g),P===n?(P=g,g=0):P=_u(P),z=z===n?g<P?1:-1:_u(z),ZK(g,P,z,d)}}function gx(d){return function(g,P){return typeof g=="string"&&typeof P=="string"||(g=ps(g),P=ps(P)),d(g,P)}}function Ik(d,g,P,z,J,le,xe,Pe,Le,ut){var ct=g&C,pt=ct?xe:n,kt=ct?n:xe,nn=ct?le:n,yn=ct?n:le;g|=ct?T:R,g&=~(ct?R:T),g&S||(g&=~(b|w));var Bn=[d,g,J,nn,pt,yn,kt,Pe,Le,ut],xn=P.apply(n,Bn);return TE(d)&&$k(xn,Bn),xn.placeholder=z,Kk(xn,d,g)}function bE(d){var g=ai[d];return function(P,z){if(P=ps(P),z=z==null?0:vo(zn(z),292),z&&$y(P)){var J=(Ar(P)+"e").split("e"),le=g(J[0]+"e"+(+J[1]+z));return J=(Ar(le)+"e").split("e"),+(J[0]+"e"+(+J[1]-z))}return g(P)}}var hq=Sc&&1/Hd(new Sc([,-0]))[1]==G?function(d){return new Sc(d)}:HE;function Lk(d){return function(g){var P=Do(g);return P==Me?hv(g):P==qe?wC(g):wl(g,d(g))}}function yu(d,g,P,z,J,le,xe,Pe){var Le=g&w;if(!Le&&typeof d!="function")throw new ko(a);var ut=z?z.length:0;if(ut||(g&=~(T|R),z=J=n),xe=xe===n?xe:Di(zn(xe),0),Pe=Pe===n?Pe:zn(Pe),ut-=J?J.length:0,g&R){var ct=z,pt=J;z=J=n}var kt=Le?n:SE(d),nn=[d,g,P,z,J,ct,pt,le,xe,Pe];if(kt&&Pq(nn,kt),d=nn[0],g=nn[1],P=nn[2],z=nn[3],J=nn[4],Pe=nn[9]=nn[9]===n?Le?0:d.length:Di(nn[9]-ut,0),!Pe&&g&(C|M)&&(g&=~(C|M)),!g||g==b)var yn=cq(d,g,P);else g==C||g==M?yn=dq(d,g,Pe):(g==T||g==(b|T))&&!J.length?yn=fq(d,g,P,z):yn=px.apply(n,nn);var Bn=kt?mk:$k;return Kk(Bn(yn,nn),d,g)}function Dk(d,g,P,z){return d===n||Ws(d,Fs[P])&&!_r.call(z,P)?g:d}function Fk(d,g,P,z,J,le){return yi(d)&&yi(g)&&(le.set(g,d),cx(d,g,n,Fk,le),le.delete(g)),d}function pq(d){return Rv(d)?n:d}function zk(d,g,P,z,J,le){var xe=P&y,Pe=d.length,Le=g.length;if(Pe!=Le&&!(xe&&Le>Pe))return!1;var ut=le.get(d),ct=le.get(g);if(ut&&ct)return ut==g&&ct==d;var pt=-1,kt=!0,nn=P&x?new Bs:n;for(le.set(d,g),le.set(g,d);++pt<Pe;){var yn=d[pt],Bn=g[pt];if(z)var xn=xe?z(Bn,yn,pt,g,d,le):z(yn,Bn,pt,d,g,le);if(xn!==n){if(xn)continue;kt=!1;break}if(nn){if(!Fr(g,function(Kn,ar){if(!Vd(nn,ar)&&(yn===Kn||J(yn,Kn,P,z,le)))return nn.push(ar)})){kt=!1;break}}else if(!(yn===Bn||J(yn,Bn,P,z,le))){kt=!1;break}}return le.delete(d),le.delete(g),kt}function mq(d,g,P,z,J,le,xe){switch(P){case me:if(d.byteLength!=g.byteLength||d.byteOffset!=g.byteOffset)return!1;d=d.buffer,g=g.buffer;case ge:return!(d.byteLength!=g.byteLength||!le(new _h(d),new _h(g)));case Oe:case Fe:case ze:return Ws(+d,+g);case Ye:return d.name==g.name&&d.message==g.message;case Be:case te:return d==g+"";case Me:var Pe=hv;case qe:var Le=z&y;if(Pe||(Pe=Hd),d.size!=g.size&&!Le)return!1;var ut=xe.get(d);if(ut)return ut==g;z|=x,xe.set(d,g);var ct=zk(Pe(d),Pe(g),z,J,le,xe);return xe.delete(d),ct;case k:if(Gd)return Gd.call(d)==Gd.call(g)}return!1}function vq(d,g,P,z,J,le){var xe=P&y,Pe=wE(d),Le=Pe.length,ut=wE(g),ct=ut.length;if(Le!=ct&&!xe)return!1;for(var pt=Le;pt--;){var kt=Pe[pt];if(!(xe?kt in g:_r.call(g,kt)))return!1}var nn=le.get(d),yn=le.get(g);if(nn&&yn)return nn==g&&yn==d;var Bn=!0;le.set(d,g),le.set(g,d);for(var xn=xe;++pt<Le;){kt=Pe[pt];var Kn=d[kt],ar=g[kt];if(z)var Ba=xe?z(ar,Kn,kt,g,d,le):z(Kn,ar,kt,d,g,le);if(!(Ba===n?Kn===ar||J(Kn,ar,P,z,le):Ba)){Bn=!1;break}xn||(xn=kt=="constructor")}if(Bn&&!xn){var na=d.constructor,Va=g.constructor;na!=Va&&"constructor"in d&&"constructor"in g&&!(typeof na=="function"&&na instanceof na&&typeof Va=="function"&&Va instanceof Va)&&(Bn=!1)}return le.delete(d),le.delete(g),Bn}function xu(d){return AE(jk(d,n,Qk),d+"")}function wE(d){return lx(d,go,EE)}function _E(d){return lx(d,wa,Bk)}var SE=Rh?function(d){return Rh.get(d)}:HE;function yx(d){for(var g=d.name+"",P=Qo[g],z=_r.call(Qo,g)?P.length:0;z--;){var J=P[z],le=J.func;if(le==null||le==d)return J.name}return g}function Bh(d){var g=_r.call(ie,"placeholder")?ie:d;return g.placeholder}function mn(){var d=ie.iteratee||VE;return d=d===VE?wn:d,arguments.length?d(arguments[0],arguments[1]):d}function xx(d,g){var P=d.__data__;return Cq(g)?P[typeof g=="string"?"string":"hash"]:P.map}function CE(d){for(var g=go(d),P=g.length;P--;){var z=g[P],J=d[z];g[P]=[z,J,Hk(J)]}return g}function Yd(d,g){var P=xC(d,g);return Te(P)?P:n}function gq(d){var g=_r.call(d,mu),P=d[mu];try{d[mu]=n;var z=!0}catch{}var J=bh.call(d);return z&&(g?d[mu]=P:delete d[mu]),J}var EE=vv?function(d){return d==null?[]:(d=kr(d),gi(vv(d),function(g){return Gy.call(d,g)}))}:WE,Bk=vv?function(d){for(var g=[];d;)Ds(g,EE(d)),d=Ch(d);return g}:WE,Do=Mo;(gv&&Do(new gv(new ArrayBuffer(1)))!=me||vu&&Do(new vu)!=Me||yv&&Do(yv.resolve())!=Ue||Sc&&Do(new Sc)!=qe||Wd&&Do(new Wd)!=U)&&(Do=function(d){var g=Mo(d),P=g==We?d.constructor:n,z=P?Zd(P):"";if(z)switch(z){case qy:return me;case LC:return Me;case DC:return Ue;case xv:return qe;case FC:return U}return g});function yq(d,g,P){for(var z=-1,J=P.length;++z<J;){var le=P[z],xe=le.size;switch(le.type){case"drop":d+=xe;break;case"dropRight":g-=xe;break;case"take":g=vo(g,d+xe);break;case"takeRight":d=Di(d,g-xe);break}}return{start:d,end:g}}function xq(d){var g=d.match(Ie);return g?g[1].split(Je):[]}function Vk(d,g,P){g=Oc(g,d);for(var z=-1,J=g.length,le=!1;++z<J;){var xe=Rl(g[z]);if(!(le=d!=null&&P(d,xe)))break;d=d[xe]}return le||++z!=J?le:(J=d==null?0:d.length,!!J&&Mx(J)&&bu(xe,J)&&(kn(d)||Jd(d)))}function bq(d){var g=d.length,P=new d.constructor(g);return g&&typeof d[0]=="string"&&_r.call(d,"index")&&(P.index=d.index,P.input=d.input),P}function Uk(d){return typeof d.constructor=="function"&&!Pv(d)?Cc(Ch(d)):{}}function wq(d,g,P){var z=d.constructor;switch(g){case ge:return yE(d);case Oe:case Fe:return new z(+d);case me:return iq(d,P);case Q:case _e:case ke:case we:case de:case je:case Ze:case vt:case ot:return Sk(d,P);case Me:return new z;case ze:case te:return new z(d);case Be:return oq(d);case qe:return new z;case k:return aq(d)}}function _q(d,g){var P=g.length;if(!P)return d;var z=P-1;return g[z]=(P>1?"& ":"")+g[z],g=g.join(P>2?", ":" "),d.replace(Ge,`{
/* [wrapped with `+g+`] */
`)}function Sq(d){return kn(d)||Jd(d)||!!(Th&&d&&d[Th])}function bu(d,g){var P=typeof d;return g=g==null?H:g,!!g&&(P=="number"||P!="symbol"&&qt.test(d))&&d>-1&&d%1==0&&d<g}function ta(d,g,P){if(!yi(P))return!1;var z=typeof g;return(z=="number"?ba(P)&&bu(g,P.length):z=="string"&&g in P)?Ws(P[g],d):!1}function ME(d,g){if(kn(d))return!1;var P=typeof d;return P=="number"||P=="symbol"||P=="boolean"||d==null||za(d)?!0:ft.test(d)||!rt.test(d)||g!=null&&d in kr(g)}function Cq(d){var g=typeof d;return g=="string"||g=="number"||g=="symbol"||g=="boolean"?d!=="__proto__":d===null}function TE(d){var g=yx(d),P=ie[g];if(typeof P!="function"||!(g in Nn.prototype))return!1;if(d===P)return!0;var z=SE(P);return!!z&&d===z[0]}function Eq(d){return!!xc&&xc in d}var Mq=yh?wu:jE;function Pv(d){var g=d&&d.constructor,P=typeof g=="function"&&g.prototype||Fs;return d===P}function Hk(d){return d===d&&!yi(d)}function Wk(d,g){return function(P){return P==null?!1:P[d]===g&&(g!==n||d in kr(P))}}function Tq(d){var g=Cx(d,function(z){return P.size===u&&P.clear(),z}),P=g.cache;return g}function Pq(d,g){var P=d[1],z=g[1],J=P|z,le=J<(b|w|I),xe=z==I&&P==C||z==I&&P==A&&d[7].length<=g[8]||z==(I|A)&&g[7].length<=g[8]&&P==C;if(!(le||xe))return d;z&b&&(d[2]=g[2],J|=P&b?0:S);var Pe=g[3];if(Pe){var Le=d[3];d[3]=Le?Ek(Le,Pe,g[4]):Pe,d[4]=Le?_l(d[3],c):g[4]}return Pe=g[5],Pe&&(Le=d[5],d[5]=Le?Mk(Le,Pe,g[6]):Pe,d[6]=Le?_l(d[5],c):g[6]),Pe=g[7],Pe&&(d[7]=Pe),z&I&&(d[8]=d[8]==null?g[8]:vo(d[8],g[8])),d[9]==null&&(d[9]=g[9]),d[0]=g[0],d[1]=J,d}function Aq(d){var g=[];if(d!=null)for(var P in kr(d))g.push(P);return g}function Rq(d){return bh.call(d)}function jk(d,g,P){return g=Di(g===n?d.length-1:g,0),function(){for(var z=arguments,J=-1,le=Di(z.length-g,0),xe=Qe(le);++J<le;)xe[J]=z[g+J];J=-1;for(var Pe=Qe(g+1);++J<g;)Pe[J]=z[J];return Pe[g]=P(xe),vi(d,this,Pe)}}function Gk(d,g){return g.length<2?d:Pl(d,fs(g,0,-1))}function Oq(d,g){for(var P=d.length,z=vo(g.length,P),J=xa(d);z--;){var le=g[z];d[z]=bu(le,P)?J[le]:n}return d}function PE(d,g){if(!(g==="constructor"&&typeof d[g]=="function")&&g!="__proto__")return d[g]}var $k=qk(mk),Av=PC||function(d,g){return Jn.setTimeout(d,g)},AE=qk(eq);function Kk(d,g,P){var z=g+"";return AE(d,_q(z,Nq(xq(z),P)))}function qk(d){var g=0,P=0;return function(){var z=NC(),J=V-(z-P);if(P=z,J>0){if(++g>=W)return arguments[0]}else g=0;return d.apply(n,arguments)}}function bx(d,g){var P=-1,z=d.length,J=z-1;for(g=g===n?z:g;++P<g;){var le=dE(P,J),xe=d[le];d[le]=d[P],d[P]=xe}return d.length=g,d}var Xk=Tq(function(d){var g=[];return d.charCodeAt(0)===46&&g.push(""),d.replace(bt,function(P,z,J,le){g.push(J?le.replace(Pt,"$1"):z||P)}),g});function Rl(d){if(typeof d=="string"||za(d))return d;var g=d+"";return g=="0"&&1/d==-G?"-0":g}function Zd(d){if(d!=null){try{return xh.call(d)}catch{}try{return d+""}catch{}}return""}function Nq(d,g){return Ji(ce,function(P){var z="_."+P[0];g&P[1]&&!bl(d,z)&&d.push(z)}),d.sort()}function Yk(d){if(d instanceof Nn)return d.clone();var g=new ea(d.__wrapped__,d.__chain__);return g.__actions__=xa(d.__actions__),g.__index__=d.__index__,g.__values__=d.__values__,g}function kq(d,g,P){(P?ta(d,g,P):g===n)?g=1:g=Di(zn(g),0);var z=d==null?0:d.length;if(!z||g<1)return[];for(var J=0,le=0,xe=Qe(Ah(z/g));J<z;)xe[le++]=fs(d,J,J+=g);return xe}function Iq(d){for(var g=-1,P=d==null?0:d.length,z=0,J=[];++g<P;){var le=d[g];le&&(J[z++]=le)}return J}function Lq(){var d=arguments.length;if(!d)return[];for(var g=Qe(d-1),P=arguments[0],z=d;z--;)g[z-1]=arguments[z];return Ds(kn(P)?xa(P):[P],Qi(g,1))}var Dq=Hn(function(d,g){return Fi(d)?qd(d,Qi(g,1,Fi,!0)):[]}),Fq=Hn(function(d,g){var P=hs(g);return Fi(P)&&(P=n),Fi(d)?qd(d,Qi(g,1,Fi,!0),mn(P,2)):[]}),zq=Hn(function(d,g){var P=hs(g);return Fi(P)&&(P=n),Fi(d)?qd(d,Qi(g,1,Fi,!0),n,P):[]});function Bq(d,g,P){var z=d==null?0:d.length;return z?(g=P||g===n?1:zn(g),fs(d,g<0?0:g,z)):[]}function Vq(d,g,P){var z=d==null?0:d.length;return z?(g=P||g===n?1:zn(g),g=z-g,fs(d,0,g<0?0:g)):[]}function Uq(d,g){return d&&d.length?fx(d,mn(g,3),!0,!0):[]}function Hq(d,g){return d&&d.length?fx(d,mn(g,3),!0):[]}function Wq(d,g,P,z){var J=d==null?0:d.length;return J?(P&&typeof P!="number"&&ta(d,g,P)&&(P=0,z=J),iE(d,g,P,z)):[]}function Zk(d,g,P){var z=d==null?0:d.length;if(!z)return-1;var J=P==null?0:zn(P);return J<0&&(J=Di(z+J,0)),hh(d,mn(g,3),J)}function Jk(d,g,P){var z=d==null?0:d.length;if(!z)return-1;var J=z-1;return P!==n&&(J=zn(P),J=P<0?Di(z+J,0):vo(J,z-1)),hh(d,mn(g,3),J,!0)}function Qk(d){var g=d==null?0:d.length;return g?Qi(d,1):[]}function jq(d){var g=d==null?0:d.length;return g?Qi(d,G):[]}function Gq(d,g){var P=d==null?0:d.length;return P?(g=g===n?1:zn(g),Qi(d,g)):[]}function $q(d){for(var g=-1,P=d==null?0:d.length,z={};++g<P;){var J=d[g];z[J[0]]=J[1]}return z}function eI(d){return d&&d.length?d[0]:n}function Kq(d,g,P){var z=d==null?0:d.length;if(!z)return-1;var J=P==null?0:zn(P);return J<0&&(J=Di(z+J,0)),cs(d,g,J)}function qq(d){var g=d==null?0:d.length;return g?fs(d,0,-1):[]}var Xq=Hn(function(d){var g=qr(d,vE);return g.length&&g[0]===d[0]?Ev(g):[]}),Yq=Hn(function(d){var g=hs(d),P=qr(d,vE);return g===hs(P)?g=n:P.pop(),P.length&&P[0]===d[0]?Ev(P,mn(g,2)):[]}),Zq=Hn(function(d){var g=hs(d),P=qr(d,vE);return g=typeof g=="function"?g:n,g&&P.pop(),P.length&&P[0]===d[0]?Ev(P,n,g):[]});function Jq(d,g){return d==null?"":RC.call(d,g)}function hs(d){var g=d==null?0:d.length;return g?d[g-1]:n}function Qq(d,g,P){var z=d==null?0:d.length;if(!z)return-1;var J=z;return P!==n&&(J=zn(P),J=J<0?Di(z+J,0):vo(J,z-1)),g===g?yc(d,g,J):hh(d,zy,J,!0)}function eX(d,g){return d&&d.length?dk(d,zn(g)):n}var tX=Hn(tI);function tI(d,g){return d&&d.length&&g&&g.length?cE(d,g):d}function nX(d,g,P){return d&&d.length&&g&&g.length?cE(d,g,mn(P,2)):d}function rX(d,g,P){return d&&d.length&&g&&g.length?cE(d,g,n,P):d}var iX=xu(function(d,g){var P=d==null?0:d.length,z=_v(d,g);return pk(d,qr(g,function(J){return bu(J,P)?+J:J}).sort(Ck)),z});function oX(d,g){var P=[];if(!(d&&d.length))return P;var z=-1,J=[],le=d.length;for(g=mn(g,3);++z<le;){var xe=d[z];g(xe,z,d)&&(P.push(xe),J.push(z))}return pk(d,J),P}function RE(d){return d==null?d:IC.call(d)}function aX(d,g,P){var z=d==null?0:d.length;return z?(P&&typeof P!="number"&&ta(d,g,P)?(g=0,P=z):(g=g==null?0:zn(g),P=P===n?z:zn(P)),fs(d,g,P)):[]}function sX(d,g){return dx(d,g)}function lX(d,g,P){return hE(d,g,mn(P,2))}function uX(d,g){var P=d==null?0:d.length;if(P){var z=dx(d,g);if(z<P&&Ws(d[z],g))return z}return-1}function cX(d,g){return dx(d,g,!0)}function dX(d,g,P){return hE(d,g,mn(P,2),!0)}function fX(d,g){var P=d==null?0:d.length;if(P){var z=dx(d,g,!0)-1;if(Ws(d[z],g))return z}return-1}function hX(d){return d&&d.length?vk(d):[]}function pX(d,g){return d&&d.length?vk(d,mn(g,2)):[]}function mX(d){var g=d==null?0:d.length;return g?fs(d,1,g):[]}function vX(d,g,P){return d&&d.length?(g=P||g===n?1:zn(g),fs(d,0,g<0?0:g)):[]}function gX(d,g,P){var z=d==null?0:d.length;return z?(g=P||g===n?1:zn(g),g=z-g,fs(d,g<0?0:g,z)):[]}function yX(d,g){return d&&d.length?fx(d,mn(g,3),!1,!0):[]}function xX(d,g){return d&&d.length?fx(d,mn(g,3)):[]}var bX=Hn(function(d){return Rc(Qi(d,1,Fi,!0))}),wX=Hn(function(d){var g=hs(d);return Fi(g)&&(g=n),Rc(Qi(d,1,Fi,!0),mn(g,2))}),_X=Hn(function(d){var g=hs(d);return g=typeof g=="function"?g:n,Rc(Qi(d,1,Fi,!0),n,g)});function SX(d){return d&&d.length?Rc(d):[]}function CX(d,g){return d&&d.length?Rc(d,mn(g,2)):[]}function EX(d,g){return g=typeof g=="function"?g:n,d&&d.length?Rc(d,n,g):[]}function OE(d){if(!(d&&d.length))return[];var g=0;return d=gi(d,function(P){if(Fi(P))return g=Di(P.length,g),!0}),mh(g,function(P){return qr(d,Fd(P))})}function nI(d,g){if(!(d&&d.length))return[];var P=OE(d);return g==null?P:qr(P,function(z){return vi(g,n,z)})}var MX=Hn(function(d,g){return Fi(d)?qd(d,g):[]}),TX=Hn(function(d){return mE(gi(d,Fi))}),PX=Hn(function(d){var g=hs(d);return Fi(g)&&(g=n),mE(gi(d,Fi),mn(g,2))}),AX=Hn(function(d){var g=hs(d);return g=typeof g=="function"?g:n,mE(gi(d,Fi),n,g)}),RX=Hn(OE);function OX(d,g){return bk(d||[],g||[],Kd)}function NX(d,g){return bk(d||[],g||[],Mv)}var kX=Hn(function(d){var g=d.length,P=g>1?d[g-1]:n;return P=typeof P=="function"?(d.pop(),P):n,nI(d,P)});function rI(d){var g=ie(d);return g.__chain__=!0,g}function IX(d,g){return g(d),d}function wx(d,g){return g(d)}var LX=xu(function(d){var g=d.length,P=g?d[0]:0,z=this.__wrapped__,J=function(le){return _v(le,d)};return g>1||this.__actions__.length||!(z instanceof Nn)||!bu(P)?this.thru(J):(z=z.slice(P,+P+(g?1:0)),z.__actions__.push({func:wx,args:[J],thisArg:n}),new ea(z,this.__chain__).thru(function(le){return g&&!le.length&&le.push(n),le}))});function DX(){return rI(this)}function FX(){return new ea(this.value(),this.__chain__)}function zX(){this.__values__===n&&(this.__values__=gI(this.value()));var d=this.__index__>=this.__values__.length,g=d?n:this.__values__[this.__index__++];return{done:d,value:g}}function BX(){return this}function VX(d){for(var g,P=this;P instanceof Da;){var z=Yk(P);z.__index__=0,z.__values__=n,g?J.__wrapped__=z:g=z;var J=z;P=P.__wrapped__}return J.__wrapped__=d,g}function UX(){var d=this.__wrapped__;if(d instanceof Nn){var g=d;return this.__actions__.length&&(g=new Nn(this)),g=g.reverse(),g.__actions__.push({func:wx,args:[RE],thisArg:n}),new ea(g,this.__chain__)}return this.thru(RE)}function HX(){return xk(this.__wrapped__,this.__actions__)}var WX=hx(function(d,g,P){_r.call(d,P)?++d[P]:Vs(d,P,1)});function jX(d,g,P){var z=kn(d)?pc:rE;return P&&ta(d,g,P)&&(g=n),z(d,mn(g,3))}function GX(d,g){var P=kn(d)?gi:ax;return P(d,mn(g,3))}var $X=Rk(Zk),KX=Rk(Jk);function qX(d,g){return Qi(_x(d,g),1)}function XX(d,g){return Qi(_x(d,g),G)}function YX(d,g,P){return P=P===n?1:zn(P),Qi(_x(d,g),P)}function iI(d,g){var P=kn(d)?Ji:Us;return P(d,mn(g,3))}function oI(d,g){var P=kn(d)?vC:ox;return P(d,mn(g,3))}var ZX=hx(function(d,g,P){_r.call(d,P)?d[P].push(g):Vs(d,P,[g])});function JX(d,g,P,z){d=ba(d)?d:Uh(d),P=P&&!z?zn(P):0;var J=d.length;return P<0&&(P=Di(J+P,0)),Tx(d)?P<=J&&d.indexOf(g,P)>-1:!!J&&cs(d,g,P)>-1}var QX=Hn(function(d,g,P){var z=-1,J=typeof g=="function",le=ba(d)?Qe(d.length):[];return Us(d,function(xe){le[++z]=J?vi(g,xe,P):Tc(xe,g,P)}),le}),eY=hx(function(d,g,P){Vs(d,P,g)});function _x(d,g){var P=kn(d)?qr:Pc;return P(d,mn(g,3))}function tY(d,g,P,z){return d==null?[]:(kn(g)||(g=g==null?[]:[g]),P=z?n:P,kn(P)||(P=P==null?[]:[P]),fk(d,g,P))}var nY=hx(function(d,g,P){d[P?0:1].push(g)},function(){return[[],[]]});function rY(d,g,P){var z=kn(d)?Dd:ph,J=arguments.length<3;return z(d,mn(g,4),P,J,Us)}function iY(d,g,P){var z=kn(d)?cu:ph,J=arguments.length<3;return z(d,mn(g,4),P,J,ox)}function oY(d,g){var P=kn(d)?gi:ax;return P(d,Ex(mn(g,3)))}function aY(d){var g=kn(d)?tx:JK;return g(d)}function sY(d,g,P){(P?ta(d,g,P):g===n)?g=1:g=zn(g);var z=kn(d)?tE:QK;return z(d,g)}function lY(d){var g=kn(d)?$d:tq;return g(d)}function uY(d){if(d==null)return 0;if(ba(d))return Tx(d)?hu(d):d.length;var g=Do(d);return g==Me||g==qe?d.size:tr(d).length}function cY(d,g,P){var z=kn(d)?Fr:nq;return P&&ta(d,g,P)&&(g=n),z(d,mn(g,3))}var dY=Hn(function(d,g){if(d==null)return[];var P=g.length;return P>1&&ta(d,g[0],g[1])?g=[]:P>2&&ta(g[0],g[1],g[2])&&(g=[g[0]]),fk(d,Qi(g,1),[])}),Sx=mv||function(){return Jn.Date.now()};function fY(d,g){if(typeof g!="function")throw new ko(a);return d=zn(d),function(){if(--d<1)return g.apply(this,arguments)}}function aI(d,g,P){return g=P?n:g,g=d&&g==null?d.length:g,yu(d,I,n,n,n,n,g)}function sI(d,g){var P;if(typeof g!="function")throw new ko(a);return d=zn(d),function(){return--d>0&&(P=g.apply(this,arguments)),d<=1&&(g=n),P}}var NE=Hn(function(d,g,P){var z=b;if(P.length){var J=_l(P,Bh(NE));z|=T}return yu(d,z,g,P,J)}),lI=Hn(function(d,g,P){var z=b|w;if(P.length){var J=_l(P,Bh(lI));z|=T}return yu(g,z,d,P,J)});function uI(d,g,P){g=P?n:g;var z=yu(d,C,n,n,n,n,n,g);return z.placeholder=uI.placeholder,z}function cI(d,g,P){g=P?n:g;var z=yu(d,M,n,n,n,n,n,g);return z.placeholder=cI.placeholder,z}function dI(d,g,P){var z,J,le,xe,Pe,Le,ut=0,ct=!1,pt=!1,kt=!0;if(typeof d!="function")throw new ko(a);g=ps(g)||0,yi(P)&&(ct=!!P.leading,pt="maxWait"in P,le=pt?Di(ps(P.maxWait)||0,g):le,kt="trailing"in P?!!P.trailing:kt);function nn(zi){var js=z,Su=J;return z=J=n,ut=zi,xe=d.apply(Su,js),xe}function yn(zi){return ut=zi,Pe=Av(Kn,g),ct?nn(zi):xe}function Bn(zi){var js=zi-Le,Su=zi-ut,RI=g-js;return pt?vo(RI,le-Su):RI}function xn(zi){var js=zi-Le,Su=zi-ut;return Le===n||js>=g||js<0||pt&&Su>=le}function Kn(){var zi=Sx();if(xn(zi))return ar(zi);Pe=Av(Kn,Bn(zi))}function ar(zi){return Pe=n,kt&&z?nn(zi):(z=J=n,xe)}function Ba(){Pe!==n&&wk(Pe),ut=0,z=Le=J=Pe=n}function na(){return Pe===n?xe:ar(Sx())}function Va(){var zi=Sx(),js=xn(zi);if(z=arguments,J=this,Le=zi,js){if(Pe===n)return yn(Le);if(pt)return wk(Pe),Pe=Av(Kn,g),nn(Le)}return Pe===n&&(Pe=Av(Kn,g)),xe}return Va.cancel=Ba,Va.flush=na,Va}var hY=Hn(function(d,g){return ix(d,1,g)}),pY=Hn(function(d,g,P){return ix(d,ps(g)||0,P)});function mY(d){return yu(d,N)}function Cx(d,g){if(typeof d!="function"||g!=null&&typeof g!="function")throw new ko(a);var P=function(){var z=arguments,J=g?g.apply(this,z):z[0],le=P.cache;if(le.has(J))return le.get(J);var xe=d.apply(this,z);return P.cache=le.set(J,xe)||le,xe};return P.cache=new(Cx.Cache||Io),P}Cx.Cache=Io;function Ex(d){if(typeof d!="function")throw new ko(a);return function(){var g=arguments;switch(g.length){case 0:return!d.call(this);case 1:return!d.call(this,g[0]);case 2:return!d.call(this,g[0],g[1]);case 3:return!d.call(this,g[0],g[1],g[2])}return!d.apply(this,g)}}function vY(d){return sI(2,d)}var gY=rq(function(d,g){g=g.length==1&&kn(g[0])?qr(g[0],Eo(mn())):qr(Qi(g,1),Eo(mn()));var P=g.length;return Hn(function(z){for(var J=-1,le=vo(z.length,P);++J<le;)z[J]=g[J].call(this,z[J]);return vi(d,this,z)})}),kE=Hn(function(d,g){var P=_l(g,Bh(kE));return yu(d,T,n,g,P)}),fI=Hn(function(d,g){var P=_l(g,Bh(fI));return yu(d,R,n,g,P)}),yY=xu(function(d,g){return yu(d,A,n,n,n,g)});function xY(d,g){if(typeof d!="function")throw new ko(a);return g=g===n?g:zn(g),Hn(d,g)}function bY(d,g){if(typeof d!="function")throw new ko(a);return g=g==null?0:Di(zn(g),0),Hn(function(P){var z=P[g],J=Nc(P,0,g);return z&&Ds(J,z),vi(d,this,J)})}function wY(d,g,P){var z=!0,J=!0;if(typeof d!="function")throw new ko(a);return yi(P)&&(z="leading"in P?!!P.leading:z,J="trailing"in P?!!P.trailing:J),dI(d,g,{leading:z,maxWait:g,trailing:J})}function _Y(d){return aI(d,1)}function SY(d,g){return kE(gE(g),d)}function CY(){if(!arguments.length)return[];var d=arguments[0];return kn(d)?d:[d]}function EY(d){return ya(d,m)}function MY(d,g){return g=typeof g=="function"?g:n,ya(d,m,g)}function TY(d){return ya(d,h|m)}function PY(d,g){return g=typeof g=="function"?g:n,ya(d,h|m,g)}function AY(d,g){return g==null||Ih(d,g,go(g))}function Ws(d,g){return d===g||d!==d&&g!==g}var RY=gx(Cv),OY=gx(function(d,g){return d>=g}),Jd=ux(function(){return arguments}())?ux:function(d){return Ei(d)&&_r.call(d,"callee")&&!Gy.call(d,"callee")},kn=Qe.isArray,NY=mi?Eo(mi):uE;function ba(d){return d!=null&&Mx(d.length)&&!wu(d)}function Fi(d){return Ei(d)&&ba(d)}function kY(d){return d===!0||d===!1||Ei(d)&&Mo(d)==Oe}var kc=AC||jE,IY=Qn?Eo(Qn):E;function LY(d){return Ei(d)&&d.nodeType===1&&!Rv(d)}function DY(d){if(d==null)return!0;if(ba(d)&&(kn(d)||typeof d=="string"||typeof d.splice=="function"||kc(d)||Vh(d)||Jd(d)))return!d.length;var g=Do(d);if(g==Me||g==qe)return!d.size;if(Pv(d))return!tr(d).length;for(var P in d)if(_r.call(d,P))return!1;return!0}function FY(d,g){return p(d,g)}function zY(d,g,P){P=typeof P=="function"?P:n;var z=P?P(d,g):n;return z===n?p(d,g,n,P):!!z}function IE(d){if(!Ei(d))return!1;var g=Mo(d);return g==Ye||g==Ee||typeof d.message=="string"&&typeof d.name=="string"&&!Rv(d)}function BY(d){return typeof d=="number"&&$y(d)}function wu(d){if(!yi(d))return!1;var g=Mo(d);return g==be||g==Ce||g==De||g==Ve}function hI(d){return typeof d=="number"&&d==zn(d)}function Mx(d){return typeof d=="number"&&d>-1&&d%1==0&&d<=H}function yi(d){var g=typeof d;return d!=null&&(g=="object"||g=="function")}function Ei(d){return d!=null&&typeof d=="object"}var pI=hc?Eo(hc):O;function VY(d,g){return d===g||ee(d,g,CE(g))}function UY(d,g,P){return P=typeof P=="function"?P:n,ee(d,g,CE(g),P)}function HY(d){return mI(d)&&d!=+d}function WY(d){if(Mq(d))throw new bn(o);return Te(d)}function jY(d){return d===null}function GY(d){return d==null}function mI(d){return typeof d=="number"||Ei(d)&&Mo(d)==ze}function Rv(d){if(!Ei(d)||Mo(d)!=We)return!1;var g=Ch(d);if(g===null)return!0;var P=_r.call(g,"constructor")&&g.constructor;return typeof P=="function"&&P instanceof P&&xh.call(P)==EC}var LE=Co?Eo(Co):Ke;function $Y(d){return hI(d)&&d>=-H&&d<=H}var vI=xl?Eo(xl):St;function Tx(d){return typeof d=="string"||!kn(d)&&Ei(d)&&Mo(d)==te}function za(d){return typeof d=="symbol"||Ei(d)&&Mo(d)==k}var Vh=va?Eo(va):fn;function KY(d){return d===n}function qY(d){return Ei(d)&&Do(d)==U}function XY(d){return Ei(d)&&Mo(d)==ne}var YY=gx(Hs),ZY=gx(function(d,g){return d<=g});function gI(d){if(!d)return[];if(ba(d))return Tx(d)?La(d):xa(d);if(wc&&d[wc])return bC(d[wc]());var g=Do(d),P=g==Me?hv:g==qe?Hd:Uh;return P(d)}function _u(d){if(!d)return d===0?d:0;if(d=ps(d),d===G||d===-G){var g=d<0?-1:1;return g*Y}return d===d?d:0}function zn(d){var g=_u(d),P=g%1;return g===g?P?g-P:g:0}function yI(d){return d?Lo(zn(d),0,oe):0}function ps(d){if(typeof d=="number")return d;if(za(d))return Z;if(yi(d)){var g=typeof d.valueOf=="function"?d.valueOf():d;d=yi(g)?g+"":g}if(typeof d!="string")return d===0?d:+d;d=fv(d);var P=cn.test(d);return P||Tt.test(d)?Zn(d.slice(2),P?2:8):Kt.test(d)?Z:+d}function xI(d){return Al(d,wa(d))}function JY(d){return d?Lo(zn(d),-H,H):d===0?d:0}function Ar(d){return d==null?"":Fa(d)}var QY=Fh(function(d,g){if(Pv(g)||ba(g)){Al(g,go(g),d);return}for(var P in g)_r.call(g,P)&&Kd(d,P,g[P])}),bI=Fh(function(d,g){Al(g,wa(g),d)}),Px=Fh(function(d,g,P,z){Al(g,wa(g),d,z)}),eZ=Fh(function(d,g,P,z){Al(g,go(g),d,z)}),tZ=xu(_v);function nZ(d,g){var P=Cc(d);return g==null?P:rx(P,g)}var rZ=Hn(function(d,g){d=kr(d);var P=-1,z=g.length,J=z>2?g[2]:n;for(J&&ta(g[0],g[1],J)&&(z=1);++P<z;)for(var le=g[P],xe=wa(le),Pe=-1,Le=xe.length;++Pe<Le;){var ut=xe[Pe],ct=d[ut];(ct===n||Ws(ct,Fs[ut])&&!_r.call(d,ut))&&(d[ut]=le[ut])}return d}),iZ=Hn(function(d){return d.push(n,Fk),vi(wI,n,d)});function oZ(d,g){return Jo(d,mn(g,3),ds)}function aZ(d,g){return Jo(d,mn(g,3),Dh)}function sZ(d,g){return d==null?d:Sv(d,mn(g,3),wa)}function lZ(d,g){return d==null?d:sx(d,mn(g,3),wa)}function uZ(d,g){return d&&ds(d,mn(g,3))}function cZ(d,g){return d&&Dh(d,mn(g,3))}function dZ(d){return d==null?[]:Xd(d,go(d))}function fZ(d){return d==null?[]:Xd(d,wa(d))}function DE(d,g,P){var z=d==null?n:Pl(d,g);return z===n?P:z}function hZ(d,g){return d!=null&&Vk(d,g,oE)}function FE(d,g){return d!=null&&Vk(d,g,aE)}var pZ=Nk(function(d,g,P){g!=null&&typeof g.toString!="function"&&(g=bh.call(g)),d[g]=P},BE(_a)),mZ=Nk(function(d,g,P){g!=null&&typeof g.toString!="function"&&(g=bh.call(g)),_r.call(d,g)?d[g].push(P):d[g]=[P]},mn),vZ=Hn(Tc);function go(d){return ba(d)?ex(d):tr(d)}function wa(d){return ba(d)?ex(d,!0):pr(d)}function gZ(d,g){var P={};return g=mn(g,3),ds(d,function(z,J,le){Vs(P,g(z,J,le),z)}),P}function yZ(d,g){var P={};return g=mn(g,3),ds(d,function(z,J,le){Vs(P,J,g(z,J,le))}),P}var xZ=Fh(function(d,g,P){cx(d,g,P)}),wI=Fh(function(d,g,P,z){cx(d,g,P,z)}),bZ=xu(function(d,g){var P={};if(d==null)return P;var z=!1;g=qr(g,function(le){return le=Oc(le,d),z||(z=le.length>1),le}),Al(d,_E(d),P),z&&(P=ya(P,h|f|m,pq));for(var J=g.length;J--;)pE(P,g[J]);return P});function wZ(d,g){return _I(d,Ex(mn(g)))}var _Z=xu(function(d,g){return d==null?{}:XK(d,g)});function _I(d,g){if(d==null)return{};var P=qr(_E(d),function(z){return[z]});return g=mn(g),hk(d,P,function(z,J){return g(z,J[0])})}function SZ(d,g,P){g=Oc(g,d);var z=-1,J=g.length;for(J||(J=1,d=n);++z<J;){var le=d==null?n:d[Rl(g[z])];le===n&&(z=J,le=P),d=wu(le)?le.call(d):le}return d}function CZ(d,g,P){return d==null?d:Mv(d,g,P)}function EZ(d,g,P,z){return z=typeof z=="function"?z:n,d==null?d:Mv(d,g,P,z)}var SI=Lk(go),CI=Lk(wa);function MZ(d,g,P){var z=kn(d),J=z||kc(d)||Vh(d);if(g=mn(g,4),P==null){var le=d&&d.constructor;J?P=z?new le:[]:yi(d)?P=wu(le)?Cc(Ch(d)):{}:P={}}return(J?Ji:ds)(d,function(xe,Pe,Le){return g(P,xe,Pe,Le)}),P}function TZ(d,g){return d==null?!0:pE(d,g)}function PZ(d,g,P){return d==null?d:yk(d,g,gE(P))}function AZ(d,g,P,z){return z=typeof z=="function"?z:n,d==null?d:yk(d,g,gE(P),z)}function Uh(d){return d==null?[]:Bd(d,go(d))}function RZ(d){return d==null?[]:Bd(d,wa(d))}function OZ(d,g,P){return P===n&&(P=g,g=n),P!==n&&(P=ps(P),P=P===P?P:0),g!==n&&(g=ps(g),g=g===g?g:0),Lo(ps(d),g,P)}function NZ(d,g,P){return g=_u(g),P===n?(P=g,g=0):P=_u(P),d=ps(d),sE(d,g,P)}function kZ(d,g,P){if(P&&typeof P!="boolean"&&ta(d,g,P)&&(g=P=n),P===n&&(typeof g=="boolean"?(P=g,g=n):typeof d=="boolean"&&(P=d,d=n)),d===n&&g===n?(d=0,g=1):(d=_u(d),g===n?(g=d,d=0):g=_u(g)),d>g){var z=d;d=g,g=z}if(P||d%1||g%1){var J=Ky();return vo(d+J*(g-d+Mn("1e-"+((J+"").length-1))),g)}return dE(d,g)}var IZ=zh(function(d,g,P){return g=g.toLowerCase(),d+(P?EI(g):g)});function EI(d){return zE(Ar(d).toLowerCase())}function MI(d){return d=Ar(d),d&&d.replace(Dn,vh).replace(X,"")}function LZ(d,g,P){d=Ar(d),g=Fa(g);var z=d.length;P=P===n?z:Lo(zn(P),0,z);var J=P;return P-=g.length,P>=0&&d.slice(P,J)==g}function DZ(d){return d=Ar(d),d&&An.test(d)?d.replace(Ft,gC):d}function FZ(d){return d=Ar(d),d&&Sn.test(d)?d.replace(Yt,"\\$&"):d}var zZ=zh(function(d,g,P){return d+(P?"-":"")+g.toLowerCase()}),BZ=zh(function(d,g,P){return d+(P?" ":"")+g.toLowerCase()}),VZ=Ak("toLowerCase");function UZ(d,g,P){d=Ar(d),g=zn(g);var z=g?hu(d):0;if(!g||z>=g)return d;var J=(g-z)/2;return vx(_c(J),P)+d+vx(Ah(J),P)}function HZ(d,g,P){d=Ar(d),g=zn(g);var z=g?hu(d):0;return g&&z<g?d+vx(g-z,P):d}function WZ(d,g,P){d=Ar(d),g=zn(g);var z=g?hu(d):0;return g&&z<g?vx(g-z,P)+d:d}function jZ(d,g,P){return P||g==null?g=0:g&&(g=+g),kC(Ar(d).replace(he,""),g||0)}function GZ(d,g,P){return(P?ta(d,g,P):g===n)?g=1:g=zn(g),fE(Ar(d),g)}function $Z(){var d=arguments,g=Ar(d[0]);return d.length<3?g:g.replace(d[1],d[2])}var KZ=zh(function(d,g,P){return d+(P?"_":"")+g.toLowerCase()});function qZ(d,g,P){return P&&typeof P!="number"&&ta(d,g,P)&&(g=P=n),P=P===n?oe:P>>>0,P?(d=Ar(d),d&&(typeof g=="string"||g!=null&&!LE(g))&&(g=Fa(g),!g&&gc(d))?Nc(La(d),0,P):d.split(g,P)):[]}var XZ=zh(function(d,g,P){return d+(P?" ":"")+zE(g)});function YZ(d,g,P){return d=Ar(d),P=P==null?0:Lo(zn(P),0,d.length),g=Fa(g),d.slice(P,P+g.length)==g}function ZZ(d,g,P){var z=ie.templateSettings;P&&ta(d,g,P)&&(g=n),d=Ar(d),g=Px({},g,z,Dk);var J=Px({},g.imports,z.imports,Dk),le=go(J),xe=Bd(J,le),Pe,Le,ut=0,ct=g.interpolate||rn,pt="__p += '",kt=pv((g.escape||rn).source+"|"+ct.source+"|"+(ct===it?zt:rn).source+"|"+(g.evaluate||rn).source+"|$","g"),nn="//# sourceURL="+(_r.call(g,"sourceURL")?(g.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Vn+"]")+`
`;d.replace(kt,function(xn,Kn,ar,Ba,na,Va){return ar||(ar=Ba),pt+=d.slice(ut,Va).replace(Nt,yC),Kn&&(Pe=!0,pt+=`' +
__e(`+Kn+`) +
'`),na&&(Le=!0,pt+=`';
`+na+`;
__p += '`),ar&&(pt+=`' +
((__t = (`+ar+`)) == null ? '' : __t) +
'`),ut=Va+xn.length,xn}),pt+=`';
`;var yn=_r.call(g,"variable")&&g.variable;if(!yn)pt=`with (obj) {
`+pt+`
}
`;else if(Dt.test(yn))throw new bn(s);pt=(Le?pt.replace(ht,""):pt).replace(at,"$1").replace(Mt,"$1;"),pt="function("+(yn||"obj")+`) {
`+(yn?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Pe?", __e = _.escape":"")+(Le?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+pt+`return __p
}`;var Bn=PI(function(){return er(le,nn+"return "+pt).apply(n,xe)});if(Bn.source=pt,IE(Bn))throw Bn;return Bn}function JZ(d){return Ar(d).toLowerCase()}function QZ(d){return Ar(d).toUpperCase()}function eJ(d,g,P){if(d=Ar(d),d&&(P||g===n))return fv(d);if(!d||!(g=Fa(g)))return d;var z=La(d),J=La(g),le=Ud(z,J),xe=du(z,J)+1;return Nc(z,le,xe).join("")}function tJ(d,g,P){if(d=Ar(d),d&&(P||g===n))return d.slice(0,Uy(d)+1);if(!d||!(g=Fa(g)))return d;var z=La(d),J=du(z,La(g))+1;return Nc(z,0,J).join("")}function nJ(d,g,P){if(d=Ar(d),d&&(P||g===n))return d.replace(he,"");if(!d||!(g=Fa(g)))return d;var z=La(d),J=Ud(z,La(g));return Nc(z,J).join("")}function rJ(d,g){var P=L,z=D;if(yi(g)){var J="separator"in g?g.separator:J;P="length"in g?zn(g.length):P,z="omission"in g?Fa(g.omission):z}d=Ar(d);var le=d.length;if(gc(d)){var xe=La(d);le=xe.length}if(P>=le)return d;var Pe=P-hu(z);if(Pe<1)return z;var Le=xe?Nc(xe,0,Pe).join(""):d.slice(0,Pe);if(J===n)return Le+z;if(xe&&(Pe+=Le.length-Pe),LE(J)){if(d.slice(Pe).search(J)){var ut,ct=Le;for(J.global||(J=pv(J.source,Ar(sn.exec(J))+"g")),J.lastIndex=0;ut=J.exec(ct);)var pt=ut.index;Le=Le.slice(0,pt===n?Pe:pt)}}else if(d.indexOf(Fa(J),Pe)!=Pe){var kt=Le.lastIndexOf(J);kt>-1&&(Le=Le.slice(0,kt))}return Le+z}function iJ(d){return d=Ar(d),d&&$t.test(d)?d.replace(Ct,SC):d}var oJ=zh(function(d,g,P){return d+(P?" ":"")+g.toUpperCase()}),zE=Ak("toUpperCase");function TI(d,g,P){return d=Ar(d),g=P?n:g,g===n?fu(d)?Sl(d):uv(d):d.match(g)||[]}var PI=Hn(function(d,g){try{return vi(d,n,g)}catch(P){return IE(P)?P:new bn(P)}}),aJ=xu(function(d,g){return Ji(g,function(P){P=Rl(P),Vs(d,P,NE(d[P],d))}),d});function sJ(d){var g=d==null?0:d.length,P=mn();return d=g?qr(d,function(z){if(typeof z[1]!="function")throw new ko(a);return[P(z[0]),z[1]]}):[],Hn(function(z){for(var J=-1;++J<g;){var le=d[J];if(vi(le[0],this,z))return vi(le[1],this,z)}})}function lJ(d){return nE(ya(d,h))}function BE(d){return function(){return d}}function uJ(d,g){return d==null||d!==d?g:d}var cJ=Ok(),dJ=Ok(!0);function _a(d){return d}function VE(d){return wn(typeof d=="function"?d:ya(d,h))}function fJ(d){return Ac(ya(d,h))}function hJ(d,g){return gu(d,ya(g,h))}var pJ=Hn(function(d,g){return function(P){return Tc(P,d,g)}}),mJ=Hn(function(d,g){return function(P){return Tc(d,P,g)}});function UE(d,g,P){var z=go(g),J=Xd(g,z);P==null&&!(yi(g)&&(J.length||!z.length))&&(P=g,g=d,d=this,J=Xd(g,go(g)));var le=!(yi(P)&&"chain"in P)||!!P.chain,xe=wu(d);return Ji(J,function(Pe){var Le=g[Pe];d[Pe]=Le,xe&&(d.prototype[Pe]=function(){var ut=this.__chain__;if(le||ut){var ct=d(this.__wrapped__),pt=ct.__actions__=xa(this.__actions__);return pt.push({func:Le,args:arguments,thisArg:d}),ct.__chain__=ut,ct}return Le.apply(d,Ds([this.value()],arguments))})}),d}function vJ(){return Jn._===this&&(Jn._=bc),this}function HE(){}function gJ(d){return d=zn(d),Hn(function(g){return dk(g,d)})}var yJ=xE(qr),xJ=xE(pc),bJ=xE(Fr);function AI(d){return ME(d)?Fd(Rl(d)):YK(d)}function wJ(d){return function(g){return d==null?n:Pl(d,g)}}var _J=kk(),SJ=kk(!0);function WE(){return[]}function jE(){return!1}function CJ(){return{}}function EJ(){return""}function MJ(){return!0}function TJ(d,g){if(d=zn(d),d<1||d>H)return[];var P=oe,z=vo(d,oe);g=mn(g),d-=oe;for(var J=mh(z,g);++P<d;)g(P);return J}function PJ(d){return kn(d)?qr(d,Rl):za(d)?[d]:xa(Xk(Ar(d)))}function AJ(d){var g=++jy;return Ar(d)+g}var RJ=mx(function(d,g){return d+g},0),OJ=bE("ceil"),NJ=mx(function(d,g){return d/g},1),kJ=bE("floor");function IJ(d){return d&&d.length?Lh(d,_a,Cv):n}function LJ(d,g){return d&&d.length?Lh(d,mn(g,2),Cv):n}function DJ(d){return By(d,_a)}function FJ(d,g){return By(d,mn(g,2))}function zJ(d){return d&&d.length?Lh(d,_a,Hs):n}function BJ(d,g){return d&&d.length?Lh(d,mn(g,2),Hs):n}var VJ=mx(function(d,g){return d*g},1),UJ=bE("round"),HJ=mx(function(d,g){return d-g},0);function WJ(d){return d&&d.length?mc(d,_a):0}function jJ(d,g){return d&&d.length?mc(d,mn(g,2)):0}return ie.after=fY,ie.ary=aI,ie.assign=QY,ie.assignIn=bI,ie.assignInWith=Px,ie.assignWith=eZ,ie.at=tZ,ie.before=sI,ie.bind=NE,ie.bindAll=aJ,ie.bindKey=lI,ie.castArray=CY,ie.chain=rI,ie.chunk=kq,ie.compact=Iq,ie.concat=Lq,ie.cond=sJ,ie.conforms=lJ,ie.constant=BE,ie.countBy=WX,ie.create=nZ,ie.curry=uI,ie.curryRight=cI,ie.debounce=dI,ie.defaults=rZ,ie.defaultsDeep=iZ,ie.defer=hY,ie.delay=pY,ie.difference=Dq,ie.differenceBy=Fq,ie.differenceWith=zq,ie.drop=Bq,ie.dropRight=Vq,ie.dropRightWhile=Uq,ie.dropWhile=Hq,ie.fill=Wq,ie.filter=GX,ie.flatMap=qX,ie.flatMapDeep=XX,ie.flatMapDepth=YX,ie.flatten=Qk,ie.flattenDeep=jq,ie.flattenDepth=Gq,ie.flip=mY,ie.flow=cJ,ie.flowRight=dJ,ie.fromPairs=$q,ie.functions=dZ,ie.functionsIn=fZ,ie.groupBy=ZX,ie.initial=qq,ie.intersection=Xq,ie.intersectionBy=Yq,ie.intersectionWith=Zq,ie.invert=pZ,ie.invertBy=mZ,ie.invokeMap=QX,ie.iteratee=VE,ie.keyBy=eY,ie.keys=go,ie.keysIn=wa,ie.map=_x,ie.mapKeys=gZ,ie.mapValues=yZ,ie.matches=fJ,ie.matchesProperty=hJ,ie.memoize=Cx,ie.merge=xZ,ie.mergeWith=wI,ie.method=pJ,ie.methodOf=mJ,ie.mixin=UE,ie.negate=Ex,ie.nthArg=gJ,ie.omit=bZ,ie.omitBy=wZ,ie.once=vY,ie.orderBy=tY,ie.over=yJ,ie.overArgs=gY,ie.overEvery=xJ,ie.overSome=bJ,ie.partial=kE,ie.partialRight=fI,ie.partition=nY,ie.pick=_Z,ie.pickBy=_I,ie.property=AI,ie.propertyOf=wJ,ie.pull=tX,ie.pullAll=tI,ie.pullAllBy=nX,ie.pullAllWith=rX,ie.pullAt=iX,ie.range=_J,ie.rangeRight=SJ,ie.rearg=yY,ie.reject=oY,ie.remove=oX,ie.rest=xY,ie.reverse=RE,ie.sampleSize=sY,ie.set=CZ,ie.setWith=EZ,ie.shuffle=lY,ie.slice=aX,ie.sortBy=dY,ie.sortedUniq=hX,ie.sortedUniqBy=pX,ie.split=qZ,ie.spread=bY,ie.tail=mX,ie.take=vX,ie.takeRight=gX,ie.takeRightWhile=yX,ie.takeWhile=xX,ie.tap=IX,ie.throttle=wY,ie.thru=wx,ie.toArray=gI,ie.toPairs=SI,ie.toPairsIn=CI,ie.toPath=PJ,ie.toPlainObject=xI,ie.transform=MZ,ie.unary=_Y,ie.union=bX,ie.unionBy=wX,ie.unionWith=_X,ie.uniq=SX,ie.uniqBy=CX,ie.uniqWith=EX,ie.unset=TZ,ie.unzip=OE,ie.unzipWith=nI,ie.update=PZ,ie.updateWith=AZ,ie.values=Uh,ie.valuesIn=RZ,ie.without=MX,ie.words=TI,ie.wrap=SY,ie.xor=TX,ie.xorBy=PX,ie.xorWith=AX,ie.zip=RX,ie.zipObject=OX,ie.zipObjectDeep=NX,ie.zipWith=kX,ie.entries=SI,ie.entriesIn=CI,ie.extend=bI,ie.extendWith=Px,UE(ie,ie),ie.add=RJ,ie.attempt=PI,ie.camelCase=IZ,ie.capitalize=EI,ie.ceil=OJ,ie.clamp=OZ,ie.clone=EY,ie.cloneDeep=TY,ie.cloneDeepWith=PY,ie.cloneWith=MY,ie.conformsTo=AY,ie.deburr=MI,ie.defaultTo=uJ,ie.divide=NJ,ie.endsWith=LZ,ie.eq=Ws,ie.escape=DZ,ie.escapeRegExp=FZ,ie.every=jX,ie.find=$X,ie.findIndex=Zk,ie.findKey=oZ,ie.findLast=KX,ie.findLastIndex=Jk,ie.findLastKey=aZ,ie.floor=kJ,ie.forEach=iI,ie.forEachRight=oI,ie.forIn=sZ,ie.forInRight=lZ,ie.forOwn=uZ,ie.forOwnRight=cZ,ie.get=DE,ie.gt=RY,ie.gte=OY,ie.has=hZ,ie.hasIn=FE,ie.head=eI,ie.identity=_a,ie.includes=JX,ie.indexOf=Kq,ie.inRange=NZ,ie.invoke=vZ,ie.isArguments=Jd,ie.isArray=kn,ie.isArrayBuffer=NY,ie.isArrayLike=ba,ie.isArrayLikeObject=Fi,ie.isBoolean=kY,ie.isBuffer=kc,ie.isDate=IY,ie.isElement=LY,ie.isEmpty=DY,ie.isEqual=FY,ie.isEqualWith=zY,ie.isError=IE,ie.isFinite=BY,ie.isFunction=wu,ie.isInteger=hI,ie.isLength=Mx,ie.isMap=pI,ie.isMatch=VY,ie.isMatchWith=UY,ie.isNaN=HY,ie.isNative=WY,ie.isNil=GY,ie.isNull=jY,ie.isNumber=mI,ie.isObject=yi,ie.isObjectLike=Ei,ie.isPlainObject=Rv,ie.isRegExp=LE,ie.isSafeInteger=$Y,ie.isSet=vI,ie.isString=Tx,ie.isSymbol=za,ie.isTypedArray=Vh,ie.isUndefined=KY,ie.isWeakMap=qY,ie.isWeakSet=XY,ie.join=Jq,ie.kebabCase=zZ,ie.last=hs,ie.lastIndexOf=Qq,ie.lowerCase=BZ,ie.lowerFirst=VZ,ie.lt=YY,ie.lte=ZY,ie.max=IJ,ie.maxBy=LJ,ie.mean=DJ,ie.meanBy=FJ,ie.min=zJ,ie.minBy=BJ,ie.stubArray=WE,ie.stubFalse=jE,ie.stubObject=CJ,ie.stubString=EJ,ie.stubTrue=MJ,ie.multiply=VJ,ie.nth=eX,ie.noConflict=vJ,ie.noop=HE,ie.now=Sx,ie.pad=UZ,ie.padEnd=HZ,ie.padStart=WZ,ie.parseInt=jZ,ie.random=kZ,ie.reduce=rY,ie.reduceRight=iY,ie.repeat=GZ,ie.replace=$Z,ie.result=SZ,ie.round=UJ,ie.runInContext=Ne,ie.sample=aY,ie.size=uY,ie.snakeCase=KZ,ie.some=cY,ie.sortedIndex=sX,ie.sortedIndexBy=lX,ie.sortedIndexOf=uX,ie.sortedLastIndex=cX,ie.sortedLastIndexBy=dX,ie.sortedLastIndexOf=fX,ie.startCase=XZ,ie.startsWith=YZ,ie.subtract=HJ,ie.sum=WJ,ie.sumBy=jJ,ie.template=ZZ,ie.times=TJ,ie.toFinite=_u,ie.toInteger=zn,ie.toLength=yI,ie.toLower=JZ,ie.toNumber=ps,ie.toSafeInteger=JY,ie.toString=Ar,ie.toUpper=QZ,ie.trim=eJ,ie.trimEnd=tJ,ie.trimStart=nJ,ie.truncate=rJ,ie.unescape=iJ,ie.uniqueId=AJ,ie.upperCase=oJ,ie.upperFirst=zE,ie.each=iI,ie.eachRight=oI,ie.first=eI,UE(ie,function(){var d={};return ds(ie,function(g,P){_r.call(ie.prototype,P)||(d[P]=g)}),d}(),{chain:!1}),ie.VERSION=r,Ji(["bind","bindKey","curry","curryRight","partial","partialRight"],function(d){ie[d].placeholder=ie}),Ji(["drop","take"],function(d,g){Nn.prototype[d]=function(P){P=P===n?1:Di(zn(P),0);var z=this.__filtered__&&!g?new Nn(this):this.clone();return z.__filtered__?z.__takeCount__=vo(P,z.__takeCount__):z.__views__.push({size:vo(P,oe),type:d+(z.__dir__<0?"Right":"")}),z},Nn.prototype[d+"Right"]=function(P){return this.reverse()[d](P).reverse()}}),Ji(["filter","map","takeWhile"],function(d,g){var P=g+1,z=P==B||P==j;Nn.prototype[d]=function(J){var le=this.clone();return le.__iteratees__.push({iteratee:mn(J,3),type:P}),le.__filtered__=le.__filtered__||z,le}}),Ji(["head","last"],function(d,g){var P="take"+(g?"Right":"");Nn.prototype[d]=function(){return this[P](1).value()[0]}}),Ji(["initial","tail"],function(d,g){var P="drop"+(g?"":"Right");Nn.prototype[d]=function(){return this.__filtered__?new Nn(this):this[P](1)}}),Nn.prototype.compact=function(){return this.filter(_a)},Nn.prototype.find=function(d){return this.filter(d).head()},Nn.prototype.findLast=function(d){return this.reverse().find(d)},Nn.prototype.invokeMap=Hn(function(d,g){return typeof d=="function"?new Nn(this):this.map(function(P){return Tc(P,d,g)})}),Nn.prototype.reject=function(d){return this.filter(Ex(mn(d)))},Nn.prototype.slice=function(d,g){d=zn(d);var P=this;return P.__filtered__&&(d>0||g<0)?new Nn(P):(d<0?P=P.takeRight(-d):d&&(P=P.drop(d)),g!==n&&(g=zn(g),P=g<0?P.dropRight(-g):P.take(g-d)),P)},Nn.prototype.takeRightWhile=function(d){return this.reverse().takeWhile(d).reverse()},Nn.prototype.toArray=function(){return this.take(oe)},ds(Nn.prototype,function(d,g){var P=/^(?:filter|find|map|reject)|While$/.test(g),z=/^(?:head|last)$/.test(g),J=ie[z?"take"+(g=="last"?"Right":""):g],le=z||/^find/.test(g);!J||(ie.prototype[g]=function(){var xe=this.__wrapped__,Pe=z?[1]:arguments,Le=xe instanceof Nn,ut=Pe[0],ct=Le||kn(xe),pt=function(Kn){var ar=J.apply(ie,Ds([Kn],Pe));return z&&kt?ar[0]:ar};ct&&P&&typeof ut=="function"&&ut.length!=1&&(Le=ct=!1);var kt=this.__chain__,nn=!!this.__actions__.length,yn=le&&!kt,Bn=Le&&!nn;if(!le&&ct){xe=Bn?xe:new Nn(this);var xn=d.apply(xe,Pe);return xn.__actions__.push({func:wx,args:[pt],thisArg:n}),new ea(xn,kt)}return yn&&Bn?d.apply(this,Pe):(xn=this.thru(pt),yn?z?xn.value()[0]:xn.value():xn)})}),Ji(["pop","push","shift","sort","splice","unshift"],function(d){var g=pu[d],P=/^(?:push|sort|unshift)$/.test(d)?"tap":"thru",z=/^(?:pop|shift)$/.test(d);ie.prototype[d]=function(){var J=arguments;if(z&&!this.__chain__){var le=this.value();return g.apply(kn(le)?le:[],J)}return this[P](function(xe){return g.apply(kn(xe)?xe:[],J)})}}),ds(Nn.prototype,function(d,g){var P=ie[g];if(P){var z=P.name+"";_r.call(Qo,z)||(Qo[z]=[]),Qo[z].push({name:g,func:P})}}),Qo[px(n,w).name]=[{name:"wrapper",func:n}],Nn.prototype.clone=zC,Nn.prototype.reverse=Ml,Nn.prototype.value=BC,ie.prototype.at=LX,ie.prototype.chain=DX,ie.prototype.commit=FX,ie.prototype.next=zX,ie.prototype.plant=VX,ie.prototype.reverse=UX,ie.prototype.toJSON=ie.prototype.valueOf=ie.prototype.value=HX,ie.prototype.first=ie.prototype.head,wc&&(ie.prototype[wc]=BX),ie},Cl=CC();wr?((wr.exports=Cl)._=Cl,gn._=Cl):Jn._=Cl}).call(Ca)})(Rs,Rs.exports);const tu=(t,e,n)=>{if(!t.has(e)){const r=n();return t.set(e,r),r}return t.get(e)},zW=t=>{throw new Error("unexpected value: "+t)},fA=(t,e,n=new WeakSet)=>{if(Array.isArray(t)){if(n.has(t))return;n.add(t);for(let r=0;r<t.length;++r){const i=t[r];e(r,i,t),fA(i,e,n)}}else if(t&&typeof t=="object"){if(n.has(t))return;n.add(t);for(const[r,i]of Object.entries(t))e(r,i,t),fA(i,e,n)}},BW=(t,e)=>{const n=t.indexOf(e);return n===-1?!1:(t.splice(n,1),!0)},ebe=(t,e=-1)=>t[t.length+e],VW=t=>{const e=t.split(".");if(e.length===1)return e;const n=e.pop();return[e.join("."),n]},hA=(t,e)=>Math.random()*(e-t)+t,OO=(t,e,n)=>{let r,i=!1,o,a,s=n==="trailingPromise"?new Promise(l=>a=l):void 0;return(...l)=>{if(o=l,i)return s!=null?s:r;i=!0,(n==="leading"||n==="both")&&(r=t(...o));const u=()=>{(n==="trailing"||n==="both"||n==="trailingPromise")&&(r=t(...o),a==null||a(r),s=n==="trailingPromise"?new Promise(c=>a=c):void 0),i=!1};return e>0?setTimeout(u,e):queueMicrotask(u),s!=null?s:r}},tbe=(t,e)=>{if(e===0){let r=!0;return queueMicrotask(()=>r&&t()),()=>r=!1}const n=setTimeout(t,e);return()=>clearTimeout(n)},as=(t,e,n)=>{let r,i,o,a,s=n==="trailingPromise"?new Promise(l=>a=l):void 0;return(...l)=>(o=l,r?r():(n==="leading"||n==="both")&&(i=t(...o)),r=tbe(()=>{(n==="trailing"||n==="both"||n==="trailingPromise")&&(i=t(...o),a==null||a(i),s=n==="trailingPromise"?new Promise(u=>a=u):void 0),r=void 0},e),s!=null?s:i)},nbe=t=>t,oh=(t,e)=>{let n,r=!1,i=e==null?void 0:e();return(...o)=>{if(e){const a=e();i!==a&&(r=!1),i=a}return r?n:(r=!0,n=t(...o))}},nu=(t,e)=>{for(const n of e)for(const r of Object.getOwnPropertyNames(n.prototype))!(r in t.prototype)&&Object.defineProperty(t.prototype,r,Object.getOwnPropertyDescriptor(n.prototype,r)||Object.create(null))};class NO{constructor(e=void 0){this._cb=e,this.done=void 0,this._value=void 0,this._callbacks=void 0,this._watched=void 0}then(e){var n;return this.done?(e(this._value),new Yr):(((n=this._callbacks)!==null&&n!==void 0?n:this._callbacks=new Set).add(e),new Yr(()=>this._callbacks.delete(e)))}watch(e){var n;return this.done?e._resolve(this._value):(((n=this._watched)!==null&&n!==void 0?n:this._watched=new Set).add(e),e.then(()=>this._watched.delete(e)),e)}_resolve(e){var n;if(this.done)return this;if(this.done=!0,this._value=e,(n=this._cb)===null||n===void 0||n.call(this,e),this._callbacks)for(const r of this._callbacks)r(e);if(this._watched)for(const r of this._watched)r._resolve(e);return this}}class vm extends NO{constructor(e){super(e)}resolve(e){return this._resolve(e)}}class Yr extends NO{constructor(e){super(e)}cancel(){return this._resolve()}}class kO extends NO{constructor(e){super(e)}_resolve(){return this.dispose(),this}dispose(){return super._resolve()}}new Yr().cancel();class UW{constructor(){this.cbsMap=new Map}on(e,n){var r;if(Array.isArray(e)){const o=new Yr;for(const a of e)o.watch(this.on(a,n));return o}!((r=this.states)===null||r===void 0)&&r.has(e)&&n(this.states.get(e));const i=tu(this.cbsMap,e,()=>new Set);return i.add(n),new Yr(()=>i.delete(n))}once(e,n){const r=new Yr;return r.watch(this.on(e,i=>{r.cancel(),n(i)})),r}emit(e,n){if(this.cbsMap.has(e))for(const r of this.cbsMap.get(e))r(n)}hasState(e){var n;return!!(!((n=this.states)===null||n===void 0)&&n.has(e))}setState(e,n){var r;(r=this.states)!==null&&r!==void 0||(this.states=new Map),!(this.states.has(e)&&this.states.get(e)===n)&&(this.states.set(e,n),this.emit(e,n))}getState(e){var n;return(n=this.states)===null||n===void 0?void 0:n.get(e)}deleteState(e){var n;(n=this.states)===null||n===void 0||n.delete(e)}clear(){var e;this.cbsMap.clear(),(e=this.states)===null||e===void 0||e.clear()}}class rbe{constructor(){this.cbs=new Set}on(e){return"state"in this&&e(this.state),this.cbs.add(e),new Yr(()=>this.cbs.delete(e))}once(e){const n=new Yr;return n.watch(this.on(r=>{n.cancel(),e(r)})),n}emit(e){for(const n of this.cbs)n(e)}setState(e){"state"in this&&this.state===e||(this.state=e,this.emit(e))}getState(){return this.state}}var ss=()=>{const t=new rbe;return[o=>t.emit(o),(o,a)=>a?t.once(o):t.on(o),o=>t.setState(o),()=>t.getState()]};const ibe=new WeakSet,Lt=t=>{const[,e,n,r]=ss();n(t);const i=o=>{if(o){const a=new Yr;return a.watch(e(s=>o(s,a))),a}return r()};return ibe.add(i),[n,i]},IO=(t,e)=>n=>{const r=e();r&&t([...r,n])},LO=(t,e)=>n=>{const r=e();r&&t(r.filter(i=>i!==n))},obe=(t,e)=>{const n=e();return n&&typeof n=="object"&&(fA(n,(r,i)=>Object.freeze(i)),Object.freeze(n)),()=>t(n)},Kl=[],DF=t=>{var e,n,r;const i=Kl[Kl.length-1];return(e=(n=i.fiber)[r=i.count++])!==null&&e!==void 0?e:n[r]=t()},FF=t=>{var e,n;const r=Kl[Kl.length-1],i=r.count++;return(e=(n=r.fiber)[i])!==null&&e!==void 0||(n[i]=t),[()=>r.fiber[i],o=>r.fiber[i]=o]},HW=(t,e,n,r,i,o)=>{Kl.push({count:0,fiber:n,handle:t});const a=r.map(u=>typeof u=="function"?u():u),s=!i||a.some((u,c)=>u!==i[c]);s&&typeof e=="function"&&e();const l=s?o():void 0;return Kl.pop(),[l,a,s]},abe=(t,e)=>{const n=DF(()=>Kl[Kl.length-1].handle.watch(new Yr(()=>{var y;return(y=i())===null||y===void 0?void 0:y()})));if(n.done)return n;const r=DF(()=>[]),[i,o]=FF(void 0),[a,s]=FF(void 0),l=i(),u=a();l&&typeof l!="function"&&console.warn("cleanup is not a function");const[c,h,f]=HW(n,l,r,e,u,t);return f&&o(typeof c=="function"?c:void 0),s(h),n},yr=(t,e)=>{const n=new Yr(()=>setTimeout(()=>i==null?void 0:i())),r=[];let i,o;const a=as(()=>{const[s,l,u]=HW(n,i,r,e,o,t);u&&(i=typeof s=="function"?s:void 0),o=l},0,"trailing");a();for(const s of e)typeof s=="function"&&n.watch(s(a));return n},sbe=t=>{var e,n,r;const i=Kl[Kl.length-1];return(e=(n=i.fiber)[r=i.count++])!==null&&e!==void 0?e:n[r]={current:typeof t=="function"?t():t}};class Gr{constructor(e){[this.set,this.get]=Lt(e)}}/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const DO="140",Yh={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Zh={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},lbe=0,zF=1,ube=2,WW=1,cbe=2,mg=3,b0=0,Ja=1,Sd=2,jW=1,Mr=0,qu=1,D_=2,BF=3,VF=4,pA=5,Fl=100,dbe=101,fbe=102,UF=103,HF=104,mA=200,hbe=201,pbe=202,mbe=203,F_=204,z_=205,GW=206,vbe=207,$W=208,gbe=209,ybe=210,xbe=0,bbe=1,wbe=2,vA=3,_be=4,Sbe=5,Cbe=6,Ebe=7,gS=0,Mbe=1,Tbe=2,jl=0,KW=1,Pbe=2,Abe=3,Rbe=4,Obe=5,qW=300,gm=301,ym=302,w0=303,gA=304,yS=306,_0=1e3,qa=1001,yA=1002,nr=1003,WF=1004,jF=1005,Ai=1006,Nbe=1007,sy=1008,Gf=1009,kbe=1010,Ibe=1011,$f=1012,Lbe=1013,Iw=1014,al=1015,Vl=1016,Dbe=1017,Fbe=1018,tm=1020,zbe=1021,Bbe=1022,Cs=1023,Vbe=1024,Ube=1025,Nf=1026,xm=1027,Hbe=1028,Wbe=1029,jbe=1030,Gbe=1031,$be=1033,t2=33776,n2=33777,r2=33778,i2=33779,GF=35840,$F=35841,KF=35842,qF=35843,Kbe=36196,XF=37492,YF=37496,ZF=37808,JF=37809,QF=37810,e6=37811,t6=37812,n6=37813,r6=37814,i6=37815,o6=37816,a6=37817,s6=37818,l6=37819,u6=37820,c6=37821,d6=36492,xA=2200,bA=2201,qbe=2202,B_=2300,V_=2301,o2=2302,Vp=2400,Up=2401,U_=2402,FO=2500,XW=2501,Xbe=0,eNe=1,tNe=2,fl=3e3,ni=3001,Ybe=3200,xS=3201,ah=0,YW=1,Du="srgb",Tf="srgb-linear",a2=7680,Zbe=519,S0=35044,H_=35048,f6="300 es",wA=1035;class Rd{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let o=0,a=i.length;o<a;o++)i[o].call(this,e);e.target=null}}}const To=[];for(let t=0;t<256;t++)To[t]=(t<16?"0":"")+t.toString(16);let h6=1234567;const Dg=Math.PI/180,C0=180/Math.PI;function Ts(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(To[t&255]+To[t>>8&255]+To[t>>16&255]+To[t>>24&255]+"-"+To[e&255]+To[e>>8&255]+"-"+To[e>>16&15|64]+To[e>>24&255]+"-"+To[n&63|128]+To[n>>8&255]+"-"+To[n>>16&255]+To[n>>24&255]+To[r&255]+To[r>>8&255]+To[r>>16&255]+To[r>>24&255]).toLowerCase()}function Gi(t,e,n){return Math.max(e,Math.min(n,t))}function zO(t,e){return(t%e+e)%e}function Jbe(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function Qbe(t,e,n){return t!==e?(n-t)/(e-t):0}function Fg(t,e,n){return(1-n)*t+n*e}function ewe(t,e,n,r){return Fg(t,e,1-Math.exp(-n*r))}function twe(t,e=1){return e-Math.abs(zO(t,e*2)-e)}function nwe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function rwe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function iwe(t,e){return t+Math.floor(Math.random()*(e-t+1))}function owe(t,e){return t+Math.random()*(e-t)}function awe(t){return t*(.5-Math.random())}function swe(t){t!==void 0&&(h6=t);let e=h6+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function lwe(t){return t*Dg}function uwe(t){return t*C0}function _A(t){return(t&t-1)===0&&t!==0}function ZW(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function W_(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function cwe(t,e,n,r,i){const o=Math.cos,a=Math.sin,s=o(n/2),l=a(n/2),u=o((e+r)/2),c=a((e+r)/2),h=o((e-r)/2),f=a((e-r)/2),m=o((r-e)/2),y=a((r-e)/2);switch(i){case"XYX":t.set(s*c,l*h,l*f,s*u);break;case"YZY":t.set(l*f,s*c,l*h,s*u);break;case"ZXZ":t.set(l*h,l*f,s*c,s*u);break;case"XZX":t.set(s*c,l*y,l*m,s*u);break;case"YXY":t.set(l*m,s*c,l*y,s*u);break;case"ZYZ":t.set(l*y,l*m,s*c,s*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function dwe(t,e){switch(e.constructor){case Float32Array:return t;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function fwe(t,e){switch(e.constructor){case Float32Array:return t;case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}var s2=Object.freeze({__proto__:null,DEG2RAD:Dg,RAD2DEG:C0,generateUUID:Ts,clamp:Gi,euclideanModulo:zO,mapLinear:Jbe,inverseLerp:Qbe,lerp:Fg,damp:ewe,pingpong:twe,smoothstep:nwe,smootherstep:rwe,randInt:iwe,randFloat:owe,randFloatSpread:awe,seededRandom:swe,degToRad:lwe,radToDeg:uwe,isPowerOfTwo:_A,ceilPowerOfTwo:ZW,floorPowerOfTwo:W_,setQuaternionFromProperEuler:cwe,normalize:fwe,denormalize:dwe});class et{constructor(e=0,n=0){this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,n){return n!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,n)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e,n){return n!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,n)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n,r){return r!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),o=this.x-e.x,a=this.y-e.y;return this.x=o*r-a*i+e.x,this.y=o*i+a*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}et.prototype.isVector2=!0;class Ri{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,n,r,i,o,a,s,l,u){const c=this.elements;return c[0]=e,c[1]=i,c[2]=s,c[3]=n,c[4]=o,c[5]=l,c[6]=r,c[7]=a,c[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,a=r[0],s=r[3],l=r[6],u=r[1],c=r[4],h=r[7],f=r[2],m=r[5],y=r[8],x=i[0],b=i[3],w=i[6],S=i[1],C=i[4],M=i[7],T=i[2],R=i[5],I=i[8];return o[0]=a*x+s*S+l*T,o[3]=a*b+s*C+l*R,o[6]=a*w+s*M+l*I,o[1]=u*x+c*S+h*T,o[4]=u*b+c*C+h*R,o[7]=u*w+c*M+h*I,o[2]=f*x+m*S+y*T,o[5]=f*b+m*C+y*R,o[8]=f*w+m*M+y*I,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8];return n*a*c-n*s*u-r*o*c+r*s*l+i*o*u-i*a*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],h=c*a-s*u,f=s*l-c*o,m=u*o-a*l,y=n*h+r*f+i*m;if(y===0)return this.set(0,0,0,0,0,0,0,0,0);const x=1/y;return e[0]=h*x,e[1]=(i*u-c*r)*x,e[2]=(s*r-i*a)*x,e[3]=f*x,e[4]=(c*n-i*l)*x,e[5]=(i*o-s*n)*x,e[6]=m*x,e[7]=(r*l-u*n)*x,e[8]=(a*n-r*o)*x,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,o,a,s){const l=Math.cos(o),u=Math.sin(o);return this.set(r*l,r*u,-r*(l*a+u*s)+a+e,-i*u,i*l,-i*(-u*a+l*s)+s+n,0,0,1),this}scale(e,n){const r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=n,r[4]*=n,r[7]*=n,this}rotate(e){const n=Math.cos(e),r=Math.sin(e),i=this.elements,o=i[0],a=i[3],s=i[6],l=i[1],u=i[4],c=i[7];return i[0]=n*o+r*l,i[3]=n*a+r*u,i[6]=n*s+r*c,i[1]=-r*o+n*l,i[4]=-r*a+n*u,i[7]=-r*s+n*c,this}translate(e,n){const r=this.elements;return r[0]+=e*r[2],r[3]+=e*r[5],r[6]+=e*r[8],r[1]+=n*r[2],r[4]+=n*r[5],r[7]+=n*r[8],this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}Ri.prototype.isMatrix3=!0;function JW(t){for(let e=t.length-1;e>=0;--e)if(t[e]>65535)return!0;return!1}function E0(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function kf(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function Lw(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}const l2={[Du]:{[Tf]:kf},[Tf]:{[Du]:Lw}},$s={legacyMode:!0,get workingColorSpace(){return Tf},set workingColorSpace(t){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(t,e,n){if(this.legacyMode||e===n||!e||!n)return t;if(l2[e]&&l2[e][n]!==void 0){const r=l2[e][n];return t.r=r(t.r),t.g=r(t.g),t.b=r(t.b),t}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)}},QW={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},eo={r:0,g:0,b:0},Ks={h:0,s:0,l:0},fb={h:0,s:0,l:0};function u2(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}function hb(t,e){return e.r=t.r,e.g=t.g,e.b=t.b,e}class _t{constructor(e,n,r){return n===void 0&&r===void 0?this.set(e):this.setRGB(e,n,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Du){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,$s.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=Tf){return this.r=e,this.g=n,this.b=r,$s.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=Tf){if(e=zO(e,1),n=Gi(n,0,1),r=Gi(r,0,1),n===0)this.r=this.g=this.b=r;else{const o=r<=.5?r*(1+n):r+n-r*n,a=2*r-o;this.r=u2(a,o,e+1/3),this.g=u2(a,o,e),this.b=u2(a,o,e-1/3)}return $s.toWorkingColorSpace(this,i),this}setStyle(e,n=Du){function r(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let o;const a=i[1],s=i[2];switch(a){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return this.r=Math.min(255,parseInt(o[1],10))/255,this.g=Math.min(255,parseInt(o[2],10))/255,this.b=Math.min(255,parseInt(o[3],10))/255,$s.toWorkingColorSpace(this,n),r(o[4]),this;if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return this.r=Math.min(100,parseInt(o[1],10))/100,this.g=Math.min(100,parseInt(o[2],10))/100,this.b=Math.min(100,parseInt(o[3],10))/100,$s.toWorkingColorSpace(this,n),r(o[4]),this;break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s)){const l=parseFloat(o[1])/360,u=parseInt(o[2],10)/100,c=parseInt(o[3],10)/100;return r(o[4]),this.setHSL(l,u,c,n)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=i[1],a=o.length;if(a===3)return this.r=parseInt(o.charAt(0)+o.charAt(0),16)/255,this.g=parseInt(o.charAt(1)+o.charAt(1),16)/255,this.b=parseInt(o.charAt(2)+o.charAt(2),16)/255,$s.toWorkingColorSpace(this,n),this;if(a===6)return this.r=parseInt(o.charAt(0)+o.charAt(1),16)/255,this.g=parseInt(o.charAt(2)+o.charAt(3),16)/255,this.b=parseInt(o.charAt(4)+o.charAt(5),16)/255,$s.toWorkingColorSpace(this,n),this}return e&&e.length>0?this.setColorName(e,n):this}setColorName(e,n=Du){const r=QW[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=kf(e.r),this.g=kf(e.g),this.b=kf(e.b),this}copyLinearToSRGB(e){return this.r=Lw(e.r),this.g=Lw(e.g),this.b=Lw(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Du){return $s.fromWorkingColorSpace(hb(this,eo),e),Gi(eo.r*255,0,255)<<16^Gi(eo.g*255,0,255)<<8^Gi(eo.b*255,0,255)<<0}getHexString(e=Du){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Tf){$s.fromWorkingColorSpace(hb(this,eo),n);const r=eo.r,i=eo.g,o=eo.b,a=Math.max(r,i,o),s=Math.min(r,i,o);let l,u;const c=(s+a)/2;if(s===a)l=0,u=0;else{const h=a-s;switch(u=c<=.5?h/(a+s):h/(2-a-s),a){case r:l=(i-o)/h+(i<o?6:0);break;case i:l=(o-r)/h+2;break;case o:l=(r-i)/h+4;break}l/=6}return e.h=l,e.s=u,e.l=c,e}getRGB(e,n=Tf){return $s.fromWorkingColorSpace(hb(this,eo),n),e.r=eo.r,e.g=eo.g,e.b=eo.b,e}getStyle(e=Du){return $s.fromWorkingColorSpace(hb(this,eo),e),e!==Du?`color(${e} ${eo.r} ${eo.g} ${eo.b})`:`rgb(${eo.r*255|0},${eo.g*255|0},${eo.b*255|0})`}offsetHSL(e,n,r){return this.getHSL(Ks),Ks.h+=e,Ks.s+=n,Ks.l+=r,this.setHSL(Ks.h,Ks.s,Ks.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(Ks),e.getHSL(fb);const r=Fg(Ks.h,fb.h,n),i=Fg(Ks.s,fb.s,n),o=Fg(Ks.l,fb.l,n);return this.setHSL(r,i,o),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}_t.NAMES=QW;_t.prototype.isColor=!0;_t.prototype.r=1;_t.prototype.g=1;_t.prototype.b=1;let Jh;class sh{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement=="undefined")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Jh===void 0&&(Jh=E0("canvas")),Jh.width=e.width,Jh.height=e.height;const r=Jh.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=Jh}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement!="undefined"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&e instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&e instanceof ImageBitmap){const n=E0("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),o=i.data;for(let a=0;a<o.length;a++)o[a]=kf(o[a]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(kf(n[r]/255)*255):n[r]=kf(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class BO{constructor(e=null){this.uuid=Ts(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let o;if(Array.isArray(i)){o=[];for(let a=0,s=i.length;a<s;a++)i[a].isDataTexture?o.push(c2(i[a].image)):o.push(c2(i[a]))}else o=c2(i);r.url=o}return n||(e.images[this.uuid]=r),r}}function c2(t){return typeof HTMLImageElement!="undefined"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&t instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&t instanceof ImageBitmap?sh.getDataURL(t):t.data?{data:Array.prototype.slice.call(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}BO.prototype.isSource=!0;let hwe=0;class Yi extends Rd{constructor(e=Yi.DEFAULT_IMAGE,n=Yi.DEFAULT_MAPPING,r=qa,i=qa,o=Ai,a=sy,s=Cs,l=Gf,u=1,c=fl){super(),Object.defineProperty(this,"id",{value:hwe++}),this.uuid=Ts(),this.name="",this.source=new BO(e),this.mipmaps=[],this.mapping=n,this.wrapS=r,this.wrapT=i,this.magFilter=o,this.minFilter=a,this.anisotropy=u,this.format=s,this.internalFormat=null,this.type=l,this.offset=new et(0,0),this.repeat=new et(1,1),this.center=new et(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ri,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=c,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==qW)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case _0:e.x=e.x-Math.floor(e.x);break;case qa:e.x=e.x<0?0:1;break;case yA:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case _0:e.y=e.y-Math.floor(e.y);break;case qa:e.y=e.y<0?0:1;break;case yA:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}Yi.DEFAULT_IMAGE=null;Yi.DEFAULT_MAPPING=qW;Yi.prototype.isTexture=!0;class zr{constructor(e=0,n=0,r=0,i=1){this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e,n){return n!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,n)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e,n){return n!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,n)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=this.w,a=e.elements;return this.x=a[0]*n+a[4]*r+a[8]*i+a[12]*o,this.y=a[1]*n+a[5]*r+a[9]*i+a[13]*o,this.z=a[2]*n+a[6]*r+a[10]*i+a[14]*o,this.w=a[3]*n+a[7]*r+a[11]*i+a[15]*o,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,o;const l=e.elements,u=l[0],c=l[4],h=l[8],f=l[1],m=l[5],y=l[9],x=l[2],b=l[6],w=l[10];if(Math.abs(c-f)<.01&&Math.abs(h-x)<.01&&Math.abs(y-b)<.01){if(Math.abs(c+f)<.1&&Math.abs(h+x)<.1&&Math.abs(y+b)<.1&&Math.abs(u+m+w-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const C=(u+1)/2,M=(m+1)/2,T=(w+1)/2,R=(c+f)/4,I=(h+x)/4,A=(y+b)/4;return C>M&&C>T?C<.01?(r=0,i=.707106781,o=.707106781):(r=Math.sqrt(C),i=R/r,o=I/r):M>T?M<.01?(r=.707106781,i=0,o=.707106781):(i=Math.sqrt(M),r=R/i,o=A/i):T<.01?(r=.707106781,i=.707106781,o=0):(o=Math.sqrt(T),r=I/o,i=A/o),this.set(r,i,o,n),this}let S=Math.sqrt((b-y)*(b-y)+(h-x)*(h-x)+(f-c)*(f-c));return Math.abs(S)<.001&&(S=1),this.x=(b-y)/S,this.y=(h-x)/S,this.z=(f-c)/S,this.w=Math.acos((u+m+w-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n,r){return r!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}zr.prototype.isVector4=!0;class sr extends Rd{constructor(e,n,r={}){super(),this.width=e,this.height=n,this.depth=1,this.scissor=new zr(0,0,e,n),this.scissorTest=!1,this.viewport=new zr(0,0,e,n);const i={width:e,height:n,depth:1};this.texture=new Yi(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:Ai,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,n,r=1){(this.width!==e||this.height!==n||this.depth!==r)&&(this.width=e,this.height=n,this.depth=r,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new BO(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}sr.prototype.isWebGLRenderTarget=!0;class bS extends Yi{constructor(e=null,n=1,r=1,i=1){super(null),this.image={data:e,width:n,height:r,depth:i},this.magFilter=nr,this.minFilter=nr,this.wrapR=qa,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}bS.prototype.isDataArrayTexture=!0;class pwe extends sr{constructor(e,n,r){super(e,n),this.depth=r,this.texture=new bS(null,e,n,r),this.texture.isRenderTargetTexture=!0}}pwe.prototype.isWebGLArrayRenderTarget=!0;class VO extends Yi{constructor(e=null,n=1,r=1,i=1){super(null),this.image={data:e,width:n,height:r,depth:i},this.magFilter=nr,this.minFilter=nr,this.wrapR=qa,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}VO.prototype.isData3DTexture=!0;class mwe extends sr{constructor(e,n,r){super(e,n),this.depth=r,this.texture=new VO(null,e,n,r),this.texture.isRenderTargetTexture=!0}}mwe.prototype.isWebGL3DRenderTarget=!0;class vwe extends sr{constructor(e,n,r,i={}){super(e,n,i);const o=this.texture;this.texture=[];for(let a=0;a<r;a++)this.texture[a]=o.clone(),this.texture[a].isRenderTargetTexture=!0}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,o=this.texture.length;i<o;i++)this.texture[i].image.width=e,this.texture[i].image.height=n,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let n=0,r=e.texture.length;n<r;n++)this.texture[n]=e.texture[n].clone(),this.texture[n].isRenderTargetTexture=!0;return this}}vwe.prototype.isWebGLMultipleRenderTargets=!0;class uo{constructor(e=0,n=0,r=0,i=1){this._x=e,this._y=n,this._z=r,this._w=i}static slerp(e,n,r,i){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),r.slerpQuaternions(e,n,i)}static slerpFlat(e,n,r,i,o,a,s){let l=r[i+0],u=r[i+1],c=r[i+2],h=r[i+3];const f=o[a+0],m=o[a+1],y=o[a+2],x=o[a+3];if(s===0){e[n+0]=l,e[n+1]=u,e[n+2]=c,e[n+3]=h;return}if(s===1){e[n+0]=f,e[n+1]=m,e[n+2]=y,e[n+3]=x;return}if(h!==x||l!==f||u!==m||c!==y){let b=1-s;const w=l*f+u*m+c*y+h*x,S=w>=0?1:-1,C=1-w*w;if(C>Number.EPSILON){const T=Math.sqrt(C),R=Math.atan2(T,w*S);b=Math.sin(b*R)/T,s=Math.sin(s*R)/T}const M=s*S;if(l=l*b+f*M,u=u*b+m*M,c=c*b+y*M,h=h*b+x*M,b===1-s){const T=1/Math.sqrt(l*l+u*u+c*c+h*h);l*=T,u*=T,c*=T,h*=T}}e[n]=l,e[n+1]=u,e[n+2]=c,e[n+3]=h}static multiplyQuaternionsFlat(e,n,r,i,o,a){const s=r[i],l=r[i+1],u=r[i+2],c=r[i+3],h=o[a],f=o[a+1],m=o[a+2],y=o[a+3];return e[n]=s*y+c*h+l*m-u*f,e[n+1]=l*y+c*f+u*h-s*m,e[n+2]=u*y+c*m+s*f-l*h,e[n+3]=c*y-s*h-l*f-u*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const r=e._x,i=e._y,o=e._z,a=e._order,s=Math.cos,l=Math.sin,u=s(r/2),c=s(i/2),h=s(o/2),f=l(r/2),m=l(i/2),y=l(o/2);switch(a){case"XYZ":this._x=f*c*h+u*m*y,this._y=u*m*h-f*c*y,this._z=u*c*y+f*m*h,this._w=u*c*h-f*m*y;break;case"YXZ":this._x=f*c*h+u*m*y,this._y=u*m*h-f*c*y,this._z=u*c*y-f*m*h,this._w=u*c*h+f*m*y;break;case"ZXY":this._x=f*c*h-u*m*y,this._y=u*m*h+f*c*y,this._z=u*c*y+f*m*h,this._w=u*c*h-f*m*y;break;case"ZYX":this._x=f*c*h-u*m*y,this._y=u*m*h+f*c*y,this._z=u*c*y-f*m*h,this._w=u*c*h+f*m*y;break;case"YZX":this._x=f*c*h+u*m*y,this._y=u*m*h+f*c*y,this._z=u*c*y-f*m*h,this._w=u*c*h-f*m*y;break;case"XZY":this._x=f*c*h-u*m*y,this._y=u*m*h-f*c*y,this._z=u*c*y+f*m*h,this._w=u*c*h+f*m*y;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],o=n[8],a=n[1],s=n[5],l=n[9],u=n[2],c=n[6],h=n[10],f=r+s+h;if(f>0){const m=.5/Math.sqrt(f+1);this._w=.25/m,this._x=(c-l)*m,this._y=(o-u)*m,this._z=(a-i)*m}else if(r>s&&r>h){const m=2*Math.sqrt(1+r-s-h);this._w=(c-l)/m,this._x=.25*m,this._y=(i+a)/m,this._z=(o+u)/m}else if(s>h){const m=2*Math.sqrt(1+s-r-h);this._w=(o-u)/m,this._x=(i+a)/m,this._y=.25*m,this._z=(l+c)/m}else{const m=2*Math.sqrt(1+h-r-s);this._w=(a-i)/m,this._x=(o+u)/m,this._y=(l+c)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Gi(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,n){return n!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,n)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,o=e._z,a=e._w,s=n._x,l=n._y,u=n._z,c=n._w;return this._x=r*c+a*s+i*u-o*l,this._y=i*c+a*l+o*s-r*u,this._z=o*c+a*u+r*l-i*s,this._w=a*c-r*s-i*l-o*u,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,o=this._z,a=this._w;let s=a*e._w+r*e._x+i*e._y+o*e._z;if(s<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,s=-s):this.copy(e),s>=1)return this._w=a,this._x=r,this._y=i,this._z=o,this;const l=1-s*s;if(l<=Number.EPSILON){const m=1-n;return this._w=m*a+n*this._w,this._x=m*r+n*this._x,this._y=m*i+n*this._y,this._z=m*o+n*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(l),c=Math.atan2(u,s),h=Math.sin((1-n)*c)/u,f=Math.sin(n*c)/u;return this._w=a*h+this._w*f,this._x=r*h+this._x*f,this._y=i*h+this._y*f,this._z=o*h+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=Math.random(),n=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),o=2*Math.PI*Math.random();return this.set(n*Math.cos(i),r*Math.sin(o),r*Math.cos(o),n*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}uo.prototype.isQuaternion=!0;class pe{constructor(e=0,n=0,r=0){this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,n){return n!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,n)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e,n){return n!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,n)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e,n){return n!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,n)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(p6.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(p6.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[3]*r+o[6]*i,this.y=o[1]*n+o[4]*r+o[7]*i,this.z=o[2]*n+o[5]*r+o[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=e.elements,a=1/(o[3]*n+o[7]*r+o[11]*i+o[15]);return this.x=(o[0]*n+o[4]*r+o[8]*i+o[12])*a,this.y=(o[1]*n+o[5]*r+o[9]*i+o[13])*a,this.z=(o[2]*n+o[6]*r+o[10]*i+o[14])*a,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,o=e.x,a=e.y,s=e.z,l=e.w,u=l*n+a*i-s*r,c=l*r+s*n-o*i,h=l*i+o*r-a*n,f=-o*n-a*r-s*i;return this.x=u*l+f*-o+c*-s-h*-a,this.y=c*l+f*-a+h*-o-u*-s,this.z=h*l+f*-s+u*-a-c*-o,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i,this.y=o[1]*n+o[5]*r+o[9]*i,this.z=o[2]*n+o[6]*r+o[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e,n){return n!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,n)):this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,o=e.z,a=n.x,s=n.y,l=n.z;return this.x=i*l-o*s,this.y=o*a-r*l,this.z=r*s-i*a,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return d2.copy(this).projectOnVector(e),this.sub(d2)}reflect(e){return this.sub(d2.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Gi(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n,r){return r!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(n),this.y=r*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}pe.prototype.isVector3=!0;const d2=new pe,p6=new uo;class ka{constructor(e=new pe(1/0,1/0,1/0),n=new pe(-1/0,-1/0,-1/0)){this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){let n=1/0,r=1/0,i=1/0,o=-1/0,a=-1/0,s=-1/0;for(let l=0,u=e.length;l<u;l+=3){const c=e[l],h=e[l+1],f=e[l+2];c<n&&(n=c),h<r&&(r=h),f<i&&(i=f),c>o&&(o=c),h>a&&(a=h),f>s&&(s=f)}return this.min.set(n,r,i),this.max.set(o,a,s),this}setFromBufferAttribute(e){let n=1/0,r=1/0,i=1/0,o=-1/0,a=-1/0,s=-1/0;for(let l=0,u=e.count;l<u;l++){const c=e.getX(l),h=e.getY(l),f=e.getZ(l);c<n&&(n=c),h<r&&(r=h),f<i&&(i=f),c>o&&(o=c),h>a&&(a=h),f>s&&(s=f)}return this.min.set(n,r,i),this.max.set(o,a,s),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=tf.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0)if(n&&r.attributes!=null&&r.attributes.position!==void 0){const o=r.attributes.position;for(let a=0,s=o.count;a<s;a++)tf.fromBufferAttribute(o,a).applyMatrix4(e.matrixWorld),this.expandByPoint(tf)}else r.boundingBox===null&&r.computeBoundingBox(),f2.copy(r.boundingBox),f2.applyMatrix4(e.matrixWorld),this.union(f2);const i=e.children;for(let o=0,a=i.length;o<a;o++)this.expandByObject(i[o],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,tf),tf.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Kv),pb.subVectors(this.max,Kv),Qh.subVectors(e.a,Kv),ep.subVectors(e.b,Kv),tp.subVectors(e.c,Kv),Dc.subVectors(ep,Qh),Fc.subVectors(tp,ep),nf.subVectors(Qh,tp);let n=[0,-Dc.z,Dc.y,0,-Fc.z,Fc.y,0,-nf.z,nf.y,Dc.z,0,-Dc.x,Fc.z,0,-Fc.x,nf.z,0,-nf.x,-Dc.y,Dc.x,0,-Fc.y,Fc.x,0,-nf.y,nf.x,0];return!h2(n,Qh,ep,tp,pb)||(n=[1,0,0,0,1,0,0,0,1],!h2(n,Qh,ep,tp,pb))?!1:(mb.crossVectors(Dc,Fc),n=[mb.x,mb.y,mb.z],h2(n,Qh,ep,tp,pb))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return tf.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(tf).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Eu[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Eu[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Eu[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Eu[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Eu[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Eu[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Eu[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Eu[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Eu),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}ka.prototype.isBox3=!0;const Eu=[new pe,new pe,new pe,new pe,new pe,new pe,new pe,new pe],tf=new pe,f2=new ka,Qh=new pe,ep=new pe,tp=new pe,Dc=new pe,Fc=new pe,nf=new pe,Kv=new pe,pb=new pe,mb=new pe,rf=new pe;function h2(t,e,n,r,i){for(let o=0,a=t.length-3;o<=a;o+=3){rf.fromArray(t,o);const s=i.x*Math.abs(rf.x)+i.y*Math.abs(rf.y)+i.z*Math.abs(rf.z),l=e.dot(rf),u=n.dot(rf),c=r.dot(rf);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>s)return!1}return!0}const gwe=new ka,m6=new pe,vb=new pe,p2=new pe;class Gm{constructor(e=new pe,n=-1){this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):gwe.setFromPoints(e).getCenter(r);let i=0;for(let o=0,a=e.length;o<a;o++)i=Math.max(i,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){p2.subVectors(e,this.center);const n=p2.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.add(p2.multiplyScalar(i/r)),this.radius+=i}return this}union(e){return this.center.equals(e.center)===!0?vb.set(0,0,1).multiplyScalar(e.radius):vb.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(m6.copy(e.center).add(vb)),this.expandByPoint(m6.copy(e.center).sub(vb)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Mu=new pe,m2=new pe,gb=new pe,zc=new pe,v2=new pe,yb=new pe,g2=new pe;class sc{constructor(e=new pe,n=new pe(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Mu)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(r).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Mu.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Mu.copy(this.direction).multiplyScalar(n).add(this.origin),Mu.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){m2.copy(e).add(n).multiplyScalar(.5),gb.copy(n).sub(e).normalize(),zc.copy(this.origin).sub(m2);const o=e.distanceTo(n)*.5,a=-this.direction.dot(gb),s=zc.dot(this.direction),l=-zc.dot(gb),u=zc.lengthSq(),c=Math.abs(1-a*a);let h,f,m,y;if(c>0)if(h=a*l-s,f=a*s-l,y=o*c,h>=0)if(f>=-y)if(f<=y){const x=1/c;h*=x,f*=x,m=h*(h+a*f+2*s)+f*(a*h+f+2*l)+u}else f=o,h=Math.max(0,-(a*f+s)),m=-h*h+f*(f+2*l)+u;else f=-o,h=Math.max(0,-(a*f+s)),m=-h*h+f*(f+2*l)+u;else f<=-y?(h=Math.max(0,-(-a*o+s)),f=h>0?-o:Math.min(Math.max(-o,-l),o),m=-h*h+f*(f+2*l)+u):f<=y?(h=0,f=Math.min(Math.max(-o,-l),o),m=f*(f+2*l)+u):(h=Math.max(0,-(a*o+s)),f=h>0?o:Math.min(Math.max(-o,-l),o),m=-h*h+f*(f+2*l)+u);else f=a>0?-o:o,h=Math.max(0,-(a*f+s)),m=-h*h+f*(f+2*l)+u;return r&&r.copy(this.direction).multiplyScalar(h).add(this.origin),i&&i.copy(gb).multiplyScalar(f).add(m2),m}intersectSphere(e,n){Mu.subVectors(e.center,this.origin);const r=Mu.dot(this.direction),i=Mu.dot(Mu)-r*r,o=e.radius*e.radius;if(i>o)return null;const a=Math.sqrt(o-i),s=r-a,l=r+a;return s<0&&l<0?null:s<0?this.at(l,n):this.at(s,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,o,a,s,l;const u=1/this.direction.x,c=1/this.direction.y,h=1/this.direction.z,f=this.origin;return u>=0?(r=(e.min.x-f.x)*u,i=(e.max.x-f.x)*u):(r=(e.max.x-f.x)*u,i=(e.min.x-f.x)*u),c>=0?(o=(e.min.y-f.y)*c,a=(e.max.y-f.y)*c):(o=(e.max.y-f.y)*c,a=(e.min.y-f.y)*c),r>a||o>i||((o>r||r!==r)&&(r=o),(a<i||i!==i)&&(i=a),h>=0?(s=(e.min.z-f.z)*h,l=(e.max.z-f.z)*h):(s=(e.max.z-f.z)*h,l=(e.min.z-f.z)*h),r>l||s>i)||((s>r||r!==r)&&(r=s),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,Mu)!==null}intersectTriangle(e,n,r,i,o){v2.subVectors(n,e),yb.subVectors(r,e),g2.crossVectors(v2,yb);let a=this.direction.dot(g2),s;if(a>0){if(i)return null;s=1}else if(a<0)s=-1,a=-a;else return null;zc.subVectors(this.origin,e);const l=s*this.direction.dot(yb.crossVectors(zc,yb));if(l<0)return null;const u=s*this.direction.dot(v2.cross(zc));if(u<0||l+u>a)return null;const c=-s*zc.dot(g2);return c<0?null:this.at(c/a,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Xt{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,n,r,i,o,a,s,l,u,c,h,f,m,y,x,b){const w=this.elements;return w[0]=e,w[4]=n,w[8]=r,w[12]=i,w[1]=o,w[5]=a,w[9]=s,w[13]=l,w[2]=u,w[6]=c,w[10]=h,w[14]=f,w[3]=m,w[7]=y,w[11]=x,w[15]=b,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Xt().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/np.setFromMatrixColumn(e,0).length(),o=1/np.setFromMatrixColumn(e,1).length(),a=1/np.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*o,n[5]=r[5]*o,n[6]=r[6]*o,n[7]=0,n[8]=r[8]*a,n[9]=r[9]*a,n[10]=r[10]*a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const n=this.elements,r=e.x,i=e.y,o=e.z,a=Math.cos(r),s=Math.sin(r),l=Math.cos(i),u=Math.sin(i),c=Math.cos(o),h=Math.sin(o);if(e.order==="XYZ"){const f=a*c,m=a*h,y=s*c,x=s*h;n[0]=l*c,n[4]=-l*h,n[8]=u,n[1]=m+y*u,n[5]=f-x*u,n[9]=-s*l,n[2]=x-f*u,n[6]=y+m*u,n[10]=a*l}else if(e.order==="YXZ"){const f=l*c,m=l*h,y=u*c,x=u*h;n[0]=f+x*s,n[4]=y*s-m,n[8]=a*u,n[1]=a*h,n[5]=a*c,n[9]=-s,n[2]=m*s-y,n[6]=x+f*s,n[10]=a*l}else if(e.order==="ZXY"){const f=l*c,m=l*h,y=u*c,x=u*h;n[0]=f-x*s,n[4]=-a*h,n[8]=y+m*s,n[1]=m+y*s,n[5]=a*c,n[9]=x-f*s,n[2]=-a*u,n[6]=s,n[10]=a*l}else if(e.order==="ZYX"){const f=a*c,m=a*h,y=s*c,x=s*h;n[0]=l*c,n[4]=y*u-m,n[8]=f*u+x,n[1]=l*h,n[5]=x*u+f,n[9]=m*u-y,n[2]=-u,n[6]=s*l,n[10]=a*l}else if(e.order==="YZX"){const f=a*l,m=a*u,y=s*l,x=s*u;n[0]=l*c,n[4]=x-f*h,n[8]=y*h+m,n[1]=h,n[5]=a*c,n[9]=-s*c,n[2]=-u*c,n[6]=m*h+y,n[10]=f-x*h}else if(e.order==="XZY"){const f=a*l,m=a*u,y=s*l,x=s*u;n[0]=l*c,n[4]=-h,n[8]=u*c,n[1]=f*h+x,n[5]=a*c,n[9]=m*h-y,n[2]=y*h-m,n[6]=s*c,n[10]=x*h+f}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(ywe,e,xwe)}lookAt(e,n,r){const i=this.elements;return Wa.subVectors(e,n),Wa.lengthSq()===0&&(Wa.z=1),Wa.normalize(),Bc.crossVectors(r,Wa),Bc.lengthSq()===0&&(Math.abs(r.z)===1?Wa.x+=1e-4:Wa.z+=1e-4,Wa.normalize(),Bc.crossVectors(r,Wa)),Bc.normalize(),xb.crossVectors(Wa,Bc),i[0]=Bc.x,i[4]=xb.x,i[8]=Wa.x,i[1]=Bc.y,i[5]=xb.y,i[9]=Wa.y,i[2]=Bc.z,i[6]=xb.z,i[10]=Wa.z,this}multiply(e,n){return n!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,n)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,a=r[0],s=r[4],l=r[8],u=r[12],c=r[1],h=r[5],f=r[9],m=r[13],y=r[2],x=r[6],b=r[10],w=r[14],S=r[3],C=r[7],M=r[11],T=r[15],R=i[0],I=i[4],A=i[8],N=i[12],L=i[1],D=i[5],W=i[9],V=i[13],B=i[2],K=i[6],j=i[10],G=i[14],H=i[3],Y=i[7],Z=i[11],oe=i[15];return o[0]=a*R+s*L+l*B+u*H,o[4]=a*I+s*D+l*K+u*Y,o[8]=a*A+s*W+l*j+u*Z,o[12]=a*N+s*V+l*G+u*oe,o[1]=c*R+h*L+f*B+m*H,o[5]=c*I+h*D+f*K+m*Y,o[9]=c*A+h*W+f*j+m*Z,o[13]=c*N+h*V+f*G+m*oe,o[2]=y*R+x*L+b*B+w*H,o[6]=y*I+x*D+b*K+w*Y,o[10]=y*A+x*W+b*j+w*Z,o[14]=y*N+x*V+b*G+w*oe,o[3]=S*R+C*L+M*B+T*H,o[7]=S*I+C*D+M*K+T*Y,o[11]=S*A+C*W+M*j+T*Z,o[15]=S*N+C*V+M*G+T*oe,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],o=e[12],a=e[1],s=e[5],l=e[9],u=e[13],c=e[2],h=e[6],f=e[10],m=e[14],y=e[3],x=e[7],b=e[11],w=e[15];return y*(+o*l*h-i*u*h-o*s*f+r*u*f+i*s*m-r*l*m)+x*(+n*l*m-n*u*f+o*a*f-i*a*m+i*u*c-o*l*c)+b*(+n*u*h-n*s*m-o*a*h+r*a*m+o*s*c-r*u*c)+w*(-i*s*c-n*l*h+n*s*f+i*a*h-r*a*f+r*l*c)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],h=e[9],f=e[10],m=e[11],y=e[12],x=e[13],b=e[14],w=e[15],S=h*b*u-x*f*u+x*l*m-s*b*m-h*l*w+s*f*w,C=y*f*u-c*b*u-y*l*m+a*b*m+c*l*w-a*f*w,M=c*x*u-y*h*u+y*s*m-a*x*m-c*s*w+a*h*w,T=y*h*l-c*x*l-y*s*f+a*x*f+c*s*b-a*h*b,R=n*S+r*C+i*M+o*T;if(R===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const I=1/R;return e[0]=S*I,e[1]=(x*f*o-h*b*o-x*i*m+r*b*m+h*i*w-r*f*w)*I,e[2]=(s*b*o-x*l*o+x*i*u-r*b*u-s*i*w+r*l*w)*I,e[3]=(h*l*o-s*f*o-h*i*u+r*f*u+s*i*m-r*l*m)*I,e[4]=C*I,e[5]=(c*b*o-y*f*o+y*i*m-n*b*m-c*i*w+n*f*w)*I,e[6]=(y*l*o-a*b*o-y*i*u+n*b*u+a*i*w-n*l*w)*I,e[7]=(a*f*o-c*l*o+c*i*u-n*f*u-a*i*m+n*l*m)*I,e[8]=M*I,e[9]=(y*h*o-c*x*o-y*r*m+n*x*m+c*r*w-n*h*w)*I,e[10]=(a*x*o-y*s*o+y*r*u-n*x*u-a*r*w+n*s*w)*I,e[11]=(c*s*o-a*h*o-c*r*u+n*h*u+a*r*m-n*s*m)*I,e[12]=T*I,e[13]=(c*x*i-y*h*i+y*r*f-n*x*f-c*r*b+n*h*b)*I,e[14]=(y*s*i-a*x*i-y*r*l+n*x*l+a*r*b-n*s*b)*I,e[15]=(a*h*i-c*s*i+c*r*l-n*h*l-a*r*f+n*s*f)*I,this}scale(e){const n=this.elements,r=e.x,i=e.y,o=e.z;return n[0]*=r,n[4]*=i,n[8]*=o,n[1]*=r,n[5]*=i,n[9]*=o,n[2]*=r,n[6]*=i,n[10]*=o,n[3]*=r,n[7]*=i,n[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),o=1-r,a=e.x,s=e.y,l=e.z,u=o*a,c=o*s;return this.set(u*a+r,u*s-i*l,u*l+i*s,0,u*s+i*l,c*s+r,c*l-i*a,0,u*l-i*s,c*l+i*a,o*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,o,a){return this.set(1,r,o,0,e,1,a,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,o=n._x,a=n._y,s=n._z,l=n._w,u=o+o,c=a+a,h=s+s,f=o*u,m=o*c,y=o*h,x=a*c,b=a*h,w=s*h,S=l*u,C=l*c,M=l*h,T=r.x,R=r.y,I=r.z;return i[0]=(1-(x+w))*T,i[1]=(m+M)*T,i[2]=(y-C)*T,i[3]=0,i[4]=(m-M)*R,i[5]=(1-(f+w))*R,i[6]=(b+S)*R,i[7]=0,i[8]=(y+C)*I,i[9]=(b-S)*I,i[10]=(1-(f+x))*I,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let o=np.set(i[0],i[1],i[2]).length();const a=np.set(i[4],i[5],i[6]).length(),s=np.set(i[8],i[9],i[10]).length();this.determinant()<0&&(o=-o),e.x=i[12],e.y=i[13],e.z=i[14],qs.copy(this);const u=1/o,c=1/a,h=1/s;return qs.elements[0]*=u,qs.elements[1]*=u,qs.elements[2]*=u,qs.elements[4]*=c,qs.elements[5]*=c,qs.elements[6]*=c,qs.elements[8]*=h,qs.elements[9]*=h,qs.elements[10]*=h,n.setFromRotationMatrix(qs),r.x=o,r.y=a,r.z=s,this}makePerspective(e,n,r,i,o,a){a===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const s=this.elements,l=2*o/(n-e),u=2*o/(r-i),c=(n+e)/(n-e),h=(r+i)/(r-i),f=-(a+o)/(a-o),m=-2*a*o/(a-o);return s[0]=l,s[4]=0,s[8]=c,s[12]=0,s[1]=0,s[5]=u,s[9]=h,s[13]=0,s[2]=0,s[6]=0,s[10]=f,s[14]=m,s[3]=0,s[7]=0,s[11]=-1,s[15]=0,this}makeOrthographic(e,n,r,i,o,a){const s=this.elements,l=1/(n-e),u=1/(r-i),c=1/(a-o),h=(n+e)*l,f=(r+i)*u,m=(a+o)*c;return s[0]=2*l,s[4]=0,s[8]=0,s[12]=-h,s[1]=0,s[5]=2*u,s[9]=0,s[13]=-f,s[2]=0,s[6]=0,s[10]=-2*c,s[14]=-m,s[3]=0,s[7]=0,s[11]=0,s[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}Xt.prototype.isMatrix4=!0;const np=new pe,qs=new Xt,ywe=new pe(0,0,0),xwe=new pe(1,1,1),Bc=new pe,xb=new pe,Wa=new pe,v6=new Xt,g6=new uo;class Od{constructor(e=0,n=0,r=0,i=Od.DefaultOrder){this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,o=i[0],a=i[4],s=i[8],l=i[1],u=i[5],c=i[9],h=i[2],f=i[6],m=i[10];switch(n){case"XYZ":this._y=Math.asin(Gi(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,m),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(f,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Gi(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(s,m),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-h,o),this._z=0);break;case"ZXY":this._x=Math.asin(Gi(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-h,m),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(l,o));break;case"ZYX":this._y=Math.asin(-Gi(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(f,m),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(Gi(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-h,o)):(this._x=0,this._y=Math.atan2(s,m));break;case"XZY":this._z=Math.asin(-Gi(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(f,u),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-c,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return v6.makeRotationFromQuaternion(e),this.setFromRotationMatrix(v6,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return g6.setFromEuler(this),this.setFromQuaternion(g6,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Od.prototype.isEuler=!0;Od.DefaultOrder="XYZ";Od.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class UO{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let bwe=0;const y6=new pe,rp=new uo,Tu=new Xt,bb=new pe,qv=new pe,wwe=new pe,_we=new uo,x6=new pe(1,0,0),b6=new pe(0,1,0),w6=new pe(0,0,1),Swe={type:"added"},_6={type:"removed"};class gr extends Rd{constructor(){super(),Object.defineProperty(this,"id",{value:bwe++}),this.uuid=Ts(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=gr.DefaultUp.clone();const e=new pe,n=new Od,r=new uo,i=new pe(1,1,1);function o(){r.setFromEuler(n,!1)}function a(){n.setFromQuaternion(r,void 0,!1)}n._onChange(o),r._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Xt},normalMatrix:{value:new Ri}}),this.matrix=new Xt,this.matrixWorld=new Xt,this.matrixAutoUpdate=gr.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new UO,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return rp.setFromAxisAngle(e,n),this.quaternion.multiply(rp),this}rotateOnWorldAxis(e,n){return rp.setFromAxisAngle(e,n),this.quaternion.premultiply(rp),this}rotateX(e){return this.rotateOnAxis(x6,e)}rotateY(e){return this.rotateOnAxis(b6,e)}rotateZ(e){return this.rotateOnAxis(w6,e)}translateOnAxis(e,n){return y6.copy(e).applyQuaternion(this.quaternion),this.position.add(y6.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(x6,e)}translateY(e){return this.translateOnAxis(b6,e)}translateZ(e){return this.translateOnAxis(w6,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(Tu.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?bb.copy(e):bb.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),qv.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Tu.lookAt(qv,bb,this.up):Tu.lookAt(bb,qv,this.up),this.quaternion.setFromRotationMatrix(Tu),i&&(Tu.extractRotation(i.matrixWorld),rp.setFromRotationMatrix(Tu),this.quaternion.premultiply(rp.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Swe)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(_6)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const n=this.children[e];n.parent=null,n.dispatchEvent(_6)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Tu.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Tu.multiply(e.parent.matrixWorld)),e.applyMatrix4(Tu),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const a=this.children[r].getObjectByProperty(e,n);if(a!==void 0)return a}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(qv,e,wwe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(qv,_we,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].updateMatrixWorld(e)}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let o=0,a=i.length;o<a;o++)i[o].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function o(s,l){return s[l.uuid]===void 0&&(s[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=o(e.geometries,this.geometry);const s=this.geometry.parameters;if(s!==void 0&&s.shapes!==void 0){const l=s.shapes;if(Array.isArray(l))for(let u=0,c=l.length;u<c;u++){const h=l[u];o(e.shapes,h)}else o(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const s=[];for(let l=0,u=this.material.length;l<u;l++)s.push(o(e.materials,this.material[l]));i.material=s}else i.material=o(e.materials,this.material);if(this.children.length>0){i.children=[];for(let s=0;s<this.children.length;s++)i.children.push(this.children[s].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let s=0;s<this.animations.length;s++){const l=this.animations[s];i.animations.push(o(e.animations,l))}}if(n){const s=a(e.geometries),l=a(e.materials),u=a(e.textures),c=a(e.images),h=a(e.shapes),f=a(e.skeletons),m=a(e.animations),y=a(e.nodes);s.length>0&&(r.geometries=s),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),c.length>0&&(r.images=c),h.length>0&&(r.shapes=h),f.length>0&&(r.skeletons=f),m.length>0&&(r.animations=m),y.length>0&&(r.nodes=y)}return r.object=i,r;function a(s){const l=[];for(const u in s){const c=s[u];delete c.metadata,l.push(c)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}gr.DefaultUp=new pe(0,1,0);gr.DefaultMatrixAutoUpdate=!0;gr.prototype.isObject3D=!0;const Xs=new pe,Pu=new pe,y2=new pe,Au=new pe,ip=new pe,op=new pe,S6=new pe,x2=new pe,b2=new pe,w2=new pe;class Ki{constructor(e=new pe,n=new pe,r=new pe){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),Xs.subVectors(e,n),i.cross(Xs);const o=i.lengthSq();return o>0?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)}static getBarycoord(e,n,r,i,o){Xs.subVectors(i,n),Pu.subVectors(r,n),y2.subVectors(e,n);const a=Xs.dot(Xs),s=Xs.dot(Pu),l=Xs.dot(y2),u=Pu.dot(Pu),c=Pu.dot(y2),h=a*u-s*s;if(h===0)return o.set(-2,-1,-1);const f=1/h,m=(u*l-s*c)*f,y=(a*c-s*l)*f;return o.set(1-m-y,y,m)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,Au),Au.x>=0&&Au.y>=0&&Au.x+Au.y<=1}static getUV(e,n,r,i,o,a,s,l){return this.getBarycoord(e,n,r,i,Au),l.set(0,0),l.addScaledVector(o,Au.x),l.addScaledVector(a,Au.y),l.addScaledVector(s,Au.z),l}static isFrontFacing(e,n,r,i){return Xs.subVectors(r,n),Pu.subVectors(e,n),Xs.cross(Pu).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Xs.subVectors(this.c,this.b),Pu.subVectors(this.a,this.b),Xs.cross(Pu).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ki.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Ki.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,r,i,o){return Ki.getUV(e,this.a,this.b,this.c,n,r,i,o)}containsPoint(e){return Ki.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ki.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,o=this.c;let a,s;ip.subVectors(i,r),op.subVectors(o,r),x2.subVectors(e,r);const l=ip.dot(x2),u=op.dot(x2);if(l<=0&&u<=0)return n.copy(r);b2.subVectors(e,i);const c=ip.dot(b2),h=op.dot(b2);if(c>=0&&h<=c)return n.copy(i);const f=l*h-c*u;if(f<=0&&l>=0&&c<=0)return a=l/(l-c),n.copy(r).addScaledVector(ip,a);w2.subVectors(e,o);const m=ip.dot(w2),y=op.dot(w2);if(y>=0&&m<=y)return n.copy(o);const x=m*u-l*y;if(x<=0&&u>=0&&y<=0)return s=u/(u-y),n.copy(r).addScaledVector(op,s);const b=c*y-m*h;if(b<=0&&h-c>=0&&m-y>=0)return S6.subVectors(o,i),s=(h-c)/(h-c+(m-y)),n.copy(i).addScaledVector(S6,s);const w=1/(b+x+f);return a=x*w,s=f*w,n.copy(r).addScaledVector(ip,a).addScaledVector(op,s)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let Cwe=0;class fo extends Rd{constructor(){super(),Object.defineProperty(this,"id",{value:Cwe++}),this.uuid=Ts(),this.name="",this.type="Material",this.blending=qu,this.side=b0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=F_,this.blendDst=z_,this.blendEquation=Fl,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=vA,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Zbe,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=a2,this.stencilZFail=a2,this.stencilZPass=a2,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn("THREE.Material: '"+n+"' parameter is undefined.");continue}if(n==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=r===jW;continue}const i=this[n];if(i===void 0){console.warn("THREE."+this.type+": '"+n+"' is not a property of this material.");continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==qu&&(r.blending=this.blending),this.side!==b0&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData);function i(o){const a=[];for(const s in o){const l=o[s];delete l.metadata,a.push(l)}return a}if(n){const o=i(e.textures),a=i(e.images);o.length>0&&(r.textures=o),a.length>0&&(r.images=a)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let o=0;o!==i;++o)r[o]=n[o].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}fo.prototype.isMaterial=!0;fo.fromType=function(){return null};class hl extends fo{constructor(e){super(),this.type="MeshBasicMaterial",this.color=new _t(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=gS,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}hl.prototype.isMeshBasicMaterial=!0;const ji=new pe,wb=new et;class Oi{constructor(e,n,r){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r===!0,this.usage=S0,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,o=this.itemSize;i<o;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){const n=this.array;let r=0;for(let i=0,o=e.length;i<o;i++){let a=e[i];a===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),a=new _t),n[r++]=a.r,n[r++]=a.g,n[r++]=a.b}return this}copyVector2sArray(e){const n=this.array;let r=0;for(let i=0,o=e.length;i<o;i++){let a=e[i];a===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),a=new et),n[r++]=a.x,n[r++]=a.y}return this}copyVector3sArray(e){const n=this.array;let r=0;for(let i=0,o=e.length;i<o;i++){let a=e[i];a===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),a=new pe),n[r++]=a.x,n[r++]=a.y,n[r++]=a.z}return this}copyVector4sArray(e){const n=this.array;let r=0;for(let i=0,o=e.length;i<o;i++){let a=e[i];a===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),a=new zr),n[r++]=a.x,n[r++]=a.y,n[r++]=a.z,n[r++]=a.w}return this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)wb.fromBufferAttribute(this,n),wb.applyMatrix3(e),this.setXY(n,wb.x,wb.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)ji.fromBufferAttribute(this,n),ji.applyMatrix3(e),this.setXYZ(n,ji.x,ji.y,ji.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)ji.fromBufferAttribute(this,n),ji.applyMatrix4(e),this.setXYZ(n,ji.x,ji.y,ji.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)ji.fromBufferAttribute(this,n),ji.applyNormalMatrix(e),this.setXYZ(n,ji.x,ji.y,ji.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)ji.fromBufferAttribute(this,n),ji.transformDirection(e),this.setXYZ(n,ji.x,ji.y,ji.z);return this}set(e,n=0){return this.array.set(e,n),this}getX(e){return this.array[e*this.itemSize]}setX(e,n){return this.array[e*this.itemSize]=n,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,n){return this.array[e*this.itemSize+1]=n,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,n){return this.array[e*this.itemSize+2]=n,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,n){return this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e*=this.itemSize,this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==S0&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}Oi.prototype.isBufferAttribute=!0;class e7 extends Oi{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class t7 extends Oi{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class Ewe extends Oi{constructor(e,n,r){super(new Uint16Array(e),n,r)}}Ewe.prototype.isFloat16BufferAttribute=!0;class Pn extends Oi{constructor(e,n,r){super(new Float32Array(e),n,r)}}let Mwe=0;const xs=new Xt,_2=new gr,ap=new pe,ja=new ka,Xv=new ka,yo=new pe;class $n extends Rd{constructor(){super(),Object.defineProperty(this,"id",{value:Mwe++}),this.uuid=Ts(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(JW(e)?t7:e7)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const o=new Ri().getNormalMatrix(e);r.applyNormalMatrix(o),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return xs.makeRotationFromQuaternion(e),this.applyMatrix4(xs),this}rotateX(e){return xs.makeRotationX(e),this.applyMatrix4(xs),this}rotateY(e){return xs.makeRotationY(e),this.applyMatrix4(xs),this}rotateZ(e){return xs.makeRotationZ(e),this.applyMatrix4(xs),this}translate(e,n,r){return xs.makeTranslation(e,n,r),this.applyMatrix4(xs),this}scale(e,n,r){return xs.makeScale(e,n,r),this.applyMatrix4(xs),this}lookAt(e){return _2.lookAt(e),_2.updateMatrix(),this.applyMatrix4(_2.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(ap).negate(),this.translate(ap.x,ap.y,ap.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const o=e[r];n.push(o.x,o.y,o.z||0)}return this.setAttribute("position",new Pn(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ka);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new pe(-1/0,-1/0,-1/0),new pe(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const o=n[r];ja.setFromBufferAttribute(o),this.morphTargetsRelative?(yo.addVectors(this.boundingBox.min,ja.min),this.boundingBox.expandByPoint(yo),yo.addVectors(this.boundingBox.max,ja.max),this.boundingBox.expandByPoint(yo)):(this.boundingBox.expandByPoint(ja.min),this.boundingBox.expandByPoint(ja.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Gm);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new pe,1/0);return}if(e){const r=this.boundingSphere.center;if(ja.setFromBufferAttribute(e),n)for(let o=0,a=n.length;o<a;o++){const s=n[o];Xv.setFromBufferAttribute(s),this.morphTargetsRelative?(yo.addVectors(ja.min,Xv.min),ja.expandByPoint(yo),yo.addVectors(ja.max,Xv.max),ja.expandByPoint(yo)):(ja.expandByPoint(Xv.min),ja.expandByPoint(Xv.max))}ja.getCenter(r);let i=0;for(let o=0,a=e.count;o<a;o++)yo.fromBufferAttribute(e,o),i=Math.max(i,r.distanceToSquared(yo));if(n)for(let o=0,a=n.length;o<a;o++){const s=n[o],l=this.morphTargetsRelative;for(let u=0,c=s.count;u<c;u++)yo.fromBufferAttribute(s,u),l&&(ap.fromBufferAttribute(e,u),yo.add(ap)),i=Math.max(i,r.distanceToSquared(yo))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=n.position.array,o=n.normal.array,a=n.uv.array,s=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Oi(new Float32Array(4*s),4));const l=this.getAttribute("tangent").array,u=[],c=[];for(let L=0;L<s;L++)u[L]=new pe,c[L]=new pe;const h=new pe,f=new pe,m=new pe,y=new et,x=new et,b=new et,w=new pe,S=new pe;function C(L,D,W){h.fromArray(i,L*3),f.fromArray(i,D*3),m.fromArray(i,W*3),y.fromArray(a,L*2),x.fromArray(a,D*2),b.fromArray(a,W*2),f.sub(h),m.sub(h),x.sub(y),b.sub(y);const V=1/(x.x*b.y-b.x*x.y);!isFinite(V)||(w.copy(f).multiplyScalar(b.y).addScaledVector(m,-x.y).multiplyScalar(V),S.copy(m).multiplyScalar(x.x).addScaledVector(f,-b.x).multiplyScalar(V),u[L].add(w),u[D].add(w),u[W].add(w),c[L].add(S),c[D].add(S),c[W].add(S))}let M=this.groups;M.length===0&&(M=[{start:0,count:r.length}]);for(let L=0,D=M.length;L<D;++L){const W=M[L],V=W.start,B=W.count;for(let K=V,j=V+B;K<j;K+=3)C(r[K+0],r[K+1],r[K+2])}const T=new pe,R=new pe,I=new pe,A=new pe;function N(L){I.fromArray(o,L*3),A.copy(I);const D=u[L];T.copy(D),T.sub(I.multiplyScalar(I.dot(D))).normalize(),R.crossVectors(A,D);const V=R.dot(c[L])<0?-1:1;l[L*4]=T.x,l[L*4+1]=T.y,l[L*4+2]=T.z,l[L*4+3]=V}for(let L=0,D=M.length;L<D;++L){const W=M[L],V=W.start,B=W.count;for(let K=V,j=V+B;K<j;K+=3)N(r[K+0]),N(r[K+1]),N(r[K+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Oi(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let f=0,m=r.count;f<m;f++)r.setXYZ(f,0,0,0);const i=new pe,o=new pe,a=new pe,s=new pe,l=new pe,u=new pe,c=new pe,h=new pe;if(e)for(let f=0,m=e.count;f<m;f+=3){const y=e.getX(f+0),x=e.getX(f+1),b=e.getX(f+2);i.fromBufferAttribute(n,y),o.fromBufferAttribute(n,x),a.fromBufferAttribute(n,b),c.subVectors(a,o),h.subVectors(i,o),c.cross(h),s.fromBufferAttribute(r,y),l.fromBufferAttribute(r,x),u.fromBufferAttribute(r,b),s.add(c),l.add(c),u.add(c),r.setXYZ(y,s.x,s.y,s.z),r.setXYZ(x,l.x,l.y,l.z),r.setXYZ(b,u.x,u.y,u.z)}else for(let f=0,m=n.count;f<m;f+=3)i.fromBufferAttribute(n,f+0),o.fromBufferAttribute(n,f+1),a.fromBufferAttribute(n,f+2),c.subVectors(a,o),h.subVectors(i,o),c.cross(h),r.setXYZ(f+0,c.x,c.y,c.z),r.setXYZ(f+1,c.x,c.y,c.z),r.setXYZ(f+2,c.x,c.y,c.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(e,n){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}n===void 0&&(n=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const r=this.attributes;for(const i in r){if(e.attributes[i]===void 0)continue;const a=r[i].array,s=e.attributes[i],l=s.array,u=s.itemSize*n,c=Math.min(l.length,a.length-u);for(let h=0,f=u;h<c;h++,f++)a[f]=l[h]}return this}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)yo.fromBufferAttribute(e,n),yo.normalize(),e.setXYZ(n,yo.x,yo.y,yo.z)}toNonIndexed(){function e(s,l){const u=s.array,c=s.itemSize,h=s.normalized,f=new u.constructor(l.length*c);let m=0,y=0;for(let x=0,b=l.length;x<b;x++){s.isInterleavedBufferAttribute?m=l[x]*s.data.stride+s.offset:m=l[x]*c;for(let w=0;w<c;w++)f[y++]=u[m++]}return new Oi(f,c,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new $n,r=this.index.array,i=this.attributes;for(const s in i){const l=i[s],u=e(l,r);n.setAttribute(s,u)}const o=this.morphAttributes;for(const s in o){const l=[],u=o[s];for(let c=0,h=u.length;c<h;c++){const f=u[c],m=e(f,r);l.push(m)}n.morphAttributes[s]=l}n.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let s=0,l=a.length;s<l;s++){const u=a[s];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let o=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],c=[];for(let h=0,f=u.length;h<f;h++){const m=u[h];c.push(m.toJSON(e.data))}c.length>0&&(i[l]=c,o=!0)}o&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const s=this.boundingSphere;return s!==null&&(e.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const u in i){const c=i[u];this.setAttribute(u,c.clone(n))}const o=e.morphAttributes;for(const u in o){const c=[],h=o[u];for(let f=0,m=h.length;f<m;f++)c.push(h[f].clone(n));this.morphAttributes[u]=c}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let u=0,c=a.length;u<c;u++){const h=a[u];this.addGroup(h.start,h.count,h.materialIndex)}const s=e.boundingBox;s!==null&&(this.boundingBox=s.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}$n.prototype.isBufferGeometry=!0;const C6=new Xt,sp=new sc,S2=new Gm,Vc=new pe,Uc=new pe,Hc=new pe,C2=new pe,E2=new pe,M2=new pe,_b=new pe,Sb=new pe,Cb=new pe,Eb=new et,Mb=new et,Tb=new et,T2=new pe,Pb=new pe;class ci extends gr{constructor(e=new $n,n=new hl){super(),this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e){return super.copy(e),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const n=e.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=i.length;o<a;o++){const s=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}else{const n=e.morphTargets;n!==void 0&&n.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(e,n){const r=this.geometry,i=this.material,o=this.matrixWorld;if(i===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),S2.copy(r.boundingSphere),S2.applyMatrix4(o),e.ray.intersectsSphere(S2)===!1)||(C6.copy(o).invert(),sp.copy(e.ray).applyMatrix4(C6),r.boundingBox!==null&&sp.intersectsBox(r.boundingBox)===!1))return;let a;if(r.isBufferGeometry){const s=r.index,l=r.attributes.position,u=r.morphAttributes.position,c=r.morphTargetsRelative,h=r.attributes.uv,f=r.attributes.uv2,m=r.groups,y=r.drawRange;if(s!==null)if(Array.isArray(i))for(let x=0,b=m.length;x<b;x++){const w=m[x],S=i[w.materialIndex],C=Math.max(w.start,y.start),M=Math.min(s.count,Math.min(w.start+w.count,y.start+y.count));for(let T=C,R=M;T<R;T+=3){const I=s.getX(T),A=s.getX(T+1),N=s.getX(T+2);a=Ab(this,S,e,sp,l,u,c,h,f,I,A,N),a&&(a.faceIndex=Math.floor(T/3),a.face.materialIndex=w.materialIndex,n.push(a))}}else{const x=Math.max(0,y.start),b=Math.min(s.count,y.start+y.count);for(let w=x,S=b;w<S;w+=3){const C=s.getX(w),M=s.getX(w+1),T=s.getX(w+2);a=Ab(this,i,e,sp,l,u,c,h,f,C,M,T),a&&(a.faceIndex=Math.floor(w/3),n.push(a))}}else if(l!==void 0)if(Array.isArray(i))for(let x=0,b=m.length;x<b;x++){const w=m[x],S=i[w.materialIndex],C=Math.max(w.start,y.start),M=Math.min(l.count,Math.min(w.start+w.count,y.start+y.count));for(let T=C,R=M;T<R;T+=3){const I=T,A=T+1,N=T+2;a=Ab(this,S,e,sp,l,u,c,h,f,I,A,N),a&&(a.faceIndex=Math.floor(T/3),a.face.materialIndex=w.materialIndex,n.push(a))}}else{const x=Math.max(0,y.start),b=Math.min(l.count,y.start+y.count);for(let w=x,S=b;w<S;w+=3){const C=w,M=w+1,T=w+2;a=Ab(this,i,e,sp,l,u,c,h,f,C,M,T),a&&(a.faceIndex=Math.floor(w/3),n.push(a))}}}else r.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}ci.prototype.isMesh=!0;function Twe(t,e,n,r,i,o,a,s){let l;if(e.side===Ja?l=r.intersectTriangle(a,o,i,!0,s):l=r.intersectTriangle(i,o,a,e.side!==Sd,s),l===null)return null;Pb.copy(s),Pb.applyMatrix4(t.matrixWorld);const u=n.ray.origin.distanceTo(Pb);return u<n.near||u>n.far?null:{distance:u,point:Pb.clone(),object:t}}function Ab(t,e,n,r,i,o,a,s,l,u,c,h){Vc.fromBufferAttribute(i,u),Uc.fromBufferAttribute(i,c),Hc.fromBufferAttribute(i,h);const f=t.morphTargetInfluences;if(o&&f){_b.set(0,0,0),Sb.set(0,0,0),Cb.set(0,0,0);for(let y=0,x=o.length;y<x;y++){const b=f[y],w=o[y];b!==0&&(C2.fromBufferAttribute(w,u),E2.fromBufferAttribute(w,c),M2.fromBufferAttribute(w,h),a?(_b.addScaledVector(C2,b),Sb.addScaledVector(E2,b),Cb.addScaledVector(M2,b)):(_b.addScaledVector(C2.sub(Vc),b),Sb.addScaledVector(E2.sub(Uc),b),Cb.addScaledVector(M2.sub(Hc),b)))}Vc.add(_b),Uc.add(Sb),Hc.add(Cb)}t.isSkinnedMesh&&(t.boneTransform(u,Vc),t.boneTransform(c,Uc),t.boneTransform(h,Hc));const m=Twe(t,e,n,r,Vc,Uc,Hc,T2);if(m){s&&(Eb.fromBufferAttribute(s,u),Mb.fromBufferAttribute(s,c),Tb.fromBufferAttribute(s,h),m.uv=Ki.getUV(T2,Vc,Uc,Hc,Eb,Mb,Tb,new et)),l&&(Eb.fromBufferAttribute(l,u),Mb.fromBufferAttribute(l,c),Tb.fromBufferAttribute(l,h),m.uv2=Ki.getUV(T2,Vc,Uc,Hc,Eb,Mb,Tb,new et));const y={a:u,b:c,c:h,normal:new pe,materialIndex:0};Ki.getNormal(Vc,Uc,Hc,y.normal),m.face=y}return m}class lh extends $n{constructor(e=1,n=1,r=1,i=1,o=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:o,depthSegments:a};const s=this;i=Math.floor(i),o=Math.floor(o),a=Math.floor(a);const l=[],u=[],c=[],h=[];let f=0,m=0;y("z","y","x",-1,-1,r,n,e,a,o,0),y("z","y","x",1,-1,r,n,-e,a,o,1),y("x","z","y",1,1,e,r,n,i,a,2),y("x","z","y",1,-1,e,r,-n,i,a,3),y("x","y","z",1,-1,e,n,r,i,o,4),y("x","y","z",-1,-1,e,n,-r,i,o,5),this.setIndex(l),this.setAttribute("position",new Pn(u,3)),this.setAttribute("normal",new Pn(c,3)),this.setAttribute("uv",new Pn(h,2));function y(x,b,w,S,C,M,T,R,I,A,N){const L=M/I,D=T/A,W=M/2,V=T/2,B=R/2,K=I+1,j=A+1;let G=0,H=0;const Y=new pe;for(let Z=0;Z<j;Z++){const oe=Z*D-V;for(let re=0;re<K;re++){const se=re*L-W;Y[x]=se*S,Y[b]=oe*C,Y[w]=B,u.push(Y.x,Y.y,Y.z),Y[x]=0,Y[b]=0,Y[w]=R>0?1:-1,c.push(Y.x,Y.y,Y.z),h.push(re/I),h.push(1-Z/A),G+=1}}for(let Z=0;Z<A;Z++)for(let oe=0;oe<I;oe++){const re=f+oe+K*Z,se=f+oe+K*(Z+1),ce=f+(oe+1)+K*(Z+1),ye=f+(oe+1)+K*Z;l.push(re,se,ye),l.push(se,ce,ye),H+=6}s.addGroup(m,H,N),m+=H,f+=G}}static fromJSON(e){return new lh(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function bm(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function Bo(t){const e={};for(let n=0;n<t.length;n++){const r=bm(t[n]);for(const i in r)e[i]=r[i]}return e}const qi={clone:bm,merge:Bo};var Pwe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Awe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Wn extends fo{constructor(e){super(),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=Pwe,this.fragmentShader=Awe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=bm(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const a=this.uniforms[i].value;a&&a.isTexture?n.uniforms[i]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?n.uniforms[i]={type:"c",value:a.getHex()}:a&&a.isVector2?n.uniforms[i]={type:"v2",value:a.toArray()}:a&&a.isVector3?n.uniforms[i]={type:"v3",value:a.toArray()}:a&&a.isVector4?n.uniforms[i]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?n.uniforms[i]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?n.uniforms[i]={type:"m4",value:a.toArray()}:n.uniforms[i]={value:a}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}Wn.prototype.isShaderMaterial=!0;class wS extends gr{constructor(){super(),this.type="Camera",this.matrixWorldInverse=new Xt,this.projectionMatrix=new Xt,this.projectionMatrixInverse=new Xt}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(-n[8],-n[9],-n[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}wS.prototype.isCamera=!0;class bo extends wS{constructor(e=50,n=1,r=.1,i=2e3){super(),this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=C0*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Dg*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return C0*2*Math.atan(Math.tan(Dg*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,r,i,o,a){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Dg*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,o=-.5*i;const a=this.view;if(this.view!==null&&this.view.enabled){const l=a.fullWidth,u=a.fullHeight;o+=a.offsetX*i/l,n-=a.offsetY*r/u,i*=a.width/l,r*=a.height/u}const s=this.filmOffset;s!==0&&(o+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+i,n,n-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}bo.prototype.isPerspectiveCamera=!0;const lp=90,up=1;class HO extends gr{constructor(e,n,r){if(super(),this.type="CubeCamera",r.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=r;const i=new bo(lp,up,e,n);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new pe(1,0,0)),this.add(i);const o=new bo(lp,up,e,n);o.layers=this.layers,o.up.set(0,-1,0),o.lookAt(new pe(-1,0,0)),this.add(o);const a=new bo(lp,up,e,n);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(new pe(0,1,0)),this.add(a);const s=new bo(lp,up,e,n);s.layers=this.layers,s.up.set(0,0,-1),s.lookAt(new pe(0,-1,0)),this.add(s);const l=new bo(lp,up,e,n);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new pe(0,0,1)),this.add(l);const u=new bo(lp,up,e,n);u.layers=this.layers,u.up.set(0,-1,0),u.lookAt(new pe(0,0,-1)),this.add(u)}update(e,n){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget,[i,o,a,s,l,u]=this.children,c=e.getRenderTarget(),h=e.toneMapping,f=e.xr.enabled;e.toneMapping=jl,e.xr.enabled=!1;const m=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(n,i),e.setRenderTarget(r,1),e.render(n,o),e.setRenderTarget(r,2),e.render(n,a),e.setRenderTarget(r,3),e.render(n,s),e.setRenderTarget(r,4),e.render(n,l),r.texture.generateMipmaps=m,e.setRenderTarget(r,5),e.render(n,u),e.setRenderTarget(c),e.toneMapping=h,e.xr.enabled=f,r.texture.needsPMREMUpdate=!0}}class _S extends Yi{constructor(e,n,r,i,o,a,s,l,u,c){e=e!==void 0?e:[],n=n!==void 0?n:gm,super(e,n,r,i,o,a,s,l,u,c),this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}_S.prototype.isCubeTexture=!0;class n7 extends sr{constructor(e,n={}){super(e,e,n);const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new _S(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Ai}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.encoding=n.encoding,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new lh(5,5,5),o=new Wn({name:"CubemapFromEquirect",uniforms:bm(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Ja,blending:Mr});o.uniforms.tEquirect.value=n;const a=new ci(i,o),s=n.minFilter;return n.minFilter===sy&&(n.minFilter=Ai),new HO(1,10,this).update(e,a),n.minFilter=s,a.geometry.dispose(),a.material.dispose(),this}clear(e,n,r,i){const o=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(n,r,i);e.setRenderTarget(o)}}n7.prototype.isWebGLCubeRenderTarget=!0;const P2=new pe,Rwe=new pe,Owe=new Ri;class Bu{constructor(e=new pe(1,0,0),n=0){this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=P2.subVectors(r,n).cross(Rwe.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,n){const r=e.delta(P2),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/i;return o<0||o>1?null:n.copy(r).multiplyScalar(o).add(e.start)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||Owe.getNormalMatrix(e),i=this.coplanarPoint(P2).applyMatrix4(e),o=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}Bu.prototype.isPlane=!0;const cp=new Gm,Rb=new pe;class ly{constructor(e=new Bu,n=new Bu,r=new Bu,i=new Bu,o=new Bu,a=new Bu){this.planes=[e,n,r,i,o,a]}set(e,n,r,i,o,a){const s=this.planes;return s[0].copy(e),s[1].copy(n),s[2].copy(r),s[3].copy(i),s[4].copy(o),s[5].copy(a),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const n=this.planes,r=e.elements,i=r[0],o=r[1],a=r[2],s=r[3],l=r[4],u=r[5],c=r[6],h=r[7],f=r[8],m=r[9],y=r[10],x=r[11],b=r[12],w=r[13],S=r[14],C=r[15];return n[0].setComponents(s-i,h-l,x-f,C-b).normalize(),n[1].setComponents(s+i,h+l,x+f,C+b).normalize(),n[2].setComponents(s+o,h+u,x+m,C+w).normalize(),n[3].setComponents(s-o,h-u,x-m,C-w).normalize(),n[4].setComponents(s-a,h-c,x-y,C-S).normalize(),n[5].setComponents(s+a,h+c,x+y,C+S).normalize(),this}intersectsObject(e){const n=e.geometry;return n.boundingSphere===null&&n.computeBoundingSphere(),cp.copy(n.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(cp)}intersectsSprite(e){return cp.center.set(0,0,0),cp.radius=.7071067811865476,cp.applyMatrix4(e.matrixWorld),this.intersectsSphere(cp)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let o=0;o<6;o++)if(n[o].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(Rb.x=i.normal.x>0?e.max.x:e.min.x,Rb.y=i.normal.y>0?e.max.y:e.min.y,Rb.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Rb)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function r7(){let t=null,e=!1,n=null,r=null;function i(o,a){n(o,a),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(o){n=o},setContext:function(o){t=o}}}function Nwe(t,e){const n=e.isWebGL2,r=new WeakMap;function i(u,c){const h=u.array,f=u.usage,m=t.createBuffer();t.bindBuffer(c,m),t.bufferData(c,h,f),u.onUploadCallback();let y;if(h instanceof Float32Array)y=5126;else if(h instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(n)y=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else y=5123;else if(h instanceof Int16Array)y=5122;else if(h instanceof Uint32Array)y=5125;else if(h instanceof Int32Array)y=5124;else if(h instanceof Int8Array)y=5120;else if(h instanceof Uint8Array)y=5121;else if(h instanceof Uint8ClampedArray)y=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);return{buffer:m,type:y,bytesPerElement:h.BYTES_PER_ELEMENT,version:u.version}}function o(u,c,h){const f=c.array,m=c.updateRange;t.bindBuffer(h,u),m.count===-1?t.bufferSubData(h,0,f):(n?t.bufferSubData(h,m.offset*f.BYTES_PER_ELEMENT,f,m.offset,m.count):t.bufferSubData(h,m.offset*f.BYTES_PER_ELEMENT,f.subarray(m.offset,m.offset+m.count)),m.count=-1)}function a(u){return u.isInterleavedBufferAttribute&&(u=u.data),r.get(u)}function s(u){u.isInterleavedBufferAttribute&&(u=u.data);const c=r.get(u);c&&(t.deleteBuffer(c.buffer),r.delete(u))}function l(u,c){if(u.isGLBufferAttribute){const f=r.get(u);(!f||f.version<u.version)&&r.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const h=r.get(u);h===void 0?r.set(u,i(u,c)):h.version<u.version&&(o(h.buffer,u,c),h.version=u.version)}return{get:a,remove:s,update:l}}class uy extends $n{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const o=e/2,a=n/2,s=Math.floor(r),l=Math.floor(i),u=s+1,c=l+1,h=e/s,f=n/l,m=[],y=[],x=[],b=[];for(let w=0;w<c;w++){const S=w*f-a;for(let C=0;C<u;C++){const M=C*h-o;y.push(M,-S,0),x.push(0,0,1),b.push(C/s),b.push(1-w/l)}}for(let w=0;w<l;w++)for(let S=0;S<s;S++){const C=S+u*w,M=S+u*(w+1),T=S+1+u*(w+1),R=S+1+u*w;m.push(C,M,R),m.push(M,T,R)}this.setIndex(m),this.setAttribute("position",new Pn(y,3)),this.setAttribute("normal",new Pn(x,3)),this.setAttribute("uv",new Pn(b,2))}static fromJSON(e){return new uy(e.width,e.height,e.widthSegments,e.heightSegments)}}var kwe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,Iwe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Lwe=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,Dwe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Fwe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,zwe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Bwe="vec3 transformed = vec3( position );",Vwe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Uwe=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,Hwe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Wwe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,jwe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Gwe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,$we=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Kwe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,qwe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Xwe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,Ywe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,Zwe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,Jwe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Qwe=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,e_e=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,t_e=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,n_e=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,r_e=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,i_e="gl_FragColor = linearToOutputTexel( gl_FragColor );",o_e=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,a_e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,s_e=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,l_e=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,u_e=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,c_e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,d_e=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,f_e=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,h_e=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,p_e=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,m_e=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,v_e=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,g_e=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,y_e=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
		#endif
	}
	#pragma unroll_loop_end
#endif`,x_e=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,b_e=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,w_e=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,__e=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,S_e=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,C_e=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,E_e=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,M_e=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	vec3 FssEss = specularColor * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,T_e=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,P_e=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,A_e=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,R_e=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,O_e=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,N_e=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,k_e=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,I_e=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,L_e=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,D_e=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,F_e=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,z_e=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,B_e=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,V_e=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,U_e=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,H_e=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,W_e=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,j_e=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,G_e=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,$_e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,K_e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,q_e=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,X_e=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,Y_e=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,Z_e=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,J_e=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,Q_e=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,e1e=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,t1e=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,n1e=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,r1e=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,i1e=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,o1e=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,a1e=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,s1e=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,l1e=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,u1e=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,c1e=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,d1e=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,f1e=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,h1e=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,p1e=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,m1e=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,v1e=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,g1e=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,y1e=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,x1e=`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationColor, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );
#endif`,b1e=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,w1e=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,_1e=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,S1e=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,C1e=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,E1e=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,M1e=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,T1e=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const P1e=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,A1e=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		gl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );
	#endif
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,R1e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,O1e=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,N1e=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,k1e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,I1e=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,L1e=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,D1e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,F1e=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,z1e=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,B1e=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,V1e=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,U1e=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,H1e=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,W1e=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,j1e=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,G1e=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,$1e=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,K1e=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,q1e=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,X1e=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Y1e=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Z1e=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,J1e=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Q1e=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,eSe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,tSe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,nSe=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,rSe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,iSe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,oSe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,qn={alphamap_fragment:kwe,alphamap_pars_fragment:Iwe,alphatest_fragment:Lwe,alphatest_pars_fragment:Dwe,aomap_fragment:Fwe,aomap_pars_fragment:zwe,begin_vertex:Bwe,beginnormal_vertex:Vwe,bsdfs:Uwe,bumpmap_pars_fragment:Hwe,clipping_planes_fragment:Wwe,clipping_planes_pars_fragment:jwe,clipping_planes_pars_vertex:Gwe,clipping_planes_vertex:$we,color_fragment:Kwe,color_pars_fragment:qwe,color_pars_vertex:Xwe,color_vertex:Ywe,common:Zwe,cube_uv_reflection_fragment:Jwe,defaultnormal_vertex:Qwe,displacementmap_pars_vertex:e_e,displacementmap_vertex:t_e,emissivemap_fragment:n_e,emissivemap_pars_fragment:r_e,encodings_fragment:i_e,encodings_pars_fragment:o_e,envmap_fragment:a_e,envmap_common_pars_fragment:s_e,envmap_pars_fragment:l_e,envmap_pars_vertex:u_e,envmap_physical_pars_fragment:b_e,envmap_vertex:c_e,fog_vertex:d_e,fog_pars_vertex:f_e,fog_fragment:h_e,fog_pars_fragment:p_e,gradientmap_pars_fragment:m_e,lightmap_fragment:v_e,lightmap_pars_fragment:g_e,lights_lambert_vertex:y_e,lights_pars_begin:x_e,lights_toon_fragment:w_e,lights_toon_pars_fragment:__e,lights_phong_fragment:S_e,lights_phong_pars_fragment:C_e,lights_physical_fragment:E_e,lights_physical_pars_fragment:M_e,lights_fragment_begin:T_e,lights_fragment_maps:P_e,lights_fragment_end:A_e,logdepthbuf_fragment:R_e,logdepthbuf_pars_fragment:O_e,logdepthbuf_pars_vertex:N_e,logdepthbuf_vertex:k_e,map_fragment:I_e,map_pars_fragment:L_e,map_particle_fragment:D_e,map_particle_pars_fragment:F_e,metalnessmap_fragment:z_e,metalnessmap_pars_fragment:B_e,morphcolor_vertex:V_e,morphnormal_vertex:U_e,morphtarget_pars_vertex:H_e,morphtarget_vertex:W_e,normal_fragment_begin:j_e,normal_fragment_maps:G_e,normal_pars_fragment:$_e,normal_pars_vertex:K_e,normal_vertex:q_e,normalmap_pars_fragment:X_e,clearcoat_normal_fragment_begin:Y_e,clearcoat_normal_fragment_maps:Z_e,clearcoat_pars_fragment:J_e,output_fragment:Q_e,packing:e1e,premultiplied_alpha_fragment:t1e,project_vertex:n1e,dithering_fragment:r1e,dithering_pars_fragment:i1e,roughnessmap_fragment:o1e,roughnessmap_pars_fragment:a1e,shadowmap_pars_fragment:s1e,shadowmap_pars_vertex:l1e,shadowmap_vertex:u1e,shadowmask_pars_fragment:c1e,skinbase_vertex:d1e,skinning_pars_vertex:f1e,skinning_vertex:h1e,skinnormal_vertex:p1e,specularmap_fragment:m1e,specularmap_pars_fragment:v1e,tonemapping_fragment:g1e,tonemapping_pars_fragment:y1e,transmission_fragment:x1e,transmission_pars_fragment:b1e,uv_pars_fragment:w1e,uv_pars_vertex:_1e,uv_vertex:S1e,uv2_pars_fragment:C1e,uv2_pars_vertex:E1e,uv2_vertex:M1e,worldpos_vertex:T1e,background_vert:P1e,background_frag:A1e,cube_vert:R1e,cube_frag:O1e,depth_vert:N1e,depth_frag:k1e,distanceRGBA_vert:I1e,distanceRGBA_frag:L1e,equirect_vert:D1e,equirect_frag:F1e,linedashed_vert:z1e,linedashed_frag:B1e,meshbasic_vert:V1e,meshbasic_frag:U1e,meshlambert_vert:H1e,meshlambert_frag:W1e,meshmatcap_vert:j1e,meshmatcap_frag:G1e,meshnormal_vert:$1e,meshnormal_frag:K1e,meshphong_vert:q1e,meshphong_frag:X1e,meshphysical_vert:Y1e,meshphysical_frag:Z1e,meshtoon_vert:J1e,meshtoon_frag:Q1e,points_vert:eSe,points_frag:tSe,shadow_vert:nSe,shadow_frag:rSe,sprite_vert:iSe,sprite_frag:oSe},It={common:{diffuse:{value:new _t(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Ri},uv2Transform:{value:new Ri},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new et(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new _t(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new _t(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Ri}},sprite:{diffuse:{value:new _t(16777215)},opacity:{value:1},center:{value:new et(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Ri}}},Ll={basic:{uniforms:Bo([It.common,It.specularmap,It.envmap,It.aomap,It.lightmap,It.fog]),vertexShader:qn.meshbasic_vert,fragmentShader:qn.meshbasic_frag},lambert:{uniforms:Bo([It.common,It.specularmap,It.envmap,It.aomap,It.lightmap,It.emissivemap,It.fog,It.lights,{emissive:{value:new _t(0)}}]),vertexShader:qn.meshlambert_vert,fragmentShader:qn.meshlambert_frag},phong:{uniforms:Bo([It.common,It.specularmap,It.envmap,It.aomap,It.lightmap,It.emissivemap,It.bumpmap,It.normalmap,It.displacementmap,It.fog,It.lights,{emissive:{value:new _t(0)},specular:{value:new _t(1118481)},shininess:{value:30}}]),vertexShader:qn.meshphong_vert,fragmentShader:qn.meshphong_frag},standard:{uniforms:Bo([It.common,It.envmap,It.aomap,It.lightmap,It.emissivemap,It.bumpmap,It.normalmap,It.displacementmap,It.roughnessmap,It.metalnessmap,It.fog,It.lights,{emissive:{value:new _t(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:qn.meshphysical_vert,fragmentShader:qn.meshphysical_frag},toon:{uniforms:Bo([It.common,It.aomap,It.lightmap,It.emissivemap,It.bumpmap,It.normalmap,It.displacementmap,It.gradientmap,It.fog,It.lights,{emissive:{value:new _t(0)}}]),vertexShader:qn.meshtoon_vert,fragmentShader:qn.meshtoon_frag},matcap:{uniforms:Bo([It.common,It.bumpmap,It.normalmap,It.displacementmap,It.fog,{matcap:{value:null}}]),vertexShader:qn.meshmatcap_vert,fragmentShader:qn.meshmatcap_frag},points:{uniforms:Bo([It.points,It.fog]),vertexShader:qn.points_vert,fragmentShader:qn.points_frag},dashed:{uniforms:Bo([It.common,It.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:qn.linedashed_vert,fragmentShader:qn.linedashed_frag},depth:{uniforms:Bo([It.common,It.displacementmap]),vertexShader:qn.depth_vert,fragmentShader:qn.depth_frag},normal:{uniforms:Bo([It.common,It.bumpmap,It.normalmap,It.displacementmap,{opacity:{value:1}}]),vertexShader:qn.meshnormal_vert,fragmentShader:qn.meshnormal_frag},sprite:{uniforms:Bo([It.sprite,It.fog]),vertexShader:qn.sprite_vert,fragmentShader:qn.sprite_frag},background:{uniforms:{uvTransform:{value:new Ri},t2D:{value:null}},vertexShader:qn.background_vert,fragmentShader:qn.background_frag},cube:{uniforms:Bo([It.envmap,{opacity:{value:1}}]),vertexShader:qn.cube_vert,fragmentShader:qn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:qn.equirect_vert,fragmentShader:qn.equirect_frag},distanceRGBA:{uniforms:Bo([It.common,It.displacementmap,{referencePosition:{value:new pe},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:qn.distanceRGBA_vert,fragmentShader:qn.distanceRGBA_frag},shadow:{uniforms:Bo([It.lights,It.fog,{color:{value:new _t(0)},opacity:{value:1}}]),vertexShader:qn.shadow_vert,fragmentShader:qn.shadow_frag}};Ll.physical={uniforms:Bo([Ll.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new et(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new _t(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new et},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new _t(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new _t(1,1,1)},specularColorMap:{value:null}}]),vertexShader:qn.meshphysical_vert,fragmentShader:qn.meshphysical_frag};function aSe(t,e,n,r,i,o){const a=new _t(0);let s=i===!0?0:1,l,u,c=null,h=0,f=null;function m(x,b){let w=!1,S=b.isScene===!0?b.background:null;S&&S.isTexture&&(S=e.get(S));const C=t.xr,M=C.getSession&&C.getSession();M&&M.environmentBlendMode==="additive"&&(S=null),S===null?y(a,s):S&&S.isColor&&(y(S,1),w=!0),(t.autoClear||w)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),S&&(S.isCubeTexture||S.mapping===yS)?(u===void 0&&(u=new ci(new lh(1,1,1),new Wn({name:"BackgroundCubeMaterial",uniforms:bm(Ll.cube.uniforms),vertexShader:Ll.cube.vertexShader,fragmentShader:Ll.cube.fragmentShader,side:Ja,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(T,R,I){this.matrixWorld.copyPosition(I.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(u)),u.material.uniforms.envMap.value=S,u.material.uniforms.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,(c!==S||h!==S.version||f!==t.toneMapping)&&(u.material.needsUpdate=!0,c=S,h=S.version,f=t.toneMapping),u.layers.enableAll(),x.unshift(u,u.geometry,u.material,0,0,null)):S&&S.isTexture&&(l===void 0&&(l=new ci(new uy(2,2),new Wn({name:"BackgroundMaterial",uniforms:bm(Ll.background.uniforms),vertexShader:Ll.background.vertexShader,fragmentShader:Ll.background.fragmentShader,side:b0,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(l)),l.material.uniforms.t2D.value=S,S.matrixAutoUpdate===!0&&S.updateMatrix(),l.material.uniforms.uvTransform.value.copy(S.matrix),(c!==S||h!==S.version||f!==t.toneMapping)&&(l.material.needsUpdate=!0,c=S,h=S.version,f=t.toneMapping),l.layers.enableAll(),x.unshift(l,l.geometry,l.material,0,0,null))}function y(x,b){n.buffers.color.setClear(x.r,x.g,x.b,b,o)}return{getClearColor:function(){return a},setClearColor:function(x,b=1){a.set(x),s=b,y(a,s)},getClearAlpha:function(){return s},setClearAlpha:function(x){s=x,y(a,s)},render:m}}function sSe(t,e,n,r){const i=t.getParameter(34921),o=r.isWebGL2?null:e.get("OES_vertex_array_object"),a=r.isWebGL2||o!==null,s={},l=b(null);let u=l,c=!1;function h(B,K,j,G,H){let Y=!1;if(a){const Z=x(G,j,K);u!==Z&&(u=Z,m(u.object)),Y=w(B,G,j,H),Y&&S(B,G,j,H)}else{const Z=K.wireframe===!0;(u.geometry!==G.id||u.program!==j.id||u.wireframe!==Z)&&(u.geometry=G.id,u.program=j.id,u.wireframe=Z,Y=!0)}H!==null&&n.update(H,34963),(Y||c)&&(c=!1,A(B,K,j,G),H!==null&&t.bindBuffer(34963,n.get(H).buffer))}function f(){return r.isWebGL2?t.createVertexArray():o.createVertexArrayOES()}function m(B){return r.isWebGL2?t.bindVertexArray(B):o.bindVertexArrayOES(B)}function y(B){return r.isWebGL2?t.deleteVertexArray(B):o.deleteVertexArrayOES(B)}function x(B,K,j){const G=j.wireframe===!0;let H=s[B.id];H===void 0&&(H={},s[B.id]=H);let Y=H[K.id];Y===void 0&&(Y={},H[K.id]=Y);let Z=Y[G];return Z===void 0&&(Z=b(f()),Y[G]=Z),Z}function b(B){const K=[],j=[],G=[];for(let H=0;H<i;H++)K[H]=0,j[H]=0,G[H]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:K,enabledAttributes:j,attributeDivisors:G,object:B,attributes:{},index:null}}function w(B,K,j,G){const H=u.attributes,Y=K.attributes;let Z=0;const oe=j.getAttributes();for(const re in oe)if(oe[re].location>=0){const ce=H[re];let ye=Y[re];if(ye===void 0&&(re==="instanceMatrix"&&B.instanceMatrix&&(ye=B.instanceMatrix),re==="instanceColor"&&B.instanceColor&&(ye=B.instanceColor)),ce===void 0||ce.attribute!==ye||ye&&ce.data!==ye.data)return!0;Z++}return u.attributesNum!==Z||u.index!==G}function S(B,K,j,G){const H={},Y=K.attributes;let Z=0;const oe=j.getAttributes();for(const re in oe)if(oe[re].location>=0){let ce=Y[re];ce===void 0&&(re==="instanceMatrix"&&B.instanceMatrix&&(ce=B.instanceMatrix),re==="instanceColor"&&B.instanceColor&&(ce=B.instanceColor));const ye={};ye.attribute=ce,ce&&ce.data&&(ye.data=ce.data),H[re]=ye,Z++}u.attributes=H,u.attributesNum=Z,u.index=G}function C(){const B=u.newAttributes;for(let K=0,j=B.length;K<j;K++)B[K]=0}function M(B){T(B,0)}function T(B,K){const j=u.newAttributes,G=u.enabledAttributes,H=u.attributeDivisors;j[B]=1,G[B]===0&&(t.enableVertexAttribArray(B),G[B]=1),H[B]!==K&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](B,K),H[B]=K)}function R(){const B=u.newAttributes,K=u.enabledAttributes;for(let j=0,G=K.length;j<G;j++)K[j]!==B[j]&&(t.disableVertexAttribArray(j),K[j]=0)}function I(B,K,j,G,H,Y){r.isWebGL2===!0&&(j===5124||j===5125)?t.vertexAttribIPointer(B,K,j,H,Y):t.vertexAttribPointer(B,K,j,G,H,Y)}function A(B,K,j,G){if(r.isWebGL2===!1&&(B.isInstancedMesh||G.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;C();const H=G.attributes,Y=j.getAttributes(),Z=K.defaultAttributeValues;for(const oe in Y){const re=Y[oe];if(re.location>=0){let se=H[oe];if(se===void 0&&(oe==="instanceMatrix"&&B.instanceMatrix&&(se=B.instanceMatrix),oe==="instanceColor"&&B.instanceColor&&(se=B.instanceColor)),se!==void 0){const ce=se.normalized,ye=se.itemSize,fe=n.get(se);if(fe===void 0)continue;const De=fe.buffer,Oe=fe.type,Fe=fe.bytesPerElement;if(se.isInterleavedBufferAttribute){const Ee=se.data,Ye=Ee.stride,be=se.offset;if(Ee.isInstancedInterleavedBuffer){for(let Ce=0;Ce<re.locationSize;Ce++)T(re.location+Ce,Ee.meshPerAttribute);B.isInstancedMesh!==!0&&G._maxInstanceCount===void 0&&(G._maxInstanceCount=Ee.meshPerAttribute*Ee.count)}else for(let Ce=0;Ce<re.locationSize;Ce++)M(re.location+Ce);t.bindBuffer(34962,De);for(let Ce=0;Ce<re.locationSize;Ce++)I(re.location+Ce,ye/re.locationSize,Oe,ce,Ye*Fe,(be+ye/re.locationSize*Ce)*Fe)}else{if(se.isInstancedBufferAttribute){for(let Ee=0;Ee<re.locationSize;Ee++)T(re.location+Ee,se.meshPerAttribute);B.isInstancedMesh!==!0&&G._maxInstanceCount===void 0&&(G._maxInstanceCount=se.meshPerAttribute*se.count)}else for(let Ee=0;Ee<re.locationSize;Ee++)M(re.location+Ee);t.bindBuffer(34962,De);for(let Ee=0;Ee<re.locationSize;Ee++)I(re.location+Ee,ye/re.locationSize,Oe,ce,ye*Fe,ye/re.locationSize*Ee*Fe)}}else if(Z!==void 0){const ce=Z[oe];if(ce!==void 0)switch(ce.length){case 2:t.vertexAttrib2fv(re.location,ce);break;case 3:t.vertexAttrib3fv(re.location,ce);break;case 4:t.vertexAttrib4fv(re.location,ce);break;default:t.vertexAttrib1fv(re.location,ce)}}}}R()}function N(){W();for(const B in s){const K=s[B];for(const j in K){const G=K[j];for(const H in G)y(G[H].object),delete G[H];delete K[j]}delete s[B]}}function L(B){if(s[B.id]===void 0)return;const K=s[B.id];for(const j in K){const G=K[j];for(const H in G)y(G[H].object),delete G[H];delete K[j]}delete s[B.id]}function D(B){for(const K in s){const j=s[K];if(j[B.id]===void 0)continue;const G=j[B.id];for(const H in G)y(G[H].object),delete G[H];delete j[B.id]}}function W(){V(),c=!0,u!==l&&(u=l,m(u.object))}function V(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:h,reset:W,resetDefaultState:V,dispose:N,releaseStatesOfGeometry:L,releaseStatesOfProgram:D,initAttributes:C,enableAttribute:M,disableUnusedAttributes:R}}function lSe(t,e,n,r){const i=r.isWebGL2;let o;function a(u){o=u}function s(u,c){t.drawArrays(o,u,c),n.update(c,o,1)}function l(u,c,h){if(h===0)return;let f,m;if(i)f=t,m="drawArraysInstanced";else if(f=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",f===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}f[m](o,u,c,h),n.update(c,o,h)}this.setMode=a,this.render=s,this.renderInstances=l}function uSe(t,e,n){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const I=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(I.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(I){if(I==="highp"){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";I="mediump"}return I==="mediump"&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const a=typeof WebGL2RenderingContext!="undefined"&&t instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext!="undefined"&&t instanceof WebGL2ComputeRenderingContext;let s=n.precision!==void 0?n.precision:"highp";const l=o(s);l!==s&&(console.warn("THREE.WebGLRenderer:",s,"not supported, using",l,"instead."),s=l);const u=a||e.has("WEBGL_draw_buffers"),c=n.logarithmicDepthBuffer===!0,h=t.getParameter(34930),f=t.getParameter(35660),m=t.getParameter(3379),y=t.getParameter(34076),x=t.getParameter(34921),b=t.getParameter(36347),w=t.getParameter(36348),S=t.getParameter(36349),C=f>0,M=a||e.has("OES_texture_float"),T=C&&M,R=a?t.getParameter(36183):0;return{isWebGL2:a,drawBuffers:u,getMaxAnisotropy:i,getMaxPrecision:o,precision:s,logarithmicDepthBuffer:c,maxTextures:h,maxVertexTextures:f,maxTextureSize:m,maxCubemapSize:y,maxAttributes:x,maxVertexUniforms:b,maxVaryings:w,maxFragmentUniforms:S,vertexTextures:C,floatFragmentTextures:M,floatVertexTextures:T,maxSamples:R}}function cSe(t){const e=this;let n=null,r=0,i=!1,o=!1;const a=new Bu,s=new Ri,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,f,m){const y=h.length!==0||f||r!==0||i;return i=f,n=c(h,m,0),r=h.length,y},this.beginShadows=function(){o=!0,c(null)},this.endShadows=function(){o=!1,u()},this.setState=function(h,f,m){const y=h.clippingPlanes,x=h.clipIntersection,b=h.clipShadows,w=t.get(h);if(!i||y===null||y.length===0||o&&!b)o?c(null):u();else{const S=o?0:r,C=S*4;let M=w.clippingState||null;l.value=M,M=c(y,f,C,m);for(let T=0;T!==C;++T)M[T]=n[T];w.clippingState=M,this.numIntersection=x?this.numPlanes:0,this.numPlanes+=S}};function u(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function c(h,f,m,y){const x=h!==null?h.length:0;let b=null;if(x!==0){if(b=l.value,y!==!0||b===null){const w=m+x*4,S=f.matrixWorldInverse;s.getNormalMatrix(S),(b===null||b.length<w)&&(b=new Float32Array(w));for(let C=0,M=m;C!==x;++C,M+=4)a.copy(h[C]).applyMatrix4(S,s),a.normal.toArray(b,M),b[M+3]=a.constant}l.value=b,l.needsUpdate=!0}return e.numPlanes=x,e.numIntersection=0,b}}function dSe(t){let e=new WeakMap;function n(a,s){return s===w0?a.mapping=gm:s===gA&&(a.mapping=ym),a}function r(a){if(a&&a.isTexture&&a.isRenderTargetTexture===!1){const s=a.mapping;if(s===w0||s===gA)if(e.has(a)){const l=e.get(a).texture;return n(l,a.mapping)}else{const l=a.image;if(l&&l.height>0){const u=new n7(l.height/2);return u.fromEquirectangularTexture(t,a),e.set(a,u),a.addEventListener("dispose",i),n(u.texture,a.mapping)}else return null}}return a}function i(a){const s=a.target;s.removeEventListener("dispose",i);const l=e.get(s);l!==void 0&&(e.delete(s),l.dispose())}function o(){e=new WeakMap}return{get:r,dispose:o}}class $m extends wS{constructor(e=-1,n=1,r=1,i=-1,o=.1,a=2e3){super(),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=o,this.far=a,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,o,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let o=r-e,a=r+e,s=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=u*this.view.offsetX,a=o+u*this.view.width,s-=c*this.view.offsetY,l=s-c*this.view.height}this.projectionMatrix.makeOrthographic(o,a,s,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}$m.prototype.isOrthographicCamera=!0;const Hp=4,E6=[.125,.215,.35,.446,.526,.582],bf=20,A2=new $m,M6=new _t;let R2=null;const mf=(1+Math.sqrt(5))/2,dp=1/mf,T6=[new pe(1,1,1),new pe(-1,1,1),new pe(1,1,-1),new pe(-1,1,-1),new pe(0,mf,dp),new pe(0,mf,-dp),new pe(dp,0,mf),new pe(-dp,0,mf),new pe(mf,dp,0),new pe(-mf,dp,0)];class P6{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){R2=this._renderer.getRenderTarget(),this._setSize(256);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(e,r,i,o),n>0&&this._blur(o,0,0,n),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=O6(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=R6(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(R2),e.scissorTest=!1,Ob(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===gm||e.mapping===ym?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),R2=this._renderer.getRenderTarget();const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:Ai,minFilter:Ai,generateMipmaps:!1,type:Vl,format:Cs,encoding:fl,depthBuffer:!1},i=A6(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=A6(e,n,r);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=fSe(o)),this._blurMaterial=hSe(o,e,n)}return i}_compileMaterial(e){const n=new ci(this._lodPlanes[0],e);this._renderer.compile(n,A2)}_sceneToCubeUV(e,n,r,i){const s=new bo(90,1,n,r),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],c=this._renderer,h=c.autoClear,f=c.toneMapping;c.getClearColor(M6),c.toneMapping=jl,c.autoClear=!1;const m=new hl({name:"PMREM.Background",side:Ja,depthWrite:!1,depthTest:!1}),y=new ci(new lh,m);let x=!1;const b=e.background;b?b.isColor&&(m.color.copy(b),e.background=null,x=!0):(m.color.copy(M6),x=!0);for(let w=0;w<6;w++){const S=w%3;S===0?(s.up.set(0,l[w],0),s.lookAt(u[w],0,0)):S===1?(s.up.set(0,0,l[w]),s.lookAt(0,u[w],0)):(s.up.set(0,l[w],0),s.lookAt(0,0,u[w]));const C=this._cubeSize;Ob(i,S*C,w>2?C:0,C,C),c.setRenderTarget(i),x&&c.render(y,s),c.render(e,s)}y.geometry.dispose(),y.material.dispose(),c.toneMapping=f,c.autoClear=h,e.background=b}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===gm||e.mapping===ym;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=O6()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=R6());const o=i?this._cubemapMaterial:this._equirectMaterial,a=new ci(this._lodPlanes[0],o),s=o.uniforms;s.envMap.value=e;const l=this._cubeSize;Ob(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(a,A2)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const o=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),a=T6[(i-1)%T6.length];this._blur(e,i-1,i,o,a)}n.autoClear=r}_blur(e,n,r,i,o){const a=this._pingPongRenderTarget;this._halfBlur(e,a,n,r,i,"latitudinal",o),this._halfBlur(a,e,r,r,i,"longitudinal",o)}_halfBlur(e,n,r,i,o,a,s){const l=this._renderer,u=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const c=3,h=new ci(this._lodPlanes[i],u),f=u.uniforms,m=this._sizeLods[r]-1,y=isFinite(o)?Math.PI/(2*m):2*Math.PI/(2*bf-1),x=o/y,b=isFinite(o)?1+Math.floor(c*x):bf;b>bf&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${b} samples when the maximum is set to ${bf}`);const w=[];let S=0;for(let I=0;I<bf;++I){const A=I/x,N=Math.exp(-A*A/2);w.push(N),I===0?S+=N:I<b&&(S+=2*N)}for(let I=0;I<w.length;I++)w[I]=w[I]/S;f.envMap.value=e.texture,f.samples.value=b,f.weights.value=w,f.latitudinal.value=a==="latitudinal",s&&(f.poleAxis.value=s);const{_lodMax:C}=this;f.dTheta.value=y,f.mipInt.value=C-r;const M=this._sizeLods[i],T=3*M*(i>C-Hp?i-C+Hp:0),R=4*(this._cubeSize-M);Ob(n,T,R,3*M,2*M),l.setRenderTarget(n),l.render(h,A2)}}function fSe(t){const e=[],n=[],r=[];let i=t;const o=t-Hp+1+E6.length;for(let a=0;a<o;a++){const s=Math.pow(2,i);n.push(s);let l=1/s;a>t-Hp?l=E6[a-t+Hp-1]:a===0&&(l=0),r.push(l);const u=1/(s-2),c=-u,h=1+u,f=[c,c,h,c,h,h,c,c,h,h,c,h],m=6,y=6,x=3,b=2,w=1,S=new Float32Array(x*y*m),C=new Float32Array(b*y*m),M=new Float32Array(w*y*m);for(let R=0;R<m;R++){const I=R%3*2/3-1,A=R>2?0:-1,N=[I,A,0,I+2/3,A,0,I+2/3,A+1,0,I,A,0,I+2/3,A+1,0,I,A+1,0];S.set(N,x*y*R),C.set(f,b*y*R);const L=[R,R,R,R,R,R];M.set(L,w*y*R)}const T=new $n;T.setAttribute("position",new Oi(S,x)),T.setAttribute("uv",new Oi(C,b)),T.setAttribute("faceIndex",new Oi(M,w)),e.push(T),i>Hp&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function A6(t,e,n){const r=new sr(t,e,n);return r.texture.mapping=yS,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Ob(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function hSe(t,e,n){const r=new Float32Array(bf),i=new pe(0,1,0);return new Wn({name:"SphericalGaussianBlur",defines:{n:bf,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:WO(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Mr,depthTest:!1,depthWrite:!1})}function R6(){return new Wn({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:WO(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Mr,depthTest:!1,depthWrite:!1})}function O6(){return new Wn({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:WO(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Mr,depthTest:!1,depthWrite:!1})}function WO(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function pSe(t){let e=new WeakMap,n=null;function r(s){if(s&&s.isTexture){const l=s.mapping,u=l===w0||l===gA,c=l===gm||l===ym;if(u||c)if(s.isRenderTargetTexture&&s.needsPMREMUpdate===!0){s.needsPMREMUpdate=!1;let h=e.get(s);return n===null&&(n=new P6(t)),h=u?n.fromEquirectangular(s,h):n.fromCubemap(s,h),e.set(s,h),h.texture}else{if(e.has(s))return e.get(s).texture;{const h=s.image;if(u&&h&&h.height>0||c&&h&&i(h)){n===null&&(n=new P6(t));const f=u?n.fromEquirectangular(s):n.fromCubemap(s);return e.set(s,f),s.addEventListener("dispose",o),f.texture}else return null}}}return s}function i(s){let l=0;const u=6;for(let c=0;c<u;c++)s[c]!==void 0&&l++;return l===u}function o(s){const l=s.target;l.removeEventListener("dispose",o);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function a(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:a}}function mSe(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(r){r.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function vSe(t,e,n,r){const i={},o=new WeakMap;function a(h){const f=h.target;f.index!==null&&e.remove(f.index);for(const y in f.attributes)e.remove(f.attributes[y]);f.removeEventListener("dispose",a),delete i[f.id];const m=o.get(f);m&&(e.remove(m),o.delete(f)),r.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,n.memory.geometries--}function s(h,f){return i[f.id]===!0||(f.addEventListener("dispose",a),i[f.id]=!0,n.memory.geometries++),f}function l(h){const f=h.attributes;for(const y in f)e.update(f[y],34962);const m=h.morphAttributes;for(const y in m){const x=m[y];for(let b=0,w=x.length;b<w;b++)e.update(x[b],34962)}}function u(h){const f=[],m=h.index,y=h.attributes.position;let x=0;if(m!==null){const S=m.array;x=m.version;for(let C=0,M=S.length;C<M;C+=3){const T=S[C+0],R=S[C+1],I=S[C+2];f.push(T,R,R,I,I,T)}}else{const S=y.array;x=y.version;for(let C=0,M=S.length/3-1;C<M;C+=3){const T=C+0,R=C+1,I=C+2;f.push(T,R,R,I,I,T)}}const b=new(JW(f)?t7:e7)(f,1);b.version=x;const w=o.get(h);w&&e.remove(w),o.set(h,b)}function c(h){const f=o.get(h);if(f){const m=h.index;m!==null&&f.version<m.version&&u(h)}else u(h);return o.get(h)}return{get:s,update:l,getWireframeAttribute:c}}function gSe(t,e,n,r){const i=r.isWebGL2;let o;function a(f){o=f}let s,l;function u(f){s=f.type,l=f.bytesPerElement}function c(f,m){t.drawElements(o,m,s,f*l),n.update(m,o,1)}function h(f,m,y){if(y===0)return;let x,b;if(i)x=t,b="drawElementsInstanced";else if(x=e.get("ANGLE_instanced_arrays"),b="drawElementsInstancedANGLE",x===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}x[b](o,m,s,f*l,y),n.update(m,o,y)}this.setMode=a,this.setIndex=u,this.render=c,this.renderInstances=h}function ySe(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(o,a,s){switch(n.calls++,a){case 4:n.triangles+=s*(o/3);break;case 1:n.lines+=s*(o/2);break;case 3:n.lines+=s*(o-1);break;case 2:n.lines+=s*o;break;case 0:n.points+=s*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function i(){n.frame++,n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function xSe(t,e){return t[0]-e[0]}function bSe(t,e){return Math.abs(e[1])-Math.abs(t[1])}function O2(t,e){let n=1;const r=e.isInterleavedBufferAttribute?e.data.array:e.array;r instanceof Int8Array?n=127:r instanceof Int16Array?n=32767:r instanceof Int32Array?n=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",r),t.divideScalar(n)}function wSe(t,e,n){const r={},i=new Float32Array(8),o=new WeakMap,a=new zr,s=[];for(let u=0;u<8;u++)s[u]=[u,0];function l(u,c,h,f){const m=u.morphTargetInfluences;if(e.isWebGL2===!0){const y=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,x=y!==void 0?y.length:0;let b=o.get(c);if(b===void 0||b.count!==x){let K=function(){V.dispose(),o.delete(c),c.removeEventListener("dispose",K)};b!==void 0&&b.texture.dispose();const C=c.morphAttributes.position!==void 0,M=c.morphAttributes.normal!==void 0,T=c.morphAttributes.color!==void 0,R=c.morphAttributes.position||[],I=c.morphAttributes.normal||[],A=c.morphAttributes.color||[];let N=0;C===!0&&(N=1),M===!0&&(N=2),T===!0&&(N=3);let L=c.attributes.position.count*N,D=1;L>e.maxTextureSize&&(D=Math.ceil(L/e.maxTextureSize),L=e.maxTextureSize);const W=new Float32Array(L*D*4*x),V=new bS(W,L,D,x);V.type=al,V.needsUpdate=!0;const B=N*4;for(let j=0;j<x;j++){const G=R[j],H=I[j],Y=A[j],Z=L*D*4*j;for(let oe=0;oe<G.count;oe++){const re=oe*B;C===!0&&(a.fromBufferAttribute(G,oe),G.normalized===!0&&O2(a,G),W[Z+re+0]=a.x,W[Z+re+1]=a.y,W[Z+re+2]=a.z,W[Z+re+3]=0),M===!0&&(a.fromBufferAttribute(H,oe),H.normalized===!0&&O2(a,H),W[Z+re+4]=a.x,W[Z+re+5]=a.y,W[Z+re+6]=a.z,W[Z+re+7]=0),T===!0&&(a.fromBufferAttribute(Y,oe),Y.normalized===!0&&O2(a,Y),W[Z+re+8]=a.x,W[Z+re+9]=a.y,W[Z+re+10]=a.z,W[Z+re+11]=Y.itemSize===4?a.w:1)}}b={count:x,texture:V,size:new et(L,D)},o.set(c,b),c.addEventListener("dispose",K)}let w=0;for(let C=0;C<m.length;C++)w+=m[C];const S=c.morphTargetsRelative?1:1-w;f.getUniforms().setValue(t,"morphTargetBaseInfluence",S),f.getUniforms().setValue(t,"morphTargetInfluences",m),f.getUniforms().setValue(t,"morphTargetsTexture",b.texture,n),f.getUniforms().setValue(t,"morphTargetsTextureSize",b.size)}else{const y=m===void 0?0:m.length;let x=r[c.id];if(x===void 0||x.length!==y){x=[];for(let M=0;M<y;M++)x[M]=[M,0];r[c.id]=x}for(let M=0;M<y;M++){const T=x[M];T[0]=M,T[1]=m[M]}x.sort(bSe);for(let M=0;M<8;M++)M<y&&x[M][1]?(s[M][0]=x[M][0],s[M][1]=x[M][1]):(s[M][0]=Number.MAX_SAFE_INTEGER,s[M][1]=0);s.sort(xSe);const b=c.morphAttributes.position,w=c.morphAttributes.normal;let S=0;for(let M=0;M<8;M++){const T=s[M],R=T[0],I=T[1];R!==Number.MAX_SAFE_INTEGER&&I?(b&&c.getAttribute("morphTarget"+M)!==b[R]&&c.setAttribute("morphTarget"+M,b[R]),w&&c.getAttribute("morphNormal"+M)!==w[R]&&c.setAttribute("morphNormal"+M,w[R]),i[M]=I,S+=I):(b&&c.hasAttribute("morphTarget"+M)===!0&&c.deleteAttribute("morphTarget"+M),w&&c.hasAttribute("morphNormal"+M)===!0&&c.deleteAttribute("morphNormal"+M),i[M]=0)}const C=c.morphTargetsRelative?1:1-S;f.getUniforms().setValue(t,"morphTargetBaseInfluence",C),f.getUniforms().setValue(t,"morphTargetInfluences",i)}}return{update:l}}function _Se(t,e,n,r){let i=new WeakMap;function o(l){const u=r.render.frame,c=l.geometry,h=e.get(l,c);return i.get(h)!==u&&(e.update(h),i.set(h,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",s)===!1&&l.addEventListener("dispose",s),n.update(l.instanceMatrix,34962),l.instanceColor!==null&&n.update(l.instanceColor,34962)),h}function a(){i=new WeakMap}function s(l){const u=l.target;u.removeEventListener("dispose",s),n.remove(u.instanceMatrix),u.instanceColor!==null&&n.remove(u.instanceColor)}return{update:o,dispose:a}}const i7=new Yi,o7=new bS,a7=new VO,s7=new _S,N6=[],k6=[],I6=new Float32Array(16),L6=new Float32Array(9),D6=new Float32Array(4);function Km(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let o=N6[i];if(o===void 0&&(o=new Float32Array(i),N6[i]=o),e!==0){r.toArray(o,0);for(let a=1,s=0;a!==e;++a)s+=n,t[a].toArray(o,s)}return o}function fa(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function ha(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function SS(t,e){let n=k6[e];n===void 0&&(n=new Int32Array(e),k6[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function SSe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function CSe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(fa(n,e))return;t.uniform2fv(this.addr,e),ha(n,e)}}function ESe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(fa(n,e))return;t.uniform3fv(this.addr,e),ha(n,e)}}function MSe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(fa(n,e))return;t.uniform4fv(this.addr,e),ha(n,e)}}function TSe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(fa(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),ha(n,e)}else{if(fa(n,r))return;D6.set(r),t.uniformMatrix2fv(this.addr,!1,D6),ha(n,r)}}function PSe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(fa(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),ha(n,e)}else{if(fa(n,r))return;L6.set(r),t.uniformMatrix3fv(this.addr,!1,L6),ha(n,r)}}function ASe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(fa(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),ha(n,e)}else{if(fa(n,r))return;I6.set(r),t.uniformMatrix4fv(this.addr,!1,I6),ha(n,r)}}function RSe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function OSe(t,e){const n=this.cache;fa(n,e)||(t.uniform2iv(this.addr,e),ha(n,e))}function NSe(t,e){const n=this.cache;fa(n,e)||(t.uniform3iv(this.addr,e),ha(n,e))}function kSe(t,e){const n=this.cache;fa(n,e)||(t.uniform4iv(this.addr,e),ha(n,e))}function ISe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function LSe(t,e){const n=this.cache;fa(n,e)||(t.uniform2uiv(this.addr,e),ha(n,e))}function DSe(t,e){const n=this.cache;fa(n,e)||(t.uniform3uiv(this.addr,e),ha(n,e))}function FSe(t,e){const n=this.cache;fa(n,e)||(t.uniform4uiv(this.addr,e),ha(n,e))}function zSe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(e||i7,i)}function BSe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||a7,i)}function VSe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||s7,i)}function USe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||o7,i)}function HSe(t){switch(t){case 5126:return SSe;case 35664:return CSe;case 35665:return ESe;case 35666:return MSe;case 35674:return TSe;case 35675:return PSe;case 35676:return ASe;case 5124:case 35670:return RSe;case 35667:case 35671:return OSe;case 35668:case 35672:return NSe;case 35669:case 35673:return kSe;case 5125:return ISe;case 36294:return LSe;case 36295:return DSe;case 36296:return FSe;case 35678:case 36198:case 36298:case 36306:case 35682:return zSe;case 35679:case 36299:case 36307:return BSe;case 35680:case 36300:case 36308:case 36293:return VSe;case 36289:case 36303:case 36311:case 36292:return USe}}function WSe(t,e){t.uniform1fv(this.addr,e)}function jSe(t,e){const n=Km(e,this.size,2);t.uniform2fv(this.addr,n)}function GSe(t,e){const n=Km(e,this.size,3);t.uniform3fv(this.addr,n)}function $Se(t,e){const n=Km(e,this.size,4);t.uniform4fv(this.addr,n)}function KSe(t,e){const n=Km(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function qSe(t,e){const n=Km(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function XSe(t,e){const n=Km(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function YSe(t,e){t.uniform1iv(this.addr,e)}function ZSe(t,e){t.uniform2iv(this.addr,e)}function JSe(t,e){t.uniform3iv(this.addr,e)}function QSe(t,e){t.uniform4iv(this.addr,e)}function eCe(t,e){t.uniform1uiv(this.addr,e)}function tCe(t,e){t.uniform2uiv(this.addr,e)}function nCe(t,e){t.uniform3uiv(this.addr,e)}function rCe(t,e){t.uniform4uiv(this.addr,e)}function iCe(t,e,n){const r=e.length,i=SS(n,r);t.uniform1iv(this.addr,i);for(let o=0;o!==r;++o)n.setTexture2D(e[o]||i7,i[o])}function oCe(t,e,n){const r=e.length,i=SS(n,r);t.uniform1iv(this.addr,i);for(let o=0;o!==r;++o)n.setTexture3D(e[o]||a7,i[o])}function aCe(t,e,n){const r=e.length,i=SS(n,r);t.uniform1iv(this.addr,i);for(let o=0;o!==r;++o)n.setTextureCube(e[o]||s7,i[o])}function sCe(t,e,n){const r=e.length,i=SS(n,r);t.uniform1iv(this.addr,i);for(let o=0;o!==r;++o)n.setTexture2DArray(e[o]||o7,i[o])}function lCe(t){switch(t){case 5126:return WSe;case 35664:return jSe;case 35665:return GSe;case 35666:return $Se;case 35674:return KSe;case 35675:return qSe;case 35676:return XSe;case 5124:case 35670:return YSe;case 35667:case 35671:return ZSe;case 35668:case 35672:return JSe;case 35669:case 35673:return QSe;case 5125:return eCe;case 36294:return tCe;case 36295:return nCe;case 36296:return rCe;case 35678:case 36198:case 36298:case 36306:case 35682:return iCe;case 35679:case 36299:case 36307:return oCe;case 35680:case 36300:case 36308:case 36293:return aCe;case 36289:case 36303:case 36311:case 36292:return sCe}}function uCe(t,e,n){this.id=t,this.addr=n,this.cache=[],this.setValue=HSe(e.type)}function cCe(t,e,n){this.id=t,this.addr=n,this.cache=[],this.size=e.size,this.setValue=lCe(e.type)}function l7(t){this.id=t,this.seq=[],this.map={}}l7.prototype.setValue=function(t,e,n){const r=this.seq;for(let i=0,o=r.length;i!==o;++i){const a=r[i];a.setValue(t,e[a.id],n)}};const N2=/(\w+)(\])?(\[|\.)?/g;function F6(t,e){t.seq.push(e),t.map[e.id]=e}function dCe(t,e,n){const r=t.name,i=r.length;for(N2.lastIndex=0;;){const o=N2.exec(r),a=N2.lastIndex;let s=o[1];const l=o[2]==="]",u=o[3];if(l&&(s=s|0),u===void 0||u==="["&&a+2===i){F6(n,u===void 0?new uCe(s,t,e):new cCe(s,t,e));break}else{let h=n.map[s];h===void 0&&(h=new l7(s),F6(n,h)),n=h}}}function md(t,e){this.seq=[],this.map={};const n=t.getProgramParameter(e,35718);for(let r=0;r<n;++r){const i=t.getActiveUniform(e,r),o=t.getUniformLocation(e,i.name);dCe(i,o,this)}}md.prototype.setValue=function(t,e,n,r){const i=this.map[e];i!==void 0&&i.setValue(t,n,r)};md.prototype.setOptional=function(t,e,n){const r=e[n];r!==void 0&&this.setValue(t,n,r)};md.upload=function(t,e,n,r){for(let i=0,o=e.length;i!==o;++i){const a=e[i],s=n[a.id];s.needsUpdate!==!1&&a.setValue(t,s.value,r)}};md.seqWithValue=function(t,e){const n=[];for(let r=0,i=t.length;r!==i;++r){const o=t[r];o.id in e&&n.push(o)}return n};function z6(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}let fCe=0;function hCe(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),o=Math.min(e+6,n.length);for(let a=i;a<o;a++)r.push(a+1+": "+n[a]);return r.join(`
`)}function pCe(t){switch(t){case fl:return["Linear","( value )"];case ni:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",t),["Linear","( value )"]}}function B6(t,e,n){const r=t.getShaderParameter(e,35713),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const o=/ERROR: 0:(\d+)/.exec(i);if(o){const a=parseInt(o[0]);return n.toUpperCase()+`

`+i+`

`+hCe(t.getShaderSource(e),a)}else return i}function mCe(t,e){const n=pCe(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function vCe(t,e){let n;switch(e){case KW:n="Linear";break;case Pbe:n="Reinhard";break;case Abe:n="OptimizedCineon";break;case Rbe:n="ACESFilmic";break;case Obe:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function gCe(t){return[t.extensionDerivatives||!!t.envMapCubeUVHeight||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(vg).join(`
`)}function yCe(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function xCe(t,e){const n={},r=t.getProgramParameter(e,35721);for(let i=0;i<r;i++){const o=t.getActiveAttrib(e,i),a=o.name;let s=1;o.type===35674&&(s=2),o.type===35675&&(s=3),o.type===35676&&(s=4),n[a]={type:o.type,location:t.getAttribLocation(e,a),locationSize:s}}return n}function vg(t){return t!==""}function V6(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function U6(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const bCe=/^[ \t]*#include +<([\w\d./]+)>/gm;function SA(t){return t.replace(bCe,wCe)}function wCe(t,e){const n=qn[e];if(n===void 0)throw new Error("Can not resolve #include <"+e+">");return SA(n)}const _Ce=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,SCe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function H6(t){return t.replace(SCe,u7).replace(_Ce,CCe)}function CCe(t,e,n,r){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),u7(t,e,n,r)}function u7(t,e,n,r){let i="";for(let o=parseInt(e);o<parseInt(n);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function W6(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function ECe(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===WW?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===cbe?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===mg&&(e="SHADOWMAP_TYPE_VSM"),e}function MCe(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case gm:case ym:e="ENVMAP_TYPE_CUBE";break;case yS:e="ENVMAP_TYPE_CUBE_UV";break}return e}function TCe(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case ym:e="ENVMAP_MODE_REFRACTION";break}return e}function PCe(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case gS:e="ENVMAP_BLENDING_MULTIPLY";break;case Mbe:e="ENVMAP_BLENDING_MIX";break;case Tbe:e="ENVMAP_BLENDING_ADD";break}return e}function ACe(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function RCe(t,e,n,r){const i=t.getContext(),o=n.defines;let a=n.vertexShader,s=n.fragmentShader;const l=ECe(n),u=MCe(n),c=TCe(n),h=PCe(n),f=ACe(n),m=n.isWebGL2?"":gCe(n),y=yCe(o),x=i.createProgram();let b,w,S=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(b=[y].filter(vg).join(`
`),b.length>0&&(b+=`
`),w=[m,y].filter(vg).join(`
`),w.length>0&&(w+=`
`)):(b=[W6(n),"#define SHADER_NAME "+n.shaderName,y,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(vg).join(`
`),w=[m,W6(n),"#define SHADER_NAME "+n.shaderName,y,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+c:"",n.envMap?"#define "+h:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==jl?"#define TONE_MAPPING":"",n.toneMapping!==jl?qn.tonemapping_pars_fragment:"",n.toneMapping!==jl?vCe("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",qn.encodings_pars_fragment,mCe("linearToOutputTexel",n.outputEncoding),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(vg).join(`
`)),a=SA(a),a=V6(a,n),a=U6(a,n),s=SA(s),s=V6(s,n),s=U6(s,n),a=H6(a),s=H6(s),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(S=`#version 300 es
`,b=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+b,w=["#define varying in",n.glslVersion===f6?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===f6?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+w);const C=S+b+a,M=S+w+s,T=z6(i,35633,C),R=z6(i,35632,M);if(i.attachShader(x,T),i.attachShader(x,R),n.index0AttributeName!==void 0?i.bindAttribLocation(x,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(x,0,"position"),i.linkProgram(x),t.debug.checkShaderErrors){const N=i.getProgramInfoLog(x).trim(),L=i.getShaderInfoLog(T).trim(),D=i.getShaderInfoLog(R).trim();let W=!0,V=!0;if(i.getProgramParameter(x,35714)===!1){W=!1;const B=B6(i,T,"vertex"),K=B6(i,R,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(x,35715)+`

Program Info Log: `+N+`
`+B+`
`+K)}else N!==""?console.warn("THREE.WebGLProgram: Program Info Log:",N):(L===""||D==="")&&(V=!1);V&&(this.diagnostics={runnable:W,programLog:N,vertexShader:{log:L,prefix:b},fragmentShader:{log:D,prefix:w}})}i.deleteShader(T),i.deleteShader(R);let I;this.getUniforms=function(){return I===void 0&&(I=new md(i,x)),I};let A;return this.getAttributes=function(){return A===void 0&&(A=xCe(i,x)),A},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(x),this.program=void 0},this.name=n.shaderName,this.id=fCe++,this.cacheKey=e,this.usedTimes=1,this.program=x,this.vertexShader=T,this.fragmentShader=R,this}let OCe=0;class NCe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),o=this._getShaderStage(r),a=this._getShaderCacheForMaterial(e);return a.has(i)===!1&&(a.add(i),i.usedTimes++),a.has(o)===!1&&(a.add(o),o.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;return n.has(e)===!1&&n.set(e,new Set),n.get(e)}_getShaderStage(e){const n=this.shaderCache;if(n.has(e)===!1){const r=new kCe(e);n.set(e,r)}return n.get(e)}}class kCe{constructor(e){this.id=OCe++,this.code=e,this.usedTimes=0}}function ICe(t,e,n,r,i,o,a){const s=new UO,l=new NCe,u=[],c=i.isWebGL2,h=i.logarithmicDepthBuffer,f=i.vertexTextures;let m=i.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function x(A,N,L,D,W){const V=D.fog,B=W.geometry,K=A.isMeshStandardMaterial?D.environment:null,j=(A.isMeshStandardMaterial?n:e).get(A.envMap||K),G=!!j&&j.mapping===yS?j.image.height:null,H=y[A.type];A.precision!==null&&(m=i.getMaxPrecision(A.precision),m!==A.precision&&console.warn("THREE.WebGLProgram.getParameters:",A.precision,"not supported, using",m,"instead."));const Y=B.morphAttributes.position||B.morphAttributes.normal||B.morphAttributes.color,Z=Y!==void 0?Y.length:0;let oe=0;B.morphAttributes.position!==void 0&&(oe=1),B.morphAttributes.normal!==void 0&&(oe=2),B.morphAttributes.color!==void 0&&(oe=3);let re,se,ce,ye;if(H){const Ee=Ll[H];re=Ee.vertexShader,se=Ee.fragmentShader}else re=A.vertexShader,se=A.fragmentShader,l.update(A),ce=l.getVertexShaderID(A),ye=l.getFragmentShaderID(A);const fe=t.getRenderTarget(),De=A.alphaTest>0,Oe=A.clearcoat>0;return{isWebGL2:c,shaderID:H,shaderName:A.type,vertexShader:re,fragmentShader:se,defines:A.defines,customVertexShaderID:ce,customFragmentShaderID:ye,isRawShaderMaterial:A.isRawShaderMaterial===!0,glslVersion:A.glslVersion,precision:m,instancing:W.isInstancedMesh===!0,instancingColor:W.isInstancedMesh===!0&&W.instanceColor!==null,supportsVertexTextures:f,outputEncoding:fe===null?t.outputEncoding:fe.isXRRenderTarget===!0?fe.texture.encoding:fl,map:!!A.map,matcap:!!A.matcap,envMap:!!j,envMapMode:j&&j.mapping,envMapCubeUVHeight:G,lightMap:!!A.lightMap,aoMap:!!A.aoMap,emissiveMap:!!A.emissiveMap,bumpMap:!!A.bumpMap,normalMap:!!A.normalMap,objectSpaceNormalMap:A.normalMapType===YW,tangentSpaceNormalMap:A.normalMapType===ah,decodeVideoTexture:!!A.map&&A.map.isVideoTexture===!0&&A.map.encoding===ni,clearcoat:Oe,clearcoatMap:Oe&&!!A.clearcoatMap,clearcoatRoughnessMap:Oe&&!!A.clearcoatRoughnessMap,clearcoatNormalMap:Oe&&!!A.clearcoatNormalMap,displacementMap:!!A.displacementMap,roughnessMap:!!A.roughnessMap,metalnessMap:!!A.metalnessMap,specularMap:!!A.specularMap,specularIntensityMap:!!A.specularIntensityMap,specularColorMap:!!A.specularColorMap,opaque:A.transparent===!1&&A.blending===qu,alphaMap:!!A.alphaMap,alphaTest:De,gradientMap:!!A.gradientMap,sheen:A.sheen>0,sheenColorMap:!!A.sheenColorMap,sheenRoughnessMap:!!A.sheenRoughnessMap,transmission:A.transmission>0,transmissionMap:!!A.transmissionMap,thicknessMap:!!A.thicknessMap,combine:A.combine,vertexTangents:!!A.normalMap&&!!B.attributes.tangent,vertexColors:A.vertexColors,vertexAlphas:A.vertexColors===!0&&!!B.attributes.color&&B.attributes.color.itemSize===4,vertexUvs:!!A.map||!!A.bumpMap||!!A.normalMap||!!A.specularMap||!!A.alphaMap||!!A.emissiveMap||!!A.roughnessMap||!!A.metalnessMap||!!A.clearcoatMap||!!A.clearcoatRoughnessMap||!!A.clearcoatNormalMap||!!A.displacementMap||!!A.transmissionMap||!!A.thicknessMap||!!A.specularIntensityMap||!!A.specularColorMap||!!A.sheenColorMap||!!A.sheenRoughnessMap,uvsVertexOnly:!(!!A.map||!!A.bumpMap||!!A.normalMap||!!A.specularMap||!!A.alphaMap||!!A.emissiveMap||!!A.roughnessMap||!!A.metalnessMap||!!A.clearcoatNormalMap||A.transmission>0||!!A.transmissionMap||!!A.thicknessMap||!!A.specularIntensityMap||!!A.specularColorMap||A.sheen>0||!!A.sheenColorMap||!!A.sheenRoughnessMap)&&!!A.displacementMap,fog:!!V,useFog:A.fog===!0,fogExp2:V&&V.isFogExp2,flatShading:!!A.flatShading,sizeAttenuation:A.sizeAttenuation,logarithmicDepthBuffer:h,skinning:W.isSkinnedMesh===!0,morphTargets:B.morphAttributes.position!==void 0,morphNormals:B.morphAttributes.normal!==void 0,morphColors:B.morphAttributes.color!==void 0,morphTargetsCount:Z,morphTextureStride:oe,numDirLights:N.directional.length,numPointLights:N.point.length,numSpotLights:N.spot.length,numRectAreaLights:N.rectArea.length,numHemiLights:N.hemi.length,numDirLightShadows:N.directionalShadowMap.length,numPointLightShadows:N.pointShadowMap.length,numSpotLightShadows:N.spotShadowMap.length,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:A.dithering,shadowMapEnabled:t.shadowMap.enabled&&L.length>0,shadowMapType:t.shadowMap.type,toneMapping:A.toneMapped?t.toneMapping:jl,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:A.premultipliedAlpha,doubleSided:A.side===Sd,flipSided:A.side===Ja,useDepthPacking:!!A.depthPacking,depthPacking:A.depthPacking||0,index0AttributeName:A.index0AttributeName,extensionDerivatives:A.extensions&&A.extensions.derivatives,extensionFragDepth:A.extensions&&A.extensions.fragDepth,extensionDrawBuffers:A.extensions&&A.extensions.drawBuffers,extensionShaderTextureLOD:A.extensions&&A.extensions.shaderTextureLOD,rendererExtensionFragDepth:c||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||r.has("EXT_shader_texture_lod"),customProgramCacheKey:A.customProgramCacheKey()}}function b(A){const N=[];if(A.shaderID?N.push(A.shaderID):(N.push(A.customVertexShaderID),N.push(A.customFragmentShaderID)),A.defines!==void 0)for(const L in A.defines)N.push(L),N.push(A.defines[L]);return A.isRawShaderMaterial===!1&&(w(N,A),S(N,A),N.push(t.outputEncoding)),N.push(A.customProgramCacheKey),N.join()}function w(A,N){A.push(N.precision),A.push(N.outputEncoding),A.push(N.envMapMode),A.push(N.envMapCubeUVHeight),A.push(N.combine),A.push(N.vertexUvs),A.push(N.fogExp2),A.push(N.sizeAttenuation),A.push(N.morphTargetsCount),A.push(N.morphAttributeCount),A.push(N.numDirLights),A.push(N.numPointLights),A.push(N.numSpotLights),A.push(N.numHemiLights),A.push(N.numRectAreaLights),A.push(N.numDirLightShadows),A.push(N.numPointLightShadows),A.push(N.numSpotLightShadows),A.push(N.shadowMapType),A.push(N.toneMapping),A.push(N.numClippingPlanes),A.push(N.numClipIntersection),A.push(N.depthPacking)}function S(A,N){s.disableAll(),N.isWebGL2&&s.enable(0),N.supportsVertexTextures&&s.enable(1),N.instancing&&s.enable(2),N.instancingColor&&s.enable(3),N.map&&s.enable(4),N.matcap&&s.enable(5),N.envMap&&s.enable(6),N.lightMap&&s.enable(7),N.aoMap&&s.enable(8),N.emissiveMap&&s.enable(9),N.bumpMap&&s.enable(10),N.normalMap&&s.enable(11),N.objectSpaceNormalMap&&s.enable(12),N.tangentSpaceNormalMap&&s.enable(13),N.clearcoat&&s.enable(14),N.clearcoatMap&&s.enable(15),N.clearcoatRoughnessMap&&s.enable(16),N.clearcoatNormalMap&&s.enable(17),N.displacementMap&&s.enable(18),N.specularMap&&s.enable(19),N.roughnessMap&&s.enable(20),N.metalnessMap&&s.enable(21),N.gradientMap&&s.enable(22),N.alphaMap&&s.enable(23),N.alphaTest&&s.enable(24),N.vertexColors&&s.enable(25),N.vertexAlphas&&s.enable(26),N.vertexUvs&&s.enable(27),N.vertexTangents&&s.enable(28),N.uvsVertexOnly&&s.enable(29),N.fog&&s.enable(30),A.push(s.mask),s.disableAll(),N.useFog&&s.enable(0),N.flatShading&&s.enable(1),N.logarithmicDepthBuffer&&s.enable(2),N.skinning&&s.enable(3),N.morphTargets&&s.enable(4),N.morphNormals&&s.enable(5),N.morphColors&&s.enable(6),N.premultipliedAlpha&&s.enable(7),N.shadowMapEnabled&&s.enable(8),N.physicallyCorrectLights&&s.enable(9),N.doubleSided&&s.enable(10),N.flipSided&&s.enable(11),N.useDepthPacking&&s.enable(12),N.dithering&&s.enable(13),N.specularIntensityMap&&s.enable(14),N.specularColorMap&&s.enable(15),N.transmission&&s.enable(16),N.transmissionMap&&s.enable(17),N.thicknessMap&&s.enable(18),N.sheen&&s.enable(19),N.sheenColorMap&&s.enable(20),N.sheenRoughnessMap&&s.enable(21),N.decodeVideoTexture&&s.enable(22),N.opaque&&s.enable(23),A.push(s.mask)}function C(A){const N=y[A.type];let L;if(N){const D=Ll[N];L=qi.clone(D.uniforms)}else L=A.uniforms;return L}function M(A,N){let L;for(let D=0,W=u.length;D<W;D++){const V=u[D];if(V.cacheKey===N){L=V,++L.usedTimes;break}}return L===void 0&&(L=new RCe(t,N,A,o),u.push(L)),L}function T(A){if(--A.usedTimes===0){const N=u.indexOf(A);u[N]=u[u.length-1],u.pop(),A.destroy()}}function R(A){l.remove(A)}function I(){l.dispose()}return{getParameters:x,getProgramCacheKey:b,getUniforms:C,acquireProgram:M,releaseProgram:T,releaseShaderCache:R,programs:u,dispose:I}}function LCe(){let t=new WeakMap;function e(o){let a=t.get(o);return a===void 0&&(a={},t.set(o,a)),a}function n(o){t.delete(o)}function r(o,a,s){t.get(o)[a]=s}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function DCe(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function j6(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function G6(){const t=[];let e=0;const n=[],r=[],i=[];function o(){e=0,n.length=0,r.length=0,i.length=0}function a(h,f,m,y,x,b){let w=t[e];return w===void 0?(w={id:h.id,object:h,geometry:f,material:m,groupOrder:y,renderOrder:h.renderOrder,z:x,group:b},t[e]=w):(w.id=h.id,w.object=h,w.geometry=f,w.material=m,w.groupOrder=y,w.renderOrder=h.renderOrder,w.z=x,w.group=b),e++,w}function s(h,f,m,y,x,b){const w=a(h,f,m,y,x,b);m.transmission>0?r.push(w):m.transparent===!0?i.push(w):n.push(w)}function l(h,f,m,y,x,b){const w=a(h,f,m,y,x,b);m.transmission>0?r.unshift(w):m.transparent===!0?i.unshift(w):n.unshift(w)}function u(h,f){n.length>1&&n.sort(h||DCe),r.length>1&&r.sort(f||j6),i.length>1&&i.sort(f||j6)}function c(){for(let h=e,f=t.length;h<f;h++){const m=t[h];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:n,transmissive:r,transparent:i,init:o,push:s,unshift:l,finish:c,sort:u}}function FCe(){let t=new WeakMap;function e(r,i){let o;return t.has(r)===!1?(o=new G6,t.set(r,[o])):i>=t.get(r).length?(o=new G6,t.get(r).push(o)):o=t.get(r)[i],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function zCe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new pe,color:new _t};break;case"SpotLight":n={position:new pe,direction:new pe,color:new _t,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new pe,color:new _t,distance:0,decay:0};break;case"HemisphereLight":n={direction:new pe,skyColor:new _t,groundColor:new _t};break;case"RectAreaLight":n={color:new _t,position:new pe,halfWidth:new pe,halfHeight:new pe};break}return t[e.id]=n,n}}}function BCe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new et};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new et};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new et,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let VCe=0;function UCe(t,e){return(e.castShadow?1:0)-(t.castShadow?1:0)}function HCe(t,e){const n=new zCe,r=BCe(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let c=0;c<9;c++)i.probe.push(new pe);const o=new pe,a=new Xt,s=new Xt;function l(c,h){let f=0,m=0,y=0;for(let N=0;N<9;N++)i.probe[N].set(0,0,0);let x=0,b=0,w=0,S=0,C=0,M=0,T=0,R=0;c.sort(UCe);const I=h!==!0?Math.PI:1;for(let N=0,L=c.length;N<L;N++){const D=c[N],W=D.color,V=D.intensity,B=D.distance,K=D.shadow&&D.shadow.map?D.shadow.map.texture:null;if(D.isAmbientLight)f+=W.r*V*I,m+=W.g*V*I,y+=W.b*V*I;else if(D.isLightProbe)for(let j=0;j<9;j++)i.probe[j].addScaledVector(D.sh.coefficients[j],V);else if(D.isDirectionalLight){const j=n.get(D);if(j.color.copy(D.color).multiplyScalar(D.intensity*I),D.castShadow){const G=D.shadow,H=r.get(D);H.shadowBias=G.bias,H.shadowNormalBias=G.normalBias,H.shadowRadius=G.radius,H.shadowMapSize=G.mapSize,i.directionalShadow[x]=H,i.directionalShadowMap[x]=K,i.directionalShadowMatrix[x]=D.shadow.matrix,M++}i.directional[x]=j,x++}else if(D.isSpotLight){const j=n.get(D);if(j.position.setFromMatrixPosition(D.matrixWorld),j.color.copy(W).multiplyScalar(V*I),j.distance=B,j.coneCos=Math.cos(D.angle),j.penumbraCos=Math.cos(D.angle*(1-D.penumbra)),j.decay=D.decay,D.castShadow){const G=D.shadow,H=r.get(D);H.shadowBias=G.bias,H.shadowNormalBias=G.normalBias,H.shadowRadius=G.radius,H.shadowMapSize=G.mapSize,i.spotShadow[w]=H,i.spotShadowMap[w]=K,i.spotShadowMatrix[w]=D.shadow.matrix,R++}i.spot[w]=j,w++}else if(D.isRectAreaLight){const j=n.get(D);j.color.copy(W).multiplyScalar(V),j.halfWidth.set(D.width*.5,0,0),j.halfHeight.set(0,D.height*.5,0),i.rectArea[S]=j,S++}else if(D.isPointLight){const j=n.get(D);if(j.color.copy(D.color).multiplyScalar(D.intensity*I),j.distance=D.distance,j.decay=D.decay,D.castShadow){const G=D.shadow,H=r.get(D);H.shadowBias=G.bias,H.shadowNormalBias=G.normalBias,H.shadowRadius=G.radius,H.shadowMapSize=G.mapSize,H.shadowCameraNear=G.camera.near,H.shadowCameraFar=G.camera.far,i.pointShadow[b]=H,i.pointShadowMap[b]=K,i.pointShadowMatrix[b]=D.shadow.matrix,T++}i.point[b]=j,b++}else if(D.isHemisphereLight){const j=n.get(D);j.skyColor.copy(D.color).multiplyScalar(V*I),j.groundColor.copy(D.groundColor).multiplyScalar(V*I),i.hemi[C]=j,C++}}S>0&&(e.isWebGL2||t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=It.LTC_FLOAT_1,i.rectAreaLTC2=It.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=It.LTC_HALF_1,i.rectAreaLTC2=It.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=f,i.ambient[1]=m,i.ambient[2]=y;const A=i.hash;(A.directionalLength!==x||A.pointLength!==b||A.spotLength!==w||A.rectAreaLength!==S||A.hemiLength!==C||A.numDirectionalShadows!==M||A.numPointShadows!==T||A.numSpotShadows!==R)&&(i.directional.length=x,i.spot.length=w,i.rectArea.length=S,i.point.length=b,i.hemi.length=C,i.directionalShadow.length=M,i.directionalShadowMap.length=M,i.pointShadow.length=T,i.pointShadowMap.length=T,i.spotShadow.length=R,i.spotShadowMap.length=R,i.directionalShadowMatrix.length=M,i.pointShadowMatrix.length=T,i.spotShadowMatrix.length=R,A.directionalLength=x,A.pointLength=b,A.spotLength=w,A.rectAreaLength=S,A.hemiLength=C,A.numDirectionalShadows=M,A.numPointShadows=T,A.numSpotShadows=R,i.version=VCe++)}function u(c,h){let f=0,m=0,y=0,x=0,b=0;const w=h.matrixWorldInverse;for(let S=0,C=c.length;S<C;S++){const M=c[S];if(M.isDirectionalLight){const T=i.directional[f];T.direction.setFromMatrixPosition(M.matrixWorld),o.setFromMatrixPosition(M.target.matrixWorld),T.direction.sub(o),T.direction.transformDirection(w),f++}else if(M.isSpotLight){const T=i.spot[y];T.position.setFromMatrixPosition(M.matrixWorld),T.position.applyMatrix4(w),T.direction.setFromMatrixPosition(M.matrixWorld),o.setFromMatrixPosition(M.target.matrixWorld),T.direction.sub(o),T.direction.transformDirection(w),y++}else if(M.isRectAreaLight){const T=i.rectArea[x];T.position.setFromMatrixPosition(M.matrixWorld),T.position.applyMatrix4(w),s.identity(),a.copy(M.matrixWorld),a.premultiply(w),s.extractRotation(a),T.halfWidth.set(M.width*.5,0,0),T.halfHeight.set(0,M.height*.5,0),T.halfWidth.applyMatrix4(s),T.halfHeight.applyMatrix4(s),x++}else if(M.isPointLight){const T=i.point[m];T.position.setFromMatrixPosition(M.matrixWorld),T.position.applyMatrix4(w),m++}else if(M.isHemisphereLight){const T=i.hemi[b];T.direction.setFromMatrixPosition(M.matrixWorld),T.direction.transformDirection(w),b++}}}return{setup:l,setupView:u,state:i}}function $6(t,e){const n=new HCe(t,e),r=[],i=[];function o(){r.length=0,i.length=0}function a(h){r.push(h)}function s(h){i.push(h)}function l(h){n.setup(r,h)}function u(h){n.setupView(r,h)}return{init:o,state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:l,setupLightsView:u,pushLight:a,pushShadow:s}}function WCe(t,e){let n=new WeakMap;function r(o,a=0){let s;return n.has(o)===!1?(s=new $6(t,e),n.set(o,[s])):a>=n.get(o).length?(s=new $6(t,e),n.get(o).push(s)):s=n.get(o)[a],s}function i(){n=new WeakMap}return{get:r,dispose:i}}class qm extends fo{constructor(e){super(),this.type="MeshDepthMaterial",this.depthPacking=Ybe,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}qm.prototype.isMeshDepthMaterial=!0;class jO extends fo{constructor(e){super(),this.type="MeshDistanceMaterial",this.referencePosition=new pe,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}jO.prototype.isMeshDistanceMaterial=!0;const jCe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,GCe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function c7(t,e,n){let r=new ly;const i=new et,o=new et,a=new zr,s=new qm({depthPacking:xS}),l=new jO,u={},c=n.maxTextureSize,h={0:Ja,1:b0,2:Sd},f=new Wn({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new et},radius:{value:4}},vertexShader:jCe,fragmentShader:GCe}),m=f.clone();m.defines.HORIZONTAL_PASS=1;const y=new $n;y.setAttribute("position",new Oi(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const x=new ci(y,f),b=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=WW,this.render=function(M,T,R){if(b.enabled===!1||b.autoUpdate===!1&&b.needsUpdate===!1||M.length===0)return;const I=t.getRenderTarget(),A=t.getActiveCubeFace(),N=t.getActiveMipmapLevel(),L=t.state;L.setBlending(Mr),L.buffers.color.setClear(1,1,1,1),L.buffers.depth.setTest(!0),L.setScissorTest(!1);for(let D=0,W=M.length;D<W;D++){const V=M[D],B=V.shadow;if(B===void 0){console.warn("THREE.WebGLShadowMap:",V,"has no shadow.");continue}if(B.autoUpdate===!1&&B.needsUpdate===!1)continue;i.copy(B.mapSize);const K=B.getFrameExtents();if(i.multiply(K),o.copy(B.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(o.x=Math.floor(c/K.x),i.x=o.x*K.x,B.mapSize.x=o.x),i.y>c&&(o.y=Math.floor(c/K.y),i.y=o.y*K.y,B.mapSize.y=o.y)),B.map===null&&!B.isPointLightShadow&&this.type===mg&&(B.map=new sr(i.x,i.y),B.map.texture.name=V.name+".shadowMap",B.mapPass=new sr(i.x,i.y),B.camera.updateProjectionMatrix()),B.map===null){const G={minFilter:nr,magFilter:nr,format:Cs};B.map=new sr(i.x,i.y,G),B.map.texture.name=V.name+".shadowMap",B.camera.updateProjectionMatrix()}t.setRenderTarget(B.map),t.clear();const j=B.getViewportCount();for(let G=0;G<j;G++){const H=B.getViewport(G);a.set(o.x*H.x,o.y*H.y,o.x*H.z,o.y*H.w),L.viewport(a),B.updateMatrices(V,G),r=B.getFrustum(),C(T,R,B.camera,V,this.type)}!B.isPointLightShadow&&this.type===mg&&w(B,R),B.needsUpdate=!1}b.needsUpdate=!1,t.setRenderTarget(I,A,N)};function w(M,T){const R=e.update(x);f.defines.VSM_SAMPLES!==M.blurSamples&&(f.defines.VSM_SAMPLES=M.blurSamples,m.defines.VSM_SAMPLES=M.blurSamples,f.needsUpdate=!0,m.needsUpdate=!0),f.uniforms.shadow_pass.value=M.map.texture,f.uniforms.resolution.value=M.mapSize,f.uniforms.radius.value=M.radius,t.setRenderTarget(M.mapPass),t.clear(),t.renderBufferDirect(T,null,R,f,x,null),m.uniforms.shadow_pass.value=M.mapPass.texture,m.uniforms.resolution.value=M.mapSize,m.uniforms.radius.value=M.radius,t.setRenderTarget(M.map),t.clear(),t.renderBufferDirect(T,null,R,m,x,null)}function S(M,T,R,I,A,N){let L=null;const D=R.isPointLight===!0?M.customDistanceMaterial:M.customDepthMaterial;if(D!==void 0?L=D:L=R.isPointLight===!0?l:s,t.localClippingEnabled&&T.clipShadows===!0&&T.clippingPlanes.length!==0||T.displacementMap&&T.displacementScale!==0||T.alphaMap&&T.alphaTest>0){const W=L.uuid,V=T.uuid;let B=u[W];B===void 0&&(B={},u[W]=B);let K=B[V];K===void 0&&(K=L.clone(),B[V]=K),L=K}return L.visible=T.visible,L.wireframe=T.wireframe,N===mg?L.side=T.shadowSide!==null?T.shadowSide:T.side:L.side=T.shadowSide!==null?T.shadowSide:h[T.side],L.alphaMap=T.alphaMap,L.alphaTest=T.alphaTest,L.clipShadows=T.clipShadows,L.clippingPlanes=T.clippingPlanes,L.clipIntersection=T.clipIntersection,L.displacementMap=T.displacementMap,L.displacementScale=T.displacementScale,L.displacementBias=T.displacementBias,L.wireframeLinewidth=T.wireframeLinewidth,L.linewidth=T.linewidth,R.isPointLight===!0&&L.isMeshDistanceMaterial===!0&&(L.referencePosition.setFromMatrixPosition(R.matrixWorld),L.nearDistance=I,L.farDistance=A),L}function C(M,T,R,I,A){if(M.visible===!1)return;if(M.layers.test(T.layers)&&(M.isMesh||M.isLine||M.isPoints)&&(M.castShadow||M.receiveShadow&&A===mg)&&(!M.frustumCulled||r.intersectsObject(M))){M.modelViewMatrix.multiplyMatrices(R.matrixWorldInverse,M.matrixWorld);const D=e.update(M),W=M.material;if(Array.isArray(W)){const V=D.groups;for(let B=0,K=V.length;B<K;B++){const j=V[B],G=W[j.materialIndex];if(G&&G.visible){const H=S(M,G,I,R.near,R.far,A);t.renderBufferDirect(R,null,D,H,M,j)}}}else if(W.visible){const V=S(M,W,I,R.near,R.far,A);t.renderBufferDirect(R,null,D,V,M,null)}}const L=M.children;for(let D=0,W=L.length;D<W;D++)C(L[D],T,R,I,A)}}function $Ce(t,e,n){const r=n.isWebGL2;function i(){let de=!1;const je=new zr;let Ze=null;const vt=new zr(0,0,0,0);return{setMask:function(ot){Ze!==ot&&!de&&(t.colorMask(ot,ot,ot,ot),Ze=ot)},setLocked:function(ot){de=ot},setClear:function(ot,ht,at,Mt,Ct){Ct===!0&&(ot*=Mt,ht*=Mt,at*=Mt),je.set(ot,ht,at,Mt),vt.equals(je)===!1&&(t.clearColor(ot,ht,at,Mt),vt.copy(je))},reset:function(){de=!1,Ze=null,vt.set(-1,0,0,0)}}}function o(){let de=!1,je=null,Ze=null,vt=null;return{setTest:function(ot){ot?ye(2929):fe(2929)},setMask:function(ot){je!==ot&&!de&&(t.depthMask(ot),je=ot)},setFunc:function(ot){if(Ze!==ot){if(ot)switch(ot){case xbe:t.depthFunc(512);break;case bbe:t.depthFunc(519);break;case wbe:t.depthFunc(513);break;case vA:t.depthFunc(515);break;case _be:t.depthFunc(514);break;case Sbe:t.depthFunc(518);break;case Cbe:t.depthFunc(516);break;case Ebe:t.depthFunc(517);break;default:t.depthFunc(515)}else t.depthFunc(515);Ze=ot}},setLocked:function(ot){de=ot},setClear:function(ot){vt!==ot&&(t.clearDepth(ot),vt=ot)},reset:function(){de=!1,je=null,Ze=null,vt=null}}}function a(){let de=!1,je=null,Ze=null,vt=null,ot=null,ht=null,at=null,Mt=null,Ct=null;return{setTest:function(Ft){de||(Ft?ye(2960):fe(2960))},setMask:function(Ft){je!==Ft&&!de&&(t.stencilMask(Ft),je=Ft)},setFunc:function(Ft,$t,An){(Ze!==Ft||vt!==$t||ot!==An)&&(t.stencilFunc(Ft,$t,An),Ze=Ft,vt=$t,ot=An)},setOp:function(Ft,$t,An){(ht!==Ft||at!==$t||Mt!==An)&&(t.stencilOp(Ft,$t,An),ht=Ft,at=$t,Mt=An)},setLocked:function(Ft){de=Ft},setClear:function(Ft){Ct!==Ft&&(t.clearStencil(Ft),Ct=Ft)},reset:function(){de=!1,je=null,Ze=null,vt=null,ot=null,ht=null,at=null,Mt=null,Ct=null}}}const s=new i,l=new o,u=new a;let c={},h={},f=new WeakMap,m=[],y=null,x=!1,b=null,w=null,S=null,C=null,M=null,T=null,R=null,I=!1,A=null,N=null,L=null,D=null,W=null;const V=t.getParameter(35661);let B=!1,K=0;const j=t.getParameter(7938);j.indexOf("WebGL")!==-1?(K=parseFloat(/^WebGL (\d)/.exec(j)[1]),B=K>=1):j.indexOf("OpenGL ES")!==-1&&(K=parseFloat(/^OpenGL ES (\d)/.exec(j)[1]),B=K>=2);let G=null,H={};const Y=t.getParameter(3088),Z=t.getParameter(2978),oe=new zr().fromArray(Y),re=new zr().fromArray(Z);function se(de,je,Ze){const vt=new Uint8Array(4),ot=t.createTexture();t.bindTexture(de,ot),t.texParameteri(de,10241,9728),t.texParameteri(de,10240,9728);for(let ht=0;ht<Ze;ht++)t.texImage2D(je+ht,0,6408,1,1,0,6408,5121,vt);return ot}const ce={};ce[3553]=se(3553,3553,1),ce[34067]=se(34067,34069,6),s.setClear(0,0,0,1),l.setClear(1),u.setClear(0),ye(2929),l.setFunc(vA),Me(!1),ze(zF),ye(2884),be(Mr);function ye(de){c[de]!==!0&&(t.enable(de),c[de]=!0)}function fe(de){c[de]!==!1&&(t.disable(de),c[de]=!1)}function De(de,je){return h[de]!==je?(t.bindFramebuffer(de,je),h[de]=je,r&&(de===36009&&(h[36160]=je),de===36160&&(h[36009]=je)),!0):!1}function Oe(de,je){let Ze=m,vt=!1;if(de)if(Ze=f.get(je),Ze===void 0&&(Ze=[],f.set(je,Ze)),de.isWebGLMultipleRenderTargets){const ot=de.texture;if(Ze.length!==ot.length||Ze[0]!==36064){for(let ht=0,at=ot.length;ht<at;ht++)Ze[ht]=36064+ht;Ze.length=ot.length,vt=!0}}else Ze[0]!==36064&&(Ze[0]=36064,vt=!0);else Ze[0]!==1029&&(Ze[0]=1029,vt=!0);vt&&(n.isWebGL2?t.drawBuffers(Ze):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Ze))}function Fe(de){return y!==de?(t.useProgram(de),y=de,!0):!1}const Ee={[Fl]:32774,[dbe]:32778,[fbe]:32779};if(r)Ee[UF]=32775,Ee[HF]=32776;else{const de=e.get("EXT_blend_minmax");de!==null&&(Ee[UF]=de.MIN_EXT,Ee[HF]=de.MAX_EXT)}const Ye={[mA]:0,[hbe]:1,[pbe]:768,[F_]:770,[ybe]:776,[$W]:774,[GW]:772,[mbe]:769,[z_]:771,[gbe]:775,[vbe]:773};function be(de,je,Ze,vt,ot,ht,at,Mt){if(de===Mr){x===!0&&(fe(3042),x=!1);return}if(x===!1&&(ye(3042),x=!0),de!==pA){if(de!==b||Mt!==I){if((w!==Fl||M!==Fl)&&(t.blendEquation(32774),w=Fl,M=Fl),Mt)switch(de){case qu:t.blendFuncSeparate(1,771,1,771);break;case D_:t.blendFunc(1,1);break;case BF:t.blendFuncSeparate(0,769,0,1);break;case VF:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",de);break}else switch(de){case qu:t.blendFuncSeparate(770,771,1,771);break;case D_:t.blendFunc(770,1);break;case BF:t.blendFuncSeparate(0,769,0,1);break;case VF:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",de);break}S=null,C=null,T=null,R=null,b=de,I=Mt}return}ot=ot||je,ht=ht||Ze,at=at||vt,(je!==w||ot!==M)&&(t.blendEquationSeparate(Ee[je],Ee[ot]),w=je,M=ot),(Ze!==S||vt!==C||ht!==T||at!==R)&&(t.blendFuncSeparate(Ye[Ze],Ye[vt],Ye[ht],Ye[at]),S=Ze,C=vt,T=ht,R=at),b=de,I=null}function Ce(de,je){de.side===Sd?fe(2884):ye(2884);let Ze=de.side===Ja;je&&(Ze=!Ze),Me(Ze),de.blending===qu&&de.transparent===!1?be(Mr):be(de.blending,de.blendEquation,de.blendSrc,de.blendDst,de.blendEquationAlpha,de.blendSrcAlpha,de.blendDstAlpha,de.premultipliedAlpha),l.setFunc(de.depthFunc),l.setTest(de.depthTest),l.setMask(de.depthWrite),s.setMask(de.colorWrite);const vt=de.stencilWrite;u.setTest(vt),vt&&(u.setMask(de.stencilWriteMask),u.setFunc(de.stencilFunc,de.stencilRef,de.stencilFuncMask),u.setOp(de.stencilFail,de.stencilZFail,de.stencilZPass)),We(de.polygonOffset,de.polygonOffsetFactor,de.polygonOffsetUnits),de.alphaToCoverage===!0?ye(32926):fe(32926)}function Me(de){A!==de&&(de?t.frontFace(2304):t.frontFace(2305),A=de)}function ze(de){de!==lbe?(ye(2884),de!==N&&(de===zF?t.cullFace(1029):de===ube?t.cullFace(1028):t.cullFace(1032))):fe(2884),N=de}function Re(de){de!==L&&(B&&t.lineWidth(de),L=de)}function We(de,je,Ze){de?(ye(32823),(D!==je||W!==Ze)&&(t.polygonOffset(je,Ze),D=je,W=Ze)):fe(32823)}function Ue(de){de?ye(3089):fe(3089)}function Ve(de){de===void 0&&(de=33984+V-1),G!==de&&(t.activeTexture(de),G=de)}function Be(de,je){G===null&&Ve();let Ze=H[G];Ze===void 0&&(Ze={type:void 0,texture:void 0},H[G]=Ze),(Ze.type!==de||Ze.texture!==je)&&(t.bindTexture(de,je||ce[de]),Ze.type=de,Ze.texture=je)}function qe(){const de=H[G];de!==void 0&&de.type!==void 0&&(t.bindTexture(de.type,null),de.type=void 0,de.texture=void 0)}function te(){try{t.compressedTexImage2D.apply(t,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function k(){try{t.texSubImage2D.apply(t,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function $(){try{t.texSubImage3D.apply(t,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function U(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function ne(){try{t.texStorage2D.apply(t,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function ge(){try{t.texStorage3D.apply(t,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function me(){try{t.texImage2D.apply(t,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function Q(){try{t.texImage3D.apply(t,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function _e(de){oe.equals(de)===!1&&(t.scissor(de.x,de.y,de.z,de.w),oe.copy(de))}function ke(de){re.equals(de)===!1&&(t.viewport(de.x,de.y,de.z,de.w),re.copy(de))}function we(){t.disable(3042),t.disable(2884),t.disable(2929),t.disable(32823),t.disable(3089),t.disable(2960),t.disable(32926),t.blendEquation(32774),t.blendFunc(1,0),t.blendFuncSeparate(1,0,1,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(513),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(519,0,4294967295),t.stencilOp(7680,7680,7680),t.clearStencil(0),t.cullFace(1029),t.frontFace(2305),t.polygonOffset(0,0),t.activeTexture(33984),t.bindFramebuffer(36160,null),r===!0&&(t.bindFramebuffer(36009,null),t.bindFramebuffer(36008,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),c={},G=null,H={},h={},f=new WeakMap,m=[],y=null,x=!1,b=null,w=null,S=null,C=null,M=null,T=null,R=null,I=!1,A=null,N=null,L=null,D=null,W=null,oe.set(0,0,t.canvas.width,t.canvas.height),re.set(0,0,t.canvas.width,t.canvas.height),s.reset(),l.reset(),u.reset()}return{buffers:{color:s,depth:l,stencil:u},enable:ye,disable:fe,bindFramebuffer:De,drawBuffers:Oe,useProgram:Fe,setBlending:be,setMaterial:Ce,setFlipSided:Me,setCullFace:ze,setLineWidth:Re,setPolygonOffset:We,setScissorTest:Ue,activeTexture:Ve,bindTexture:Be,unbindTexture:qe,compressedTexImage2D:te,texImage2D:me,texImage3D:Q,texStorage2D:ne,texStorage3D:ge,texSubImage2D:k,texSubImage3D:$,compressedTexSubImage2D:U,scissor:_e,viewport:ke,reset:we}}function KCe(t,e,n,r,i,o,a){const s=i.isWebGL2,l=i.maxTextures,u=i.maxCubemapSize,c=i.maxTextureSize,h=i.maxSamples,f=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=/OculusBrowser/g.test(navigator.userAgent),y=new WeakMap;let x;const b=new WeakMap;let w=!1;try{w=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function S(te,k){return w?new OffscreenCanvas(te,k):E0("canvas")}function C(te,k,$,U){let ne=1;if((te.width>U||te.height>U)&&(ne=U/Math.max(te.width,te.height)),ne<1||k===!0)if(typeof HTMLImageElement!="undefined"&&te instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&te instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&te instanceof ImageBitmap){const ge=k?W_:Math.floor,me=ge(ne*te.width),Q=ge(ne*te.height);x===void 0&&(x=S(me,Q));const _e=$?S(me,Q):x;return _e.width=me,_e.height=Q,_e.getContext("2d").drawImage(te,0,0,me,Q),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+te.width+"x"+te.height+") to ("+me+"x"+Q+")."),_e}else return"data"in te&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+te.width+"x"+te.height+")."),te;return te}function M(te){return _A(te.width)&&_A(te.height)}function T(te){return s?!1:te.wrapS!==qa||te.wrapT!==qa||te.minFilter!==nr&&te.minFilter!==Ai}function R(te,k){return te.generateMipmaps&&k&&te.minFilter!==nr&&te.minFilter!==Ai}function I(te){t.generateMipmap(te)}function A(te,k,$,U,ne=!1){if(s===!1)return k;if(te!==null){if(t[te]!==void 0)return t[te];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+te+"'")}let ge=k;return k===6403&&($===5126&&(ge=33326),$===5131&&(ge=33325),$===5121&&(ge=33321)),k===33319&&($===5126&&(ge=33328),$===5131&&(ge=33327),$===5121&&(ge=33323)),k===6408&&($===5126&&(ge=34836),$===5131&&(ge=34842),$===5121&&(ge=U===ni&&ne===!1?35907:32856),$===32819&&(ge=32854),$===32820&&(ge=32855)),(ge===33325||ge===33326||ge===33327||ge===33328||ge===34842||ge===34836)&&e.get("EXT_color_buffer_float"),ge}function N(te,k,$){return R(te,$)===!0||te.isFramebufferTexture&&te.minFilter!==nr&&te.minFilter!==Ai?Math.log2(Math.max(k.width,k.height))+1:te.mipmaps!==void 0&&te.mipmaps.length>0?te.mipmaps.length:te.isCompressedTexture&&Array.isArray(te.image)?k.mipmaps.length:1}function L(te){return te===nr||te===WF||te===jF?9728:9729}function D(te){const k=te.target;k.removeEventListener("dispose",D),V(k),k.isVideoTexture&&y.delete(k)}function W(te){const k=te.target;k.removeEventListener("dispose",W),K(k)}function V(te){const k=r.get(te);if(k.__webglInit===void 0)return;const $=te.source,U=b.get($);if(U){const ne=U[k.__cacheKey];ne.usedTimes--,ne.usedTimes===0&&B(te),Object.keys(U).length===0&&b.delete($)}r.remove(te)}function B(te){const k=r.get(te);t.deleteTexture(k.__webglTexture);const $=te.source,U=b.get($);delete U[k.__cacheKey],a.memory.textures--}function K(te){const k=te.texture,$=r.get(te),U=r.get(k);if(U.__webglTexture!==void 0&&(t.deleteTexture(U.__webglTexture),a.memory.textures--),te.depthTexture&&te.depthTexture.dispose(),te.isWebGLCubeRenderTarget)for(let ne=0;ne<6;ne++)t.deleteFramebuffer($.__webglFramebuffer[ne]),$.__webglDepthbuffer&&t.deleteRenderbuffer($.__webglDepthbuffer[ne]);else t.deleteFramebuffer($.__webglFramebuffer),$.__webglDepthbuffer&&t.deleteRenderbuffer($.__webglDepthbuffer),$.__webglMultisampledFramebuffer&&t.deleteFramebuffer($.__webglMultisampledFramebuffer),$.__webglColorRenderbuffer&&t.deleteRenderbuffer($.__webglColorRenderbuffer),$.__webglDepthRenderbuffer&&t.deleteRenderbuffer($.__webglDepthRenderbuffer);if(te.isWebGLMultipleRenderTargets)for(let ne=0,ge=k.length;ne<ge;ne++){const me=r.get(k[ne]);me.__webglTexture&&(t.deleteTexture(me.__webglTexture),a.memory.textures--),r.remove(k[ne])}r.remove(k),r.remove(te)}let j=0;function G(){j=0}function H(){const te=j;return te>=l&&console.warn("THREE.WebGLTextures: Trying to use "+te+" texture units while this GPU supports only "+l),j+=1,te}function Y(te){const k=[];return k.push(te.wrapS),k.push(te.wrapT),k.push(te.magFilter),k.push(te.minFilter),k.push(te.anisotropy),k.push(te.internalFormat),k.push(te.format),k.push(te.type),k.push(te.generateMipmaps),k.push(te.premultiplyAlpha),k.push(te.flipY),k.push(te.unpackAlignment),k.push(te.encoding),k.join()}function Z(te,k){const $=r.get(te);if(te.isVideoTexture&&Be(te),te.isRenderTargetTexture===!1&&te.version>0&&$.__version!==te.version){const U=te.image;if(U===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(U.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Oe($,te,k);return}}n.activeTexture(33984+k),n.bindTexture(3553,$.__webglTexture)}function oe(te,k){const $=r.get(te);if(te.version>0&&$.__version!==te.version){Oe($,te,k);return}n.activeTexture(33984+k),n.bindTexture(35866,$.__webglTexture)}function re(te,k){const $=r.get(te);if(te.version>0&&$.__version!==te.version){Oe($,te,k);return}n.activeTexture(33984+k),n.bindTexture(32879,$.__webglTexture)}function se(te,k){const $=r.get(te);if(te.version>0&&$.__version!==te.version){Fe($,te,k);return}n.activeTexture(33984+k),n.bindTexture(34067,$.__webglTexture)}const ce={[_0]:10497,[qa]:33071,[yA]:33648},ye={[nr]:9728,[WF]:9984,[jF]:9986,[Ai]:9729,[Nbe]:9985,[sy]:9987};function fe(te,k,$){if($?(t.texParameteri(te,10242,ce[k.wrapS]),t.texParameteri(te,10243,ce[k.wrapT]),(te===32879||te===35866)&&t.texParameteri(te,32882,ce[k.wrapR]),t.texParameteri(te,10240,ye[k.magFilter]),t.texParameteri(te,10241,ye[k.minFilter])):(t.texParameteri(te,10242,33071),t.texParameteri(te,10243,33071),(te===32879||te===35866)&&t.texParameteri(te,32882,33071),(k.wrapS!==qa||k.wrapT!==qa)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(te,10240,L(k.magFilter)),t.texParameteri(te,10241,L(k.minFilter)),k.minFilter!==nr&&k.minFilter!==Ai&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const U=e.get("EXT_texture_filter_anisotropic");if(k.type===al&&e.has("OES_texture_float_linear")===!1||s===!1&&k.type===Vl&&e.has("OES_texture_half_float_linear")===!1)return;(k.anisotropy>1||r.get(k).__currentAnisotropy)&&(t.texParameterf(te,U.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(k.anisotropy,i.getMaxAnisotropy())),r.get(k).__currentAnisotropy=k.anisotropy)}}function De(te,k){let $=!1;te.__webglInit===void 0&&(te.__webglInit=!0,k.addEventListener("dispose",D));const U=k.source;let ne=b.get(U);ne===void 0&&(ne={},b.set(U,ne));const ge=Y(k);if(ge!==te.__cacheKey){ne[ge]===void 0&&(ne[ge]={texture:t.createTexture(),usedTimes:0},a.memory.textures++,$=!0),ne[ge].usedTimes++;const me=ne[te.__cacheKey];me!==void 0&&(ne[te.__cacheKey].usedTimes--,me.usedTimes===0&&B(k)),te.__cacheKey=ge,te.__webglTexture=ne[ge].texture}return $}function Oe(te,k,$){let U=3553;k.isDataArrayTexture&&(U=35866),k.isData3DTexture&&(U=32879);const ne=De(te,k),ge=k.source;if(n.activeTexture(33984+$),n.bindTexture(U,te.__webglTexture),ge.version!==ge.__currentVersion||ne===!0){t.pixelStorei(37440,k.flipY),t.pixelStorei(37441,k.premultiplyAlpha),t.pixelStorei(3317,k.unpackAlignment),t.pixelStorei(37443,0);const me=T(k)&&M(k.image)===!1;let Q=C(k.image,me,!1,c);Q=qe(k,Q);const _e=M(Q)||s,ke=o.convert(k.format,k.encoding);let we=o.convert(k.type),de=A(k.internalFormat,ke,we,k.encoding,k.isVideoTexture);fe(U,k,_e);let je;const Ze=k.mipmaps,vt=s&&k.isVideoTexture!==!0,ot=te.__version===void 0||ne===!0,ht=N(k,Q,_e);if(k.isDepthTexture)de=6402,s?k.type===al?de=36012:k.type===Iw?de=33190:k.type===tm?de=35056:de=33189:k.type===al&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),k.format===Nf&&de===6402&&k.type!==$f&&k.type!==Iw&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),k.type=$f,we=o.convert(k.type)),k.format===xm&&de===6402&&(de=34041,k.type!==tm&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),k.type=tm,we=o.convert(k.type))),ot&&(vt?n.texStorage2D(3553,1,de,Q.width,Q.height):n.texImage2D(3553,0,de,Q.width,Q.height,0,ke,we,null));else if(k.isDataTexture)if(Ze.length>0&&_e){vt&&ot&&n.texStorage2D(3553,ht,de,Ze[0].width,Ze[0].height);for(let at=0,Mt=Ze.length;at<Mt;at++)je=Ze[at],vt?n.texSubImage2D(3553,at,0,0,je.width,je.height,ke,we,je.data):n.texImage2D(3553,at,de,je.width,je.height,0,ke,we,je.data);k.generateMipmaps=!1}else vt?(ot&&n.texStorage2D(3553,ht,de,Q.width,Q.height),n.texSubImage2D(3553,0,0,0,Q.width,Q.height,ke,we,Q.data)):n.texImage2D(3553,0,de,Q.width,Q.height,0,ke,we,Q.data);else if(k.isCompressedTexture){vt&&ot&&n.texStorage2D(3553,ht,de,Ze[0].width,Ze[0].height);for(let at=0,Mt=Ze.length;at<Mt;at++)je=Ze[at],k.format!==Cs?ke!==null?vt?n.compressedTexSubImage2D(3553,at,0,0,je.width,je.height,ke,je.data):n.compressedTexImage2D(3553,at,de,je.width,je.height,0,je.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):vt?n.texSubImage2D(3553,at,0,0,je.width,je.height,ke,we,je.data):n.texImage2D(3553,at,de,je.width,je.height,0,ke,we,je.data)}else if(k.isDataArrayTexture)vt?(ot&&n.texStorage3D(35866,ht,de,Q.width,Q.height,Q.depth),n.texSubImage3D(35866,0,0,0,0,Q.width,Q.height,Q.depth,ke,we,Q.data)):n.texImage3D(35866,0,de,Q.width,Q.height,Q.depth,0,ke,we,Q.data);else if(k.isData3DTexture)vt?(ot&&n.texStorage3D(32879,ht,de,Q.width,Q.height,Q.depth),n.texSubImage3D(32879,0,0,0,0,Q.width,Q.height,Q.depth,ke,we,Q.data)):n.texImage3D(32879,0,de,Q.width,Q.height,Q.depth,0,ke,we,Q.data);else if(k.isFramebufferTexture){if(ot)if(vt)n.texStorage2D(3553,ht,de,Q.width,Q.height);else{let at=Q.width,Mt=Q.height;for(let Ct=0;Ct<ht;Ct++)n.texImage2D(3553,Ct,de,at,Mt,0,ke,we,null),at>>=1,Mt>>=1}}else if(Ze.length>0&&_e){vt&&ot&&n.texStorage2D(3553,ht,de,Ze[0].width,Ze[0].height);for(let at=0,Mt=Ze.length;at<Mt;at++)je=Ze[at],vt?n.texSubImage2D(3553,at,0,0,ke,we,je):n.texImage2D(3553,at,de,ke,we,je);k.generateMipmaps=!1}else vt?(ot&&n.texStorage2D(3553,ht,de,Q.width,Q.height),n.texSubImage2D(3553,0,0,0,ke,we,Q)):n.texImage2D(3553,0,de,ke,we,Q);R(k,_e)&&I(U),ge.__currentVersion=ge.version,k.onUpdate&&k.onUpdate(k)}te.__version=k.version}function Fe(te,k,$){if(k.image.length!==6)return;const U=De(te,k),ne=k.source;if(n.activeTexture(33984+$),n.bindTexture(34067,te.__webglTexture),ne.version!==ne.__currentVersion||U===!0){t.pixelStorei(37440,k.flipY),t.pixelStorei(37441,k.premultiplyAlpha),t.pixelStorei(3317,k.unpackAlignment),t.pixelStorei(37443,0);const ge=k.isCompressedTexture||k.image[0].isCompressedTexture,me=k.image[0]&&k.image[0].isDataTexture,Q=[];for(let at=0;at<6;at++)!ge&&!me?Q[at]=C(k.image[at],!1,!0,u):Q[at]=me?k.image[at].image:k.image[at],Q[at]=qe(k,Q[at]);const _e=Q[0],ke=M(_e)||s,we=o.convert(k.format,k.encoding),de=o.convert(k.type),je=A(k.internalFormat,we,de,k.encoding),Ze=s&&k.isVideoTexture!==!0,vt=te.__version===void 0;let ot=N(k,_e,ke);fe(34067,k,ke);let ht;if(ge){Ze&&vt&&n.texStorage2D(34067,ot,je,_e.width,_e.height);for(let at=0;at<6;at++){ht=Q[at].mipmaps;for(let Mt=0;Mt<ht.length;Mt++){const Ct=ht[Mt];k.format!==Cs?we!==null?Ze?n.compressedTexSubImage2D(34069+at,Mt,0,0,Ct.width,Ct.height,we,Ct.data):n.compressedTexImage2D(34069+at,Mt,je,Ct.width,Ct.height,0,Ct.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ze?n.texSubImage2D(34069+at,Mt,0,0,Ct.width,Ct.height,we,de,Ct.data):n.texImage2D(34069+at,Mt,je,Ct.width,Ct.height,0,we,de,Ct.data)}}}else{ht=k.mipmaps,Ze&&vt&&(ht.length>0&&ot++,n.texStorage2D(34067,ot,je,Q[0].width,Q[0].height));for(let at=0;at<6;at++)if(me){Ze?n.texSubImage2D(34069+at,0,0,0,Q[at].width,Q[at].height,we,de,Q[at].data):n.texImage2D(34069+at,0,je,Q[at].width,Q[at].height,0,we,de,Q[at].data);for(let Mt=0;Mt<ht.length;Mt++){const Ft=ht[Mt].image[at].image;Ze?n.texSubImage2D(34069+at,Mt+1,0,0,Ft.width,Ft.height,we,de,Ft.data):n.texImage2D(34069+at,Mt+1,je,Ft.width,Ft.height,0,we,de,Ft.data)}}else{Ze?n.texSubImage2D(34069+at,0,0,0,we,de,Q[at]):n.texImage2D(34069+at,0,je,we,de,Q[at]);for(let Mt=0;Mt<ht.length;Mt++){const Ct=ht[Mt];Ze?n.texSubImage2D(34069+at,Mt+1,0,0,we,de,Ct.image[at]):n.texImage2D(34069+at,Mt+1,je,we,de,Ct.image[at])}}}R(k,ke)&&I(34067),ne.__currentVersion=ne.version,k.onUpdate&&k.onUpdate(k)}te.__version=k.version}function Ee(te,k,$,U,ne){const ge=o.convert($.format,$.encoding),me=o.convert($.type),Q=A($.internalFormat,ge,me,$.encoding);r.get(k).__hasExternalTextures||(ne===32879||ne===35866?n.texImage3D(ne,0,Q,k.width,k.height,k.depth,0,ge,me,null):n.texImage2D(ne,0,Q,k.width,k.height,0,ge,me,null)),n.bindFramebuffer(36160,te),Ve(k)?f.framebufferTexture2DMultisampleEXT(36160,U,ne,r.get($).__webglTexture,0,Ue(k)):t.framebufferTexture2D(36160,U,ne,r.get($).__webglTexture,0),n.bindFramebuffer(36160,null)}function Ye(te,k,$){if(t.bindRenderbuffer(36161,te),k.depthBuffer&&!k.stencilBuffer){let U=33189;if($||Ve(k)){const ne=k.depthTexture;ne&&ne.isDepthTexture&&(ne.type===al?U=36012:ne.type===Iw&&(U=33190));const ge=Ue(k);Ve(k)?f.renderbufferStorageMultisampleEXT(36161,ge,U,k.width,k.height):t.renderbufferStorageMultisample(36161,ge,U,k.width,k.height)}else t.renderbufferStorage(36161,U,k.width,k.height);t.framebufferRenderbuffer(36160,36096,36161,te)}else if(k.depthBuffer&&k.stencilBuffer){const U=Ue(k);$&&Ve(k)===!1?t.renderbufferStorageMultisample(36161,U,35056,k.width,k.height):Ve(k)?f.renderbufferStorageMultisampleEXT(36161,U,35056,k.width,k.height):t.renderbufferStorage(36161,34041,k.width,k.height),t.framebufferRenderbuffer(36160,33306,36161,te)}else{const U=k.isWebGLMultipleRenderTargets===!0?k.texture[0]:k.texture,ne=o.convert(U.format,U.encoding),ge=o.convert(U.type),me=A(U.internalFormat,ne,ge,U.encoding),Q=Ue(k);$&&Ve(k)===!1?t.renderbufferStorageMultisample(36161,Q,me,k.width,k.height):Ve(k)?f.renderbufferStorageMultisampleEXT(36161,Q,me,k.width,k.height):t.renderbufferStorage(36161,me,k.width,k.height)}t.bindRenderbuffer(36161,null)}function be(te,k){if(k&&k.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,te),!(k.depthTexture&&k.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(k.depthTexture).__webglTexture||k.depthTexture.image.width!==k.width||k.depthTexture.image.height!==k.height)&&(k.depthTexture.image.width=k.width,k.depthTexture.image.height=k.height,k.depthTexture.needsUpdate=!0),Z(k.depthTexture,0);const U=r.get(k.depthTexture).__webglTexture,ne=Ue(k);if(k.depthTexture.format===Nf)Ve(k)?f.framebufferTexture2DMultisampleEXT(36160,36096,3553,U,0,ne):t.framebufferTexture2D(36160,36096,3553,U,0);else if(k.depthTexture.format===xm)Ve(k)?f.framebufferTexture2DMultisampleEXT(36160,33306,3553,U,0,ne):t.framebufferTexture2D(36160,33306,3553,U,0);else throw new Error("Unknown depthTexture format")}function Ce(te){const k=r.get(te),$=te.isWebGLCubeRenderTarget===!0;if(te.depthTexture&&!k.__autoAllocateDepthBuffer){if($)throw new Error("target.depthTexture not supported in Cube render targets");be(k.__webglFramebuffer,te)}else if($){k.__webglDepthbuffer=[];for(let U=0;U<6;U++)n.bindFramebuffer(36160,k.__webglFramebuffer[U]),k.__webglDepthbuffer[U]=t.createRenderbuffer(),Ye(k.__webglDepthbuffer[U],te,!1)}else n.bindFramebuffer(36160,k.__webglFramebuffer),k.__webglDepthbuffer=t.createRenderbuffer(),Ye(k.__webglDepthbuffer,te,!1);n.bindFramebuffer(36160,null)}function Me(te,k,$){const U=r.get(te);k!==void 0&&Ee(U.__webglFramebuffer,te,te.texture,36064,3553),$!==void 0&&Ce(te)}function ze(te){const k=te.texture,$=r.get(te),U=r.get(k);te.addEventListener("dispose",W),te.isWebGLMultipleRenderTargets!==!0&&(U.__webglTexture===void 0&&(U.__webglTexture=t.createTexture()),U.__version=k.version,a.memory.textures++);const ne=te.isWebGLCubeRenderTarget===!0,ge=te.isWebGLMultipleRenderTargets===!0,me=M(te)||s;if(ne){$.__webglFramebuffer=[];for(let Q=0;Q<6;Q++)$.__webglFramebuffer[Q]=t.createFramebuffer()}else if($.__webglFramebuffer=t.createFramebuffer(),ge)if(i.drawBuffers){const Q=te.texture;for(let _e=0,ke=Q.length;_e<ke;_e++){const we=r.get(Q[_e]);we.__webglTexture===void 0&&(we.__webglTexture=t.createTexture(),a.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(s&&te.samples>0&&Ve(te)===!1){$.__webglMultisampledFramebuffer=t.createFramebuffer(),$.__webglColorRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(36161,$.__webglColorRenderbuffer);const Q=o.convert(k.format,k.encoding),_e=o.convert(k.type),ke=A(k.internalFormat,Q,_e,k.encoding),we=Ue(te);t.renderbufferStorageMultisample(36161,we,ke,te.width,te.height),n.bindFramebuffer(36160,$.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064,36161,$.__webglColorRenderbuffer),t.bindRenderbuffer(36161,null),te.depthBuffer&&($.__webglDepthRenderbuffer=t.createRenderbuffer(),Ye($.__webglDepthRenderbuffer,te,!0)),n.bindFramebuffer(36160,null)}if(ne){n.bindTexture(34067,U.__webglTexture),fe(34067,k,me);for(let Q=0;Q<6;Q++)Ee($.__webglFramebuffer[Q],te,k,36064,34069+Q);R(k,me)&&I(34067),n.unbindTexture()}else if(ge){const Q=te.texture;for(let _e=0,ke=Q.length;_e<ke;_e++){const we=Q[_e],de=r.get(we);n.bindTexture(3553,de.__webglTexture),fe(3553,we,me),Ee($.__webglFramebuffer,te,we,36064+_e,3553),R(we,me)&&I(3553)}n.unbindTexture()}else{let Q=3553;(te.isWebGL3DRenderTarget||te.isWebGLArrayRenderTarget)&&(s?Q=te.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(Q,U.__webglTexture),fe(Q,k,me),Ee($.__webglFramebuffer,te,k,36064,Q),R(k,me)&&I(Q),n.unbindTexture()}te.depthBuffer&&Ce(te)}function Re(te){const k=M(te)||s,$=te.isWebGLMultipleRenderTargets===!0?te.texture:[te.texture];for(let U=0,ne=$.length;U<ne;U++){const ge=$[U];if(R(ge,k)){const me=te.isWebGLCubeRenderTarget?34067:3553,Q=r.get(ge).__webglTexture;n.bindTexture(me,Q),I(me),n.unbindTexture()}}}function We(te){if(s&&te.samples>0&&Ve(te)===!1){const k=te.width,$=te.height;let U=16384;const ne=[36064],ge=te.stencilBuffer?33306:36096;te.depthBuffer&&ne.push(ge);const me=r.get(te),Q=me.__ignoreDepthValues!==void 0?me.__ignoreDepthValues:!1;Q===!1&&(te.depthBuffer&&(U|=256),te.stencilBuffer&&(U|=1024)),n.bindFramebuffer(36008,me.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,me.__webglFramebuffer),Q===!0&&(t.invalidateFramebuffer(36008,[ge]),t.invalidateFramebuffer(36009,[ge])),t.blitFramebuffer(0,0,k,$,0,0,k,$,U,9728),m&&t.invalidateFramebuffer(36008,ne),n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,me.__webglMultisampledFramebuffer)}}function Ue(te){return Math.min(h,te.samples)}function Ve(te){const k=r.get(te);return s&&te.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&k.__useRenderToTexture!==!1}function Be(te){const k=a.render.frame;y.get(te)!==k&&(y.set(te,k),te.update())}function qe(te,k){const $=te.encoding,U=te.format,ne=te.type;return te.isCompressedTexture===!0||te.isVideoTexture===!0||te.format===wA||$!==fl&&($===ni?s===!1?e.has("EXT_sRGB")===!0&&U===Cs?(te.format=wA,te.minFilter=Ai,te.generateMipmaps=!1):k=sh.sRGBToLinear(k):(U!==Cs||ne!==Gf)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",$)),k}this.allocateTextureUnit=H,this.resetTextureUnits=G,this.setTexture2D=Z,this.setTexture2DArray=oe,this.setTexture3D=re,this.setTextureCube=se,this.rebindTextures=Me,this.setupRenderTarget=ze,this.updateRenderTargetMipmap=Re,this.updateMultisampleRenderTarget=We,this.setupDepthRenderbuffer=Ce,this.setupFrameBufferTexture=Ee,this.useMultisampledRTT=Ve}function qCe(t,e,n){const r=n.isWebGL2;function i(o,a=null){let s;if(o===Gf)return 5121;if(o===Dbe)return 32819;if(o===Fbe)return 32820;if(o===kbe)return 5120;if(o===Ibe)return 5122;if(o===$f)return 5123;if(o===Lbe)return 5124;if(o===Iw)return 5125;if(o===al)return 5126;if(o===Vl)return r?5131:(s=e.get("OES_texture_half_float"),s!==null?s.HALF_FLOAT_OES:null);if(o===zbe)return 6406;if(o===Cs)return 6408;if(o===Vbe)return 6409;if(o===Ube)return 6410;if(o===Nf)return 6402;if(o===xm)return 34041;if(o===Hbe)return 6403;if(o===Bbe)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(o===wA)return s=e.get("EXT_sRGB"),s!==null?s.SRGB_ALPHA_EXT:null;if(o===Wbe)return 36244;if(o===jbe)return 33319;if(o===Gbe)return 33320;if(o===$be)return 36249;if(o===t2||o===n2||o===r2||o===i2)if(a===ni)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(o===t2)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(o===n2)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(o===r2)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(o===i2)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(o===t2)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(o===n2)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(o===r2)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(o===i2)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(o===GF||o===$F||o===KF||o===qF)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(o===GF)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(o===$F)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(o===KF)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(o===qF)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(o===Kbe)return s=e.get("WEBGL_compressed_texture_etc1"),s!==null?s.COMPRESSED_RGB_ETC1_WEBGL:null;if(o===XF||o===YF)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(o===XF)return a===ni?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(o===YF)return a===ni?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(o===ZF||o===JF||o===QF||o===e6||o===t6||o===n6||o===r6||o===i6||o===o6||o===a6||o===s6||o===l6||o===u6||o===c6)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(o===ZF)return a===ni?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(o===JF)return a===ni?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(o===QF)return a===ni?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(o===e6)return a===ni?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(o===t6)return a===ni?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(o===n6)return a===ni?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(o===r6)return a===ni?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(o===i6)return a===ni?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(o===o6)return a===ni?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(o===a6)return a===ni?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(o===s6)return a===ni?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(o===l6)return a===ni?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(o===u6)return a===ni?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(o===c6)return a===ni?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(o===d6)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(o===d6)return a===ni?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return o===tm?r?34042:(s=e.get("WEBGL_depth_texture"),s!==null?s.UNSIGNED_INT_24_8_WEBGL:null):t[o]!==void 0?t[o]:null}return{convert:i}}class d7 extends bo{constructor(e=[]){super(),this.cameras=e}}d7.prototype.isArrayCamera=!0;class Xi extends gr{constructor(){super(),this.type="Group"}}Xi.prototype.isGroup=!0;const XCe={type:"move"};class k2{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Xi,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Xi,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new pe,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new pe),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Xi,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new pe,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new pe),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,o=null,a=null;const s=this._targetRay,l=this._grip,u=this._hand;if(e&&n.session.visibilityState!=="visible-blurred")if(s!==null&&(i=n.getPose(e.targetRaySpace,r),i!==null&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(XCe))),u&&e.hand){a=!0;for(const x of e.hand.values()){const b=n.getJointPose(x,r);if(u.joints[x.jointName]===void 0){const S=new Xi;S.matrixAutoUpdate=!1,S.visible=!1,u.joints[x.jointName]=S,u.add(S)}const w=u.joints[x.jointName];b!==null&&(w.matrix.fromArray(b.transform.matrix),w.matrix.decompose(w.position,w.rotation,w.scale),w.jointRadius=b.radius),w.visible=b!==null}const c=u.joints["index-finger-tip"],h=u.joints["thumb-tip"],f=c.position.distanceTo(h.position),m=.02,y=.005;u.inputState.pinching&&f>m+y?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&f<=m-y&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(o=n.getPose(e.gripSpace,r),o!==null&&(l.matrix.fromArray(o.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),o.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(o.linearVelocity)):l.hasLinearVelocity=!1,o.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(o.angularVelocity)):l.hasAngularVelocity=!1));return s!==null&&(s.visible=i!==null),l!==null&&(l.visible=o!==null),u!==null&&(u.visible=a!==null),this}}class CS extends Yi{constructor(e,n,r,i,o,a,s,l,u,c){if(c=c!==void 0?c:Nf,c!==Nf&&c!==xm)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&c===Nf&&(r=$f),r===void 0&&c===xm&&(r=tm),super(null,i,o,a,s,l,c,r,u),this.image={width:e,height:n},this.magFilter=s!==void 0?s:nr,this.minFilter=l!==void 0?l:nr,this.flipY=!1,this.generateMipmaps=!1}}CS.prototype.isDepthTexture=!0;class YCe extends Rd{constructor(e,n){super();const r=this;let i=null,o=1,a=null,s="local-floor",l=null,u=null,c=null,h=null,f=null,m=null;const y=n.getContextAttributes();let x=null,b=null;const w=[],S=new Map,C=new bo;C.layers.enable(1),C.viewport=new zr;const M=new bo;M.layers.enable(2),M.viewport=new zr;const T=[C,M],R=new d7;R.layers.enable(1),R.layers.enable(2);let I=null,A=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Y){let Z=w[Y];return Z===void 0&&(Z=new k2,w[Y]=Z),Z.getTargetRaySpace()},this.getControllerGrip=function(Y){let Z=w[Y];return Z===void 0&&(Z=new k2,w[Y]=Z),Z.getGripSpace()},this.getHand=function(Y){let Z=w[Y];return Z===void 0&&(Z=new k2,w[Y]=Z),Z.getHandSpace()};function N(Y){const Z=S.get(Y.inputSource);Z&&Z.dispatchEvent({type:Y.type,data:Y.inputSource})}function L(){S.forEach(function(Y,Z){Y.disconnect(Z)}),S.clear(),I=null,A=null,e.setRenderTarget(x),f=null,h=null,c=null,i=null,b=null,H.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Y){o=Y,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Y){s=Y,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||a},this.setReferenceSpace=function(Y){l=Y},this.getBaseLayer=function(){return h!==null?h:f},this.getBinding=function(){return c},this.getFrame=function(){return m},this.getSession=function(){return i},this.setSession=async function(Y){if(i=Y,i!==null){if(x=e.getRenderTarget(),i.addEventListener("select",N),i.addEventListener("selectstart",N),i.addEventListener("selectend",N),i.addEventListener("squeeze",N),i.addEventListener("squeezestart",N),i.addEventListener("squeezeend",N),i.addEventListener("end",L),i.addEventListener("inputsourceschange",D),y.xrCompatible!==!0&&await n.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const Z={antialias:i.renderState.layers===void 0?y.antialias:!0,alpha:y.alpha,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:o};f=new XRWebGLLayer(i,n,Z),i.updateRenderState({baseLayer:f}),b=new sr(f.framebufferWidth,f.framebufferHeight,{format:Cs,type:Gf,encoding:e.outputEncoding})}else{let Z=null,oe=null,re=null;y.depth&&(re=y.stencil?35056:33190,Z=y.stencil?xm:Nf,oe=y.stencil?tm:$f);const se={colorFormat:e.outputEncoding===ni?35907:32856,depthFormat:re,scaleFactor:o};c=new XRWebGLBinding(i,n),h=c.createProjectionLayer(se),i.updateRenderState({layers:[h]}),b=new sr(h.textureWidth,h.textureHeight,{format:Cs,type:Gf,depthTexture:new CS(h.textureWidth,h.textureHeight,oe,void 0,void 0,void 0,void 0,void 0,void 0,Z),stencilBuffer:y.stencil,encoding:e.outputEncoding,samples:y.antialias?4:0});const ce=e.properties.get(b);ce.__ignoreDepthValues=h.ignoreDepthValues}b.isXRRenderTarget=!0,this.setFoveation(1),a=await i.requestReferenceSpace(s),H.setContext(i),H.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function D(Y){const Z=i.inputSources;for(let oe=0;oe<Z.length;oe++){const re=Z[oe].handedness==="right"?1:0;S.set(Z[oe],w[re])}for(let oe=0;oe<Y.removed.length;oe++){const re=Y.removed[oe],se=S.get(re);se&&(se.dispatchEvent({type:"disconnected",data:re}),S.delete(re))}for(let oe=0;oe<Y.added.length;oe++){const re=Y.added[oe],se=S.get(re);se&&se.dispatchEvent({type:"connected",data:re})}}const W=new pe,V=new pe;function B(Y,Z,oe){W.setFromMatrixPosition(Z.matrixWorld),V.setFromMatrixPosition(oe.matrixWorld);const re=W.distanceTo(V),se=Z.projectionMatrix.elements,ce=oe.projectionMatrix.elements,ye=se[14]/(se[10]-1),fe=se[14]/(se[10]+1),De=(se[9]+1)/se[5],Oe=(se[9]-1)/se[5],Fe=(se[8]-1)/se[0],Ee=(ce[8]+1)/ce[0],Ye=ye*Fe,be=ye*Ee,Ce=re/(-Fe+Ee),Me=Ce*-Fe;Z.matrixWorld.decompose(Y.position,Y.quaternion,Y.scale),Y.translateX(Me),Y.translateZ(Ce),Y.matrixWorld.compose(Y.position,Y.quaternion,Y.scale),Y.matrixWorldInverse.copy(Y.matrixWorld).invert();const ze=ye+Ce,Re=fe+Ce,We=Ye-Me,Ue=be+(re-Me),Ve=De*fe/Re*ze,Be=Oe*fe/Re*ze;Y.projectionMatrix.makePerspective(We,Ue,Ve,Be,ze,Re)}function K(Y,Z){Z===null?Y.matrixWorld.copy(Y.matrix):Y.matrixWorld.multiplyMatrices(Z.matrixWorld,Y.matrix),Y.matrixWorldInverse.copy(Y.matrixWorld).invert()}this.updateCamera=function(Y){if(i===null)return;R.near=M.near=C.near=Y.near,R.far=M.far=C.far=Y.far,(I!==R.near||A!==R.far)&&(i.updateRenderState({depthNear:R.near,depthFar:R.far}),I=R.near,A=R.far);const Z=Y.parent,oe=R.cameras;K(R,Z);for(let se=0;se<oe.length;se++)K(oe[se],Z);R.matrixWorld.decompose(R.position,R.quaternion,R.scale),Y.position.copy(R.position),Y.quaternion.copy(R.quaternion),Y.scale.copy(R.scale),Y.matrix.copy(R.matrix),Y.matrixWorld.copy(R.matrixWorld);const re=Y.children;for(let se=0,ce=re.length;se<ce;se++)re[se].updateMatrixWorld(!0);oe.length===2?B(R,C,M):R.projectionMatrix.copy(C.projectionMatrix)},this.getCamera=function(){return R},this.getFoveation=function(){if(h!==null)return h.fixedFoveation;if(f!==null)return f.fixedFoveation},this.setFoveation=function(Y){h!==null&&(h.fixedFoveation=Y),f!==null&&f.fixedFoveation!==void 0&&(f.fixedFoveation=Y)};let j=null;function G(Y,Z){if(u=Z.getViewerPose(l||a),m=Z,u!==null){const re=u.views;f!==null&&(e.setRenderTargetFramebuffer(b,f.framebuffer),e.setRenderTarget(b));let se=!1;re.length!==R.cameras.length&&(R.cameras.length=0,se=!0);for(let ce=0;ce<re.length;ce++){const ye=re[ce];let fe=null;if(f!==null)fe=f.getViewport(ye);else{const Oe=c.getViewSubImage(h,ye);fe=Oe.viewport,ce===0&&(e.setRenderTargetTextures(b,Oe.colorTexture,h.ignoreDepthValues?void 0:Oe.depthStencilTexture),e.setRenderTarget(b))}const De=T[ce];De.matrix.fromArray(ye.transform.matrix),De.projectionMatrix.fromArray(ye.projectionMatrix),De.viewport.set(fe.x,fe.y,fe.width,fe.height),ce===0&&R.matrix.copy(De.matrix),se===!0&&R.cameras.push(De)}}const oe=i.inputSources;for(let re=0;re<w.length;re++){const se=oe[re],ce=S.get(se);ce!==void 0&&ce.update(se,Z,l||a)}j&&j(Y,Z),m=null}const H=new r7;H.setAnimationLoop(G),this.setAnimationLoop=function(Y){j=Y},this.dispose=function(){}}}function ZCe(t,e){function n(x,b){x.fogColor.value.copy(b.color),b.isFog?(x.fogNear.value=b.near,x.fogFar.value=b.far):b.isFogExp2&&(x.fogDensity.value=b.density)}function r(x,b,w,S,C){b.isMeshBasicMaterial||b.isMeshLambertMaterial?i(x,b):b.isMeshToonMaterial?(i(x,b),c(x,b)):b.isMeshPhongMaterial?(i(x,b),u(x,b)):b.isMeshStandardMaterial?(i(x,b),h(x,b),b.isMeshPhysicalMaterial&&f(x,b,C)):b.isMeshMatcapMaterial?(i(x,b),m(x,b)):b.isMeshDepthMaterial?i(x,b):b.isMeshDistanceMaterial?(i(x,b),y(x,b)):b.isMeshNormalMaterial?i(x,b):b.isLineBasicMaterial?(o(x,b),b.isLineDashedMaterial&&a(x,b)):b.isPointsMaterial?s(x,b,w,S):b.isSpriteMaterial?l(x,b):b.isShadowMaterial?(x.color.value.copy(b.color),x.opacity.value=b.opacity):b.isShaderMaterial&&(b.uniformsNeedUpdate=!1)}function i(x,b){x.opacity.value=b.opacity,b.color&&x.diffuse.value.copy(b.color),b.emissive&&x.emissive.value.copy(b.emissive).multiplyScalar(b.emissiveIntensity),b.map&&(x.map.value=b.map),b.alphaMap&&(x.alphaMap.value=b.alphaMap),b.bumpMap&&(x.bumpMap.value=b.bumpMap,x.bumpScale.value=b.bumpScale,b.side===Ja&&(x.bumpScale.value*=-1)),b.displacementMap&&(x.displacementMap.value=b.displacementMap,x.displacementScale.value=b.displacementScale,x.displacementBias.value=b.displacementBias),b.emissiveMap&&(x.emissiveMap.value=b.emissiveMap),b.normalMap&&(x.normalMap.value=b.normalMap,x.normalScale.value.copy(b.normalScale),b.side===Ja&&x.normalScale.value.negate()),b.specularMap&&(x.specularMap.value=b.specularMap),b.alphaTest>0&&(x.alphaTest.value=b.alphaTest);const w=e.get(b).envMap;if(w&&(x.envMap.value=w,x.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,x.reflectivity.value=b.reflectivity,x.ior.value=b.ior,x.refractionRatio.value=b.refractionRatio),b.lightMap){x.lightMap.value=b.lightMap;const M=t.physicallyCorrectLights!==!0?Math.PI:1;x.lightMapIntensity.value=b.lightMapIntensity*M}b.aoMap&&(x.aoMap.value=b.aoMap,x.aoMapIntensity.value=b.aoMapIntensity);let S;b.map?S=b.map:b.specularMap?S=b.specularMap:b.displacementMap?S=b.displacementMap:b.normalMap?S=b.normalMap:b.bumpMap?S=b.bumpMap:b.roughnessMap?S=b.roughnessMap:b.metalnessMap?S=b.metalnessMap:b.alphaMap?S=b.alphaMap:b.emissiveMap?S=b.emissiveMap:b.clearcoatMap?S=b.clearcoatMap:b.clearcoatNormalMap?S=b.clearcoatNormalMap:b.clearcoatRoughnessMap?S=b.clearcoatRoughnessMap:b.specularIntensityMap?S=b.specularIntensityMap:b.specularColorMap?S=b.specularColorMap:b.transmissionMap?S=b.transmissionMap:b.thicknessMap?S=b.thicknessMap:b.sheenColorMap?S=b.sheenColorMap:b.sheenRoughnessMap&&(S=b.sheenRoughnessMap),S!==void 0&&(S.isWebGLRenderTarget&&(S=S.texture),S.matrixAutoUpdate===!0&&S.updateMatrix(),x.uvTransform.value.copy(S.matrix));let C;b.aoMap?C=b.aoMap:b.lightMap&&(C=b.lightMap),C!==void 0&&(C.isWebGLRenderTarget&&(C=C.texture),C.matrixAutoUpdate===!0&&C.updateMatrix(),x.uv2Transform.value.copy(C.matrix))}function o(x,b){x.diffuse.value.copy(b.color),x.opacity.value=b.opacity}function a(x,b){x.dashSize.value=b.dashSize,x.totalSize.value=b.dashSize+b.gapSize,x.scale.value=b.scale}function s(x,b,w,S){x.diffuse.value.copy(b.color),x.opacity.value=b.opacity,x.size.value=b.size*w,x.scale.value=S*.5,b.map&&(x.map.value=b.map),b.alphaMap&&(x.alphaMap.value=b.alphaMap),b.alphaTest>0&&(x.alphaTest.value=b.alphaTest);let C;b.map?C=b.map:b.alphaMap&&(C=b.alphaMap),C!==void 0&&(C.matrixAutoUpdate===!0&&C.updateMatrix(),x.uvTransform.value.copy(C.matrix))}function l(x,b){x.diffuse.value.copy(b.color),x.opacity.value=b.opacity,x.rotation.value=b.rotation,b.map&&(x.map.value=b.map),b.alphaMap&&(x.alphaMap.value=b.alphaMap),b.alphaTest>0&&(x.alphaTest.value=b.alphaTest);let w;b.map?w=b.map:b.alphaMap&&(w=b.alphaMap),w!==void 0&&(w.matrixAutoUpdate===!0&&w.updateMatrix(),x.uvTransform.value.copy(w.matrix))}function u(x,b){x.specular.value.copy(b.specular),x.shininess.value=Math.max(b.shininess,1e-4)}function c(x,b){b.gradientMap&&(x.gradientMap.value=b.gradientMap)}function h(x,b){x.roughness.value=b.roughness,x.metalness.value=b.metalness,b.roughnessMap&&(x.roughnessMap.value=b.roughnessMap),b.metalnessMap&&(x.metalnessMap.value=b.metalnessMap),e.get(b).envMap&&(x.envMapIntensity.value=b.envMapIntensity)}function f(x,b,w){x.ior.value=b.ior,b.sheen>0&&(x.sheenColor.value.copy(b.sheenColor).multiplyScalar(b.sheen),x.sheenRoughness.value=b.sheenRoughness,b.sheenColorMap&&(x.sheenColorMap.value=b.sheenColorMap),b.sheenRoughnessMap&&(x.sheenRoughnessMap.value=b.sheenRoughnessMap)),b.clearcoat>0&&(x.clearcoat.value=b.clearcoat,x.clearcoatRoughness.value=b.clearcoatRoughness,b.clearcoatMap&&(x.clearcoatMap.value=b.clearcoatMap),b.clearcoatRoughnessMap&&(x.clearcoatRoughnessMap.value=b.clearcoatRoughnessMap),b.clearcoatNormalMap&&(x.clearcoatNormalScale.value.copy(b.clearcoatNormalScale),x.clearcoatNormalMap.value=b.clearcoatNormalMap,b.side===Ja&&x.clearcoatNormalScale.value.negate())),b.transmission>0&&(x.transmission.value=b.transmission,x.transmissionSamplerMap.value=w.texture,x.transmissionSamplerSize.value.set(w.width,w.height),b.transmissionMap&&(x.transmissionMap.value=b.transmissionMap),x.thickness.value=b.thickness,b.thicknessMap&&(x.thicknessMap.value=b.thicknessMap),x.attenuationDistance.value=b.attenuationDistance,x.attenuationColor.value.copy(b.attenuationColor)),x.specularIntensity.value=b.specularIntensity,x.specularColor.value.copy(b.specularColor),b.specularIntensityMap&&(x.specularIntensityMap.value=b.specularIntensityMap),b.specularColorMap&&(x.specularColorMap.value=b.specularColorMap)}function m(x,b){b.matcap&&(x.matcap.value=b.matcap)}function y(x,b){x.referencePosition.value.copy(b.referencePosition),x.nearDistance.value=b.nearDistance,x.farDistance.value=b.farDistance}return{refreshFogUniforms:n,refreshMaterialUniforms:r}}function JCe(){const t=E0("canvas");return t.style.display="block",t}function Dr(t={}){const e=t.canvas!==void 0?t.canvas:JCe(),n=t.context!==void 0?t.context:null,r=t.depth!==void 0?t.depth:!0,i=t.stencil!==void 0?t.stencil:!0,o=t.antialias!==void 0?t.antialias:!1,a=t.premultipliedAlpha!==void 0?t.premultipliedAlpha:!0,s=t.preserveDrawingBuffer!==void 0?t.preserveDrawingBuffer:!1,l=t.powerPreference!==void 0?t.powerPreference:"default",u=t.failIfMajorPerformanceCaveat!==void 0?t.failIfMajorPerformanceCaveat:!1;let c;n!==null?c=n.getContextAttributes().alpha:c=t.alpha!==void 0?t.alpha:!1;let h=null,f=null;const m=[],y=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=fl,this.physicallyCorrectLights=!1,this.toneMapping=jl,this.toneMappingExposure=1;const x=this;let b=!1,w=0,S=0,C=null,M=-1,T=null;const R=new zr,I=new zr;let A=null,N=e.width,L=e.height,D=1,W=null,V=null;const B=new zr(0,0,N,L),K=new zr(0,0,N,L);let j=!1;const G=new ly;let H=!1,Y=!1,Z=null;const oe=new Xt,re=new et,se=new pe,ce={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ye(){return C===null?D:1}let fe=n;function De(he,Ae){for(let Ge=0;Ge<he.length;Ge++){const Ie=he[Ge],Je=e.getContext(Ie,Ae);if(Je!==null)return Je}return null}try{const he={alpha:!0,depth:r,stencil:i,antialias:o,premultipliedAlpha:a,preserveDrawingBuffer:s,powerPreference:l,failIfMajorPerformanceCaveat:u};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${DO}`),e.addEventListener("webglcontextlost",de,!1),e.addEventListener("webglcontextrestored",je,!1),fe===null){const Ae=["webgl2","webgl","experimental-webgl"];if(x.isWebGL1Renderer===!0&&Ae.shift(),fe=De(Ae,he),fe===null)throw De(Ae)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}fe.getShaderPrecisionFormat===void 0&&(fe.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(he){throw console.error("THREE.WebGLRenderer: "+he.message),he}let Oe,Fe,Ee,Ye,be,Ce,Me,ze,Re,We,Ue,Ve,Be,qe,te,k,$,U,ne,ge,me,Q,_e;function ke(){Oe=new mSe(fe),Fe=new uSe(fe,Oe,t),Oe.init(Fe),Q=new qCe(fe,Oe,Fe),Ee=new $Ce(fe,Oe,Fe),Ye=new ySe(fe),be=new LCe,Ce=new KCe(fe,Oe,Ee,be,Fe,Q,Ye),Me=new dSe(x),ze=new pSe(x),Re=new Nwe(fe,Fe),_e=new sSe(fe,Oe,Re,Fe),We=new vSe(fe,Re,Ye,_e),Ue=new _Se(fe,We,Re,Ye),ne=new wSe(fe,Fe,Ce),k=new cSe(be),Ve=new ICe(x,Me,ze,Oe,Fe,_e,k),Be=new ZCe(x,be),qe=new FCe,te=new WCe(Oe,Fe),U=new aSe(x,Me,Ee,Ue,c,a),$=new c7(x,Ue,Fe),ge=new lSe(fe,Oe,Ye,Fe),me=new gSe(fe,Oe,Ye,Fe),Ye.programs=Ve.programs,x.capabilities=Fe,x.extensions=Oe,x.properties=be,x.renderLists=qe,x.shadowMap=$,x.state=Ee,x.info=Ye}ke();const we=new YCe(x,fe);this.xr=we,this.getContext=function(){return fe},this.getContextAttributes=function(){return fe.getContextAttributes()},this.forceContextLoss=function(){const he=Oe.get("WEBGL_lose_context");he&&he.loseContext()},this.forceContextRestore=function(){const he=Oe.get("WEBGL_lose_context");he&&he.restoreContext()},this.getPixelRatio=function(){return D},this.setPixelRatio=function(he){he!==void 0&&(D=he,this.setSize(N,L,!1))},this.getSize=function(he){return he.set(N,L)},this.setSize=function(he,Ae,Ge){if(we.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}N=he,L=Ae,e.width=Math.floor(he*D),e.height=Math.floor(Ae*D),Ge!==!1&&(e.style.width=he+"px",e.style.height=Ae+"px"),this.setViewport(0,0,he,Ae)},this.getDrawingBufferSize=function(he){return he.set(N*D,L*D).floor()},this.setDrawingBufferSize=function(he,Ae,Ge){N=he,L=Ae,D=Ge,e.width=Math.floor(he*Ge),e.height=Math.floor(Ae*Ge),this.setViewport(0,0,he,Ae)},this.getCurrentViewport=function(he){return he.copy(R)},this.getViewport=function(he){return he.copy(B)},this.setViewport=function(he,Ae,Ge,Ie){he.isVector4?B.set(he.x,he.y,he.z,he.w):B.set(he,Ae,Ge,Ie),Ee.viewport(R.copy(B).multiplyScalar(D).floor())},this.getScissor=function(he){return he.copy(K)},this.setScissor=function(he,Ae,Ge,Ie){he.isVector4?K.set(he.x,he.y,he.z,he.w):K.set(he,Ae,Ge,Ie),Ee.scissor(I.copy(K).multiplyScalar(D).floor())},this.getScissorTest=function(){return j},this.setScissorTest=function(he){Ee.setScissorTest(j=he)},this.setOpaqueSort=function(he){W=he},this.setTransparentSort=function(he){V=he},this.getClearColor=function(he){return he.copy(U.getClearColor())},this.setClearColor=function(){U.setClearColor.apply(U,arguments)},this.getClearAlpha=function(){return U.getClearAlpha()},this.setClearAlpha=function(){U.setClearAlpha.apply(U,arguments)},this.clear=function(he=!0,Ae=!0,Ge=!0){let Ie=0;he&&(Ie|=16384),Ae&&(Ie|=256),Ge&&(Ie|=1024),fe.clear(Ie)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",de,!1),e.removeEventListener("webglcontextrestored",je,!1),qe.dispose(),te.dispose(),be.dispose(),Me.dispose(),ze.dispose(),Ue.dispose(),_e.dispose(),Ve.dispose(),we.dispose(),we.removeEventListener("sessionstart",Mt),we.removeEventListener("sessionend",Ct),Z&&(Z.dispose(),Z=null),Ft.stop()};function de(he){he.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),b=!0}function je(){console.log("THREE.WebGLRenderer: Context Restored."),b=!1;const he=Ye.autoReset,Ae=$.enabled,Ge=$.autoUpdate,Ie=$.needsUpdate,Je=$.type;ke(),Ye.autoReset=he,$.enabled=Ae,$.autoUpdate=Ge,$.needsUpdate=Ie,$.type=Je}function Ze(he){const Ae=he.target;Ae.removeEventListener("dispose",Ze),vt(Ae)}function vt(he){ot(he),be.remove(he)}function ot(he){const Ae=be.get(he).programs;Ae!==void 0&&(Ae.forEach(function(Ge){Ve.releaseProgram(Ge)}),he.isShaderMaterial&&Ve.releaseShaderCache(he))}this.renderBufferDirect=function(he,Ae,Ge,Ie,Je,Rt){Ae===null&&(Ae=ce);const Dt=Je.isMesh&&Je.matrixWorld.determinant()<0,Pt=bt(he,Ae,Ge,Ie,Je);Ee.setMaterial(Ie,Dt);let zt=Ge.index;const sn=Ge.attributes.position;if(zt===null){if(sn===void 0||sn.count===0)return}else if(zt.count===0)return;let Kt=1;Ie.wireframe===!0&&(zt=We.getWireframeAttribute(Ge),Kt=2),_e.setup(Je,Ie,Pt,Ge,zt);let cn,gt=ge;zt!==null&&(cn=Re.get(zt),gt=me,gt.setIndex(cn));const Tt=zt!==null?zt.count:sn.count,qt=Ge.drawRange.start*Kt,Dn=Ge.drawRange.count*Kt,rn=Rt!==null?Rt.start*Kt:0,Nt=Rt!==null?Rt.count*Kt:1/0,ur=Math.max(qt,rn),vn=Math.min(Tt,qt+Dn,rn+Nt)-1,dr=Math.max(0,vn-ur+1);if(dr!==0){if(Je.isMesh)Ie.wireframe===!0?(Ee.setLineWidth(Ie.wireframeLinewidth*ye()),gt.setMode(1)):gt.setMode(4);else if(Je.isLine){let Or=Ie.linewidth;Or===void 0&&(Or=1),Ee.setLineWidth(Or*ye()),Je.isLineSegments?gt.setMode(1):Je.isLineLoop?gt.setMode(2):gt.setMode(3)}else Je.isPoints?gt.setMode(0):Je.isSprite&&gt.setMode(4);if(Je.isInstancedMesh)gt.renderInstances(ur,dr,Je.count);else if(Ge.isInstancedBufferGeometry){const Or=Math.min(Ge.instanceCount,Ge._maxInstanceCount);gt.renderInstances(ur,dr,Or)}else gt.render(ur,dr)}},this.compile=function(he,Ae){f=te.get(he),f.init(),y.push(f),he.traverseVisible(function(Ge){Ge.isLight&&Ge.layers.test(Ae.layers)&&(f.pushLight(Ge),Ge.castShadow&&f.pushShadow(Ge))}),f.setupLights(x.physicallyCorrectLights),he.traverse(function(Ge){const Ie=Ge.material;if(Ie)if(Array.isArray(Ie))for(let Je=0;Je<Ie.length;Je++){const Rt=Ie[Je];rt(Rt,he,Ge)}else rt(Ie,he,Ge)}),y.pop(),f=null};let ht=null;function at(he){ht&&ht(he)}function Mt(){Ft.stop()}function Ct(){Ft.start()}const Ft=new r7;Ft.setAnimationLoop(at),typeof self!="undefined"&&Ft.setContext(self),this.setAnimationLoop=function(he){ht=he,we.setAnimationLoop(he),he===null?Ft.stop():Ft.start()},we.addEventListener("sessionstart",Mt),we.addEventListener("sessionend",Ct),this.render=function(he,Ae){if(Ae!==void 0&&Ae.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(b===!0)return;he.autoUpdate===!0&&he.updateMatrixWorld(),Ae.parent===null&&Ae.updateMatrixWorld(),we.enabled===!0&&we.isPresenting===!0&&(we.cameraAutoUpdate===!0&&we.updateCamera(Ae),Ae=we.getCamera()),he.isScene===!0&&he.onBeforeRender(x,he,Ae,C),f=te.get(he,y.length),f.init(),y.push(f),oe.multiplyMatrices(Ae.projectionMatrix,Ae.matrixWorldInverse),G.setFromProjectionMatrix(oe),Y=this.localClippingEnabled,H=k.init(this.clippingPlanes,Y,Ae),h=qe.get(he,m.length),h.init(),m.push(h),$t(he,Ae,0,x.sortObjects),h.finish(),x.sortObjects===!0&&h.sort(W,V),H===!0&&k.beginShadows();const Ge=f.state.shadowsArray;if($.render(Ge,he,Ae),H===!0&&k.endShadows(),this.info.autoReset===!0&&this.info.reset(),U.render(h,he),f.setupLights(x.physicallyCorrectLights),Ae.isArrayCamera){const Ie=Ae.cameras;for(let Je=0,Rt=Ie.length;Je<Rt;Je++){const Dt=Ie[Je];An(h,he,Dt,Dt.viewport)}}else An(h,he,Ae);C!==null&&(Ce.updateMultisampleRenderTarget(C),Ce.updateRenderTargetMipmap(C)),he.isScene===!0&&he.onAfterRender(x,he,Ae),_e.resetDefaultState(),M=-1,T=null,y.pop(),y.length>0?f=y[y.length-1]:f=null,m.pop(),m.length>0?h=m[m.length-1]:h=null};function $t(he,Ae,Ge,Ie){if(he.visible===!1)return;if(he.layers.test(Ae.layers)){if(he.isGroup)Ge=he.renderOrder;else if(he.isLOD)he.autoUpdate===!0&&he.update(Ae);else if(he.isLight)f.pushLight(he),he.castShadow&&f.pushShadow(he);else if(he.isSprite){if(!he.frustumCulled||G.intersectsSprite(he)){Ie&&se.setFromMatrixPosition(he.matrixWorld).applyMatrix4(oe);const Dt=Ue.update(he),Pt=he.material;Pt.visible&&h.push(he,Dt,Pt,Ge,se.z,null)}}else if((he.isMesh||he.isLine||he.isPoints)&&(he.isSkinnedMesh&&he.skeleton.frame!==Ye.render.frame&&(he.skeleton.update(),he.skeleton.frame=Ye.render.frame),!he.frustumCulled||G.intersectsObject(he))){Ie&&se.setFromMatrixPosition(he.matrixWorld).applyMatrix4(oe);const Dt=Ue.update(he),Pt=he.material;if(Array.isArray(Pt)){const zt=Dt.groups;for(let sn=0,Kt=zt.length;sn<Kt;sn++){const cn=zt[sn],gt=Pt[cn.materialIndex];gt&&gt.visible&&h.push(he,Dt,gt,Ge,se.z,cn)}}else Pt.visible&&h.push(he,Dt,Pt,Ge,se.z,null)}}const Rt=he.children;for(let Dt=0,Pt=Rt.length;Dt<Pt;Dt++)$t(Rt[Dt],Ae,Ge,Ie)}function An(he,Ae,Ge,Ie){const Je=he.opaque,Rt=he.transmissive,Dt=he.transparent;f.setupLightsView(Ge),Rt.length>0&&xt(Je,Ae,Ge),Ie&&Ee.viewport(R.copy(Ie)),Je.length>0&&Et(Je,Ae,Ge),Rt.length>0&&Et(Rt,Ae,Ge),Dt.length>0&&Et(Dt,Ae,Ge),Ee.buffers.depth.setTest(!0),Ee.buffers.depth.setMask(!0),Ee.buffers.color.setMask(!0),Ee.setPolygonOffset(!1)}function xt(he,Ae,Ge){const Ie=Fe.isWebGL2;Z===null&&(Z=new sr(1,1,{generateMipmaps:!0,type:Oe.has("EXT_color_buffer_half_float")?Vl:Gf,minFilter:sy,samples:Ie&&o===!0?4:0})),x.getDrawingBufferSize(re),Ie?Z.setSize(re.x,re.y):Z.setSize(W_(re.x),W_(re.y));const Je=x.getRenderTarget();x.setRenderTarget(Z),x.clear();const Rt=x.toneMapping;x.toneMapping=jl,Et(he,Ae,Ge),x.toneMapping=Rt,Ce.updateMultisampleRenderTarget(Z),Ce.updateRenderTargetMipmap(Z),x.setRenderTarget(Je)}function Et(he,Ae,Ge){const Ie=Ae.isScene===!0?Ae.overrideMaterial:null;for(let Je=0,Rt=he.length;Je<Rt;Je++){const Dt=he[Je],Pt=Dt.object,zt=Dt.geometry,sn=Ie===null?Dt.material:Ie,Kt=Dt.group;Pt.layers.test(Ge.layers)&&it(Pt,Ae,Ge,zt,sn,Kt)}}function it(he,Ae,Ge,Ie,Je,Rt){he.onBeforeRender(x,Ae,Ge,Ie,Je,Rt),he.modelViewMatrix.multiplyMatrices(Ge.matrixWorldInverse,he.matrixWorld),he.normalMatrix.getNormalMatrix(he.modelViewMatrix),Je.onBeforeRender(x,Ae,Ge,Ie,he,Rt),Je.transparent===!0&&Je.side===Sd?(Je.side=Ja,Je.needsUpdate=!0,x.renderBufferDirect(Ge,Ae,Ie,Je,he,Rt),Je.side=b0,Je.needsUpdate=!0,x.renderBufferDirect(Ge,Ae,Ie,Je,he,Rt),Je.side=Sd):x.renderBufferDirect(Ge,Ae,Ie,Je,he,Rt),he.onAfterRender(x,Ae,Ge,Ie,Je,Rt)}function rt(he,Ae,Ge){Ae.isScene!==!0&&(Ae=ce);const Ie=be.get(he),Je=f.state.lights,Rt=f.state.shadowsArray,Dt=Je.state.version,Pt=Ve.getParameters(he,Je.state,Rt,Ae,Ge),zt=Ve.getProgramCacheKey(Pt);let sn=Ie.programs;Ie.environment=he.isMeshStandardMaterial?Ae.environment:null,Ie.fog=Ae.fog,Ie.envMap=(he.isMeshStandardMaterial?ze:Me).get(he.envMap||Ie.environment),sn===void 0&&(he.addEventListener("dispose",Ze),sn=new Map,Ie.programs=sn);let Kt=sn.get(zt);if(Kt!==void 0){if(Ie.currentProgram===Kt&&Ie.lightsStateVersion===Dt)return ft(he,Pt),Kt}else Pt.uniforms=Ve.getUniforms(he),he.onBuild(Ge,Pt,x),he.onBeforeCompile(Pt,x),Kt=Ve.acquireProgram(Pt,zt),sn.set(zt,Kt),Ie.uniforms=Pt.uniforms;const cn=Ie.uniforms;(!he.isShaderMaterial&&!he.isRawShaderMaterial||he.clipping===!0)&&(cn.clippingPlanes=k.uniform),ft(he,Pt),Ie.needsLights=Sn(he),Ie.lightsStateVersion=Dt,Ie.needsLights&&(cn.ambientLightColor.value=Je.state.ambient,cn.lightProbe.value=Je.state.probe,cn.directionalLights.value=Je.state.directional,cn.directionalLightShadows.value=Je.state.directionalShadow,cn.spotLights.value=Je.state.spot,cn.spotLightShadows.value=Je.state.spotShadow,cn.rectAreaLights.value=Je.state.rectArea,cn.ltc_1.value=Je.state.rectAreaLTC1,cn.ltc_2.value=Je.state.rectAreaLTC2,cn.pointLights.value=Je.state.point,cn.pointLightShadows.value=Je.state.pointShadow,cn.hemisphereLights.value=Je.state.hemi,cn.directionalShadowMap.value=Je.state.directionalShadowMap,cn.directionalShadowMatrix.value=Je.state.directionalShadowMatrix,cn.spotShadowMap.value=Je.state.spotShadowMap,cn.spotShadowMatrix.value=Je.state.spotShadowMatrix,cn.pointShadowMap.value=Je.state.pointShadowMap,cn.pointShadowMatrix.value=Je.state.pointShadowMatrix);const gt=Kt.getUniforms(),Tt=md.seqWithValue(gt.seq,cn);return Ie.currentProgram=Kt,Ie.uniformsList=Tt,Kt}function ft(he,Ae){const Ge=be.get(he);Ge.outputEncoding=Ae.outputEncoding,Ge.instancing=Ae.instancing,Ge.skinning=Ae.skinning,Ge.morphTargets=Ae.morphTargets,Ge.morphNormals=Ae.morphNormals,Ge.morphColors=Ae.morphColors,Ge.morphTargetsCount=Ae.morphTargetsCount,Ge.numClippingPlanes=Ae.numClippingPlanes,Ge.numIntersection=Ae.numClipIntersection,Ge.vertexAlphas=Ae.vertexAlphas,Ge.vertexTangents=Ae.vertexTangents,Ge.toneMapping=Ae.toneMapping}function bt(he,Ae,Ge,Ie,Je){Ae.isScene!==!0&&(Ae=ce),Ce.resetTextureUnits();const Rt=Ae.fog,Dt=Ie.isMeshStandardMaterial?Ae.environment:null,Pt=C===null?x.outputEncoding:C.isXRRenderTarget===!0?C.texture.encoding:fl,zt=(Ie.isMeshStandardMaterial?ze:Me).get(Ie.envMap||Dt),sn=Ie.vertexColors===!0&&!!Ge.attributes.color&&Ge.attributes.color.itemSize===4,Kt=!!Ie.normalMap&&!!Ge.attributes.tangent,cn=!!Ge.morphAttributes.position,gt=!!Ge.morphAttributes.normal,Tt=!!Ge.morphAttributes.color,qt=Ie.toneMapped?x.toneMapping:jl,Dn=Ge.morphAttributes.position||Ge.morphAttributes.normal||Ge.morphAttributes.color,rn=Dn!==void 0?Dn.length:0,Nt=be.get(Ie),ur=f.state.lights;if(H===!0&&(Y===!0||he!==T)){const At=he===T&&Ie.id===M;k.setState(Ie,he,At)}let vn=!1;Ie.version===Nt.__version?(Nt.needsLights&&Nt.lightsStateVersion!==ur.state.version||Nt.outputEncoding!==Pt||Je.isInstancedMesh&&Nt.instancing===!1||!Je.isInstancedMesh&&Nt.instancing===!0||Je.isSkinnedMesh&&Nt.skinning===!1||!Je.isSkinnedMesh&&Nt.skinning===!0||Nt.envMap!==zt||Ie.fog===!0&&Nt.fog!==Rt||Nt.numClippingPlanes!==void 0&&(Nt.numClippingPlanes!==k.numPlanes||Nt.numIntersection!==k.numIntersection)||Nt.vertexAlphas!==sn||Nt.vertexTangents!==Kt||Nt.morphTargets!==cn||Nt.morphNormals!==gt||Nt.morphColors!==Tt||Nt.toneMapping!==qt||Fe.isWebGL2===!0&&Nt.morphTargetsCount!==rn)&&(vn=!0):(vn=!0,Nt.__version=Ie.version);let dr=Nt.currentProgram;vn===!0&&(dr=rt(Ie,Ae,Je));let Or=!1,Ci=!1,hi=!1;const tn=dr.getUniforms(),hn=Nt.uniforms;if(Ee.useProgram(dr.program)&&(Or=!0,Ci=!0,hi=!0),Ie.id!==M&&(M=Ie.id,Ci=!0),Or||T!==he){if(tn.setValue(fe,"projectionMatrix",he.projectionMatrix),Fe.logarithmicDepthBuffer&&tn.setValue(fe,"logDepthBufFC",2/(Math.log(he.far+1)/Math.LN2)),T!==he&&(T=he,Ci=!0,hi=!0),Ie.isShaderMaterial||Ie.isMeshPhongMaterial||Ie.isMeshToonMaterial||Ie.isMeshStandardMaterial||Ie.envMap){const At=tn.map.cameraPosition;At!==void 0&&At.setValue(fe,se.setFromMatrixPosition(he.matrixWorld))}(Ie.isMeshPhongMaterial||Ie.isMeshToonMaterial||Ie.isMeshLambertMaterial||Ie.isMeshBasicMaterial||Ie.isMeshStandardMaterial||Ie.isShaderMaterial)&&tn.setValue(fe,"isOrthographic",he.isOrthographicCamera===!0),(Ie.isMeshPhongMaterial||Ie.isMeshToonMaterial||Ie.isMeshLambertMaterial||Ie.isMeshBasicMaterial||Ie.isMeshStandardMaterial||Ie.isShaderMaterial||Ie.isShadowMaterial||Je.isSkinnedMesh)&&tn.setValue(fe,"viewMatrix",he.matrixWorldInverse)}if(Je.isSkinnedMesh){tn.setOptional(fe,Je,"bindMatrix"),tn.setOptional(fe,Je,"bindMatrixInverse");const At=Je.skeleton;At&&(Fe.floatVertexTextures?(At.boneTexture===null&&At.computeBoneTexture(),tn.setValue(fe,"boneTexture",At.boneTexture,Ce),tn.setValue(fe,"boneTextureSize",At.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Rn=Ge.morphAttributes;return(Rn.position!==void 0||Rn.normal!==void 0||Rn.color!==void 0&&Fe.isWebGL2===!0)&&ne.update(Je,Ge,Ie,dr),(Ci||Nt.receiveShadow!==Je.receiveShadow)&&(Nt.receiveShadow=Je.receiveShadow,tn.setValue(fe,"receiveShadow",Je.receiveShadow)),Ci&&(tn.setValue(fe,"toneMappingExposure",x.toneMappingExposure),Nt.needsLights&&Yt(hn,hi),Rt&&Ie.fog===!0&&Be.refreshFogUniforms(hn,Rt),Be.refreshMaterialUniforms(hn,Ie,D,L,Z),md.upload(fe,Nt.uniformsList,hn,Ce)),Ie.isShaderMaterial&&Ie.uniformsNeedUpdate===!0&&(md.upload(fe,Nt.uniformsList,hn,Ce),Ie.uniformsNeedUpdate=!1),Ie.isSpriteMaterial&&tn.setValue(fe,"center",Je.center),tn.setValue(fe,"modelViewMatrix",Je.modelViewMatrix),tn.setValue(fe,"normalMatrix",Je.normalMatrix),tn.setValue(fe,"modelMatrix",Je.matrixWorld),dr}function Yt(he,Ae){he.ambientLightColor.needsUpdate=Ae,he.lightProbe.needsUpdate=Ae,he.directionalLights.needsUpdate=Ae,he.directionalLightShadows.needsUpdate=Ae,he.pointLights.needsUpdate=Ae,he.pointLightShadows.needsUpdate=Ae,he.spotLights.needsUpdate=Ae,he.spotLightShadows.needsUpdate=Ae,he.rectAreaLights.needsUpdate=Ae,he.hemisphereLights.needsUpdate=Ae}function Sn(he){return he.isMeshLambertMaterial||he.isMeshToonMaterial||he.isMeshPhongMaterial||he.isMeshStandardMaterial||he.isShadowMaterial||he.isShaderMaterial&&he.lights===!0}this.getActiveCubeFace=function(){return w},this.getActiveMipmapLevel=function(){return S},this.getRenderTarget=function(){return C},this.setRenderTargetTextures=function(he,Ae,Ge){be.get(he.texture).__webglTexture=Ae,be.get(he.depthTexture).__webglTexture=Ge;const Ie=be.get(he);Ie.__hasExternalTextures=!0,Ie.__hasExternalTextures&&(Ie.__autoAllocateDepthBuffer=Ge===void 0,Ie.__autoAllocateDepthBuffer||Oe.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Ie.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(he,Ae){const Ge=be.get(he);Ge.__webglFramebuffer=Ae,Ge.__useDefaultFramebuffer=Ae===void 0},this.setRenderTarget=function(he,Ae=0,Ge=0){C=he,w=Ae,S=Ge;let Ie=!0;if(he){const zt=be.get(he);zt.__useDefaultFramebuffer!==void 0?(Ee.bindFramebuffer(36160,null),Ie=!1):zt.__webglFramebuffer===void 0?Ce.setupRenderTarget(he):zt.__hasExternalTextures&&Ce.rebindTextures(he,be.get(he.texture).__webglTexture,be.get(he.depthTexture).__webglTexture)}let Je=null,Rt=!1,Dt=!1;if(he){const zt=he.texture;(zt.isData3DTexture||zt.isDataArrayTexture)&&(Dt=!0);const sn=be.get(he).__webglFramebuffer;he.isWebGLCubeRenderTarget?(Je=sn[Ae],Rt=!0):Fe.isWebGL2&&he.samples>0&&Ce.useMultisampledRTT(he)===!1?Je=be.get(he).__webglMultisampledFramebuffer:Je=sn,R.copy(he.viewport),I.copy(he.scissor),A=he.scissorTest}else R.copy(B).multiplyScalar(D).floor(),I.copy(K).multiplyScalar(D).floor(),A=j;if(Ee.bindFramebuffer(36160,Je)&&Fe.drawBuffers&&Ie&&Ee.drawBuffers(he,Je),Ee.viewport(R),Ee.scissor(I),Ee.setScissorTest(A),Rt){const zt=be.get(he.texture);fe.framebufferTexture2D(36160,36064,34069+Ae,zt.__webglTexture,Ge)}else if(Dt){const zt=be.get(he.texture),sn=Ae||0;fe.framebufferTextureLayer(36160,36064,zt.__webglTexture,Ge||0,sn)}M=-1},this.readRenderTargetPixels=function(he,Ae,Ge,Ie,Je,Rt,Dt){if(!(he&&he.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Pt=be.get(he).__webglFramebuffer;if(he.isWebGLCubeRenderTarget&&Dt!==void 0&&(Pt=Pt[Dt]),Pt){Ee.bindFramebuffer(36160,Pt);try{const zt=he.texture,sn=zt.format,Kt=zt.type;if(sn!==Cs&&Q.convert(sn)!==fe.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const cn=Kt===Vl&&(Oe.has("EXT_color_buffer_half_float")||Fe.isWebGL2&&Oe.has("EXT_color_buffer_float"));if(Kt!==Gf&&Q.convert(Kt)!==fe.getParameter(35738)&&!(Kt===al&&(Fe.isWebGL2||Oe.has("OES_texture_float")||Oe.has("WEBGL_color_buffer_float")))&&!cn){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Ae>=0&&Ae<=he.width-Ie&&Ge>=0&&Ge<=he.height-Je&&fe.readPixels(Ae,Ge,Ie,Je,Q.convert(sn),Q.convert(Kt),Rt)}finally{const zt=C!==null?be.get(C).__webglFramebuffer:null;Ee.bindFramebuffer(36160,zt)}}},this.copyFramebufferToTexture=function(he,Ae,Ge=0){if(Ae.isFramebufferTexture!==!0){console.error("THREE.WebGLRenderer: copyFramebufferToTexture() can only be used with FramebufferTexture.");return}const Ie=Math.pow(2,-Ge),Je=Math.floor(Ae.image.width*Ie),Rt=Math.floor(Ae.image.height*Ie);Ce.setTexture2D(Ae,0),fe.copyTexSubImage2D(3553,Ge,0,0,he.x,he.y,Je,Rt),Ee.unbindTexture()},this.copyTextureToTexture=function(he,Ae,Ge,Ie=0){const Je=Ae.image.width,Rt=Ae.image.height,Dt=Q.convert(Ge.format),Pt=Q.convert(Ge.type);Ce.setTexture2D(Ge,0),fe.pixelStorei(37440,Ge.flipY),fe.pixelStorei(37441,Ge.premultiplyAlpha),fe.pixelStorei(3317,Ge.unpackAlignment),Ae.isDataTexture?fe.texSubImage2D(3553,Ie,he.x,he.y,Je,Rt,Dt,Pt,Ae.image.data):Ae.isCompressedTexture?fe.compressedTexSubImage2D(3553,Ie,he.x,he.y,Ae.mipmaps[0].width,Ae.mipmaps[0].height,Dt,Ae.mipmaps[0].data):fe.texSubImage2D(3553,Ie,he.x,he.y,Dt,Pt,Ae.image),Ie===0&&Ge.generateMipmaps&&fe.generateMipmap(3553),Ee.unbindTexture()},this.copyTextureToTexture3D=function(he,Ae,Ge,Ie,Je=0){if(x.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Rt=he.max.x-he.min.x+1,Dt=he.max.y-he.min.y+1,Pt=he.max.z-he.min.z+1,zt=Q.convert(Ie.format),sn=Q.convert(Ie.type);let Kt;if(Ie.isData3DTexture)Ce.setTexture3D(Ie,0),Kt=32879;else if(Ie.isDataArrayTexture)Ce.setTexture2DArray(Ie,0),Kt=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}fe.pixelStorei(37440,Ie.flipY),fe.pixelStorei(37441,Ie.premultiplyAlpha),fe.pixelStorei(3317,Ie.unpackAlignment);const cn=fe.getParameter(3314),gt=fe.getParameter(32878),Tt=fe.getParameter(3316),qt=fe.getParameter(3315),Dn=fe.getParameter(32877),rn=Ge.isCompressedTexture?Ge.mipmaps[0]:Ge.image;fe.pixelStorei(3314,rn.width),fe.pixelStorei(32878,rn.height),fe.pixelStorei(3316,he.min.x),fe.pixelStorei(3315,he.min.y),fe.pixelStorei(32877,he.min.z),Ge.isDataTexture||Ge.isData3DTexture?fe.texSubImage3D(Kt,Je,Ae.x,Ae.y,Ae.z,Rt,Dt,Pt,zt,sn,rn.data):Ge.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),fe.compressedTexSubImage3D(Kt,Je,Ae.x,Ae.y,Ae.z,Rt,Dt,Pt,zt,rn.data)):fe.texSubImage3D(Kt,Je,Ae.x,Ae.y,Ae.z,Rt,Dt,Pt,zt,sn,rn),fe.pixelStorei(3314,cn),fe.pixelStorei(32878,gt),fe.pixelStorei(3316,Tt),fe.pixelStorei(3315,qt),fe.pixelStorei(32877,Dn),Je===0&&Ie.generateMipmaps&&fe.generateMipmap(Kt),Ee.unbindTexture()},this.initTexture=function(he){Ce.setTexture2D(he,0),Ee.unbindTexture()},this.resetState=function(){w=0,S=0,C=null,Ee.reset(),_e.reset()},typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}Dr.prototype.isWebGLRenderer=!0;class QCe extends Dr{}QCe.prototype.isWebGL1Renderer=!0;class ES{constructor(e,n=1,r=1e3){this.name="",this.color=new _t(e),this.near=n,this.far=r}clone(){return new ES(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}ES.prototype.isFog=!0;class GO extends gr{constructor(){super(),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),n}}GO.prototype.isScene=!0;class cy{constructor(e,n){this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=S0,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Ts()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,o=this.stride;i<o;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ts()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ts()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}cy.prototype.isInterleavedBuffer=!0;const ra=new pe;class M0{constructor(e,n,r,i=!1){this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)ra.fromBufferAttribute(this,n),ra.applyMatrix4(e),this.setXYZ(n,ra.x,ra.y,ra.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)ra.fromBufferAttribute(this,n),ra.applyNormalMatrix(e),this.setXYZ(n,ra.x,ra.y,ra.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)ra.fromBufferAttribute(this,n),ra.transformDirection(e),this.setXYZ(n,ra.x,ra.y,ra.z);return this}setX(e,n){return this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){return this.data.array[e*this.data.stride+this.offset]}getY(e){return this.data.array[e*this.data.stride+this.offset+1]}getZ(e){return this.data.array[e*this.data.stride+this.offset+2]}getW(e){return this.data.array[e*this.data.stride+this.offset+3]}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e=e*this.data.stride+this.offset,this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=o,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)n.push(this.data.array[i+o])}return new Oi(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new M0(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)n.push(this.data.array[i+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}M0.prototype.isInterleavedBufferAttribute=!0;class dy extends fo{constructor(e){super(),this.type="SpriteMaterial",this.color=new _t(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}dy.prototype.isSpriteMaterial=!0;let fp;const Yv=new pe,hp=new pe,pp=new pe,mp=new et,Zv=new et,f7=new Xt,Nb=new pe,Jv=new pe,kb=new pe,K6=new et,I2=new et,q6=new et;class $O extends gr{constructor(e){if(super(),this.type="Sprite",fp===void 0){fp=new $n;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new cy(n,5);fp.setIndex([0,1,2,0,2,3]),fp.setAttribute("position",new M0(r,3,0,!1)),fp.setAttribute("uv",new M0(r,2,3,!1))}this.geometry=fp,this.material=e!==void 0?e:new dy,this.center=new et(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),hp.setFromMatrixScale(this.matrixWorld),f7.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),pp.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&hp.multiplyScalar(-pp.z);const r=this.material.rotation;let i,o;r!==0&&(o=Math.cos(r),i=Math.sin(r));const a=this.center;Ib(Nb.set(-.5,-.5,0),pp,a,hp,i,o),Ib(Jv.set(.5,-.5,0),pp,a,hp,i,o),Ib(kb.set(.5,.5,0),pp,a,hp,i,o),K6.set(0,0),I2.set(1,0),q6.set(1,1);let s=e.ray.intersectTriangle(Nb,Jv,kb,!1,Yv);if(s===null&&(Ib(Jv.set(-.5,.5,0),pp,a,hp,i,o),I2.set(0,1),s=e.ray.intersectTriangle(Nb,kb,Jv,!1,Yv),s===null))return;const l=e.ray.origin.distanceTo(Yv);l<e.near||l>e.far||n.push({distance:l,point:Yv.clone(),uv:Ki.getUV(Yv,Nb,Jv,kb,K6,I2,q6,new et),face:null,object:this})}copy(e){return super.copy(e),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}$O.prototype.isSprite=!0;function Ib(t,e,n,r,i,o){mp.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(Zv.x=o*mp.x-i*mp.y,Zv.y=i*mp.x+o*mp.y):Zv.copy(mp),t.copy(e),t.x+=Zv.x,t.y+=Zv.y,t.applyMatrix4(f7)}const X6=new pe,Y6=new zr,Z6=new zr,eEe=new pe,J6=new Xt;class h7 extends ci{constructor(e,n){super(e,n),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Xt,this.bindMatrixInverse=new Xt}copy(e){return super.copy(e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new zr,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,n){const r=this.skeleton,i=this.geometry;Y6.fromBufferAttribute(i.attributes.skinIndex,e),Z6.fromBufferAttribute(i.attributes.skinWeight,e),X6.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let o=0;o<4;o++){const a=Z6.getComponent(o);if(a!==0){const s=Y6.getComponent(o);J6.multiplyMatrices(r.bones[s].matrixWorld,r.boneInverses[s]),n.addScaledVector(eEe.copy(X6).applyMatrix4(J6),a)}}return n.applyMatrix4(this.bindMatrixInverse)}}h7.prototype.isSkinnedMesh=!0;class p7 extends gr{constructor(){super(),this.type="Bone"}}p7.prototype.isBone=!0;class KO extends Yi{constructor(e=null,n=1,r=1,i,o,a,s,l,u=nr,c=nr,h,f){super(null,a,s,l,u,c,i,o,h,f),this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}KO.prototype.isDataTexture=!0;const Q6=new Xt,tEe=new Xt;class m7{constructor(e=[],n=[]){this.uuid=Ts(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Xt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new Xt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let o=0,a=e.length;o<a;o++){const s=e[o]?e[o].matrixWorld:tEe;Q6.multiplyMatrices(s,n[o]),Q6.toArray(r,o*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new m7(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=ZW(e),e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new KO(n,e,e,Cs,al);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const o=e.bones[r];let a=n[o];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",o),a=new p7),this.bones.push(a),this.boneInverses.push(new Xt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,o=n.length;i<o;i++){const a=n[i];e.bones.push(a.uuid);const s=r[i];e.boneInverses.push(s.toArray())}return e}}class CA extends Oi{constructor(e,n,r,i=1){typeof r=="number"&&(i=r,r=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),super(e,n,r),this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}CA.prototype.isInstancedBufferAttribute=!0;const e5=new Xt,t5=new Xt,Lb=[],Qv=new ci;class nEe extends ci{constructor(e,n,r){super(e,n),this.instanceMatrix=new CA(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.frustumCulled=!1}copy(e){return super.copy(e),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const r=this.matrixWorld,i=this.count;if(Qv.geometry=this.geometry,Qv.material=this.material,Qv.material!==void 0)for(let o=0;o<i;o++){this.getMatrixAt(o,e5),t5.multiplyMatrices(r,e5),Qv.matrixWorld=t5,Qv.raycast(e,Lb);for(let a=0,s=Lb.length;a<s;a++){const l=Lb[a];l.instanceId=o,l.object=this,n.push(l)}Lb.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new CA(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}nEe.prototype.isInstancedMesh=!0;class ml extends fo{constructor(e){super(),this.type="LineBasicMaterial",this.color=new _t(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}ml.prototype.isLineBasicMaterial=!0;const n5=new pe,r5=new pe,i5=new Xt,L2=new sc,Db=new Gm;class wm extends gr{constructor(e=new $n,n=new ml){super(),this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,o=n.count;i<o;i++)n5.fromBufferAttribute(n,i-1),r5.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=n5.distanceTo(r5);e.setAttribute("lineDistance",new Pn(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,o=e.params.Line.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Db.copy(r.boundingSphere),Db.applyMatrix4(i),Db.radius+=o,e.ray.intersectsSphere(Db)===!1)return;i5.copy(i).invert(),L2.copy(e.ray).applyMatrix4(i5);const s=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,u=new pe,c=new pe,h=new pe,f=new pe,m=this.isLineSegments?2:1;if(r.isBufferGeometry){const y=r.index,b=r.attributes.position;if(y!==null){const w=Math.max(0,a.start),S=Math.min(y.count,a.start+a.count);for(let C=w,M=S-1;C<M;C+=m){const T=y.getX(C),R=y.getX(C+1);if(u.fromBufferAttribute(b,T),c.fromBufferAttribute(b,R),L2.distanceSqToSegment(u,c,f,h)>l)continue;f.applyMatrix4(this.matrixWorld);const A=e.ray.origin.distanceTo(f);A<e.near||A>e.far||n.push({distance:A,point:h.clone().applyMatrix4(this.matrixWorld),index:C,face:null,faceIndex:null,object:this})}}else{const w=Math.max(0,a.start),S=Math.min(b.count,a.start+a.count);for(let C=w,M=S-1;C<M;C+=m){if(u.fromBufferAttribute(b,C),c.fromBufferAttribute(b,C+1),L2.distanceSqToSegment(u,c,f,h)>l)continue;f.applyMatrix4(this.matrixWorld);const R=e.ray.origin.distanceTo(f);R<e.near||R>e.far||n.push({distance:R,point:h.clone().applyMatrix4(this.matrixWorld),index:C,face:null,faceIndex:null,object:this})}}}else r.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const n=e.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=i.length;o<a;o++){const s=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}else{const n=e.morphTargets;n!==void 0&&n.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}wm.prototype.isLine=!0;const o5=new pe,a5=new pe;class Kf extends wm{constructor(e,n){super(e,n),this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,o=n.count;i<o;i+=2)o5.fromBufferAttribute(n,i),a5.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+o5.distanceTo(a5);e.setAttribute("lineDistance",new Pn(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}Kf.prototype.isLineSegments=!0;class rEe extends wm{constructor(e,n){super(e,n),this.type="LineLoop"}}rEe.prototype.isLineLoop=!0;class qO extends fo{constructor(e){super(),this.type="PointsMaterial",this.color=new _t(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}qO.prototype.isPointsMaterial=!0;const s5=new Xt,EA=new sc,Fb=new Gm,zb=new pe;class iEe extends gr{constructor(e=new $n,n=new qO){super(),this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,o=e.params.Points.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Fb.copy(r.boundingSphere),Fb.applyMatrix4(i),Fb.radius+=o,e.ray.intersectsSphere(Fb)===!1)return;s5.copy(i).invert(),EA.copy(e.ray).applyMatrix4(s5);const s=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s;if(r.isBufferGeometry){const u=r.index,h=r.attributes.position;if(u!==null){const f=Math.max(0,a.start),m=Math.min(u.count,a.start+a.count);for(let y=f,x=m;y<x;y++){const b=u.getX(y);zb.fromBufferAttribute(h,b),l5(zb,b,l,i,e,n,this)}}else{const f=Math.max(0,a.start),m=Math.min(h.count,a.start+a.count);for(let y=f,x=m;y<x;y++)zb.fromBufferAttribute(h,y),l5(zb,y,l,i,e,n,this)}}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const n=e.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=i.length;o<a;o++){const s=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}else{const n=e.morphTargets;n!==void 0&&n.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}iEe.prototype.isPoints=!0;function l5(t,e,n,r,i,o,a){const s=EA.distanceSqToPoint(t);if(s<n){const l=new pe;EA.closestPointToPoint(t,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;o.push({distance:u,distanceToRay:Math.sqrt(s),point:l,index:e,face:null,object:a})}}class v7 extends Yi{constructor(e,n,r,i,o,a,s,l,u){super(e,n,r,i,o,a,s,l,u),this.minFilter=a!==void 0?a:Ai,this.magFilter=o!==void 0?o:Ai,this.generateMipmaps=!1;const c=this;function h(){c.needsUpdate=!0,e.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(h)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}v7.prototype.isVideoTexture=!0;class oEe extends Yi{constructor(e,n,r){super({width:e,height:n}),this.format=r,this.magFilter=nr,this.minFilter=nr,this.generateMipmaps=!1,this.needsUpdate=!0}}oEe.prototype.isFramebufferTexture=!0;class aEe extends Yi{constructor(e,n,r,i,o,a,s,l,u,c,h,f){super(null,a,s,l,u,c,i,o,h,f),this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}aEe.prototype.isCompressedTexture=!0;class sEe extends Yi{constructor(e,n,r,i,o,a,s,l,u){super(e,n,r,i,o,a,s,l,u),this.needsUpdate=!0}}sEe.prototype.isCanvasTexture=!0;class Os{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),o=0;n.push(0);for(let a=1;a<=e;a++)r=this.getPoint(a/e),o+=r.distanceTo(i),n.push(o),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const o=r.length;let a;n?a=n:a=e*r[o-1];let s=0,l=o-1,u;for(;s<=l;)if(i=Math.floor(s+(l-s)/2),u=r[i]-a,u<0)s=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===a)return i/(o-1);const c=r[i],f=r[i+1]-c,m=(a-c)/f;return(i+m)/(o-1)}getTangent(e,n){let i=e-1e-4,o=e+1e-4;i<0&&(i=0),o>1&&(o=1);const a=this.getPoint(i),s=this.getPoint(o),l=n||(a.isVector2?new et:new pe);return l.copy(s).sub(a).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new pe,i=[],o=[],a=[],s=new pe,l=new Xt;for(let m=0;m<=e;m++){const y=m/e;i[m]=this.getTangentAt(y,new pe)}o[0]=new pe,a[0]=new pe;let u=Number.MAX_VALUE;const c=Math.abs(i[0].x),h=Math.abs(i[0].y),f=Math.abs(i[0].z);c<=u&&(u=c,r.set(1,0,0)),h<=u&&(u=h,r.set(0,1,0)),f<=u&&r.set(0,0,1),s.crossVectors(i[0],r).normalize(),o[0].crossVectors(i[0],s),a[0].crossVectors(i[0],o[0]);for(let m=1;m<=e;m++){if(o[m]=o[m-1].clone(),a[m]=a[m-1].clone(),s.crossVectors(i[m-1],i[m]),s.length()>Number.EPSILON){s.normalize();const y=Math.acos(Gi(i[m-1].dot(i[m]),-1,1));o[m].applyMatrix4(l.makeRotationAxis(s,y))}a[m].crossVectors(i[m],o[m])}if(n===!0){let m=Math.acos(Gi(o[0].dot(o[e]),-1,1));m/=e,i[0].dot(s.crossVectors(o[0],o[e]))>0&&(m=-m);for(let y=1;y<=e;y++)o[y].applyMatrix4(l.makeRotationAxis(i[y],m*y)),a[y].crossVectors(i[y],o[y])}return{tangents:i,normals:o,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class MS extends Os{constructor(e=0,n=0,r=1,i=1,o=0,a=Math.PI*2,s=!1,l=0){super(),this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=o,this.aEndAngle=a,this.aClockwise=s,this.aRotation=l}getPoint(e,n){const r=n||new et,i=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const a=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=i;for(;o>i;)o-=i;o<Number.EPSILON&&(a?o=0:o=i),this.aClockwise===!0&&!a&&(o===i?o=-i:o=o-i);const s=this.aStartAngle+e*o;let l=this.aX+this.xRadius*Math.cos(s),u=this.aY+this.yRadius*Math.sin(s);if(this.aRotation!==0){const c=Math.cos(this.aRotation),h=Math.sin(this.aRotation),f=l-this.aX,m=u-this.aY;l=f*c-m*h+this.aX,u=f*h+m*c+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}MS.prototype.isEllipseCurve=!0;class g7 extends MS{constructor(e,n,r,i,o,a){super(e,n,r,r,i,o,a),this.type="ArcCurve"}}g7.prototype.isArcCurve=!0;function XO(){let t=0,e=0,n=0,r=0;function i(o,a,s,l){t=o,e=s,n=-3*o+3*a-2*s-l,r=2*o-2*a+s+l}return{initCatmullRom:function(o,a,s,l,u){i(a,s,u*(s-o),u*(l-a))},initNonuniformCatmullRom:function(o,a,s,l,u,c,h){let f=(a-o)/u-(s-o)/(u+c)+(s-a)/c,m=(s-a)/c-(l-a)/(c+h)+(l-s)/h;f*=c,m*=c,i(a,s,f,m)},calc:function(o){const a=o*o,s=a*o;return t+e*o+n*a+r*s}}}const Bb=new pe,D2=new XO,F2=new XO,z2=new XO;class y7 extends Os{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new pe){const r=n,i=this.points,o=i.length,a=(o-(this.closed?0:1))*e;let s=Math.floor(a),l=a-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/o)+1)*o:l===0&&s===o-1&&(s=o-2,l=1);let u,c;this.closed||s>0?u=i[(s-1)%o]:(Bb.subVectors(i[0],i[1]).add(i[0]),u=Bb);const h=i[s%o],f=i[(s+1)%o];if(this.closed||s+2<o?c=i[(s+2)%o]:(Bb.subVectors(i[o-1],i[o-2]).add(i[o-1]),c=Bb),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let y=Math.pow(u.distanceToSquared(h),m),x=Math.pow(h.distanceToSquared(f),m),b=Math.pow(f.distanceToSquared(c),m);x<1e-4&&(x=1),y<1e-4&&(y=x),b<1e-4&&(b=x),D2.initNonuniformCatmullRom(u.x,h.x,f.x,c.x,y,x,b),F2.initNonuniformCatmullRom(u.y,h.y,f.y,c.y,y,x,b),z2.initNonuniformCatmullRom(u.z,h.z,f.z,c.z,y,x,b)}else this.curveType==="catmullrom"&&(D2.initCatmullRom(u.x,h.x,f.x,c.x,this.tension),F2.initCatmullRom(u.y,h.y,f.y,c.y,this.tension),z2.initCatmullRom(u.z,h.z,f.z,c.z,this.tension));return r.set(D2.calc(l),F2.calc(l),z2.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new pe().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}y7.prototype.isCatmullRomCurve3=!0;function u5(t,e,n,r,i){const o=(r-e)*.5,a=(i-n)*.5,s=t*t,l=t*s;return(2*n-2*r+o+a)*l+(-3*n+3*r-2*o-a)*s+o*t+n}function lEe(t,e){const n=1-t;return n*n*e}function uEe(t,e){return 2*(1-t)*t*e}function cEe(t,e){return t*t*e}function zg(t,e,n,r){return lEe(t,e)+uEe(t,n)+cEe(t,r)}function dEe(t,e){const n=1-t;return n*n*n*e}function fEe(t,e){const n=1-t;return 3*n*n*t*e}function hEe(t,e){return 3*(1-t)*t*t*e}function pEe(t,e){return t*t*t*e}function Bg(t,e,n,r,i){return dEe(t,e)+fEe(t,n)+hEe(t,r)+pEe(t,i)}class YO extends Os{constructor(e=new et,n=new et,r=new et,i=new et){super(),this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new et){const r=n,i=this.v0,o=this.v1,a=this.v2,s=this.v3;return r.set(Bg(e,i.x,o.x,a.x,s.x),Bg(e,i.y,o.y,a.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}YO.prototype.isCubicBezierCurve=!0;class x7 extends Os{constructor(e=new pe,n=new pe,r=new pe,i=new pe){super(),this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new pe){const r=n,i=this.v0,o=this.v1,a=this.v2,s=this.v3;return r.set(Bg(e,i.x,o.x,a.x,s.x),Bg(e,i.y,o.y,a.y,s.y),Bg(e,i.z,o.z,a.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}x7.prototype.isCubicBezierCurve3=!0;class TS extends Os{constructor(e=new et,n=new et){super(),this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new et){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n){const r=n||new et;return r.copy(this.v2).sub(this.v1).normalize(),r}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}TS.prototype.isLineCurve=!0;class mEe extends Os{constructor(e=new pe,n=new pe){super(),this.type="LineCurve3",this.isLineCurve3=!0,this.v1=e,this.v2=n}getPoint(e,n=new pe){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class ZO extends Os{constructor(e=new et,n=new et,r=new et){super(),this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new et){const r=n,i=this.v0,o=this.v1,a=this.v2;return r.set(zg(e,i.x,o.x,a.x),zg(e,i.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}ZO.prototype.isQuadraticBezierCurve=!0;class b7 extends Os{constructor(e=new pe,n=new pe,r=new pe){super(),this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new pe){const r=n,i=this.v0,o=this.v1,a=this.v2;return r.set(zg(e,i.x,o.x,a.x),zg(e,i.y,o.y,a.y),zg(e,i.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}b7.prototype.isQuadraticBezierCurve3=!0;class JO extends Os{constructor(e=[]){super(),this.type="SplineCurve",this.points=e}getPoint(e,n=new et){const r=n,i=this.points,o=(i.length-1)*e,a=Math.floor(o),s=o-a,l=i[a===0?a:a-1],u=i[a],c=i[a>i.length-2?i.length-1:a+1],h=i[a>i.length-3?i.length-1:a+2];return r.set(u5(s,l.x,u.x,c.x,h.x),u5(s,l.y,u.y,c.y,h.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new et().fromArray(i))}return this}}JO.prototype.isSplineCurve=!0;var w7=Object.freeze({__proto__:null,ArcCurve:g7,CatmullRomCurve3:y7,CubicBezierCurve:YO,CubicBezierCurve3:x7,EllipseCurve:MS,LineCurve:TS,LineCurve3:mEe,QuadraticBezierCurve:ZO,QuadraticBezierCurve3:b7,SplineCurve:JO});class vEe extends Os{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);e.equals(n)||this.curves.push(new TS(n,e))}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let o=0;for(;o<i.length;){if(i[o]>=r){const a=i[o]-r,s=this.curves[o],l=s.getLength(),u=l===0?0:1-a/l;return s.getPointAt(u,n)}o++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,o=this.curves;i<o.length;i++){const a=o[i],s=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,l=a.getPoints(s);for(let u=0;u<l.length;u++){const c=l[u];r&&r.equals(c)||(n.push(c),r=c)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new w7[i.type]().fromJSON(i))}return this}}class j_ extends vEe{constructor(e){super(),this.type="Path",this.currentPoint=new et,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new TS(this.currentPoint.clone(),new et(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const o=new ZO(this.currentPoint.clone(),new et(e,n),new et(r,i));return this.curves.push(o),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,o,a){const s=new YO(this.currentPoint.clone(),new et(e,n),new et(r,i),new et(o,a));return this.curves.push(s),this.currentPoint.set(o,a),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new JO(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,o,a){const s=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+s,n+l,r,i,o,a),this}absarc(e,n,r,i,o,a){return this.absellipse(e,n,r,r,i,o,a),this}ellipse(e,n,r,i,o,a,s,l){const u=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+u,n+c,r,i,o,a,s,l),this}absellipse(e,n,r,i,o,a,s,l){const u=new MS(e,n,r,i,o,a,s,l);if(this.curves.length>0){const h=u.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(u);const c=u.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class QO extends $n{constructor(e=1,n=8,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const o=[],a=[],s=[],l=[],u=new pe,c=new et;a.push(0,0,0),s.push(0,0,1),l.push(.5,.5);for(let h=0,f=3;h<=n;h++,f+=3){const m=r+h/n*i;u.x=e*Math.cos(m),u.y=e*Math.sin(m),a.push(u.x,u.y,u.z),s.push(0,0,1),c.x=(a[f]/e+1)/2,c.y=(a[f+1]/e+1)/2,l.push(c.x,c.y)}for(let h=1;h<=n;h++)o.push(h,h+1,0);this.setIndex(o),this.setAttribute("position",new Pn(a,3)),this.setAttribute("normal",new Pn(s,3)),this.setAttribute("uv",new Pn(l,2))}static fromJSON(e){return new QO(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class PS extends $n{constructor(e=1,n=1,r=1,i=8,o=1,a=!1,s=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:o,openEnded:a,thetaStart:s,thetaLength:l};const u=this;i=Math.floor(i),o=Math.floor(o);const c=[],h=[],f=[],m=[];let y=0;const x=[],b=r/2;let w=0;S(),a===!1&&(e>0&&C(!0),n>0&&C(!1)),this.setIndex(c),this.setAttribute("position",new Pn(h,3)),this.setAttribute("normal",new Pn(f,3)),this.setAttribute("uv",new Pn(m,2));function S(){const M=new pe,T=new pe;let R=0;const I=(n-e)/r;for(let A=0;A<=o;A++){const N=[],L=A/o,D=L*(n-e)+e;for(let W=0;W<=i;W++){const V=W/i,B=V*l+s,K=Math.sin(B),j=Math.cos(B);T.x=D*K,T.y=-L*r+b,T.z=D*j,h.push(T.x,T.y,T.z),M.set(K,I,j).normalize(),f.push(M.x,M.y,M.z),m.push(V,1-L),N.push(y++)}x.push(N)}for(let A=0;A<i;A++)for(let N=0;N<o;N++){const L=x[N][A],D=x[N+1][A],W=x[N+1][A+1],V=x[N][A+1];c.push(L,D,V),c.push(D,W,V),R+=6}u.addGroup(w,R,0),w+=R}function C(M){const T=y,R=new et,I=new pe;let A=0;const N=M===!0?e:n,L=M===!0?1:-1;for(let W=1;W<=i;W++)h.push(0,b*L,0),f.push(0,L,0),m.push(.5,.5),y++;const D=y;for(let W=0;W<=i;W++){const B=W/i*l+s,K=Math.cos(B),j=Math.sin(B);I.x=N*j,I.y=b*L,I.z=N*K,h.push(I.x,I.y,I.z),f.push(0,L,0),R.x=K*.5+.5,R.y=j*.5*L+.5,m.push(R.x,R.y),y++}for(let W=0;W<i;W++){const V=T+W,B=D+W;M===!0?c.push(B,B+1,V):c.push(B+1,B,V),A+=3}u.addGroup(w,A,M===!0?1:2),w+=A}}static fromJSON(e){return new PS(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class eN extends PS{constructor(e=1,n=1,r=8,i=1,o=!1,a=0,s=Math.PI*2){super(0,e,n,r,i,o,a,s),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s}}static fromJSON(e){return new eN(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class AS extends $n{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const o=[],a=[];s(i),u(r),c(),this.setAttribute("position",new Pn(o,3)),this.setAttribute("normal",new Pn(o.slice(),3)),this.setAttribute("uv",new Pn(a,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function s(S){const C=new pe,M=new pe,T=new pe;for(let R=0;R<n.length;R+=3)m(n[R+0],C),m(n[R+1],M),m(n[R+2],T),l(C,M,T,S)}function l(S,C,M,T){const R=T+1,I=[];for(let A=0;A<=R;A++){I[A]=[];const N=S.clone().lerp(M,A/R),L=C.clone().lerp(M,A/R),D=R-A;for(let W=0;W<=D;W++)W===0&&A===R?I[A][W]=N:I[A][W]=N.clone().lerp(L,W/D)}for(let A=0;A<R;A++)for(let N=0;N<2*(R-A)-1;N++){const L=Math.floor(N/2);N%2===0?(f(I[A][L+1]),f(I[A+1][L]),f(I[A][L])):(f(I[A][L+1]),f(I[A+1][L+1]),f(I[A+1][L]))}}function u(S){const C=new pe;for(let M=0;M<o.length;M+=3)C.x=o[M+0],C.y=o[M+1],C.z=o[M+2],C.normalize().multiplyScalar(S),o[M+0]=C.x,o[M+1]=C.y,o[M+2]=C.z}function c(){const S=new pe;for(let C=0;C<o.length;C+=3){S.x=o[C+0],S.y=o[C+1],S.z=o[C+2];const M=b(S)/2/Math.PI+.5,T=w(S)/Math.PI+.5;a.push(M,1-T)}y(),h()}function h(){for(let S=0;S<a.length;S+=6){const C=a[S+0],M=a[S+2],T=a[S+4],R=Math.max(C,M,T),I=Math.min(C,M,T);R>.9&&I<.1&&(C<.2&&(a[S+0]+=1),M<.2&&(a[S+2]+=1),T<.2&&(a[S+4]+=1))}}function f(S){o.push(S.x,S.y,S.z)}function m(S,C){const M=S*3;C.x=e[M+0],C.y=e[M+1],C.z=e[M+2]}function y(){const S=new pe,C=new pe,M=new pe,T=new pe,R=new et,I=new et,A=new et;for(let N=0,L=0;N<o.length;N+=9,L+=6){S.set(o[N+0],o[N+1],o[N+2]),C.set(o[N+3],o[N+4],o[N+5]),M.set(o[N+6],o[N+7],o[N+8]),R.set(a[L+0],a[L+1]),I.set(a[L+2],a[L+3]),A.set(a[L+4],a[L+5]),T.copy(S).add(C).add(M).divideScalar(3);const D=b(T);x(R,L+0,S,D),x(I,L+2,C,D),x(A,L+4,M,D)}}function x(S,C,M,T){T<0&&S.x===1&&(a[C]=S.x-1),M.x===0&&M.z===0&&(a[C]=T/2/Math.PI+.5)}function b(S){return Math.atan2(S.z,-S.x)}function w(S){return Math.atan2(-S.y,Math.sqrt(S.x*S.x+S.z*S.z))}}static fromJSON(e){return new AS(e.vertices,e.indices,e.radius,e.details)}}new pe;new pe;new pe;new Ki;class vd extends j_{constructor(e){super(e),this.uuid=Ts(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new j_().fromJSON(i))}return this}}const gEe={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let o=_7(t,0,i,n,!0);const a=[];if(!o||o.next===o.prev)return a;let s,l,u,c,h,f,m;if(r&&(o=_Ee(t,e,o,n)),t.length>80*n){s=u=t[0],l=c=t[1];for(let y=n;y<i;y+=n)h=t[y],f=t[y+1],h<s&&(s=h),f<l&&(l=f),h>u&&(u=h),f>c&&(c=f);m=Math.max(u-s,c-l),m=m!==0?1/m:0}return T0(o,a,n,s,l,m),a}};function _7(t,e,n,r,i){let o,a;if(i===kEe(t,e,n,r)>0)for(o=e;o<n;o+=r)a=c5(o,t[o],t[o+1],a);else for(o=n-r;o>=e;o-=r)a=c5(o,t[o],t[o+1],a);return a&&RS(a,a.next)&&(A0(a),a=a.next),a}function Cd(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(RS(n,n.next)||wi(n.prev,n,n.next)===0)){if(A0(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function T0(t,e,n,r,i,o,a){if(!t)return;!a&&o&&TEe(t,r,i,o);let s=t,l,u;for(;t.prev!==t.next;){if(l=t.prev,u=t.next,o?xEe(t,r,i,o):yEe(t)){e.push(l.i/n),e.push(t.i/n),e.push(u.i/n),A0(t),t=u.next,s=u.next;continue}if(t=u,t===s){a?a===1?(t=bEe(Cd(t),e,n),T0(t,e,n,r,i,o,2)):a===2&&wEe(t,e,n,r,i,o):T0(Cd(t),e,n,r,i,o,1);break}}}function yEe(t){const e=t.prev,n=t,r=t.next;if(wi(e,n,r)>=0)return!1;let i=t.next.next;for(;i!==t.prev;){if(Wp(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&wi(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function xEe(t,e,n,r){const i=t.prev,o=t,a=t.next;if(wi(i,o,a)>=0)return!1;const s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,l=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,u=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,c=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,h=MA(s,l,e,n,r),f=MA(u,c,e,n,r);let m=t.prevZ,y=t.nextZ;for(;m&&m.z>=h&&y&&y.z<=f;){if(m!==t.prev&&m!==t.next&&Wp(i.x,i.y,o.x,o.y,a.x,a.y,m.x,m.y)&&wi(m.prev,m,m.next)>=0||(m=m.prevZ,y!==t.prev&&y!==t.next&&Wp(i.x,i.y,o.x,o.y,a.x,a.y,y.x,y.y)&&wi(y.prev,y,y.next)>=0))return!1;y=y.nextZ}for(;m&&m.z>=h;){if(m!==t.prev&&m!==t.next&&Wp(i.x,i.y,o.x,o.y,a.x,a.y,m.x,m.y)&&wi(m.prev,m,m.next)>=0)return!1;m=m.prevZ}for(;y&&y.z<=f;){if(y!==t.prev&&y!==t.next&&Wp(i.x,i.y,o.x,o.y,a.x,a.y,y.x,y.y)&&wi(y.prev,y,y.next)>=0)return!1;y=y.nextZ}return!0}function bEe(t,e,n){let r=t;do{const i=r.prev,o=r.next.next;!RS(i,o)&&S7(i,r,r.next,o)&&P0(i,o)&&P0(o,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(o.i/n),A0(r),A0(r.next),r=t=o),r=r.next}while(r!==t);return Cd(r)}function wEe(t,e,n,r,i,o){let a=t;do{let s=a.next.next;for(;s!==a.prev;){if(a.i!==s.i&&REe(a,s)){let l=C7(a,s);a=Cd(a,a.next),l=Cd(l,l.next),T0(a,e,n,r,i,o),T0(l,e,n,r,i,o);return}s=s.next}a=a.next}while(a!==t)}function _Ee(t,e,n,r){const i=[];let o,a,s,l,u;for(o=0,a=e.length;o<a;o++)s=e[o]*r,l=o<a-1?e[o+1]*r:t.length,u=_7(t,s,l,r,!1),u===u.next&&(u.steiner=!0),i.push(AEe(u));for(i.sort(SEe),o=0;o<i.length;o++)CEe(i[o],n),n=Cd(n,n.next);return n}function SEe(t,e){return t.x-e.x}function CEe(t,e){if(e=EEe(t,e),e){const n=C7(e,t);Cd(e,e.next),Cd(n,n.next)}}function EEe(t,e){let n=e;const r=t.x,i=t.y;let o=-1/0,a;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){const f=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(f<=r&&f>o){if(o=f,f===r){if(i===n.y)return n;if(i===n.next.y)return n.next}a=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!a)return null;if(r===o)return a;const s=a,l=a.x,u=a.y;let c=1/0,h;n=a;do r>=n.x&&n.x>=l&&r!==n.x&&Wp(i<u?r:o,i,l,u,i<u?o:r,i,n.x,n.y)&&(h=Math.abs(i-n.y)/(r-n.x),P0(n,t)&&(h<c||h===c&&(n.x>a.x||n.x===a.x&&MEe(a,n)))&&(a=n,c=h)),n=n.next;while(n!==s);return a}function MEe(t,e){return wi(t.prev,t,e.prev)<0&&wi(e.next,t,t.next)<0}function TEe(t,e,n,r){let i=t;do i.z===null&&(i.z=MA(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,PEe(i)}function PEe(t){let e,n,r,i,o,a,s,l,u=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,r=n,s=0,e=0;e<u&&(s++,r=r.nextZ,!!r);e++);for(l=u;s>0||l>0&&r;)s!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,u*=2}while(a>1);return t}function MA(t,e,n,r,i){return t=32767*(t-n)*i,e=32767*(e-r)*i,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function AEe(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Wp(t,e,n,r,i,o,a,s){return(i-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(r-s)-(n-a)*(e-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function REe(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!OEe(t,e)&&(P0(t,e)&&P0(e,t)&&NEe(t,e)&&(wi(t.prev,t,e.prev)||wi(t,e.prev,e))||RS(t,e)&&wi(t.prev,t,t.next)>0&&wi(e.prev,e,e.next)>0)}function wi(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function RS(t,e){return t.x===e.x&&t.y===e.y}function S7(t,e,n,r){const i=Ub(wi(t,e,n)),o=Ub(wi(t,e,r)),a=Ub(wi(n,r,t)),s=Ub(wi(n,r,e));return!!(i!==o&&a!==s||i===0&&Vb(t,n,e)||o===0&&Vb(t,r,e)||a===0&&Vb(n,t,r)||s===0&&Vb(n,e,r))}function Vb(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Ub(t){return t>0?1:t<0?-1:0}function OEe(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&S7(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function P0(t,e){return wi(t.prev,t,t.next)<0?wi(t,e,t.next)>=0&&wi(t,t.prev,e)>=0:wi(t,e,t.prev)<0||wi(t,t.next,e)<0}function NEe(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,o=(t.y+e.y)/2;do n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function C7(t,e){const n=new TA(t.i,t.x,t.y),r=new TA(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function c5(t,e,n,r){const i=new TA(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function A0(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function TA(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function kEe(t,e,n,r){let i=0;for(let o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}class Xu{static area(e){const n=e.length;let r=0;for(let i=n-1,o=0;o<n;i=o++)r+=e[i].x*e[o].y-e[o].x*e[i].y;return r*.5}static isClockWise(e){return Xu.area(e)<0}static triangulateShape(e,n){const r=[],i=[],o=[];d5(e),f5(r,e);let a=e.length;n.forEach(d5);for(let l=0;l<n.length;l++)i.push(a),a+=n[l].length,f5(r,n[l]);const s=gEe.triangulate(r,i);for(let l=0;l<s.length;l+=3)o.push(s.slice(l,l+3));return o}}function d5(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function f5(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class Ed extends $n{constructor(e=new vd([new et(.5,.5),new et(-.5,.5),new et(-.5,-.5),new et(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],o=[];for(let s=0,l=e.length;s<l;s++){const u=e[s];a(u)}this.setAttribute("position",new Pn(i,3)),this.setAttribute("uv",new Pn(o,2)),this.computeVertexNormals();function a(s){const l=[],u=n.curveSegments!==void 0?n.curveSegments:12,c=n.steps!==void 0?n.steps:1;let h=n.depth!==void 0?n.depth:1,f=n.bevelEnabled!==void 0?n.bevelEnabled:!0,m=n.bevelThickness!==void 0?n.bevelThickness:.2,y=n.bevelSize!==void 0?n.bevelSize:m-.1,x=n.bevelOffset!==void 0?n.bevelOffset:0,b=n.bevelSegments!==void 0?n.bevelSegments:3;const w=n.extrudePath,S=n.UVGenerator!==void 0?n.UVGenerator:IEe;n.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),h=n.amount);let C,M=!1,T,R,I,A;w&&(C=w.getSpacedPoints(c),M=!0,f=!1,T=w.computeFrenetFrames(c,!1),R=new pe,I=new pe,A=new pe),f||(b=0,m=0,y=0,x=0);const N=s.extractPoints(u);let L=N.shape;const D=N.holes;if(!Xu.isClockWise(L)){L=L.reverse();for(let be=0,Ce=D.length;be<Ce;be++){const Me=D[be];Xu.isClockWise(Me)&&(D[be]=Me.reverse())}}const V=Xu.triangulateShape(L,D),B=L;for(let be=0,Ce=D.length;be<Ce;be++){const Me=D[be];L=L.concat(Me)}function K(be,Ce,Me){return Ce||console.error("THREE.ExtrudeGeometry: vec does not exist"),Ce.clone().multiplyScalar(Me).add(be)}const j=L.length,G=V.length;function H(be,Ce,Me){let ze,Re,We;const Ue=be.x-Ce.x,Ve=be.y-Ce.y,Be=Me.x-be.x,qe=Me.y-be.y,te=Ue*Ue+Ve*Ve,k=Ue*qe-Ve*Be;if(Math.abs(k)>Number.EPSILON){const $=Math.sqrt(te),U=Math.sqrt(Be*Be+qe*qe),ne=Ce.x-Ve/$,ge=Ce.y+Ue/$,me=Me.x-qe/U,Q=Me.y+Be/U,_e=((me-ne)*qe-(Q-ge)*Be)/(Ue*qe-Ve*Be);ze=ne+Ue*_e-be.x,Re=ge+Ve*_e-be.y;const ke=ze*ze+Re*Re;if(ke<=2)return new et(ze,Re);We=Math.sqrt(ke/2)}else{let $=!1;Ue>Number.EPSILON?Be>Number.EPSILON&&($=!0):Ue<-Number.EPSILON?Be<-Number.EPSILON&&($=!0):Math.sign(Ve)===Math.sign(qe)&&($=!0),$?(ze=-Ve,Re=Ue,We=Math.sqrt(te)):(ze=Ue,Re=Ve,We=Math.sqrt(te/2))}return new et(ze/We,Re/We)}const Y=[];for(let be=0,Ce=B.length,Me=Ce-1,ze=be+1;be<Ce;be++,Me++,ze++)Me===Ce&&(Me=0),ze===Ce&&(ze=0),Y[be]=H(B[be],B[Me],B[ze]);const Z=[];let oe,re=Y.concat();for(let be=0,Ce=D.length;be<Ce;be++){const Me=D[be];oe=[];for(let ze=0,Re=Me.length,We=Re-1,Ue=ze+1;ze<Re;ze++,We++,Ue++)We===Re&&(We=0),Ue===Re&&(Ue=0),oe[ze]=H(Me[ze],Me[We],Me[Ue]);Z.push(oe),re=re.concat(oe)}for(let be=0;be<b;be++){const Ce=be/b,Me=m*Math.cos(Ce*Math.PI/2),ze=y*Math.sin(Ce*Math.PI/2)+x;for(let Re=0,We=B.length;Re<We;Re++){const Ue=K(B[Re],Y[Re],ze);De(Ue.x,Ue.y,-Me)}for(let Re=0,We=D.length;Re<We;Re++){const Ue=D[Re];oe=Z[Re];for(let Ve=0,Be=Ue.length;Ve<Be;Ve++){const qe=K(Ue[Ve],oe[Ve],ze);De(qe.x,qe.y,-Me)}}}const se=y+x;for(let be=0;be<j;be++){const Ce=f?K(L[be],re[be],se):L[be];M?(I.copy(T.normals[0]).multiplyScalar(Ce.x),R.copy(T.binormals[0]).multiplyScalar(Ce.y),A.copy(C[0]).add(I).add(R),De(A.x,A.y,A.z)):De(Ce.x,Ce.y,0)}for(let be=1;be<=c;be++)for(let Ce=0;Ce<j;Ce++){const Me=f?K(L[Ce],re[Ce],se):L[Ce];M?(I.copy(T.normals[be]).multiplyScalar(Me.x),R.copy(T.binormals[be]).multiplyScalar(Me.y),A.copy(C[be]).add(I).add(R),De(A.x,A.y,A.z)):De(Me.x,Me.y,h/c*be)}for(let be=b-1;be>=0;be--){const Ce=be/b,Me=m*Math.cos(Ce*Math.PI/2),ze=y*Math.sin(Ce*Math.PI/2)+x;for(let Re=0,We=B.length;Re<We;Re++){const Ue=K(B[Re],Y[Re],ze);De(Ue.x,Ue.y,h+Me)}for(let Re=0,We=D.length;Re<We;Re++){const Ue=D[Re];oe=Z[Re];for(let Ve=0,Be=Ue.length;Ve<Be;Ve++){const qe=K(Ue[Ve],oe[Ve],ze);M?De(qe.x,qe.y+C[c-1].y,C[c-1].x+Me):De(qe.x,qe.y,h+Me)}}}ce(),ye();function ce(){const be=i.length/3;if(f){let Ce=0,Me=j*Ce;for(let ze=0;ze<G;ze++){const Re=V[ze];Oe(Re[2]+Me,Re[1]+Me,Re[0]+Me)}Ce=c+b*2,Me=j*Ce;for(let ze=0;ze<G;ze++){const Re=V[ze];Oe(Re[0]+Me,Re[1]+Me,Re[2]+Me)}}else{for(let Ce=0;Ce<G;Ce++){const Me=V[Ce];Oe(Me[2],Me[1],Me[0])}for(let Ce=0;Ce<G;Ce++){const Me=V[Ce];Oe(Me[0]+j*c,Me[1]+j*c,Me[2]+j*c)}}r.addGroup(be,i.length/3-be,0)}function ye(){const be=i.length/3;let Ce=0;fe(B,Ce),Ce+=B.length;for(let Me=0,ze=D.length;Me<ze;Me++){const Re=D[Me];fe(Re,Ce),Ce+=Re.length}r.addGroup(be,i.length/3-be,1)}function fe(be,Ce){let Me=be.length;for(;--Me>=0;){const ze=Me;let Re=Me-1;Re<0&&(Re=be.length-1);for(let We=0,Ue=c+b*2;We<Ue;We++){const Ve=j*We,Be=j*(We+1),qe=Ce+ze+Ve,te=Ce+Re+Ve,k=Ce+Re+Be,$=Ce+ze+Be;Fe(qe,te,k,$)}}}function De(be,Ce,Me){l.push(be),l.push(Ce),l.push(Me)}function Oe(be,Ce,Me){Ee(be),Ee(Ce),Ee(Me);const ze=i.length/3,Re=S.generateTopUV(r,i,ze-3,ze-2,ze-1);Ye(Re[0]),Ye(Re[1]),Ye(Re[2])}function Fe(be,Ce,Me,ze){Ee(be),Ee(Ce),Ee(ze),Ee(Ce),Ee(Me),Ee(ze);const Re=i.length/3,We=S.generateSideWallUV(r,i,Re-6,Re-3,Re-2,Re-1);Ye(We[0]),Ye(We[1]),Ye(We[3]),Ye(We[1]),Ye(We[2]),Ye(We[3])}function Ee(be){i.push(l[be*3+0]),i.push(l[be*3+1]),i.push(l[be*3+2])}function Ye(be){o.push(be.x),o.push(be.y)}}}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return LEe(n,r,e)}static fromJSON(e,n){const r=[];for(let o=0,a=e.shapes.length;o<a;o++){const s=n[e.shapes[o]];r.push(s)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new w7[i.type]().fromJSON(i)),new Ed(r,e.options)}}const IEe={generateTopUV:function(t,e,n,r,i){const o=e[n*3],a=e[n*3+1],s=e[r*3],l=e[r*3+1],u=e[i*3],c=e[i*3+1];return[new et(o,a),new et(s,l),new et(u,c)]},generateSideWallUV:function(t,e,n,r,i,o){const a=e[n*3],s=e[n*3+1],l=e[n*3+2],u=e[r*3],c=e[r*3+1],h=e[r*3+2],f=e[i*3],m=e[i*3+1],y=e[i*3+2],x=e[o*3],b=e[o*3+1],w=e[o*3+2];return Math.abs(s-c)<Math.abs(a-u)?[new et(a,1-l),new et(u,1-h),new et(f,1-y),new et(x,1-w)]:[new et(s,1-l),new et(c,1-h),new et(m,1-y),new et(b,1-w)]}};function LEe(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const o=t[r];n.shapes.push(o.uuid)}else n.shapes.push(t.uuid);return e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class OS extends AS{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new OS(e.radius,e.detail)}}class tN extends $n{constructor(e=new vd([new et(0,.5),new et(-.5,-.5),new et(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],o=[],a=[];let s=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let c=0;c<e.length;c++)u(e[c]),this.addGroup(s,l,c),s+=l,l=0;this.setIndex(r),this.setAttribute("position",new Pn(i,3)),this.setAttribute("normal",new Pn(o,3)),this.setAttribute("uv",new Pn(a,2));function u(c){const h=i.length/3,f=c.extractPoints(n);let m=f.shape;const y=f.holes;Xu.isClockWise(m)===!1&&(m=m.reverse());for(let b=0,w=y.length;b<w;b++){const S=y[b];Xu.isClockWise(S)===!0&&(y[b]=S.reverse())}const x=Xu.triangulateShape(m,y);for(let b=0,w=y.length;b<w;b++){const S=y[b];m=m.concat(S)}for(let b=0,w=m.length;b<w;b++){const S=m[b];i.push(S.x,S.y,0),o.push(0,0,1),a.push(S.x,S.y)}for(let b=0,w=x.length;b<w;b++){const S=x[b],C=S[0]+h,M=S[1]+h,T=S[2]+h;r.push(C,M,T),l+=3}}}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return DEe(n,e)}static fromJSON(e,n){const r=[];for(let i=0,o=e.shapes.length;i<o;i++){const a=n[e.shapes[i]];r.push(a)}return new tN(r,e.curveSegments)}}function DEe(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class NS extends $n{constructor(e=1,n=32,r=16,i=0,o=Math.PI*2,a=0,s=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:o,thetaStart:a,thetaLength:s},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(a+s,Math.PI);let u=0;const c=[],h=new pe,f=new pe,m=[],y=[],x=[],b=[];for(let w=0;w<=r;w++){const S=[],C=w/r;let M=0;w==0&&a==0?M=.5/n:w==r&&l==Math.PI&&(M=-.5/n);for(let T=0;T<=n;T++){const R=T/n;h.x=-e*Math.cos(i+R*o)*Math.sin(a+C*s),h.y=e*Math.cos(a+C*s),h.z=e*Math.sin(i+R*o)*Math.sin(a+C*s),y.push(h.x,h.y,h.z),f.copy(h).normalize(),x.push(f.x,f.y,f.z),b.push(R+M,1-C),S.push(u++)}c.push(S)}for(let w=0;w<r;w++)for(let S=0;S<n;S++){const C=c[w][S+1],M=c[w][S],T=c[w+1][S],R=c[w+1][S+1];(w!==0||a>0)&&m.push(C,M,R),(w!==r-1||l<Math.PI)&&m.push(M,T,R)}this.setIndex(m),this.setAttribute("position",new Pn(y,3)),this.setAttribute("normal",new Pn(x,3)),this.setAttribute("uv",new Pn(b,2))}static fromJSON(e){return new NS(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class nN extends AS{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new nN(e.radius,e.detail)}}class rN extends $n{constructor(e=1,n=.4,r=8,i=6,o=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:o},r=Math.floor(r),i=Math.floor(i);const a=[],s=[],l=[],u=[],c=new pe,h=new pe,f=new pe;for(let m=0;m<=r;m++)for(let y=0;y<=i;y++){const x=y/i*o,b=m/r*Math.PI*2;h.x=(e+n*Math.cos(b))*Math.cos(x),h.y=(e+n*Math.cos(b))*Math.sin(x),h.z=n*Math.sin(b),s.push(h.x,h.y,h.z),c.x=e*Math.cos(x),c.y=e*Math.sin(x),f.subVectors(h,c).normalize(),l.push(f.x,f.y,f.z),u.push(y/i),u.push(m/r)}for(let m=1;m<=r;m++)for(let y=1;y<=i;y++){const x=(i+1)*m+y-1,b=(i+1)*(m-1)+y-1,w=(i+1)*(m-1)+y,S=(i+1)*m+y;a.push(x,b,S),a.push(b,w,S)}this.setIndex(a),this.setAttribute("position",new Pn(s,3)),this.setAttribute("normal",new Pn(l,3)),this.setAttribute("uv",new Pn(u,2))}static fromJSON(e){return new rN(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class E7 extends fo{constructor(e){super(),this.type="ShadowMaterial",this.color=new _t(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}E7.prototype.isShadowMaterial=!0;class M7 extends Wn{constructor(e){super(e),this.type="RawShaderMaterial"}}M7.prototype.isRawShaderMaterial=!0;class Yu extends fo{constructor(e){super(),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new _t(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new _t(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ah,this.normalScale=new et(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}Yu.prototype.isMeshStandardMaterial=!0;class T7 extends Yu{constructor(e){super(),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new et(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Gi(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.sheenColor=new _t(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new _t(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new _t(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}T7.prototype.isMeshPhysicalMaterial=!0;class P7 extends fo{constructor(e){super(),this.type="MeshPhongMaterial",this.color=new _t(16777215),this.specular=new _t(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new _t(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ah,this.normalScale=new et(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=gS,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}P7.prototype.isMeshPhongMaterial=!0;class G_ extends fo{constructor(e){super(),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new _t(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new _t(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ah,this.normalScale=new et(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}G_.prototype.isMeshToonMaterial=!0;class kS extends fo{constructor(e){super(),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ah,this.normalScale=new et(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}kS.prototype.isMeshNormalMaterial=!0;class A7 extends fo{constructor(e){super(),this.type="MeshLambertMaterial",this.color=new _t(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new _t(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=gS,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}A7.prototype.isMeshLambertMaterial=!0;class R7 extends fo{constructor(e){super(),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new _t(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ah,this.normalScale=new et(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}R7.prototype.isMeshMatcapMaterial=!0;class O7 extends ml{constructor(e){super(),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}O7.prototype.isLineDashedMaterial=!0;const FEe={ShadowMaterial:E7,SpriteMaterial:dy,RawShaderMaterial:M7,ShaderMaterial:Wn,PointsMaterial:qO,MeshPhysicalMaterial:T7,MeshStandardMaterial:Yu,MeshPhongMaterial:P7,MeshToonMaterial:G_,MeshNormalMaterial:kS,MeshLambertMaterial:A7,MeshDepthMaterial:qm,MeshDistanceMaterial:jO,MeshBasicMaterial:hl,MeshMatcapMaterial:R7,LineDashedMaterial:O7,LineBasicMaterial:ml,Material:fo};fo.fromType=function(t){return new FEe[t]};const li={arraySlice:function(t,e,n){return li.isTypedArray(t)?new t.constructor(t.subarray(e,n!==void 0?n:t.length)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){function e(i,o){return t[i]-t[o]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r},sortedArray:function(t,e,n){const r=t.length,i=new t.constructor(r);for(let o=0,a=0;a!==r;++o){const s=n[o]*e;for(let l=0;l!==e;++l)i[a++]=t[s+l]}return i},flattenJSON:function(t,e,n,r){let i=1,o=t[0];for(;o!==void 0&&o[r]===void 0;)o=t[i++];if(o===void 0)return;let a=o[r];if(a!==void 0)if(Array.isArray(a))do a=o[r],a!==void 0&&(e.push(o.time),n.push.apply(n,a)),o=t[i++];while(o!==void 0);else if(a.toArray!==void 0)do a=o[r],a!==void 0&&(e.push(o.time),a.toArray(n,n.length)),o=t[i++];while(o!==void 0);else do a=o[r],a!==void 0&&(e.push(o.time),n.push(a)),o=t[i++];while(o!==void 0)},subclip:function(t,e,n,r,i=30){const o=t.clone();o.name=e;const a=[];for(let l=0;l<o.tracks.length;++l){const u=o.tracks[l],c=u.getValueSize(),h=[],f=[];for(let m=0;m<u.times.length;++m){const y=u.times[m]*i;if(!(y<n||y>=r)){h.push(u.times[m]);for(let x=0;x<c;++x)f.push(u.values[m*c+x])}}h.length!==0&&(u.times=li.convertArray(h,u.times.constructor),u.values=li.convertArray(f,u.values.constructor),a.push(u))}o.tracks=a;let s=1/0;for(let l=0;l<o.tracks.length;++l)s>o.tracks[l].times[0]&&(s=o.tracks[l].times[0]);for(let l=0;l<o.tracks.length;++l)o.tracks[l].shift(-1*s);return o.resetDuration(),o},makeClipAdditive:function(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,o=e/r;for(let a=0;a<i;++a){const s=n.tracks[a],l=s.ValueTypeName;if(l==="bool"||l==="string")continue;const u=t.tracks.find(function(w){return w.name===s.name&&w.ValueTypeName===l});if(u===void 0)continue;let c=0;const h=s.getValueSize();s.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=h/3);let f=0;const m=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=m/3);const y=s.times.length-1;let x;if(o<=s.times[0]){const w=c,S=h-c;x=li.arraySlice(s.values,w,S)}else if(o>=s.times[y]){const w=y*h+c,S=w+h-c;x=li.arraySlice(s.values,w,S)}else{const w=s.createInterpolant(),S=c,C=h-c;w.evaluate(o),x=li.arraySlice(w.resultBuffer,S,C)}l==="quaternion"&&new uo().fromArray(x).normalize().conjugate().toArray(x);const b=u.times.length;for(let w=0;w<b;++w){const S=w*m+f;if(l==="quaternion")uo.multiplyQuaternionsFlat(u.values,S,x,0,u.values,S);else{const C=m-f*2;for(let M=0;M<C;++M)u.values[S+M]-=x[M]}}}return t.blendMode=XW,t}};class Md{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],o=n[r-1];e:{t:{let a;n:{r:if(!(e<i)){for(let s=r+2;;){if(i===void 0){if(e<o)break r;return r=n.length,this._cachedIndex=r,this.afterEnd_(r-1,e,o)}if(r===s)break;if(o=i,i=n[++r],e<i)break t}a=n.length;break n}if(!(e>=o)){const s=n[1];e<s&&(r=2,o=s);for(let l=r-2;;){if(o===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(r===l)break;if(i=o,o=n[--r-1],e>=o)break t}a=r,r=0;break n}break e}for(;r<a;){const s=r+a>>>1;e<n[s]?a=s:r=s+1}if(i=n[r],o=n[r-1],o===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(i===void 0)return r=n.length,this._cachedIndex=r,this.afterEnd_(r-1,o,e)}this._cachedIndex=r,this.intervalChanged_(r,o,i)}return this.interpolate_(r,o,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,o=e*i;for(let a=0;a!==i;++a)n[a]=r[o+a];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}Md.prototype.beforeStart_=Md.prototype.copySampleValue_;Md.prototype.afterEnd_=Md.prototype.copySampleValue_;class zEe extends Md{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Vp,endingEnd:Vp}}intervalChanged_(e,n,r){const i=this.parameterPositions;let o=e-2,a=e+1,s=i[o],l=i[a];if(s===void 0)switch(this.getSettings_().endingStart){case Up:o=e,s=2*n-r;break;case U_:o=i.length-2,s=n+i[o]-i[o+1];break;default:o=e,s=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Up:a=e,l=2*r-n;break;case U_:a=1,l=r+i[1]-i[0];break;default:a=e-1,l=n}const u=(r-n)*.5,c=this.valueSize;this._weightPrev=u/(n-s),this._weightNext=u/(l-r),this._offsetPrev=o*c,this._offsetNext=a*c}interpolate_(e,n,r,i){const o=this.resultBuffer,a=this.sampleValues,s=this.valueSize,l=e*s,u=l-s,c=this._offsetPrev,h=this._offsetNext,f=this._weightPrev,m=this._weightNext,y=(r-n)/(i-n),x=y*y,b=x*y,w=-f*b+2*f*x-f*y,S=(1+f)*b+(-1.5-2*f)*x+(-.5+f)*y+1,C=(-1-m)*b+(1.5+m)*x+.5*y,M=m*b-m*x;for(let T=0;T!==s;++T)o[T]=w*a[c+T]+S*a[u+T]+C*a[l+T]+M*a[h+T];return o}}class N7 extends Md{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const o=this.resultBuffer,a=this.sampleValues,s=this.valueSize,l=e*s,u=l-s,c=(r-n)/(i-n),h=1-c;for(let f=0;f!==s;++f)o[f]=a[u+f]*h+a[l+f]*c;return o}}class BEe extends Md{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class ru{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=li.convertArray(n,this.TimeBufferType),this.values=li.convertArray(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:li.convertArray(e.times,Array),values:li.convertArray(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new BEe(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new N7(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new zEe(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case B_:n=this.InterpolantFactoryMethodDiscrete;break;case V_:n=this.InterpolantFactoryMethodLinear;break;case o2:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return B_;case this.InterpolantFactoryMethodLinear:return V_;case this.InterpolantFactoryMethodSmooth:return o2}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let o=0,a=i-1;for(;o!==i&&r[o]<e;)++o;for(;a!==-1&&r[a]>n;)--a;if(++a,o!==0||a!==i){o>=a&&(a=Math.max(a,1),o=a-1);const s=this.getValueSize();this.times=li.arraySlice(r,o,a),this.values=li.arraySlice(this.values,o*s,a*s)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,o=r.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let s=0;s!==o;s++){const l=r[s];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,s,l),e=!1;break}if(a!==null&&a>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,s,l,a),e=!1;break}a=l}if(i!==void 0&&li.isTypedArray(i))for(let s=0,l=i.length;s!==l;++s){const u=i[s];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,s,u),e=!1;break}}return e}optimize(){const e=li.arraySlice(this.times),n=li.arraySlice(this.values),r=this.getValueSize(),i=this.getInterpolation()===o2,o=e.length-1;let a=1;for(let s=1;s<o;++s){let l=!1;const u=e[s],c=e[s+1];if(u!==c&&(s!==1||u!==e[0]))if(i)l=!0;else{const h=s*r,f=h-r,m=h+r;for(let y=0;y!==r;++y){const x=n[h+y];if(x!==n[f+y]||x!==n[m+y]){l=!0;break}}}if(l){if(s!==a){e[a]=e[s];const h=s*r,f=a*r;for(let m=0;m!==r;++m)n[f+m]=n[h+m]}++a}}if(o>0){e[a]=e[o];for(let s=o*r,l=a*r,u=0;u!==r;++u)n[l+u]=n[s+u];++a}return a!==e.length?(this.times=li.arraySlice(e,0,a),this.values=li.arraySlice(n,0,a*r)):(this.times=e,this.values=n),this}clone(){const e=li.arraySlice(this.times,0),n=li.arraySlice(this.values,0),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}ru.prototype.TimeBufferType=Float32Array;ru.prototype.ValueBufferType=Float32Array;ru.prototype.DefaultInterpolation=V_;class Xm extends ru{}Xm.prototype.ValueTypeName="bool";Xm.prototype.ValueBufferType=Array;Xm.prototype.DefaultInterpolation=B_;Xm.prototype.InterpolantFactoryMethodLinear=void 0;Xm.prototype.InterpolantFactoryMethodSmooth=void 0;class k7 extends ru{}k7.prototype.ValueTypeName="color";class R0 extends ru{}R0.prototype.ValueTypeName="number";class VEe extends Md{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const o=this.resultBuffer,a=this.sampleValues,s=this.valueSize,l=(r-n)/(i-n);let u=e*s;for(let c=u+s;u!==c;u+=4)uo.slerpFlat(o,0,a,u-s,a,u,l);return o}}class fy extends ru{InterpolantFactoryMethodLinear(e){return new VEe(this.times,this.values,this.getValueSize(),e)}}fy.prototype.ValueTypeName="quaternion";fy.prototype.DefaultInterpolation=V_;fy.prototype.InterpolantFactoryMethodSmooth=void 0;class Ym extends ru{}Ym.prototype.ValueTypeName="string";Ym.prototype.ValueBufferType=Array;Ym.prototype.DefaultInterpolation=B_;Ym.prototype.InterpolantFactoryMethodLinear=void 0;Ym.prototype.InterpolantFactoryMethodSmooth=void 0;class $_ extends ru{}$_.prototype.ValueTypeName="vector";class PA{constructor(e,n=-1,r,i=FO){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=Ts(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let a=0,s=r.length;a!==s;++a)n.push(HEe(r[a]).scale(i));const o=new this(e.name,e.duration,n,e.blendMode);return o.uuid=e.uuid,o}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let o=0,a=r.length;o!==a;++o)n.push(ru.toJSON(r[o]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const o=n.length,a=[];for(let s=0;s<o;s++){let l=[],u=[];l.push((s+o-1)%o,s,(s+1)%o),u.push(0,1,0);const c=li.getKeyframeOrder(l);l=li.sortedArray(l,1,c),u=li.sortedArray(u,1,c),!i&&l[0]===0&&(l.push(o),u.push(u[0])),a.push(new R0(".morphTargetInfluences["+n[s].name+"]",l,u).scale(1/r))}return new this(e,-1,a)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},o=/^([\w-]*?)([\d]+)$/;for(let s=0,l=e.length;s<l;s++){const u=e[s],c=u.name.match(o);if(c&&c.length>1){const h=c[1];let f=i[h];f||(i[h]=f=[]),f.push(u)}}const a=[];for(const s in i)a.push(this.CreateFromMorphTargetSequence(s,i[s],n,r));return a}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(h,f,m,y,x){if(m.length!==0){const b=[],w=[];li.flattenJSON(m,b,w,y),b.length!==0&&x.push(new h(f,b,w))}},i=[],o=e.name||"default",a=e.fps||30,s=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let h=0;h<u.length;h++){const f=u[h].keys;if(!(!f||f.length===0))if(f[0].morphTargets){const m={};let y;for(y=0;y<f.length;y++)if(f[y].morphTargets)for(let x=0;x<f[y].morphTargets.length;x++)m[f[y].morphTargets[x]]=-1;for(const x in m){const b=[],w=[];for(let S=0;S!==f[y].morphTargets.length;++S){const C=f[y];b.push(C.time),w.push(C.morphTarget===x?1:0)}i.push(new R0(".morphTargetInfluence["+x+"]",b,w))}l=m.length*a}else{const m=".bones["+n[h].name+"]";r($_,m+".position",f,"pos",i),r(fy,m+".quaternion",f,"rot",i),r($_,m+".scale",f,"scl",i)}}return i.length===0?null:new this(o,l,i,s)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const o=this.tracks[r];n=Math.max(n,o.times[o.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function UEe(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return R0;case"vector":case"vector2":case"vector3":case"vector4":return $_;case"color":return k7;case"quaternion":return fy;case"bool":case"boolean":return Xm;case"string":return Ym}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function HEe(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=UEe(t.type);if(t.times===void 0){const n=[],r=[];li.flattenJSON(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const _m={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class WEe{constructor(e,n,r){const i=this;let o=!1,a=0,s=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(c){s++,o===!1&&i.onStart!==void 0&&i.onStart(c,a,s),o=!0},this.itemEnd=function(c){a++,i.onProgress!==void 0&&i.onProgress(c,a,s),a===s&&(o=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(c){i.onError!==void 0&&i.onError(c)},this.resolveURL=function(c){return l?l(c):c},this.setURLModifier=function(c){return l=c,this},this.addHandler=function(c,h){return u.push(c,h),this},this.removeHandler=function(c){const h=u.indexOf(c);return h!==-1&&u.splice(h,2),this},this.getHandler=function(c){for(let h=0,f=u.length;h<f;h+=2){const m=u[h],y=u[h+1];if(m.global&&(m.lastIndex=0),m.test(c))return y}return null}}}const jEe=new WEe;class lc{constructor(e){this.manager=e!==void 0?e:jEe,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,o){r.load(e,i,n,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const Ru={};class I7 extends lc{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=_m.get(e);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(o),this.manager.itemEnd(e)},0),o;if(Ru[e]!==void 0){Ru[e].push({onLoad:n,onProgress:r,onError:i});return}Ru[e]=[],Ru[e].push({onLoad:n,onProgress:r,onError:i});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,l=this.responseType;fetch(a).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream=="undefined"||u.body===void 0||u.body.getReader===void 0)return u;const c=Ru[e],h=u.body.getReader(),f=u.headers.get("Content-Length"),m=f?parseInt(f):0,y=m!==0;let x=0;const b=new ReadableStream({start(w){S();function S(){h.read().then(({done:C,value:M})=>{if(C)w.close();else{x+=M.byteLength;const T=new ProgressEvent("progress",{lengthComputable:y,loaded:x,total:m});for(let R=0,I=c.length;R<I;R++){const A=c[R];A.onProgress&&A.onProgress(T)}w.enqueue(M),S()}})}}});return new Response(b)}else throw Error(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(c=>new DOMParser().parseFromString(c,s));case"json":return u.json();default:if(s===void 0)return u.text();{const h=/charset="?([^;"\s]*)"?/i.exec(s),f=h&&h[1]?h[1].toLowerCase():void 0,m=new TextDecoder(f);return u.arrayBuffer().then(y=>m.decode(y))}}}).then(u=>{_m.add(e,u);const c=Ru[e];delete Ru[e];for(let h=0,f=c.length;h<f;h++){const m=c[h];m.onLoad&&m.onLoad(u)}}).catch(u=>{const c=Ru[e];if(c===void 0)throw this.manager.itemError(e),u;delete Ru[e];for(let h=0,f=c.length;h<f;h++){const m=c[h];m.onError&&m.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class L7 extends lc{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,a=_m.get(e);if(a!==void 0)return o.manager.itemStart(e),setTimeout(function(){n&&n(a),o.manager.itemEnd(e)},0),a;const s=E0("img");function l(){c(),_m.add(e,this),n&&n(this),o.manager.itemEnd(e)}function u(h){c(),i&&i(h),o.manager.itemError(e),o.manager.itemEnd(e)}function c(){s.removeEventListener("load",l,!1),s.removeEventListener("error",u,!1)}return s.addEventListener("load",l,!1),s.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(s.crossOrigin=this.crossOrigin),o.manager.itemStart(e),s.src=e,s}}class D7 extends lc{constructor(e){super(e)}load(e,n,r,i){const o=new _S,a=new L7(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let s=0;function l(u){a.load(e[u],function(c){o.images[u]=c,s++,s===6&&(o.needsUpdate=!0,n&&n(o))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return o}}class GEe extends lc{constructor(e){super(e)}load(e,n,r,i){const o=this,a=new KO,s=new I7(this.manager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(o.withCredentials),s.load(e,function(l){const u=o.parse(l);!u||(u.image!==void 0?a.image=u.image:u.data!==void 0&&(a.image.width=u.width,a.image.height=u.height,a.image.data=u.data),a.wrapS=u.wrapS!==void 0?u.wrapS:qa,a.wrapT=u.wrapT!==void 0?u.wrapT:qa,a.magFilter=u.magFilter!==void 0?u.magFilter:Ai,a.minFilter=u.minFilter!==void 0?u.minFilter:Ai,a.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.encoding!==void 0&&(a.encoding=u.encoding),u.flipY!==void 0&&(a.flipY=u.flipY),u.format!==void 0&&(a.format=u.format),u.type!==void 0&&(a.type=u.type),u.mipmaps!==void 0&&(a.mipmaps=u.mipmaps,a.minFilter=sy),u.mipmapCount===1&&(a.minFilter=Ai),u.generateMipmaps!==void 0&&(a.generateMipmaps=u.generateMipmaps),a.needsUpdate=!0,n&&n(a,u))},r,i),a}}class F7 extends lc{constructor(e){super(e)}load(e,n,r,i){const o=new Yi,a=new L7(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(s){o.image=s,o.needsUpdate=!0,n!==void 0&&n(o)},r,i),o}}class ql extends gr{constructor(e,n=1){super(),this.type="Light",this.color=new _t(e),this.intensity=n}dispose(){}copy(e){return super.copy(e),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}ql.prototype.isLight=!0;class iN extends ql{constructor(e,n,r){super(e,r),this.type="HemisphereLight",this.position.copy(gr.DefaultUp),this.updateMatrix(),this.groundColor=new _t(n)}copy(e){return ql.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}iN.prototype.isHemisphereLight=!0;const h5=new Xt,p5=new pe,m5=new pe;class oN{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new et(512,512),this.map=null,this.mapPass=null,this.matrix=new Xt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new ly,this._frameExtents=new et(1,1),this._viewportCount=1,this._viewports=[new zr(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;p5.setFromMatrixPosition(e.matrixWorld),n.position.copy(p5),m5.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(m5),n.updateMatrixWorld(),h5.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(h5),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(n.projectionMatrix),r.multiply(n.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class z7 extends oN{constructor(){super(new bo(50,1,.5,500)),this.focus=1}updateMatrices(e){const n=this.camera,r=C0*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,o=e.distance||n.far;(r!==n.fov||i!==n.aspect||o!==n.far)&&(n.fov=r,n.aspect=i,n.far=o,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}z7.prototype.isSpotLightShadow=!0;class B7 extends ql{constructor(e,n,r=0,i=Math.PI/3,o=0,a=1){super(e,n),this.type="SpotLight",this.position.copy(gr.DefaultUp),this.updateMatrix(),this.target=new gr,this.distance=r,this.angle=i,this.penumbra=o,this.decay=a,this.shadow=new z7}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}B7.prototype.isSpotLight=!0;const v5=new Xt,eg=new pe,B2=new pe;class V7 extends oN{constructor(){super(new bo(90,1,.5,500)),this._frameExtents=new et(4,2),this._viewportCount=6,this._viewports=[new zr(2,1,1,1),new zr(0,1,1,1),new zr(3,1,1,1),new zr(1,1,1,1),new zr(3,0,1,1),new zr(1,0,1,1)],this._cubeDirections=[new pe(1,0,0),new pe(-1,0,0),new pe(0,0,1),new pe(0,0,-1),new pe(0,1,0),new pe(0,-1,0)],this._cubeUps=[new pe(0,1,0),new pe(0,1,0),new pe(0,1,0),new pe(0,1,0),new pe(0,0,1),new pe(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,o=e.distance||r.far;o!==r.far&&(r.far=o,r.updateProjectionMatrix()),eg.setFromMatrixPosition(e.matrixWorld),r.position.copy(eg),B2.copy(r.position),B2.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(B2),r.updateMatrixWorld(),i.makeTranslation(-eg.x,-eg.y,-eg.z),v5.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(v5)}}V7.prototype.isPointLightShadow=!0;class U7 extends ql{constructor(e,n,r=0,i=1){super(e,n),this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new V7}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}U7.prototype.isPointLight=!0;class H7 extends oN{constructor(){super(new $m(-5,5,5,-5,.5,500))}}H7.prototype.isDirectionalLightShadow=!0;class aN extends ql{constructor(e,n){super(e,n),this.type="DirectionalLight",this.position.copy(gr.DefaultUp),this.updateMatrix(),this.target=new gr,this.shadow=new H7}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}aN.prototype.isDirectionalLight=!0;class W7 extends ql{constructor(e,n){super(e,n),this.type="AmbientLight"}}W7.prototype.isAmbientLight=!0;class j7 extends ql{constructor(e,n,r=10,i=10){super(e,n),this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}j7.prototype.isRectAreaLight=!0;class G7{constructor(){this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new pe)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,o=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.282095),n.addScaledVector(a[1],.488603*i),n.addScaledVector(a[2],.488603*o),n.addScaledVector(a[3],.488603*r),n.addScaledVector(a[4],1.092548*(r*i)),n.addScaledVector(a[5],1.092548*(i*o)),n.addScaledVector(a[6],.315392*(3*o*o-1)),n.addScaledVector(a[7],1.092548*(r*o)),n.addScaledVector(a[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,o=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.886227),n.addScaledVector(a[1],2*.511664*i),n.addScaledVector(a[2],2*.511664*o),n.addScaledVector(a[3],2*.511664*r),n.addScaledVector(a[4],2*.429043*r*i),n.addScaledVector(a[5],2*.429043*i*o),n.addScaledVector(a[6],.743125*o*o-.247708),n.addScaledVector(a[7],2*.429043*r*o),n.addScaledVector(a[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,o=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*o,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*o,n[6]=.315392*(3*o*o-1),n[7]=1.092548*r*o,n[8]=.546274*(r*r-i*i)}}G7.prototype.isSphericalHarmonics3=!0;class sN extends ql{constructor(e=new G7,n=1){super(void 0,n),this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}sN.prototype.isLightProbe=!0;class $Ee{static decodeText(e){if(typeof TextDecoder!="undefined")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class KEe extends $n{constructor(){super(),this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}KEe.prototype.isInstancedBufferGeometry=!0;class qEe extends lc{constructor(e){super(e),typeof createImageBitmap=="undefined"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch=="undefined"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,a=_m.get(e);if(a!==void 0)return o.manager.itemStart(e),setTimeout(function(){n&&n(a),o.manager.itemEnd(e)},0),a;const s={};s.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",s.headers=this.requestHeader,fetch(e,s).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(l){_m.add(e,l),n&&n(l),o.manager.itemEnd(e)}).catch(function(l){i&&i(l),o.manager.itemError(e),o.manager.itemEnd(e)}),o.manager.itemStart(e)}}qEe.prototype.isImageBitmapLoader=!0;let Hb;const XEe={getContext:function(){return Hb===void 0&&(Hb=new(window.AudioContext||window.webkitAudioContext)),Hb},setContext:function(t){Hb=t}};class YEe extends lc{constructor(e){super(e)}load(e,n,r,i){const o=this,a=new I7(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(s){try{const l=s.slice(0);XEe.getContext().decodeAudioData(l,function(c){n(c)})}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}}class ZEe extends sN{constructor(e,n,r=1){super(void 0,r);const i=new _t().set(e),o=new _t().set(n),a=new pe(i.r,i.g,i.b),s=new pe(o.r,o.g,o.b),l=Math.sqrt(Math.PI),u=l*Math.sqrt(.75);this.sh.coefficients[0].copy(a).add(s).multiplyScalar(l),this.sh.coefficients[1].copy(a).sub(s).multiplyScalar(u)}}ZEe.prototype.isHemisphereLightProbe=!0;class JEe extends sN{constructor(e,n=1){super(void 0,n);const r=new _t().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}JEe.prototype.isAmbientLightProbe=!0;class $7{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=g5(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=g5();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function g5(){return(typeof performance=="undefined"?Date:performance).now()}class QEe extends gr{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}class eMe{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,o,a;switch(n){case"quaternion":i=this._slerp,o=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,o=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,o=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=o,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,o=e*i+i;let a=this.cumulativeWeight;if(a===0){for(let s=0;s!==i;++s)r[o+s]=r[s];a=n}else{a+=n;const s=n/a;this._mixBufferRegion(r,o,0,s,i)}this.cumulativeWeight=a}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,o=this.cumulativeWeight,a=this.cumulativeWeightAdditive,s=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-o,n)}a>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,u=n+n;l!==u;++l)if(r[l]!==r[l+n]){s.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let o=r,a=i;o!==a;++o)n[o]=n[i+o%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,o){if(i>=.5)for(let a=0;a!==o;++a)e[n+a]=e[r+a]}_slerp(e,n,r,i){uo.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,o){const a=this._workIndex*o;uo.multiplyQuaternionsFlat(e,a,e,n,e,r),uo.slerpFlat(e,n,e,n,e,a,i)}_lerp(e,n,r,i,o){const a=1-i;for(let s=0;s!==o;++s){const l=n+s;e[l]=e[l]*a+e[r+s]*i}}_lerpAdditive(e,n,r,i,o){for(let a=0;a!==o;++a){const s=n+a;e[s]=e[s]+e[r+a]*i}}}const lN="\\[\\]\\.:\\/",tMe=new RegExp("["+lN+"]","g"),uN="[^"+lN+"]",nMe="[^"+lN.replace("\\.","")+"]",rMe=/((?:WC+[\/:])*)/.source.replace("WC",uN),iMe=/(WCOD+)?/.source.replace("WCOD",nMe),oMe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",uN),aMe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",uN),sMe=new RegExp("^"+rMe+iMe+oMe+aMe+"$"),lMe=["material","materials","bones"];class uMe{constructor(e,n,r){const i=r||Cr.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,o=r.length;i!==o;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class Cr{constructor(e,n,r){this.path=n,this.parsedPath=r||Cr.parseTrackName(n),this.node=Cr.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new Cr.Composite(e,n,r):new Cr(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(tMe,"")}static parseTrackName(e){const n=sMe.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const o=r.nodeName.substring(i+1);lMe.indexOf(o)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=o)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(o){for(let a=0;a<o.length;a++){const s=o[a];if(s.name===n||s.uuid===n)return s;const l=r(s.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let o=n.propertyIndex;if(e||(e=Cr.findNode(this.rootNode,n.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let u=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===u){u=c;break}break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const a=e[i];if(a===void 0){const u=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let s=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?s=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(s=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(o!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}l=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=o}else a.fromArray!==void 0&&a.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(l=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][s]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Cr.Composite=uMe;Cr.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Cr.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Cr.prototype.GetterByBindingType=[Cr.prototype._getValue_direct,Cr.prototype._getValue_array,Cr.prototype._getValue_arrayElement,Cr.prototype._getValue_toArray];Cr.prototype.SetterByBindingTypeAndVersioning=[[Cr.prototype._setValue_direct,Cr.prototype._setValue_direct_setNeedsUpdate,Cr.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Cr.prototype._setValue_array,Cr.prototype._setValue_array_setNeedsUpdate,Cr.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Cr.prototype._setValue_arrayElement,Cr.prototype._setValue_arrayElement_setNeedsUpdate,Cr.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Cr.prototype._setValue_fromArray,Cr.prototype._setValue_fromArray_setNeedsUpdate,Cr.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class cMe{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const o=n.tracks,a=o.length,s=new Array(a),l={endingStart:Vp,endingEnd:Vp};for(let u=0;u!==a;++u){const c=o[u].createInterpolant(null);s[u]=c,c.settings=l}this._interpolantSettings=l,this._interpolants=s,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=bA,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,o=e._clip.duration,a=o/i,s=i/o;e.warp(1,a,n),this.warp(s,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,o=i.time,a=this.timeScale;let s=this._timeScaleInterpolant;s===null&&(s=i._lendControlInterpolant(),this._timeScaleInterpolant=s);const l=s.parameterPositions,u=s.sampleValues;return l[0]=o,l[1]=o+r,u[0]=e/a,u[1]=n/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const o=this._startTime;if(o!==null){const l=(e-o)*r;if(l<0||r===0)return;this._startTime=null,n=r*l}n*=this._updateTimeScale(e);const a=this._updateTime(n),s=this._updateWeight(e);if(s>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case XW:for(let c=0,h=l.length;c!==h;++c)l[c].evaluate(a),u[c].accumulateAdditive(s);break;case FO:default:for(let c=0,h=l.length;c!==h;++c)l[c].evaluate(a),u[c].accumulate(i,s)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;r!==null&&(n*=r.evaluate(e)[0],e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n))}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,o=this._loopCount;const a=r===qbe;if(e===0)return o===-1?i:a&&(o&1)===1?n-i:i;if(r===xA){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),i>=n||i<0){const s=Math.floor(i/n);i-=n*s,o+=Math.abs(s);const l=this.repetitions-o;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,a)}else this._setEndings(!1,!1,a);this._loopCount=o,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:s})}}else this.time=i;if(a&&(o&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=Up,i.endingEnd=Up):(e?i.endingStart=this.zeroSlopeAtStart?Up:Vp:i.endingStart=U_,n?i.endingEnd=this.zeroSlopeAtEnd?Up:Vp:i.endingEnd=U_)}_scheduleFading(e,n,r){const i=this._mixer,o=i.time;let a=this._weightInterpolant;a===null&&(a=i._lendControlInterpolant(),this._weightInterpolant=a);const s=a.parameterPositions,l=a.sampleValues;return s[0]=o,l[0]=n,s[1]=o+e,l[1]=r,this}}class K7 extends Rd{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,o=i.length,a=e._propertyBindings,s=e._interpolants,l=r.uuid,u=this._bindingsByRootAndName;let c=u[l];c===void 0&&(c={},u[l]=c);for(let h=0;h!==o;++h){const f=i[h],m=f.name;let y=c[m];if(y!==void 0)++y.referenceCount,a[h]=y;else{if(y=a[h],y!==void 0){y._cacheIndex===null&&(++y.referenceCount,this._addInactiveBinding(y,l,m));continue}const x=n&&n._propertyBindings[h].binding.parsedPath;y=new eMe(Cr.create(r,m,x),f.ValueTypeName,f.getValueSize()),++y.referenceCount,this._addInactiveBinding(y,l,m),a[h]=y}s[h].resultBuffer=y.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,o=this._actionsByClip[i];this._bindAction(e,o&&o.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];o.useCount++===0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];--o.useCount===0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,o=this._actionsByClip;let a=o[n];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[n]=a;else{const s=a.knownActions;e._byClipCacheIndex=s.length,s.push(e)}e._cacheIndex=i.length,i.push(e),a.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const o=e._clip.uuid,a=this._actionsByClip,s=a[o],l=s.knownActions,u=l[l.length-1],c=e._byClipCacheIndex;u._byClipCacheIndex=c,l[c]=u,l.pop(),e._byClipCacheIndex=null;const h=s.actionByRoot,f=(e._localRoot||this._root).uuid;delete h[f],l.length===0&&delete a[o],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];--o.referenceCount===0&&this._removeInactiveBinding(o)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,o=this._bindings;let a=i[n];a===void 0&&(a={},i[n]=a),a[r]=e,e._cacheIndex=o.length,o.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,o=r.path,a=this._bindingsByRootAndName,s=a[i],l=n[n.length-1],u=e._cacheIndex;l._cacheIndex=u,n[u]=l,n.pop(),delete s[o],Object.keys(s).length===0&&delete a[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new N7(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,o=n[i];e.__cacheIndex=i,n[i]=e,o.__cacheIndex=r,n[r]=o}clipAction(e,n,r){const i=n||this._root,o=i.uuid;let a=typeof e=="string"?PA.findByName(i,e):e;const s=a!==null?a.uuid:e,l=this._actionsByClip[s];let u=null;if(r===void 0&&(a!==null?r=a.blendMode:r=FO),l!==void 0){const h=l.actionByRoot[o];if(h!==void 0&&h.blendMode===r)return h;u=l.knownActions[0],a===null&&(a=u._clip)}if(a===null)return null;const c=new cMe(this,a,n,r);return this._bindAction(c,u),this._addInactiveAction(c,s,o),c}existingAction(e,n){const r=n||this._root,i=r.uuid,o=typeof e=="string"?PA.findByName(r,e):e,a=o?o.uuid:e,s=this._actionsByClip[a];return s!==void 0&&s.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,o=Math.sign(e),a=this._accuIndex^=1;for(let u=0;u!==r;++u)n[u]._update(i,e,o,a);const s=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)s[u].apply(a);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,o=i[r];if(o!==void 0){const a=o.knownActions;for(let s=0,l=a.length;s!==l;++s){const u=a[s];this._deactivateAction(u);const c=u._cacheIndex,h=n[n.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,h._cacheIndex=c,n[c]=h,n.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const a in r){const s=r[a].actionByRoot,l=s[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,o=i[n];if(o!==void 0)for(const a in o){const s=o[a];s.restoreOriginalState(),this._removeInactiveBinding(s)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}K7.prototype._controlInterpolantsResultBuffer=new Float32Array(1);class cN{constructor(e){typeof e=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}clone(){return new cN(this.value.clone===void 0?this.value:this.value.clone())}}class dMe extends cy{constructor(e,n,r=1){super(e,n),this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}dMe.prototype.isInstancedInterleavedBuffer=!0;class fMe{constructor(e,n,r=0,i=1/0){this.ray=new sc(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new UO,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,r=[]){return AA(e,this,r,n),r.sort(y5),r}intersectObjects(e,n=!0,r=[]){for(let i=0,o=e.length;i<o;i++)AA(e[i],this,r,n);return r.sort(y5),r}}function y5(t,e){return t.distance-e.distance}function AA(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),r===!0){const i=t.children;for(let o=0,a=i.length;o<a;o++)AA(i[o],e,n,!0)}}class x5{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Gi(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}const b5=new et;class hy{constructor(e=new et(1/0,1/0),n=new et(-1/0,-1/0)){this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=b5.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return b5.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}hy.prototype.isBox2=!0;const w5=new pe,Wb=new pe;class q7{constructor(e=new pe,n=new pe){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){w5.subVectors(e,this.start),Wb.subVectors(this.end,this.start);const r=Wb.dot(Wb);let o=Wb.dot(w5)/r;return n&&(o=Gi(o,0,1)),o}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const _5=new pe;class hMe extends gr{constructor(e,n){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;const r=new $n,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,s=1,l=32;a<l;a++,s++){const u=a/l*Math.PI*2,c=s/l*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(c),Math.sin(c),1)}r.setAttribute("position",new Pn(i,3));const o=new ml({fog:!1,toneMapped:!1});this.cone=new Kf(r,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),_5.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(_5),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Wc=new pe,jb=new Xt,V2=new Xt;class pMe extends Kf{constructor(e){const n=X7(e),r=new $n,i=[],o=[],a=new _t(0,0,1),s=new _t(0,1,0);for(let u=0;u<n.length;u++){const c=n[u];c.parent&&c.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),o.push(a.r,a.g,a.b),o.push(s.r,s.g,s.b))}r.setAttribute("position",new Pn(i,3)),r.setAttribute("color",new Pn(o,3));const l=new ml({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");V2.copy(this.root.matrixWorld).invert();for(let o=0,a=0;o<n.length;o++){const s=n[o];s.parent&&s.parent.isBone&&(jb.multiplyMatrices(V2,s.matrixWorld),Wc.setFromMatrixPosition(jb),i.setXYZ(a,Wc.x,Wc.y,Wc.z),jb.multiplyMatrices(V2,s.parent.matrixWorld),Wc.setFromMatrixPosition(jb),i.setXYZ(a+1,Wc.x,Wc.y,Wc.z),a+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}}function X7(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,X7(t.children[n]));return e}class mMe extends ci{constructor(e,n,r){const i=new NS(n,4,2),o=new hl({wireframe:!0,fog:!1,toneMapped:!1});super(i,o),this.light=e,this.light.updateMatrixWorld(),this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const vMe=new pe,S5=new _t,C5=new _t;class gMe extends gr{constructor(e,n,r){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r;const i=new OS(n);i.rotateY(Math.PI*.5),this.material=new hl({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const o=i.getAttribute("position"),a=new Float32Array(o.count*3);i.setAttribute("color",new Oi(a,3)),this.add(new ci(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");S5.copy(this.light.color),C5.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const o=r<i/2?S5:C5;n.setXYZ(r,o.r,o.g,o.b)}n.needsUpdate=!0}e.lookAt(vMe.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Y7 extends Kf{constructor(e=10,n=10,r=4473924,i=8947848){r=new _t(r),i=new _t(i);const o=n/2,a=e/n,s=e/2,l=[],u=[];for(let f=0,m=0,y=-s;f<=n;f++,y+=a){l.push(-s,0,y,s,0,y),l.push(y,0,-s,y,0,s);const x=f===o?r:i;x.toArray(u,m),m+=3,x.toArray(u,m),m+=3,x.toArray(u,m),m+=3,x.toArray(u,m),m+=3}const c=new $n;c.setAttribute("position",new Pn(l,3)),c.setAttribute("color",new Pn(u,3));const h=new ml({vertexColors:!0,toneMapped:!1});super(c,h),this.type="GridHelper"}}const E5=new pe,Gb=new pe,M5=new pe;class yMe extends gr{constructor(e,n,r){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,n===void 0&&(n=1);let i=new $n;i.setAttribute("position",new Pn([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const o=new ml({fog:!1,toneMapped:!1});this.lightPlane=new wm(i,o),this.add(this.lightPlane),i=new $n,i.setAttribute("position",new Pn([0,0,0,0,0,1],3)),this.targetLine=new wm(i,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){E5.setFromMatrixPosition(this.light.matrixWorld),Gb.setFromMatrixPosition(this.light.target.matrixWorld),M5.subVectors(Gb,E5),this.lightPlane.lookAt(Gb),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Gb),this.targetLine.scale.z=M5.length()}}const $b=new pe,Mi=new wS;class xMe extends Kf{constructor(e){const n=new $n,r=new ml({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],o=[],a={},s=new _t(16755200),l=new _t(16711680),u=new _t(43775),c=new _t(16777215),h=new _t(3355443);f("n1","n2",s),f("n2","n4",s),f("n4","n3",s),f("n3","n1",s),f("f1","f2",s),f("f2","f4",s),f("f4","f3",s),f("f3","f1",s),f("n1","f1",s),f("n2","f2",s),f("n3","f3",s),f("n4","f4",s),f("p","n1",l),f("p","n2",l),f("p","n3",l),f("p","n4",l),f("u1","u2",u),f("u2","u3",u),f("u3","u1",u),f("c","t",c),f("p","c",h),f("cn1","cn2",h),f("cn3","cn4",h),f("cf1","cf2",h),f("cf3","cf4",h);function f(y,x,b){m(y,b),m(x,b)}function m(y,x){i.push(0,0,0),o.push(x.r,x.g,x.b),a[y]===void 0&&(a[y]=[]),a[y].push(i.length/3-1)}n.setAttribute("position",new Pn(i,3)),n.setAttribute("color",new Pn(o,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update()}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;Mi.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Bi("c",n,e,Mi,0,0,-1),Bi("t",n,e,Mi,0,0,1),Bi("n1",n,e,Mi,-r,-i,-1),Bi("n2",n,e,Mi,r,-i,-1),Bi("n3",n,e,Mi,-r,i,-1),Bi("n4",n,e,Mi,r,i,-1),Bi("f1",n,e,Mi,-r,-i,1),Bi("f2",n,e,Mi,r,-i,1),Bi("f3",n,e,Mi,-r,i,1),Bi("f4",n,e,Mi,r,i,1),Bi("u1",n,e,Mi,r*.7,i*1.1,-1),Bi("u2",n,e,Mi,-r*.7,i*1.1,-1),Bi("u3",n,e,Mi,0,i*2,-1),Bi("cf1",n,e,Mi,-r,0,1),Bi("cf2",n,e,Mi,r,0,1),Bi("cf3",n,e,Mi,0,-i,1),Bi("cf4",n,e,Mi,0,i,1),Bi("cn1",n,e,Mi,-r,0,-1),Bi("cn2",n,e,Mi,r,0,-1),Bi("cn3",n,e,Mi,0,-i,-1),Bi("cn4",n,e,Mi,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Bi(t,e,n,r,i,o,a){$b.set(i,o,a).unproject(r);const s=e[t];if(s!==void 0){const l=n.getAttribute("position");for(let u=0,c=s.length;u<c;u++)l.setXYZ(s[u],$b.x,$b.y,$b.z)}}const Kb=new ka;class Z7 extends Kf{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),o=new $n;o.setIndex(new Oi(r,1)),o.setAttribute("position",new Oi(i,3)),super(o,new ml({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Kb.setFromObject(this.object),Kb.isEmpty())return;const n=Kb.min,r=Kb.max,i=this.geometry.attributes.position,o=i.array;o[0]=r.x,o[1]=r.y,o[2]=r.z,o[3]=n.x,o[4]=r.y,o[5]=r.z,o[6]=n.x,o[7]=n.y,o[8]=r.z,o[9]=r.x,o[10]=n.y,o[11]=r.z,o[12]=r.x,o[13]=r.y,o[14]=n.z,o[15]=n.x,o[16]=r.y,o[17]=n.z,o[18]=n.x,o[19]=n.y,o[20]=n.z,o[21]=r.x,o[22]=n.y,o[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e){return Kf.prototype.copy.call(this,e),this.object=e.object,this}}class nNe{constructor(){this.type="ShapePath",this.color=new _t,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new j_,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,o,a){return this.currentPath.bezierCurveTo(e,n,r,i,o,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e,n){function r(S){const C=[];for(let M=0,T=S.length;M<T;M++){const R=S[M],I=new vd;I.curves=R.curves,C.push(I)}return C}function i(S,C){const M=C.length;let T=!1;for(let R=M-1,I=0;I<M;R=I++){let A=C[R],N=C[I],L=N.x-A.x,D=N.y-A.y;if(Math.abs(D)>Number.EPSILON){if(D<0&&(A=C[I],L=-L,N=C[R],D=-D),S.y<A.y||S.y>N.y)continue;if(S.y===A.y){if(S.x===A.x)return!0}else{const W=D*(S.x-A.x)-L*(S.y-A.y);if(W===0)return!0;if(W<0)continue;T=!T}}else{if(S.y!==A.y)continue;if(N.x<=S.x&&S.x<=A.x||A.x<=S.x&&S.x<=N.x)return!0}}return T}const o=Xu.isClockWise,a=this.subPaths;if(a.length===0)return[];if(n===!0)return r(a);let s,l,u;const c=[];if(a.length===1)return l=a[0],u=new vd,u.curves=l.curves,c.push(u),c;let h=!o(a[0].getPoints());h=e?!h:h;const f=[],m=[];let y=[],x=0,b;m[x]=void 0,y[x]=[];for(let S=0,C=a.length;S<C;S++)l=a[S],b=l.getPoints(),s=o(b),s=e?!s:s,s?(!h&&m[x]&&x++,m[x]={s:new vd,p:b},m[x].s.curves=l.curves,h&&x++,y[x]=[]):y[x].push({h:l,p:b[0]});if(!m[0])return r(a);if(m.length>1){let S=!1,C=0;for(let M=0,T=m.length;M<T;M++)f[M]=[];for(let M=0,T=m.length;M<T;M++){const R=y[M];for(let I=0;I<R.length;I++){const A=R[I];let N=!0;for(let L=0;L<m.length;L++)i(A.p,m[L].p)&&(M!==L&&C++,N?(N=!1,f[L].push(A)):S=!0);N&&f[M].push(A)}}C>0&&S===!1&&(y=f)}let w;for(let S=0,C=m.length;S<C;S++){u=m[S].s,c.push(u),w=y[S];for(let M=0,T=w.length;M<T;M++)u.holes.push(w[M].h)}return c}}class qb{static toHalfFloat(e){Math.abs(e)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),e=Gi(e,-65504,65504),T5[0]=e;const n=P5[0],r=n>>23&511;return Qs[r]+((n&8388607)>>el[r])}static fromHalfFloat(e){const n=e>>10;return P5[0]=dN[Q7[n]+(e&1023)]+Zm[n],T5[0]}}const J7=new ArrayBuffer(4),T5=new Float32Array(J7),P5=new Uint32Array(J7),Qs=new Uint32Array(512),el=new Uint32Array(512);for(let t=0;t<256;++t){const e=t-127;e<-27?(Qs[t]=0,Qs[t|256]=32768,el[t]=24,el[t|256]=24):e<-14?(Qs[t]=1024>>-e-14,Qs[t|256]=1024>>-e-14|32768,el[t]=-e-1,el[t|256]=-e-1):e<=15?(Qs[t]=e+15<<10,Qs[t|256]=e+15<<10|32768,el[t]=13,el[t|256]=13):e<128?(Qs[t]=31744,Qs[t|256]=64512,el[t]=24,el[t|256]=24):(Qs[t]=31744,Qs[t|256]=64512,el[t]=13,el[t|256]=13)}const dN=new Uint32Array(2048),Zm=new Uint32Array(64),Q7=new Uint32Array(64);for(let t=1;t<1024;++t){let e=t<<13,n=0;for(;(e&8388608)===0;)e<<=1,n-=8388608;e&=-8388609,n+=947912704,dN[t]=e|n}for(let t=1024;t<2048;++t)dN[t]=939524096+(t-1024<<13);for(let t=1;t<31;++t)Zm[t]=t<<23;Zm[31]=1199570944;Zm[32]=2147483648;for(let t=33;t<63;++t)Zm[t]=2147483648+(t-32<<23);Zm[63]=3347054592;for(let t=1;t<64;++t)t!==32&&(Q7[t]=1024);Os.create=function(t,e){return console.log("THREE.Curve.create() has been deprecated"),t.prototype=Object.create(Os.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t};j_.prototype.fromPoints=function(t){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(t)};Y7.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};pMe.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};lc.prototype.extractUrlBase=function(t){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),$Ee.extractUrlBase(t)};lc.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};hy.prototype.center=function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)};hy.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()};hy.prototype.isIntersectionBox=function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)};hy.prototype.size=function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)};ka.prototype.center=function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)};ka.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()};ka.prototype.isIntersectionBox=function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)};ka.prototype.isIntersectionSphere=function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)};ka.prototype.size=function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)};Od.prototype.toVector3=function(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")};Gm.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()};ly.prototype.setFromMatrix=function(t){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(t)};q7.prototype.center=function(t){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(t)};Ri.prototype.flattenToArrayOffset=function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)};Ri.prototype.multiplyVector3=function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)};Ri.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")};Ri.prototype.applyToBufferAttribute=function(t){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)};Ri.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")};Ri.prototype.getInverse=function(t){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(t).invert()};Xt.prototype.extractPosition=function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)};Xt.prototype.flattenToArrayOffset=function(t,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)};Xt.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new pe().setFromMatrixColumn(this,3)};Xt.prototype.setRotationFromQuaternion=function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)};Xt.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")};Xt.prototype.multiplyVector3=function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)};Xt.prototype.multiplyVector4=function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)};Xt.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")};Xt.prototype.rotateAxis=function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)};Xt.prototype.crossVector=function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)};Xt.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")};Xt.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")};Xt.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")};Xt.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")};Xt.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")};Xt.prototype.applyToBufferAttribute=function(t){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)};Xt.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")};Xt.prototype.makeFrustum=function(t,e,n,r,i,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,e,r,n,i,o)};Xt.prototype.getInverse=function(t){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(t).invert()};Bu.prototype.isIntersectionLine=function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)};uo.prototype.multiplyVector3=function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)};uo.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()};sc.prototype.isIntersectionBox=function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)};sc.prototype.isIntersectionPlane=function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)};sc.prototype.isIntersectionSphere=function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)};Ki.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()};Ki.prototype.barycoordFromPoint=function(t,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(t,e)};Ki.prototype.midpoint=function(t){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(t)};Ki.prototypenormal=function(t){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(t)};Ki.prototype.plane=function(t){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(t)};Ki.barycoordFromPoint=function(t,e,n,r,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Ki.getBarycoord(t,e,n,r,i)};Ki.normal=function(t,e,n,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Ki.getNormal(t,e,n,r)};vd.prototype.extractAllPoints=function(t){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(t)};vd.prototype.extrude=function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Ed(this,t)};vd.prototype.makeGeometry=function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new tN(this,t)};et.prototype.fromAttribute=function(t,e,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)};et.prototype.distanceToManhattan=function(t){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)};et.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};pe.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")};pe.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")};pe.prototype.getPositionFromMatrix=function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)};pe.prototype.getScaleFromMatrix=function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)};pe.prototype.getColumnFromMatrix=function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)};pe.prototype.applyProjection=function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)};pe.prototype.fromAttribute=function(t,e,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)};pe.prototype.distanceToManhattan=function(t){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)};pe.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};zr.prototype.fromAttribute=function(t,e,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)};zr.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};gr.prototype.getChildByName=function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)};gr.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")};gr.prototype.translate=function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)};gr.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")};gr.prototype.applyMatrix=function(t){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)};Object.defineProperties(gr.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});ci.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")};Object.defineProperties(ci.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),Xbe},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});h7.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};bo.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),e!==void 0&&(this.filmGauge=e),this.setFocalLength(t)};Object.defineProperties(ql.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}});Object.defineProperties(Oi.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===H_},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(H_)}}});Oi.prototype.setDynamic=function(t){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(t===!0?H_:S0),this};Oi.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},Oi.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};$n.prototype.addIndex=function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)};$n.prototype.addAttribute=function(t,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(e&&e.isBufferAttribute)&&!(e&&e.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(t,new Oi(arguments[1],arguments[2]))):t==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(t,e)};$n.prototype.addDrawCall=function(t,e,n){n!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)};$n.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()};$n.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")};$n.prototype.removeAttribute=function(t){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(t)};$n.prototype.applyMatrix=function(t){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)};Object.defineProperties($n.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});cy.prototype.setDynamic=function(t){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(t===!0?H_:S0),this};cy.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};Ed.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")};Ed.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")};Ed.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")};GO.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")};cN.prototype.onUpdate=function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this};Object.defineProperties(fo.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new _t}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=t===jW}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(t){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=t}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}});Object.defineProperties(Wn.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}});Dr.prototype.clearTarget=function(t,e,n,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(t),this.clear(e,n,r)};Dr.prototype.animate=function(t){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(t)};Dr.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()};Dr.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()};Dr.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision};Dr.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()};Dr.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")};Dr.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")};Dr.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")};Dr.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")};Dr.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")};Dr.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")};Dr.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures};Dr.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")};Dr.prototype.enableScissorTest=function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)};Dr.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")};Dr.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")};Dr.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")};Dr.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")};Dr.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")};Dr.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")};Dr.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")};Dr.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")};Dr.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")};Dr.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()};Object.defineProperties(Dr.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(t){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=t===!0?ni:fl}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}},gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});Object.defineProperties(c7.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});Object.defineProperties(sr.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}});QEe.prototype.load=function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const e=this;return new YEe().load(t,function(r){e.setBuffer(r)}),this};HO.prototype.updateCubeMap=function(t,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(t,e)};HO.prototype.clear=function(t,e,n,r){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(t,e,n,r)};sh.crossOrigin=void 0;sh.loadTexture=function(t,e,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const i=new F7;i.setCrossOrigin(this.crossOrigin);const o=i.load(t,n,void 0,r);return e&&(o.mapping=e),o};sh.loadTextureCube=function(t,e,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const i=new D7;i.setCrossOrigin(this.crossOrigin);const o=i.load(t,n,void 0,r);return e&&(o.mapping=e),o};sh.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};sh.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:DO}}));typeof window!="undefined"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=DO);const ej=100,Wt=1/ej,Br=ej,IS=.1,LS=1e4,tj=Number.EPSILON,Qa=100*Wt,Zu=Qa*.5;var oi=new bo(75,1,IS,LS);const[If,Qt]=Lt(oi),[DS,Xl]=Lt([]),A5=IO(DS,Xl),bMe=LO(DS,Xl),R5=obe(DS,Xl),nj=new WeakSet,[O0,Xo]=Lt(void 0),[rNe,rj]=Lt(!1);var wMe=!!window.chrome;const[_Me,N0]=Lt("#000000"),[SMe,fN]=Lt(!1),ij=()=>{const t=navigator.userAgent;return/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(t)?!0:!!/Mobile|Android|iP(hone|od)|IEMobile|BlackBerry|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(t)},[CMe,oj]=Lt(ij()),EMe=as(()=>CMe(ij()),100,"trailing");window.addEventListener("resize",EMe);const aj=()=>new Dr({powerPreference:"high-performance",alpha:N0()==="transparent",logarithmicDepthBuffer:wMe&&!oj()?fN():!1,antialias:!0});let gg;const[MMe,Ur]=Lt(gg=aj());yr(()=>{const t=gg!=null?gg:aj();return MMe(t),()=>{t.dispose(),gg=void 0}},[N0,fN,oj]);let hN=rj();rj(t=>hN=t);const sj=(t,e,n)=>{let r=0;const i=setInterval(()=>{document.hidden||hN||(n(),e!==-1&&++r>=e&&clearInterval(i))},t);return new Yr(()=>clearInterval(i))},RA=new Set;let O5=Date.now(),N5=0;Ur(t=>{t.setAnimationLoop(()=>{const e=Date.now(),n=1e3/(e-O5);if(O5=e,!(hN||++N5<Math.round(n/60))){N5=0;for(const r of RA)r()}})});const so=t=>(RA.add(t),new Yr(()=>RA.delete(t))),TMe="modulepreload",k5={},PMe="./",Wi=function(e,n){return!n||n.length===0?e():Promise.all(n.map(r=>{if(r=`${PMe}${r}`,r in k5)return;k5[r]=!0;const i=r.endsWith(".css"),o=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${o}`))return;const a=document.createElement("link");if(a.rel=i?"stylesheet":TMe,i||(a.as="script",a.crossOrigin=""),a.href=r,document.head.appendChild(a),i)return new Promise((s,l)=>{a.addEventListener("load",s),a.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>e())},[AMe,FS]=ss(),Vg=as(AMe,0,"trailing"),jo=new Set;class lj extends kO{constructor(e){super(),this.outerObject3d=e,e.userData.manager=this,jo.add(this),Vg()}get uuid(){return this.outerObject3d.uuid}_append(e){var n,r,i;jo.delete(e),Vg(),(r=(n=e.parent)===null||n===void 0?void 0:n.children)===null||r===void 0||r.delete(e),e.parent=this,((i=this.children)!==null&&i!==void 0?i:this.children=new Set).add(e)}append(e){this._append(e),this.outerObject3d.add(e.outerObject3d)}attach(e){this._append(e),this.outerObject3d.attach(e.outerObject3d)}dispose(){var e,n,r;if(super.dispose(),jo.delete(this),Vg(),(n=(e=this.parent)===null||e===void 0?void 0:e.children)===null||n===void 0||n.delete(this),this.parent=void 0,(r=this.outerObject3d.parent)===null||r===void 0||r.remove(this.outerObject3d),this.children)for(const i of this.children)i.dispose();return this}}const[uj,pN]=Lt(0),cj=()=>uj(pN()+1),K_=()=>uj(pN()-1),dj=[0];var RMe=dj;const fj=t=>dj[0]+=t.loaded;class OMe extends GEe{constructor(e){super(e),this.type=Vl}parse(e){const s=function(C,M){switch(C){case 1:console.error("THREE.RGBELoader Read Error: "+(M||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(M||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(M||""));break;default:case 4:console.error("THREE.RGBELoader: Error: "+(M||""))}return-1},h=`
`,f=function(C,M,T){M=M||1024;let I=C.pos,A=-1,N=0,L="",D=String.fromCharCode.apply(null,new Uint16Array(C.subarray(I,I+128)));for(;0>(A=D.indexOf(h))&&N<M&&I<C.byteLength;)L+=D,N+=D.length,I+=128,D+=String.fromCharCode.apply(null,new Uint16Array(C.subarray(I,I+128)));return-1<A?(T!==!1&&(C.pos+=N+A+1),L+D.slice(0,A)):!1},m=function(C){const M=/^#\?(\S+)/,T=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,R=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,I=/^\s*FORMAT=(\S+)\s*$/,A=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,N={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let L,D;if(C.pos>=C.byteLength||!(L=f(C)))return s(1,"no header found");if(!(D=L.match(M)))return s(3,"bad initial token");for(N.valid|=1,N.programtype=D[1],N.string+=L+`
`;L=f(C),L!==!1;){if(N.string+=L+`
`,L.charAt(0)==="#"){N.comments+=L+`
`;continue}if((D=L.match(T))&&(N.gamma=parseFloat(D[1])),(D=L.match(R))&&(N.exposure=parseFloat(D[1])),(D=L.match(I))&&(N.valid|=2,N.format=D[1]),(D=L.match(A))&&(N.valid|=4,N.height=parseInt(D[1],10),N.width=parseInt(D[2],10)),N.valid&2&&N.valid&4)break}return N.valid&2?N.valid&4?N:s(3,"missing image size specifier"):s(3,"missing format specifier")},y=function(C,M,T){const R=M;if(R<8||R>32767||C[0]!==2||C[1]!==2||C[2]&128)return new Uint8Array(C);if(R!==(C[2]<<8|C[3]))return s(3,"wrong scanline width");const I=new Uint8Array(4*M*T);if(!I.length)return s(4,"unable to allocate buffer space");let A=0,N=0;const L=4*R,D=new Uint8Array(4),W=new Uint8Array(L);let V=T;for(;V>0&&N<C.byteLength;){if(N+4>C.byteLength)return s(1);if(D[0]=C[N++],D[1]=C[N++],D[2]=C[N++],D[3]=C[N++],D[0]!=2||D[1]!=2||(D[2]<<8|D[3])!=R)return s(3,"bad rgbe scanline format");let B=0,K;for(;B<L&&N<C.byteLength;){K=C[N++];const G=K>128;if(G&&(K-=128),K===0||B+K>L)return s(3,"bad scanline data");if(G){const H=C[N++];for(let Y=0;Y<K;Y++)W[B++]=H}else W.set(C.subarray(N,N+K),B),B+=K,N+=K}const j=R;for(let G=0;G<j;G++){let H=0;I[A]=W[G+H],H+=R,I[A+1]=W[G+H],H+=R,I[A+2]=W[G+H],H+=R,I[A+3]=W[G+H],A+=4}V--}return I},x=function(C,M,T,R){const I=C[M+3],A=Math.pow(2,I-128)/255;T[R+0]=C[M+0]*A,T[R+1]=C[M+1]*A,T[R+2]=C[M+2]*A,T[R+3]=1},b=function(C,M,T,R){const I=C[M+3],A=Math.pow(2,I-128)/255;T[R+0]=qb.toHalfFloat(Math.min(C[M+0]*A,65504)),T[R+1]=qb.toHalfFloat(Math.min(C[M+1]*A,65504)),T[R+2]=qb.toHalfFloat(Math.min(C[M+2]*A,65504)),T[R+3]=qb.toHalfFloat(1)},w=new Uint8Array(e);w.pos=0;const S=m(w);if(S!==-1){const C=S.width,M=S.height,T=y(w.subarray(w.pos),C,M);if(T!==-1){let R,I,A,N;switch(this.type){case al:N=T.length/4;const L=new Float32Array(N*4);for(let W=0;W<N;W++)x(T,W*4,L,W*4);R=L,A=al;break;case Vl:N=T.length/4;const D=new Uint16Array(N*4);for(let W=0;W<N;W++)b(T,W*4,D,W*4);R=D,A=Vl;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type);break}return{width:C,height:M,data:R,header:S.string,gamma:S.gamma,exposure:S.exposure,format:I,type:A}}}return null}setDataType(e){return this.type=e,this}load(e,n,r,i){function o(a,s){switch(a.type){case al:a.encoding=fl,a.minFilter=Ai,a.magFilter=Ai,a.generateMipmaps=!1,a.flipY=!0;break;case Vl:a.encoding=fl,a.minFilter=Ai,a.magFilter=Ai,a.generateMipmaps=!1,a.flipY=!0;break}n&&n(a,s)}return super.load(e,o,r,i)}}const NMe=new Map,hj=new F7,kMe=new OMe,U2=new UW;var Uo=(t,e)=>(e&&U2.once(t,()=>queueMicrotask(e)),tu(NMe,t,()=>(cj(),(t.toLowerCase().toLowerCase().endsWith(".hdr")?kMe:hj).load(t,i=>{i.wrapS=i.wrapT=_0,U2.setState(t),K_()},fj,()=>{U2.setState(t),K_()}))));const[pj,q_]=Lt("default"),[IMe,OA]=Lt(1);var en=new GO;yr(()=>{const t=q_();if(!t)return;if(typeof t=="string"&&t!=="default"){if(t==="studio"){const a=new Yr;return Wi(()=>Promise.resolve().then(function(){return xAe}),void 0).then(({default:s})=>{if(a.done)return;const l=new s;jo.delete(l),a.then(()=>l.dispose()),a.watch(OA(u=>{l.area=u,l.scale=u}))}),()=>{a.cancel()}}let i=!0;const o=Uo(t,()=>i&&(en.environment=o));return o.mapping=w0,()=>{i=!1,en.environment=null}}const e=new iN(16777215,6710886);en.add(e);const n=new aN(16777215,.5);n.position.set(0,1,1),en.add(n);const r=OA(i=>{e.intensity=i,n.intensity=i*.5});return()=>{e.dispose(),en.remove(e),n.dispose(),en.remove(n),r.cancel()}},[q_]);const[mj,X_]=Lt(void 0);yr(()=>{const t=X_();if(!!t)return en.fog=new ES(t,0,100),()=>{en.fog=null}},[X_]);const LMe=new Map,DMe=new D7;var FMe=t=>tu(LMe,t.join(","),()=>(cj(),DMe.load(t,K_,fj,K_)));const[zMe,NA]=Lt(void 0),[mN,k0]=Lt([]),BMe=IO(mN,k0),VMe=LO(mN,k0);yr(()=>{var t;const e=NA(),n=N0(),r=(t=ebe(k0()))===null||t===void 0?void 0:t.texture;if(r)if(Array.isArray(r))en.background=FMe(r);else{let i=!0;const o=Uo(r,()=>i&&(en.background=o));return o.mapping=w0,()=>{i=!1}}else e?en.background=Uo(e):n?n==="transparent"?en.background=null:en.background=new _t(n):en.background=new _t("black")},[N0,NA,k0]);yr(()=>{var t;const e=Xo();if(!e||Qt()!==oi)return;const n=new Z7((t=e.object3d)!==null&&t!==void 0?t:e.outerObject3d),r=requestAnimationFrame(()=>en.add(n)),i=so(()=>n.update());return()=>{cancelAnimationFrame(r),en.remove(n),i.cancel()}},[Xo,Qt]);yr(()=>{const t=Xl();if(!t.length||Qt()!==oi)return;const e=[];for(const r of t){const i=new Z7(r.outerObject3d);en.add(i),e.push(i)}const n=so(()=>{for(const r of e)r.update()});return()=>{for(const r of e)en.remove(r);n.cancel()}},[Xl,Qt]);const[kA,qf]=Lt(!1),[UMe,IA]=Lt(1),zS=375,BS=667,vN=5,gN=175,[HMe,wo]=Lt([zS,BS]),LA=([t,e])=>HMe([Math.max(t,1),Math.max(e,1)]),[WMe,I0]=Lt("balanced"),[jMe,Xf]=Lt(1),[iNe,Sm]=Lt(!1),[GMe,vj]=Lt(20),[$Me,KMe]=Lt(0),[DA,FA]=Lt(!1),[qMe,zA]=Lt(10),[XMe,Y_]=Lt(!1),[YMe,BA]=Lt(!1),[ZMe,gj]=Lt(0),[JMe,yj]=Lt(1.5),[QMe,xj]=Lt(0),[e2e,VA]=Lt("linear"),[t2e,bj]=Lt(.01),[n2e,UA]=Lt(!1),[r2e,wj]=Lt(.8),[i2e,HA]=Lt("#ffffff"),[o2e,WA]=Lt(void 0),[a2e,jA]=Lt(void 0),[s2e,_j]=Lt(0),[l2e,Sj]=Lt(3),[u2e,Cj]=Lt(1),[c2e,GA]=Lt(!1),py={onLoop:Function,proxy:Object},Jm={},d2e=Jt(nt({},py),{texture:[String,Array]}),f2e=nt({},Jm);class uc extends lj{get proxy(){return this._proxy}set proxy(e){this._proxy!==e&&(this._proxy&&(this._proxy.__target=void 0),this._proxy=e,e&&(e.__target=this))}timer(e,n,r){return this.watch(sj(e,n,r))}loop(e){return this.watch(so(e))}queueMicrotask(e){queueMicrotask(()=>!this.done&&e())}cancellable(e){return this.watch(new Yr(e))}createEffect(e,n){return this.watch(yr(e,n))}get onLoop(){return this._onLoop}set onLoop(e){var n;this._onLoop=e,(n=this._loopHandle)===null||n===void 0||n.cancel(),e&&(this._loopHandle=this.loop(e))}}class my extends uc{constructor(){super(new Xi),BMe(this)}dispose(){return super.dispose(),VMe(this),this}get texture(){return this._texture}set texture(e){this._texture=e,mN([...k0()])}}my.componentName="skybox";my.defaults=f2e;my.schema=d2e;const $A=new my;jo.delete($A);var ll={get pixelRatio(){return Xf()},set pixelRatio(t){jMe(t)},get performance(){return I0()},set performance(t){WMe(t)},get defaultFog(){return X_()},set defaultFog(t){mj(t)},get defaultLight(){return q_()},set defaultLight(t){pj(t)},get defaultLightScale(){return OA()},set defaultLightScale(t){IMe(t)},get skybox(){return $A.texture},set skybox(t){$A.texture=t},get defaultOrbitControls(){return qf()},set defaultOrbitControls(t){kA(t)},get gridHelper(){return FA()},set gridHelper(t){DA(t)},get gridHelperSize(){return zA()},set gridHelperSize(t){qMe(t)},get gravity(){return vj()},set gravity(t){GMe(t)},get repulsion(){return KMe()},set repulsion(t){$Me(t)},wasmPath:"https://unpkg.com/lingo3d-wasm@1.0.0/assets/",autoMount:!1,get logarithmicDepth(){return fN()},set logarithmicDepth(t){SMe(t)},get encoding(){return VA()},set encoding(t){e2e(t)},get exposure(){return IA()},set exposure(t){UMe(t)},get pbr(){return GA()},set pbr(t){c2e(t)},get bloom(){return BA()},set bloom(t){YMe(t)},get bloomStrength(){return yj()},set bloomStrength(t){JMe(t)},get bloomRadius(){return gj()},set bloomRadius(t){ZMe(t)},get bloomThreshold(){return xj()},set bloomThreshold(t){QMe(t)},get ambientOcclusion(){return Y_()},set ambientOcclusion(t){XMe(t)},get outlineColor(){return HA()},set outlineColor(t){i2e(t)},get outlineHiddenColor(){return WA()},set outlineHiddenColor(t){o2e(t)},get outlinePattern(){return jA()},set outlinePattern(t){a2e(t)},get outlinePulse(){return _j()},set outlinePulse(t){s2e(t)},get outlineStrength(){return Sj()},set outlineStrength(t){l2e(t)},get outlineThickness(){return Cj()},set outlineThickness(t){u2e(t)},get lensDistortion(){return UA()},set lensDistortion(t){n2e(t)},get lensIor(){return wj()},set lensIor(t){r2e(t)},get lensBand(){return bj()},set lensBand(t){t2e(t)},get texture(){return NA()},set texture(t){zMe(t)},get color(){return N0()},set color(t){_Me(t)}};const[h2e,Cm]=Lt(void 0),[p2e,Em]=Lt(void 0),Z_={createButton(t,e){e&&console.error('THREE.VRButton: The "options" parameter has been removed. Please set the reference space type via renderer.xr.setReferenceSpaceType() instead.');const n=document.createElement("button");function r(){let l=null;async function u(h){h.addEventListener("end",c),await t.xr.setSession(h),n.textContent="EXIT VR",l=h}function c(){l.removeEventListener("end",c),n.textContent="ENTER VR",l=null}n.style.display="",n.style.cursor="pointer",n.style.left="calc(50% - 50px)",n.style.width="100px",n.textContent="ENTER VR",n.onmouseenter=function(){n.style.opacity="1.0"},n.onmouseleave=function(){n.style.opacity="0.5"},n.onclick=function(){if(l===null){const h={optionalFeatures:["local-floor","bounded-floor","hand-tracking","layers"]};navigator.xr.requestSession("immersive-vr",h).then(u)}else l.end()}}function i(){n.style.display="",n.style.cursor="auto",n.style.left="calc(50% - 75px)",n.style.width="150px",n.onmouseenter=null,n.onmouseleave=null,n.onclick=null}function o(){i(),n.textContent="VR NOT SUPPORTED"}function a(l){i(),console.warn("Exception when trying to call xr.isSessionSupported",l),n.textContent="VR NOT ALLOWED"}function s(l){l.style.position="absolute",l.style.bottom="20px",l.style.padding="12px 6px",l.style.border="1px solid #fff",l.style.borderRadius="4px",l.style.background="rgba(0,0,0,0.1)",l.style.color="#fff",l.style.font="normal 13px sans-serif",l.style.textAlign="center",l.style.opacity="0.5",l.style.outline="none",l.style.zIndex="999"}if("xr"in navigator)return n.id="VRButton",n.style.display="none",s(n),navigator.xr.isSessionSupported("immersive-vr").then(function(l){l?r():o(),l&&Z_.xrSessionIsGranted&&n.click()}).catch(a),n;{const l=document.createElement("a");return window.isSecureContext===!1?(l.href=document.location.href.replace(/^http:/,"https:"),l.innerHTML="WEBXR NEEDS HTTPS"):(l.href="https://immersiveweb.dev/",l.innerHTML="WEBXR NOT AVAILABLE"),l.style.left="calc(50% - 90px)",l.style.width="180px",l.style.textDecoration="none",s(l),l}},xrSessionIsGranted:!1,registerSessionGrantedListener(){if("xr"in navigator){if(/WebXRViewer\//i.test(navigator.userAgent))return;navigator.xr.addEventListener("sessiongranted",()=>{Z_.xrSessionIsGranted=!0})}}};Z_.registerSessionGrantedListener();const gd=document.createElement("div");Object.assign(gd.style,{position:"absolute",left:"0px",top:"0px",width:"100%",height:"100%"});const Jr=document.createElement("div");Object.assign(Jr.style,{position:"absolute",left:"0px",top:"0px",width:"100%",zIndex:"10"});gd.appendChild(Jr);Em(t=>Jr.style.height=t?"50%":"100%");const Ej=[Jr.getBoundingClientRect()],m2e=new ResizeObserver(()=>Ej[0]=Jr.getBoundingClientRect());m2e.observe(Jr);queueMicrotask(()=>{if(!(!ll.autoMount||gd.parentElement)){if(typeof ll.autoMount=="string"){const t=document.querySelector(ll.autoMount);if(!t)return;t.appendChild(gd),new ResizeObserver(()=>{const n=[t.clientWidth,t.clientHeight];LA(n)}).observe(t);return}window.addEventListener("resize",()=>{LA([window.innerWidth,window.innerHeight])}),document.body.appendChild(gd)}});const L0=document.createElement("div");Object.assign(L0.style,{border:"1px solid blue",position:"absolute",left:"50%",top:"50%",transform:"translateX(-50%) translateY(-50%)",pointerEvents:"none"});Jr.appendChild(L0);yr(()=>{var t;const[e,n]=(t=Cm())!==null&&t!==void 0?t:wo(),[r,i]=wo();L0.style.display=Em()||r===e&&i===n?"none":"block"},[wo,Cm,Em]);yr(()=>{const t=Ur().domElement;return gd.appendChild(t),Object.assign(t.style,{position:"absolute",left:"0px",top:"0px"}),()=>{gd.removeChild(t)}},[Ur]);yr(()=>{const t=Ur(),[e,n]=wo();t.setSize(e,n),t.setPixelRatio(Xf())},[Ur,wo,Xf]);yr(()=>{const t=Ur();t.shadowMap.enabled=I0()!=="speed"},[Ur,I0]);yr(()=>{const t=Ur();t.physicallyCorrectLights=GA()},[Ur,GA]);yr(()=>{const t=Ur(),e=IA();t.toneMapping=e!==1?KW:jl,t.toneMappingExposure=e},[IA,Ur]);yr(()=>{const t=Ur(),e=VA();t.outputEncoding=e==="linear"?fl:ni},[VA,Ur]);yr(()=>{if(Sm()!=="webxr")return;const t=Ur();t.xr.enabled=!0;const e=Z_.createButton(t);return Jr.appendChild(e),e.ontouchstart=()=>{var n;return(n=e.onclick)===null||n===void 0?void 0:n.call(e,new MouseEvent("click"))},()=>{t.xr.enabled=!1,Jr.removeChild(e)}},[Sm,Ur]);const[oNe,v2e]=Lt(!0);class Mj{constructor(e,n){this.x=e,this.y=n}}class H2{constructor(e,n,r){this.x=e,this.y=n,this.z=r}}const ro=180/Math.PI,Xr=Math.PI/180,g2e=(t,e,n,r)=>Math.sqrt((t-n)**2+(e-r)**2),Tj=(t,e,n,r,i,o)=>Math.sqrt((t-r)**2+(e-i)**2+(n-o)**2),y2e=(t,e,n)=>{const r=n*Xr,i=t.x-e.x,o=t.y-e.y,a=i*Math.cos(r)-o*Math.sin(r),s=i*Math.sin(r)+o*Math.cos(r);return new Mj(a+e.x,s+e.y)},Pj=(t,e,n,r)=>{const i=n*=Xr;return new Mj(t+r*Math.cos(i),e+r*Math.sin(i))},I5={type:"change"},W2={type:"start"},L5={type:"end"};class x2e extends Rd{constructor(e,n){super(),n===void 0&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),n===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=e,this.domElement=n,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new pe,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:Yh.ROTATE,MIDDLE:Yh.DOLLY,RIGHT:Yh.PAN},this.touches={ONE:Zh.ROTATE,TWO:Zh.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return s.phi},this.getAzimuthalAngle=function(){return s.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(Q){Q.addEventListener("keydown",qe),this._domElementKeyEvents=Q},this.saveState=function(){r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=function(){r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(I5),r.update(),o=i.NONE},this.update=function(){const Q=new pe,_e=new uo().setFromUnitVectors(e.up,new pe(0,1,0)),ke=_e.clone().invert(),we=new pe,de=new uo,je=2*Math.PI;return function(){const vt=r.object.position;Q.copy(vt).sub(r.target),Q.applyQuaternion(_e),s.setFromVector3(Q),r.autoRotate&&o===i.NONE&&N(I()),r.enableDamping?(s.theta+=l.theta*r.dampingFactor,s.phi+=l.phi*r.dampingFactor):(s.theta+=l.theta,s.phi+=l.phi);let ot=r.minAzimuthAngle,ht=r.maxAzimuthAngle;return isFinite(ot)&&isFinite(ht)&&(ot<-Math.PI?ot+=je:ot>Math.PI&&(ot-=je),ht<-Math.PI?ht+=je:ht>Math.PI&&(ht-=je),ot<=ht?s.theta=Math.max(ot,Math.min(ht,s.theta)):s.theta=s.theta>(ot+ht)/2?Math.max(ot,s.theta):Math.min(ht,s.theta)),s.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,s.phi)),s.makeSafe(),s.radius*=u,s.radius=Math.max(r.minDistance,Math.min(r.maxDistance,s.radius)),r.enableDamping===!0?r.target.addScaledVector(c,r.dampingFactor):r.target.add(c),Q.setFromSpherical(s),Q.applyQuaternion(ke),vt.copy(r.target).add(Q),r.object.lookAt(r.target),r.enableDamping===!0?(l.theta*=1-r.dampingFactor,l.phi*=1-r.dampingFactor,c.multiplyScalar(1-r.dampingFactor)):(l.set(0,0,0),c.set(0,0,0)),u=1,h||we.distanceToSquared(r.object.position)>a||8*(1-de.dot(r.object.quaternion))>a?(r.dispatchEvent(I5),we.copy(r.object.position),de.copy(r.object.quaternion),h=!1,!0):!1}}(),this.dispose=function(){r.domElement.removeEventListener("contextmenu",$),r.domElement.removeEventListener("pointerdown",Me),r.domElement.removeEventListener("pointercancel",We),r.domElement.removeEventListener("wheel",Be),r.domElement.removeEventListener("pointermove",ze),r.domElement.removeEventListener("pointerup",Re),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",qe)};const r=this,i={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let o=i.NONE;const a=1e-6,s=new x5,l=new x5;let u=1;const c=new pe;let h=!1;const f=new et,m=new et,y=new et,x=new et,b=new et,w=new et,S=new et,C=new et,M=new et,T=[],R={};function I(){return 2*Math.PI/60/60*r.autoRotateSpeed}function A(){return Math.pow(.95,r.zoomSpeed)}function N(Q){l.theta-=Q}function L(Q){l.phi-=Q}const D=function(){const Q=new pe;return function(ke,we){Q.setFromMatrixColumn(we,0),Q.multiplyScalar(-ke),c.add(Q)}}(),W=function(){const Q=new pe;return function(ke,we){r.screenSpacePanning===!0?Q.setFromMatrixColumn(we,1):(Q.setFromMatrixColumn(we,0),Q.crossVectors(r.object.up,Q)),Q.multiplyScalar(ke),c.add(Q)}}(),V=function(){const Q=new pe;return function(ke,we){const de=r.domElement;if(r.object.isPerspectiveCamera){const je=r.object.position;Q.copy(je).sub(r.target);let Ze=Q.length();Ze*=Math.tan(r.object.fov/2*Math.PI/180),D(2*ke*Ze/de.clientHeight,r.object.matrix),W(2*we*Ze/de.clientHeight,r.object.matrix)}else r.object.isOrthographicCamera?(D(ke*(r.object.right-r.object.left)/r.object.zoom/de.clientWidth,r.object.matrix),W(we*(r.object.top-r.object.bottom)/r.object.zoom/de.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}}();function B(Q){r.object.isPerspectiveCamera?u/=Q:r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom*Q)),r.object.updateProjectionMatrix(),h=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function K(Q){r.object.isPerspectiveCamera?u*=Q:r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/Q)),r.object.updateProjectionMatrix(),h=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function j(Q){f.set(Q.clientX,Q.clientY)}function G(Q){S.set(Q.clientX,Q.clientY)}function H(Q){x.set(Q.clientX,Q.clientY)}function Y(Q){m.set(Q.clientX,Q.clientY),y.subVectors(m,f).multiplyScalar(r.rotateSpeed);const _e=r.domElement;N(2*Math.PI*y.x/_e.clientHeight),L(2*Math.PI*y.y/_e.clientHeight),f.copy(m),r.update()}function Z(Q){C.set(Q.clientX,Q.clientY),M.subVectors(C,S),M.y>0?B(A()):M.y<0&&K(A()),S.copy(C),r.update()}function oe(Q){b.set(Q.clientX,Q.clientY),w.subVectors(b,x).multiplyScalar(r.panSpeed),V(w.x,w.y),x.copy(b),r.update()}function re(Q){Q.deltaY<0?K(A()):Q.deltaY>0&&B(A()),r.update()}function se(Q){let _e=!1;switch(Q.code){case r.keys.UP:V(0,r.keyPanSpeed),_e=!0;break;case r.keys.BOTTOM:V(0,-r.keyPanSpeed),_e=!0;break;case r.keys.LEFT:V(r.keyPanSpeed,0),_e=!0;break;case r.keys.RIGHT:V(-r.keyPanSpeed,0),_e=!0;break}_e&&(Q.preventDefault(),r.update())}function ce(){if(T.length===1)f.set(T[0].pageX,T[0].pageY);else{const Q=.5*(T[0].pageX+T[1].pageX),_e=.5*(T[0].pageY+T[1].pageY);f.set(Q,_e)}}function ye(){if(T.length===1)x.set(T[0].pageX,T[0].pageY);else{const Q=.5*(T[0].pageX+T[1].pageX),_e=.5*(T[0].pageY+T[1].pageY);x.set(Q,_e)}}function fe(){const Q=T[0].pageX-T[1].pageX,_e=T[0].pageY-T[1].pageY,ke=Math.sqrt(Q*Q+_e*_e);S.set(0,ke)}function De(){r.enableZoom&&fe(),r.enablePan&&ye()}function Oe(){r.enableZoom&&fe(),r.enableRotate&&ce()}function Fe(Q){if(T.length==1)m.set(Q.pageX,Q.pageY);else{const ke=me(Q),we=.5*(Q.pageX+ke.x),de=.5*(Q.pageY+ke.y);m.set(we,de)}y.subVectors(m,f).multiplyScalar(r.rotateSpeed);const _e=r.domElement;N(2*Math.PI*y.x/_e.clientHeight),L(2*Math.PI*y.y/_e.clientHeight),f.copy(m)}function Ee(Q){if(T.length===1)b.set(Q.pageX,Q.pageY);else{const _e=me(Q),ke=.5*(Q.pageX+_e.x),we=.5*(Q.pageY+_e.y);b.set(ke,we)}w.subVectors(b,x).multiplyScalar(r.panSpeed),V(w.x,w.y),x.copy(b)}function Ye(Q){const _e=me(Q),ke=Q.pageX-_e.x,we=Q.pageY-_e.y,de=Math.sqrt(ke*ke+we*we);C.set(0,de),M.set(0,Math.pow(C.y/S.y,r.zoomSpeed)),B(M.y),S.copy(C)}function be(Q){r.enableZoom&&Ye(Q),r.enablePan&&Ee(Q)}function Ce(Q){r.enableZoom&&Ye(Q),r.enableRotate&&Fe(Q)}function Me(Q){r.enabled!==!1&&(T.length===0&&(r.domElement.setPointerCapture(Q.pointerId),r.domElement.addEventListener("pointermove",ze),r.domElement.addEventListener("pointerup",Re)),U(Q),Q.pointerType==="touch"?te(Q):Ue(Q))}function ze(Q){r.enabled!==!1&&(Q.pointerType==="touch"?k(Q):Ve(Q))}function Re(Q){ne(Q),T.length===0&&(r.domElement.releasePointerCapture(Q.pointerId),r.domElement.removeEventListener("pointermove",ze),r.domElement.removeEventListener("pointerup",Re)),r.dispatchEvent(L5),o=i.NONE}function We(Q){ne(Q)}function Ue(Q){let _e;switch(Q.button){case 0:_e=r.mouseButtons.LEFT;break;case 1:_e=r.mouseButtons.MIDDLE;break;case 2:_e=r.mouseButtons.RIGHT;break;default:_e=-1}switch(_e){case Yh.DOLLY:if(r.enableZoom===!1)return;G(Q),o=i.DOLLY;break;case Yh.ROTATE:if(Q.ctrlKey||Q.metaKey||Q.shiftKey){if(r.enablePan===!1)return;H(Q),o=i.PAN}else{if(r.enableRotate===!1)return;j(Q),o=i.ROTATE}break;case Yh.PAN:if(Q.ctrlKey||Q.metaKey||Q.shiftKey){if(r.enableRotate===!1)return;j(Q),o=i.ROTATE}else{if(r.enablePan===!1)return;H(Q),o=i.PAN}break;default:o=i.NONE}o!==i.NONE&&r.dispatchEvent(W2)}function Ve(Q){if(r.enabled!==!1)switch(o){case i.ROTATE:if(r.enableRotate===!1)return;Y(Q);break;case i.DOLLY:if(r.enableZoom===!1)return;Z(Q);break;case i.PAN:if(r.enablePan===!1)return;oe(Q);break}}function Be(Q){r.enabled===!1||r.enableZoom===!1||o!==i.NONE||(Q.preventDefault(),r.dispatchEvent(W2),re(Q),r.dispatchEvent(L5))}function qe(Q){r.enabled===!1||r.enablePan===!1||se(Q)}function te(Q){switch(ge(Q),T.length){case 1:switch(r.touches.ONE){case Zh.ROTATE:if(r.enableRotate===!1)return;ce(),o=i.TOUCH_ROTATE;break;case Zh.PAN:if(r.enablePan===!1)return;ye(),o=i.TOUCH_PAN;break;default:o=i.NONE}break;case 2:switch(r.touches.TWO){case Zh.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;De(),o=i.TOUCH_DOLLY_PAN;break;case Zh.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Oe(),o=i.TOUCH_DOLLY_ROTATE;break;default:o=i.NONE}break;default:o=i.NONE}o!==i.NONE&&r.dispatchEvent(W2)}function k(Q){switch(ge(Q),o){case i.TOUCH_ROTATE:if(r.enableRotate===!1)return;Fe(Q),r.update();break;case i.TOUCH_PAN:if(r.enablePan===!1)return;Ee(Q),r.update();break;case i.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;be(Q),r.update();break;case i.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Ce(Q),r.update();break;default:o=i.NONE}}function $(Q){r.enabled!==!1&&Q.preventDefault()}function U(Q){T.push(Q)}function ne(Q){delete R[Q.pointerId];for(let _e=0;_e<T.length;_e++)if(T[_e].pointerId==Q.pointerId){T.splice(_e,1);return}}function ge(Q){let _e=R[Q.pointerId];_e===void 0&&(_e=new et,R[Q.pointerId]=_e),_e.set(Q.pageX,Q.pageY)}function me(Q){const _e=Q.pointerId===T[0].pointerId?T[1]:T[0];return R[_e.pointerId]}r.domElement.addEventListener("contextmenu",$),r.domElement.addEventListener("pointerdown",Me),r.domElement.addEventListener("pointercancel",We),r.domElement.addEventListener("wheel",Be,{passive:!1}),this.update()}}const VS=!1,[Aj,D5]=Lt(VS);Qt(t=>{var e;return Aj((e=t.userData.bokeh)!==null&&e!==void 0?e:VS)});const US=.025,[Rj,b2e]=Lt(US);Qt(t=>{var e;return Rj((e=t.userData.bokehAperture)!==null&&e!==void 0?e:US)});const HS=1,[Oj,w2e]=Lt(HS);Qt(t=>{var e;return Oj((e=t.userData.bokehFocus)!==null&&e!==void 0?e:HS)});const WS=.01,[Nj,_2e]=Lt(WS);Qt(t=>{var e;return Nj((e=t.userData.bokehMaxBlur)!==null&&e!==void 0?e:WS)});const[yN,xN]=Lt([]),S2e=IO(yN,xN),C2e=LO(yN,xN),Xn=new pe,Lf=new pe,aNe=new pe,J_=new uo,E2e=new uo,KA=new pe(Qa,Qa,Qa);Object.freeze(KA);const kj=new pe(Zu,Zu,Zu);Object.freeze(kj);const Mm=new ka,Ij=new sc,sa=new Od(0,0,0,"YXZ"),sNe=new q7,Lj=new hl({wireframe:!0}),Dj=new ly,M2e=new Xt;var vy=t=>Mm.setFromObject(t).getCenter(Xn);const Xb=new WeakMap;var Q_=t=>{if(Xb.has(t))return Xb.get(t);"id"in t?vy(t):Xn.set(t.x*Wt,t.y*Wt,t.z*Wt);const e=Qt();Xn.project(e);const n=(Xn.x*.5+.5)*Jr.clientWidth,r=(Xn.y*-.5+.5)*Jr.clientHeight,i={x:n,y:r};return Xb.set(t,i),setTimeout(()=>Xb.delete(t)),i};class Fj{constructor(e,n,r){this.x=e,this.y=n,this.z=r}get clientX(){return Q_(this).x}get clientY(){return Q_(this).y}}const D0=t=>new Fj(t.x*Br,t.y*Br,t.z*Br),Ug=t=>new pe(t.x*Wt,t.y*Wt,t.z*Wt);class jS extends uc{get x(){return this.outerObject3d.position.x*Br}set x(e){this.outerObject3d.position.x=e*Wt}get y(){return this.outerObject3d.position.y*Br}set y(e){this.outerObject3d.position.y=e*Wt}get z(){return this.outerObject3d.position.z*Br}set z(e){this.outerObject3d.position.z=e*Wt}getWorldPosition(){var e;return D0(((e=this.object3d)!==null&&e!==void 0?e:this.outerObject3d).getWorldPosition(Lf))}getCenter(){var e;return D0(vy((e=this.object3d)!==null&&e!==void 0?e:this.outerObject3d))}}const Tm=t=>t instanceof uc&&"getWorldPosition"in t,T2e=Jt(nt({},py),{onClick:Function,onMouseMove:Function,onMouseDown:Function,onMouseUp:Function,onMousePress:Function}),P2e=nt({},Jm),[F5,e1]=Lt(!0),[lNe,A2e]=Lt("mouse");var zj=(t,e)=>{const n=Ej[0],r=t.clientX-n.x,i=t.clientY-n.y;if(A2e()==="camera"&&!e)return{x:0,y:0,z:0,clientX:r,clientY:i,xNorm:0,yNorm:0};const o=r/n.width*2-1,a=-(i/n.height)*2+1,s=Qt();Xn.set(o,a,.5),Xn.unproject(s),Xn.sub(s.position).normalize();const{x:l,y:u,z:c}=s.position.clone().add(Xn.multiplyScalar(5));return{x:l,y:u,z:c,clientX:r,clientY:i,xNorm:o,yNorm:a}};const[z5,F0]=Lt(!1),[R2e,Pm]=Lt(!1);yr(()=>{R2e(F0()&&Qt()===oi)},[F0,Qt]);const ua=new UW;let qA=0,XA=0,YA=0,ZA=!1;Jr.addEventListener("contextmenu",t=>{t.preventDefault(),ZA=!0});ua.on("down",t=>{qA=Date.now(),XA=t.clientX,YA=t.clientY});ua.on("up",t=>{const e=Date.now(),n=e-qA,r=Math.abs(t.clientX-XA),i=Math.abs(t.clientY-YA);qA=e,XA=t.clientX,YA=t.clientY,n<300&&r<5&&i<5&&ua.emit(ZA?"rightClick":"click",t),ZA=!1});const bN=OO(zj,0,"leading");Jr.addEventListener("pointermove",t=>{ua.emit("move",bN(t))});let JA=!1;Jr.addEventListener("pointerdown",t=>{JA=!0;const e=bN(t);ua.emit("down",e),ua.emit("move",e)});const wN=t=>{JA&&ua.emit("up",bN(t)),JA=!1};Jr.addEventListener("pointerup",wN);Jr.addEventListener("pointercancel",wN);Jr.addEventListener("pointerleave",wN);class GS extends uc{constructor(){super(new Xi);let e={x:0,y:0,z:0,clientX:0,clientY:0,xNorm:0,yNorm:0};const[n,r]=Lt(!1);this.createEffect(()=>{const i=this.onMousePress;if(!r()||!i)return;const o=so(()=>i(e));return()=>{o.cancel()}},[r]),this.createEffect(()=>{if(Pm()&&e1())return;const i=ua.on("move",l=>{var u;(u=this.onMouseMove)===null||u===void 0||u.call(this,l),e=l}),o=ua.on("click",l=>{var u;(u=this.onClick)===null||u===void 0||u.call(this,l),e=l}),a=ua.on("down",l=>{var u;(u=this.onMouseDown)===null||u===void 0||u.call(this,l),e=l,n(!0)}),s=ua.on("up",l=>{var u;(u=this.onMouseUp)===null||u===void 0||u.call(this,l),e=l,n(!1)});return()=>{i.cancel(),o.cancel(),a.cancel(),s.cancel()}},[Pm,e1])}}GS.componentName="mouse";GS.defaults=P2e;GS.schema=T2e;const O2e=new GS;jo.delete(O2e);const[j2,B5]=Lt(!1),[N2e,gy]=ss(),Go=as((t,e)=>N2e({target:t,rightClick:e}),0,"trailing");Qt(()=>Go());const[k2e,ic]=Lt(!1),V5=new fMe,QA=new Set,U5=as(()=>{QA.clear(),en.traverse(t=>{var e;const{manager:n}=t.userData;n&&QA.add((e=n.object3d)!==null&&e!==void 0?e:t)})},0,"trailing"),I2e=(t,e,n)=>(V5.setFromCamera({x:t,y:e},Qt()),V5.intersectObjects([...n])[0]),vf=(t,e,n)=>ua.on(t,r=>{const i=I2e(r.xNorm,r.yNorm,e);if(!i)return;const o=D0(i.point),a=i.distance*Br;n(i.object.userData.manager,Jt(nt({},r),{point:o,distance:a}))}),Bj=new Set,Vj=new Set,Uj=new Set,Hj=new Set,Wj=new Set,jj=new Set,H5=()=>{const t=new Yr;t.watch(vf("click",Bj,(r,i)=>{var o;return(o=r.onClick)===null||o===void 0?void 0:o.call(r,i)})),t.watch(vf("down",Vj,(r,i)=>{var o;return(o=r.onMouseDown)===null||o===void 0?void 0:o.call(r,i)})),t.watch(vf("up",Uj,(r,i)=>{var o;return(o=r.onMouseUp)===null||o===void 0?void 0:o.call(r,i)}));let e=new Set,n=new Set;return t.watch(vf("move",Hj,(r,i)=>{e.add(r),r.outerObject3d.userData.eMove=i})),t.watch(vf("move",Wj,(r,i)=>{e.add(r),r.outerObject3d.userData.eMove=i})),t.watch(vf("move",jj,(r,i)=>{e.add(r),r.outerObject3d.userData.eMove=i})),t.watch(ua.on("move",()=>{var r,i,o;for(const a of e)n.has(a)||(r=a.onMouseOver)===null||r===void 0||r.call(a,a.outerObject3d.userData.eMove),(i=a.onMouseMove)===null||i===void 0||i.call(a,a.outerObject3d.userData.eMove);for(const a of n)e.has(a)||(o=a.onMouseOut)===null||o===void 0||o.call(a,a.outerObject3d.userData.eMove);n=e,e=new Set})),t};yr(()=>{const t=F0(),e=B5(),n=sbe(!0);if(abe(()=>{!e&&(n.current=!0)},[e]),t&&!ic()&&Qt()===oi){const i=new Yr;U5(),i.watch(FS(U5)),i.watch(ua.on("click",()=>Go()));let o=!1;return i.watch(ua.on("rightClick",()=>o=!0)),i.watch(vf(["click","rightClick"],QA,a=>{Go(a,o),o=!1})),i.watch(gy(({target:a,rightClick:s})=>{if(e){if(!Tm(a)||s)return;if(n.current){const l=Xo();Tm(l)&&A5(l)}n.current=!1,Xl().includes(a)?bMe(a):A5(a);return}R5(),O0(s?a:a===Xo()?void 0:a)})),!e&&!e1()&&i.watch(H5()),()=>{i.cancel()}}if(t)return;R5(),O0(void 0);const r=H5();return()=>{r.cancel()}},[F0,e1,ic,Qt,B5]);const cr={c:null,u:[new pe,new pe,new pe],e:[]},Sr={c:null,u:[new pe,new pe,new pe],e:[]},xi=[[],[],[]],In=[[],[],[]],ei=[],of=new pe,af=new pe,sf=new pe,to=new pe,W5=new pe,j5=new pe,Ys=new Ri,G5=new ka,Yb=new Xt,$5=new Xt,K5=new sc;class _N{constructor(e=new pe,n=new pe,r=new Ri){this.center=e,this.halfSize=n,this.rotation=r}set(e,n,r){return this.center=e,this.halfSize=n,this.rotation=r,this}copy(e){return this.center.copy(e.center),this.halfSize.copy(e.halfSize),this.rotation.copy(e.rotation),this}clone(){return new this.constructor().copy(this)}getSize(e){return e.copy(this.halfSize).multiplyScalar(2)}clampPoint(e,n){const r=this.halfSize;to.subVectors(e,this.center),this.rotation.extractBasis(of,af,sf),n.copy(this.center);const i=s2.clamp(to.dot(of),-r.x,r.x);n.add(of.multiplyScalar(i));const o=s2.clamp(to.dot(af),-r.y,r.y);n.add(af.multiplyScalar(o));const a=s2.clamp(to.dot(sf),-r.z,r.z);return n.add(sf.multiplyScalar(a)),n}containsPoint(e){return to.subVectors(e,this.center),this.rotation.extractBasis(of,af,sf),Math.abs(to.dot(of))<=this.halfSize.x&&Math.abs(to.dot(af))<=this.halfSize.y&&Math.abs(to.dot(sf))<=this.halfSize.z}intersectsBox3(e){return this.intersectsOBB(L2e.fromBox3(e))}intersectsSphere(e){return this.clampPoint(e.center,j5),j5.distanceToSquared(e.center)<=e.radius*e.radius}intersectsOBB(e,n=Number.EPSILON){cr.c=this.center,cr.e[0]=this.halfSize.x,cr.e[1]=this.halfSize.y,cr.e[2]=this.halfSize.z,this.rotation.extractBasis(cr.u[0],cr.u[1],cr.u[2]),Sr.c=e.center,Sr.e[0]=e.halfSize.x,Sr.e[1]=e.halfSize.y,Sr.e[2]=e.halfSize.z,e.rotation.extractBasis(Sr.u[0],Sr.u[1],Sr.u[2]);for(let o=0;o<3;o++)for(let a=0;a<3;a++)xi[o][a]=cr.u[o].dot(Sr.u[a]);to.subVectors(Sr.c,cr.c),ei[0]=to.dot(cr.u[0]),ei[1]=to.dot(cr.u[1]),ei[2]=to.dot(cr.u[2]);for(let o=0;o<3;o++)for(let a=0;a<3;a++)In[o][a]=Math.abs(xi[o][a])+n;let r,i;for(let o=0;o<3;o++)if(r=cr.e[o],i=Sr.e[0]*In[o][0]+Sr.e[1]*In[o][1]+Sr.e[2]*In[o][2],Math.abs(ei[o])>r+i)return!1;for(let o=0;o<3;o++)if(r=cr.e[0]*In[0][o]+cr.e[1]*In[1][o]+cr.e[2]*In[2][o],i=Sr.e[o],Math.abs(ei[0]*xi[0][o]+ei[1]*xi[1][o]+ei[2]*xi[2][o])>r+i)return!1;return r=cr.e[1]*In[2][0]+cr.e[2]*In[1][0],i=Sr.e[1]*In[0][2]+Sr.e[2]*In[0][1],!(Math.abs(ei[2]*xi[1][0]-ei[1]*xi[2][0])>r+i||(r=cr.e[1]*In[2][1]+cr.e[2]*In[1][1],i=Sr.e[0]*In[0][2]+Sr.e[2]*In[0][0],Math.abs(ei[2]*xi[1][1]-ei[1]*xi[2][1])>r+i)||(r=cr.e[1]*In[2][2]+cr.e[2]*In[1][2],i=Sr.e[0]*In[0][1]+Sr.e[1]*In[0][0],Math.abs(ei[2]*xi[1][2]-ei[1]*xi[2][2])>r+i)||(r=cr.e[0]*In[2][0]+cr.e[2]*In[0][0],i=Sr.e[1]*In[1][2]+Sr.e[2]*In[1][1],Math.abs(ei[0]*xi[2][0]-ei[2]*xi[0][0])>r+i)||(r=cr.e[0]*In[2][1]+cr.e[2]*In[0][1],i=Sr.e[0]*In[1][2]+Sr.e[2]*In[1][0],Math.abs(ei[0]*xi[2][1]-ei[2]*xi[0][1])>r+i)||(r=cr.e[0]*In[2][2]+cr.e[2]*In[0][2],i=Sr.e[0]*In[1][1]+Sr.e[1]*In[1][0],Math.abs(ei[0]*xi[2][2]-ei[2]*xi[0][2])>r+i)||(r=cr.e[0]*In[1][0]+cr.e[1]*In[0][0],i=Sr.e[1]*In[2][2]+Sr.e[2]*In[2][1],Math.abs(ei[1]*xi[0][0]-ei[0]*xi[1][0])>r+i)||(r=cr.e[0]*In[1][1]+cr.e[1]*In[0][1],i=Sr.e[0]*In[2][2]+Sr.e[2]*In[2][0],Math.abs(ei[1]*xi[0][1]-ei[0]*xi[1][1])>r+i)||(r=cr.e[0]*In[1][2]+cr.e[1]*In[0][2],i=Sr.e[0]*In[2][1]+Sr.e[1]*In[2][0],Math.abs(ei[1]*xi[0][2]-ei[0]*xi[1][2])>r+i))}intersectsPlane(e){this.rotation.extractBasis(of,af,sf);const n=this.halfSize.x*Math.abs(e.normal.dot(of))+this.halfSize.y*Math.abs(e.normal.dot(af))+this.halfSize.z*Math.abs(e.normal.dot(sf)),r=e.normal.dot(this.center)-e.constant;return Math.abs(r)<=n}intersectRay(e,n){return this.getSize(W5),G5.setFromCenterAndSize(to.set(0,0,0),W5),Yb.setFromMatrix3(this.rotation),Yb.setPosition(this.center),$5.copy(Yb).invert(),K5.copy(e).applyMatrix4($5),K5.intersectBox(G5,n)?n.applyMatrix4(Yb):null}intersectsRay(e){return this.intersectRay(e,to)!==null}fromBox3(e){return e.getCenter(this.center),e.getSize(this.halfSize).multiplyScalar(.5),this.rotation.identity(),this}equals(e){return e.center.equals(this.center)&&e.halfSize.equals(this.halfSize)&&e.rotation.equals(this.rotation)}applyMatrix4(e){const n=e.elements;let r=to.set(n[0],n[1],n[2]).length();const i=to.set(n[4],n[5],n[6]).length(),o=to.set(n[8],n[9],n[10]).length();e.determinant()<0&&(r=-r),Ys.setFromMatrix4(e);const s=1/r,l=1/i,u=1/o;return Ys.elements[0]*=s,Ys.elements[1]*=s,Ys.elements[2]*=s,Ys.elements[3]*=l,Ys.elements[4]*=l,Ys.elements[5]*=l,Ys.elements[6]*=u,Ys.elements[7]*=u,Ys.elements[8]*=u,this.rotation.multiply(Ys),this.halfSize.x*=r,this.halfSize.y*=i,this.halfSize.z*=o,to.setFromMatrixPosition(e),this.center.add(to),this}}const L2e=new _N,Ya={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float opacity;

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		void main() {

			gl_FragColor = texture2D( tDiffuse, vUv );
			gl_FragColor.a *= opacity;


		}`};class iu{constructor(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}const D2e=new $m(-1,1,1,-1,0,1),SN=new $n;SN.setAttribute("position",new Pn([-1,3,0,-1,-1,0,3,-1,0],3));SN.setAttribute("uv",new Pn([0,2,0,0,2,0],2));class uh{constructor(e){this._mesh=new ci(SN,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,D2e)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}}class t1 extends iu{constructor(e,n){super(),this.textureID=n!==void 0?n:"tDiffuse",e instanceof Wn?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=qi.clone(e.uniforms),this.material=new Wn({defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new uh(this.material)}render(e,n,r){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=r.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(n),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}}class q5 extends iu{constructor(e,n){super(),this.scene=e,this.camera=n,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(e,n,r){const i=e.getContext(),o=e.state;o.buffers.color.setMask(!1),o.buffers.depth.setMask(!1),o.buffers.color.setLocked(!0),o.buffers.depth.setLocked(!0);let a,s;this.inverse?(a=0,s=1):(a=1,s=0),o.buffers.stencil.setTest(!0),o.buffers.stencil.setOp(i.REPLACE,i.REPLACE,i.REPLACE),o.buffers.stencil.setFunc(i.ALWAYS,a,4294967295),o.buffers.stencil.setClear(s),o.buffers.stencil.setLocked(!0),e.setRenderTarget(r),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(n),this.clear&&e.clear(),e.render(this.scene,this.camera),o.buffers.color.setLocked(!1),o.buffers.depth.setLocked(!1),o.buffers.stencil.setLocked(!1),o.buffers.stencil.setFunc(i.EQUAL,1,4294967295),o.buffers.stencil.setOp(i.KEEP,i.KEEP,i.KEEP),o.buffers.stencil.setLocked(!0)}}class F2e extends iu{constructor(){super(),this.needsSwap=!1}render(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}class eR{constructor(e,n){if(this.renderer=e,n===void 0){const r=e.getSize(new et);this._pixelRatio=e.getPixelRatio(),this._width=r.width,this._height=r.height,n=new sr(this._width*this._pixelRatio,this._height*this._pixelRatio),n.texture.name="EffectComposer.rt1"}else this._pixelRatio=1,this._width=n.width,this._height=n.height;this.renderTarget1=n,this.renderTarget2=n.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],Ya===void 0&&console.error("THREE.EffectComposer relies on CopyShader"),t1===void 0&&console.error("THREE.EffectComposer relies on ShaderPass"),this.copyPass=new t1(Ya),this.clock=new $7}swapBuffers(){const e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}addPass(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(e,n){this.passes.splice(n,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(e){const n=this.passes.indexOf(e);n!==-1&&this.passes.splice(n,1)}isLastEnabledPass(e){for(let n=e+1;n<this.passes.length;n++)if(this.passes[n].enabled)return!1;return!0}render(e){e===void 0&&(e=this.clock.getDelta());const n=this.renderer.getRenderTarget();let r=!1;for(let i=0,o=this.passes.length;i<o;i++){const a=this.passes[i];if(a.enabled!==!1){if(a.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(i),a.render(this.renderer,this.writeBuffer,this.readBuffer,e,r),a.needsSwap){if(r){const s=this.renderer.getContext(),l=this.renderer.state.buffers.stencil;l.setFunc(s.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),l.setFunc(s.EQUAL,1,4294967295)}this.swapBuffers()}q5!==void 0&&(a instanceof q5?r=!0:a instanceof F2e&&(r=!1))}}this.renderer.setRenderTarget(n)}reset(e){if(e===void 0){const n=this.renderer.getSize(new et);this._pixelRatio=this.renderer.getPixelRatio(),this._width=n.width,this._height=n.height,e=this.renderTarget1.clone(),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(e,n){this._width=e,this._height=n;const r=this._width*this._pixelRatio,i=this._height*this._pixelRatio;this.renderTarget1.setSize(r,i),this.renderTarget2.setSize(r,i);for(let o=0;o<this.passes.length;o++)this.passes[o].setSize(r,i)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}}new $m(-1,1,1,-1,0,1);const Gj=new $n;Gj.setAttribute("position",new Pn([-1,3,0,-1,-1,0,3,-1,0],3));Gj.setAttribute("uv",new Pn([0,2,0,0,2,0],2));class z2e extends iu{constructor(e,n,r,i,o){super(),this.scene=e,this.camera=n,this.overrideMaterial=r,this.clearColor=i,this.clearAlpha=o!==void 0?o:0,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new _t}render(e,n,r){const i=e.autoClear;e.autoClear=!1;let o,a;this.overrideMaterial!==void 0&&(a=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor&&(e.getClearColor(this._oldClearColor),o=e.getClearAlpha(),e.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:r),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor&&e.setClearColor(this._oldClearColor,o),this.overrideMaterial!==void 0&&(this.scene.overrideMaterial=a),e.autoClear=i}}const CN=new z2e(en,Qt());Qt(t=>CN.camera=t);const X5={shaderID:"luminosityHighPass",uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new _t(0)},defaultOpacity:{value:0}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform sampler2D tDiffuse;
		uniform vec3 defaultColor;
		uniform float defaultOpacity;
		uniform float luminosityThreshold;
		uniform float smoothWidth;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );

			vec3 luma = vec3( 0.299, 0.587, 0.114 );

			float v = dot( texel.xyz, luma );

			vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );

			float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );

			gl_FragColor = mix( outputColor, texel, alpha );

		}`};class Am extends iu{constructor(e,n,r,i){super(),this.strength=n!==void 0?n:1,this.radius=r,this.threshold=i,this.resolution=e!==void 0?new et(e.x,e.y):new et(256,256),this.clearColor=new _t(0,0,0),this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;let o=Math.round(this.resolution.x/2),a=Math.round(this.resolution.y/2);this.renderTargetBright=new sr(o,a),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(let h=0;h<this.nMips;h++){const f=new sr(o,a);f.texture.name="UnrealBloomPass.h"+h,f.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(f);const m=new sr(o,a);m.texture.name="UnrealBloomPass.v"+h,m.texture.generateMipmaps=!1,this.renderTargetsVertical.push(m),o=Math.round(o/2),a=Math.round(a/2)}X5===void 0&&console.error("THREE.UnrealBloomPass relies on LuminosityHighPassShader");const s=X5;this.highPassUniforms=qi.clone(s.uniforms),this.highPassUniforms.luminosityThreshold.value=i,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new Wn({uniforms:this.highPassUniforms,vertexShader:s.vertexShader,fragmentShader:s.fragmentShader,defines:{}}),this.separableBlurMaterials=[];const l=[3,5,7,9,11];o=Math.round(this.resolution.x/2),a=Math.round(this.resolution.y/2);for(let h=0;h<this.nMips;h++)this.separableBlurMaterials.push(this.getSeperableBlurMaterial(l[h])),this.separableBlurMaterials[h].uniforms.texSize.value=new et(o,a),o=Math.round(o/2),a=Math.round(a/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=n,this.compositeMaterial.uniforms.bloomRadius.value=.1,this.compositeMaterial.needsUpdate=!0;const u=[1,.8,.6,.4,.2];this.compositeMaterial.uniforms.bloomFactors.value=u,this.bloomTintColors=[new pe(1,1,1),new pe(1,1,1),new pe(1,1,1),new pe(1,1,1),new pe(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,Ya===void 0&&console.error("THREE.UnrealBloomPass relies on CopyShader");const c=Ya;this.copyUniforms=qi.clone(c.uniforms),this.copyUniforms.opacity.value=1,this.materialCopy=new Wn({uniforms:this.copyUniforms,vertexShader:c.vertexShader,fragmentShader:c.fragmentShader,blending:D_,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new _t,this.oldClearAlpha=1,this.basic=new hl,this.fsQuad=new uh(null)}dispose(){for(let e=0;e<this.renderTargetsHorizontal.length;e++)this.renderTargetsHorizontal[e].dispose();for(let e=0;e<this.renderTargetsVertical.length;e++)this.renderTargetsVertical[e].dispose();this.renderTargetBright.dispose()}setSize(e,n){let r=Math.round(e/2),i=Math.round(n/2);this.renderTargetBright.setSize(r,i);for(let o=0;o<this.nMips;o++)this.renderTargetsHorizontal[o].setSize(r,i),this.renderTargetsVertical[o].setSize(r,i),this.separableBlurMaterials[o].uniforms.texSize.value=new et(r,i),r=Math.round(r/2),i=Math.round(i/2)}render(e,n,r,i,o){e.getClearColor(this._oldClearColor),this.oldClearAlpha=e.getClearAlpha();const a=e.autoClear;e.autoClear=!1,e.setClearColor(this.clearColor,0),o&&e.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=r.texture,e.setRenderTarget(null),e.clear(),this.fsQuad.render(e)),this.highPassUniforms.tDiffuse.value=r.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,e.setRenderTarget(this.renderTargetBright),e.clear(),this.fsQuad.render(e);let s=this.renderTargetBright;for(let l=0;l<this.nMips;l++)this.fsQuad.material=this.separableBlurMaterials[l],this.separableBlurMaterials[l].uniforms.colorTexture.value=s.texture,this.separableBlurMaterials[l].uniforms.direction.value=Am.BlurDirectionX,e.setRenderTarget(this.renderTargetsHorizontal[l]),e.clear(),this.fsQuad.render(e),this.separableBlurMaterials[l].uniforms.colorTexture.value=this.renderTargetsHorizontal[l].texture,this.separableBlurMaterials[l].uniforms.direction.value=Am.BlurDirectionY,e.setRenderTarget(this.renderTargetsVertical[l]),e.clear(),this.fsQuad.render(e),s=this.renderTargetsVertical[l];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,e.setRenderTarget(this.renderTargetsHorizontal[0]),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,o&&e.state.buffers.stencil.setTest(!0),this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(r),this.fsQuad.render(e)),e.setClearColor(this._oldClearColor,this.oldClearAlpha),e.autoClear=a}getSeperableBlurMaterial(e){return new Wn({defines:{KERNEL_RADIUS:e,SIGMA:e},uniforms:{colorTexture:{value:null},texSize:{value:new et(.5,.5)},direction:{value:new et(.5,.5)}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`#include <common>
				varying vec2 vUv;
				uniform sampler2D colorTexture;
				uniform vec2 texSize;
				uniform vec2 direction;

				float gaussianPdf(in float x, in float sigma) {
					return 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;
				}
				void main() {
					vec2 invSize = 1.0 / texSize;
					float fSigma = float(SIGMA);
					float weightSum = gaussianPdf(0.0, fSigma);
					vec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;
					for( int i = 1; i < KERNEL_RADIUS; i ++ ) {
						float x = float(i);
						float w = gaussianPdf(x, fSigma);
						vec2 uvOffset = direction * invSize * x;
						vec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;
						vec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;
						diffuseSum += (sample1 + sample2) * w;
						weightSum += 2.0 * w;
					}
					gl_FragColor = vec4(diffuseSum/weightSum, 1.0);
				}`})}getCompositeMaterial(e){return new Wn({defines:{NUM_MIPS:e},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;
				uniform sampler2D blurTexture1;
				uniform sampler2D blurTexture2;
				uniform sampler2D blurTexture3;
				uniform sampler2D blurTexture4;
				uniform sampler2D blurTexture5;
				uniform float bloomStrength;
				uniform float bloomRadius;
				uniform float bloomFactors[NUM_MIPS];
				uniform vec3 bloomTintColors[NUM_MIPS];

				float lerpBloomFactor(const in float factor) {
					float mirrorFactor = 1.2 - factor;
					return mix(factor, mirrorFactor, bloomRadius);
				}

				void main() {
					gl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +
						lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +
						lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +
						lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +
						lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );
				}`})}}Am.BlurDirectionX=new et(1,0);Am.BlurDirectionY=new et(0,1);const yy=new Am(new et,1.5,0,0);gj(t=>yy.radius=t);yj(t=>yy.strength=t);xj(t=>yy.threshold=t);const yd=new eR(Ur());yd.renderToScreen=!1;yr(()=>{yd.renderer=Ur();const[t,e]=wo();yd.setSize(t,e),yd.setPixelRatio(Xf())},[Ur,wo,Xf]);yd.addPass(CN);yd.addPass(yy);const $j=[!1],EN=t=>{t.userData.bloom=!0,$j[0]=!0},MN=t=>{t.userData.bloom=!1};let tR;const Kj=t=>{for(const e of t){if(e.userData.bloom){e.renderOrder=1;continue}!e.visible||(Kj(e.children),e.material&&(e.material.colorWrite=!1),e.renderOrder=0)}},B2e=()=>{Kj(en.children),en.background&&(tR=en.background,en.background=null)},V2e=t=>t.material&&(t.material.colorWrite=!0),U2e=()=>{en.traverse(V2e),tR&&(en.background=tR)};var H2e=()=>{B2e(),yd.render(),U2e()};const Zs={defines:{MAX_STEP:0,PERSPECTIVE_CAMERA:!0,DISTANCE_ATTENUATION:!0,FRESNEL:!0,INFINITE_THICK:!1,SELECTIVE:!1},uniforms:{tDiffuse:{value:null},tNormal:{value:null},tMetalness:{value:null},tDepth:{value:null},cameraNear:{value:null},cameraFar:{value:null},resolution:{value:new et},cameraProjectionMatrix:{value:new Xt},cameraInverseProjectionMatrix:{value:new Xt},opacity:{value:.5},maxDistance:{value:180},cameraRange:{value:0},thickness:{value:.018}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}

	`,fragmentShader:`
		// precision highp float;
		precision highp sampler2D;
		varying vec2 vUv;
		uniform sampler2D tDepth;
		uniform sampler2D tNormal;
		uniform sampler2D tMetalness;
		uniform sampler2D tDiffuse;
		uniform float cameraRange;
		uniform vec2 resolution;
		uniform float opacity;
		uniform float cameraNear;
		uniform float cameraFar;
		uniform float maxDistance;
		uniform float thickness;
		uniform mat4 cameraProjectionMatrix;
		uniform mat4 cameraInverseProjectionMatrix;
		#include <packing>
		float pointToLineDistance(vec3 x0, vec3 x1, vec3 x2) {
			//x0: point, x1: linePointA, x2: linePointB
			//https://mathworld.wolfram.com/Point-LineDistance3-Dimensional.html
			return length(cross(x0-x1,x0-x2))/length(x2-x1);
		}
		float pointPlaneDistance(vec3 point,vec3 planePoint,vec3 planeNormal){
			// https://mathworld.wolfram.com/Point-PlaneDistance.html
			//// https://en.wikipedia.org/wiki/Plane_(geometry)
			//// http://paulbourke.net/geometry/pointlineplane/
			float a=planeNormal.x,b=planeNormal.y,c=planeNormal.z;
			float x0=point.x,y0=point.y,z0=point.z;
			float x=planePoint.x,y=planePoint.y,z=planePoint.z;
			float d=-(a*x+b*y+c*z);
			float distance=(a*x0+b*y0+c*z0+d)/sqrt(a*a+b*b+c*c);
			return distance;
		}
		float getDepth( const in vec2 uv ) {
			return texture2D( tDepth, uv ).x;
		}
		float getViewZ( const in float depth ) {
			#ifdef PERSPECTIVE_CAMERA
				return perspectiveDepthToViewZ( depth, cameraNear, cameraFar );
			#else
				return orthographicDepthToViewZ( depth, cameraNear, cameraFar );
			#endif
		}
		vec3 getViewPosition( const in vec2 uv, const in float depth/*clip space*/, const in float clipW ) {
			vec4 clipPosition = vec4( ( vec3( uv, depth ) - 0.5 ) * 2.0, 1.0 );//ndc
			clipPosition *= clipW; //clip
			return ( cameraInverseProjectionMatrix * clipPosition ).xyz;//view
		}
		vec3 getViewNormal( const in vec2 uv ) {
			return unpackRGBToNormal( texture2D( tNormal, uv ).xyz );
		}
		vec2 viewPositionToXY(vec3 viewPosition){
			vec2 xy;
			vec4 clip=cameraProjectionMatrix*vec4(viewPosition,1);
			xy=clip.xy;//clip
			float clipW=clip.w;
			xy/=clipW;//NDC
			xy=(xy+1.)/2.;//uv
			xy*=resolution;//screen
			return xy;
		}
		void main(){
			#ifdef SELECTIVE
				float metalness=texture2D(tMetalness,vUv).r;
				if(metalness==0.) return;
			#endif

			float depth = getDepth( vUv );
			float viewZ = getViewZ( depth );
			if(-viewZ>=cameraFar) return;

			float clipW = cameraProjectionMatrix[2][3] * viewZ+cameraProjectionMatrix[3][3];
			vec3 viewPosition=getViewPosition( vUv, depth, clipW );

			vec2 d0=gl_FragCoord.xy;
			vec2 d1;

			vec3 viewNormal=getViewNormal( vUv );

			#ifdef PERSPECTIVE_CAMERA
				vec3 viewIncidentDir=normalize(viewPosition);
				vec3 viewReflectDir=reflect(viewIncidentDir,viewNormal);
			#else
				vec3 viewIncidentDir=vec3(0,0,-1);
				vec3 viewReflectDir=reflect(viewIncidentDir,viewNormal);
			#endif

			float maxReflectRayLen=maxDistance/dot(-viewIncidentDir,viewNormal);
			// dot(a,b)==length(a)*length(b)*cos(theta) // https://www.mathsisfun.com/algebra/vectors-dot-product.html
			// if(a.isNormalized&&b.isNormalized) dot(a,b)==cos(theta)
			// maxDistance/maxReflectRayLen=cos(theta)
			// maxDistance/maxReflectRayLen==dot(a,b)
			// maxReflectRayLen==maxDistance/dot(a,b)

			vec3 d1viewPosition=viewPosition+viewReflectDir*maxReflectRayLen;
			#ifdef PERSPECTIVE_CAMERA
				if(d1viewPosition.z>-cameraNear){
					//https://tutorial.math.lamar.edu/Classes/CalcIII/EqnsOfLines.aspx
					float t=(-cameraNear-viewPosition.z)/viewReflectDir.z;
					d1viewPosition=viewPosition+viewReflectDir*t;
				}
			#endif
			d1=viewPositionToXY(d1viewPosition);

			float totalLen=length(d1-d0);
			float xLen=d1.x-d0.x;
			float yLen=d1.y-d0.y;
			float totalStep=max(abs(xLen),abs(yLen));
			float xSpan=xLen/totalStep;
			float ySpan=yLen/totalStep;
			for(float i=0.;i<float(MAX_STEP);i++){
				if(i>=totalStep) break;
				vec2 xy=vec2(d0.x+i*xSpan,d0.y+i*ySpan);
				if(xy.x<0.||xy.x>resolution.x||xy.y<0.||xy.y>resolution.y) break;
				float s=length(xy-d0)/totalLen;
				vec2 uv=xy/resolution;

				float d = getDepth(uv);
				float vZ = getViewZ( d );
				if(-vZ>=cameraFar) continue;
				float cW = cameraProjectionMatrix[2][3] * vZ+cameraProjectionMatrix[3][3];
				vec3 vP=getViewPosition( uv, d, cW );

				#ifdef PERSPECTIVE_CAMERA
					// https://comp.nus.edu.sg/~lowkl/publications/lowk_persp_interp_techrep.pdf
					float recipVPZ=1./viewPosition.z;
					float viewReflectRayZ=1./(recipVPZ+s*(1./d1viewPosition.z-recipVPZ));
				#else
					float viewReflectRayZ=viewPosition.z+s*(d1viewPosition.z-viewPosition.z);
				#endif

				// if(viewReflectRayZ>vZ) continue; // will cause "npm run make-screenshot webgl_postprocessing_ssr" high probability hang.
				// https://github.com/mrdoob/three.js/pull/21539#issuecomment-821061164
				if(viewReflectRayZ<=vZ){

					bool hit;
					#ifdef INFINITE_THICK
						hit=true;
					#else
						float away=pointToLineDistance(vP,viewPosition,d1viewPosition);

						float minThickness;
						vec2 xyNeighbor=xy;
						xyNeighbor.x+=1.;
						vec2 uvNeighbor=xyNeighbor/resolution;
						vec3 vPNeighbor=getViewPosition(uvNeighbor,d,cW);
						minThickness=vPNeighbor.x-vP.x;
						minThickness*=3.;
						float tk=max(minThickness,thickness);

						hit=away<=tk;
					#endif

					if(hit){
						vec3 vN=getViewNormal( uv );
						if(dot(viewReflectDir,vN)>=0.) continue;
						float distance=pointPlaneDistance(vP,viewPosition,viewNormal);
						if(distance>maxDistance) break;
						float op=opacity;
						#ifdef DISTANCE_ATTENUATION
							float ratio=1.-(distance/maxDistance);
							float attenuation=ratio*ratio;
							op=opacity*attenuation;
						#endif
						#ifdef FRESNEL
							float fresnelCoe=(dot(viewIncidentDir,viewReflectDir)+1.)/2.;
							op*=fresnelCoe;
						#endif
						vec4 reflectColor=texture2D(tDiffuse,uv);
						gl_FragColor.xyz=reflectColor.xyz;
						gl_FragColor.a=op;
						break;
					}
				}
			}
		}
	`},Zb={defines:{PERSPECTIVE_CAMERA:1},uniforms:{tDepth:{value:null},cameraNear:{value:null},cameraFar:{value:null}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}

	`,fragmentShader:`

		uniform sampler2D tDepth;

		uniform float cameraNear;
		uniform float cameraFar;

		varying vec2 vUv;

		#include <packing>

		float getLinearDepth( const in vec2 uv ) {

			#if PERSPECTIVE_CAMERA == 1

				float fragCoordZ = texture2D( tDepth, uv ).x;
				float viewZ = perspectiveDepthToViewZ( fragCoordZ, cameraNear, cameraFar );
				return viewZToOrthographicDepth( viewZ, cameraNear, cameraFar );

			#else

				return texture2D( tDepth, uv ).x;

			#endif

		}

		void main() {

			float depth = getLinearDepth( vUv );
			float d = 1.0 - depth;
			// d=(d-.999)*1000.;
			gl_FragColor = vec4( vec3( d ), 1.0 );

		}

	`},jc={uniforms:{tDiffuse:{value:null},resolution:{value:new et},opacity:{value:.5}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}

	`,fragmentShader:`

		uniform sampler2D tDiffuse;
		uniform vec2 resolution;
		varying vec2 vUv;
		void main() {
			//reverse engineering from PhotoShop blur filter, then change coefficient

			vec2 texelSize = ( 1.0 / resolution );

			vec4 c=texture2D(tDiffuse,vUv);

			vec2 offset;

			offset=(vec2(-1,0))*texelSize;
			vec4 cl=texture2D(tDiffuse,vUv+offset);

			offset=(vec2(1,0))*texelSize;
			vec4 cr=texture2D(tDiffuse,vUv+offset);

			offset=(vec2(0,-1))*texelSize;
			vec4 cb=texture2D(tDiffuse,vUv+offset);

			offset=(vec2(0,1))*texelSize;
			vec4 ct=texture2D(tDiffuse,vUv+offset);

			// float coeCenter=.5;
			// float coeSide=.125;
			float coeCenter=.2;
			float coeSide=.2;
			float a=c.a*coeCenter+cl.a*coeSide+cr.a*coeSide+cb.a*coeSide+ct.a*coeSide;
			vec3 rgb=(c.rgb*c.a*coeCenter+cl.rgb*cl.a*coeSide+cr.rgb*cr.a*coeSide+cb.rgb*cb.a*coeSide+ct.rgb*ct.a*coeSide)/a;
			gl_FragColor=vec4(rgb,a);

		}
	`};class Vu extends iu{constructor({renderer:e,scene:n,camera:r,width:i,height:o,selects:a,bouncing:s=!1,groundReflector:l}){super(),this.width=i!==void 0?i:512,this.height=o!==void 0?o:512,this.clear=!0,this.renderer=e,this.scene=n,this.camera=r,this.groundReflector=l,this.opacity=Zs.uniforms.opacity.value,this.output=0,this.maxDistance=Zs.uniforms.maxDistance.value,this.thickness=Zs.uniforms.thickness.value,this.tempColor=new _t,this._selects=a,this.selective=Array.isArray(this._selects),Object.defineProperty(this,"selects",{get(){return this._selects},set(c){this._selects!==c&&(this._selects=c,Array.isArray(c)?(this.selective=!0,this.ssrMaterial.defines.SELECTIVE=!0,this.ssrMaterial.needsUpdate=!0):(this.selective=!1,this.ssrMaterial.defines.SELECTIVE=!1,this.ssrMaterial.needsUpdate=!0))}}),this._bouncing=s,Object.defineProperty(this,"bouncing",{get(){return this._bouncing},set(c){this._bouncing!==c&&(this._bouncing=c,c?this.ssrMaterial.uniforms.tDiffuse.value=this.prevRenderTarget.texture:this.ssrMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture)}}),this.blur=!0,this._distanceAttenuation=Zs.defines.DISTANCE_ATTENUATION,Object.defineProperty(this,"distanceAttenuation",{get(){return this._distanceAttenuation},set(c){this._distanceAttenuation!==c&&(this._distanceAttenuation=c,this.ssrMaterial.defines.DISTANCE_ATTENUATION=c,this.ssrMaterial.needsUpdate=!0)}}),this._fresnel=Zs.defines.FRESNEL,Object.defineProperty(this,"fresnel",{get(){return this._fresnel},set(c){this._fresnel!==c&&(this._fresnel=c,this.ssrMaterial.defines.FRESNEL=c,this.ssrMaterial.needsUpdate=!0)}}),this._infiniteThick=Zs.defines.INFINITE_THICK,Object.defineProperty(this,"infiniteThick",{get(){return this._infiniteThick},set(c){this._infiniteThick!==c&&(this._infiniteThick=c,this.ssrMaterial.defines.INFINITE_THICK=c,this.ssrMaterial.needsUpdate=!0)}});const u=new CS;u.type=$f,u.minFilter=nr,u.magFilter=nr,this.beautyRenderTarget=new sr(this.width,this.height,{minFilter:nr,magFilter:nr,depthTexture:u,depthBuffer:!0}),this.prevRenderTarget=new sr(this.width,this.height,{minFilter:nr,magFilter:nr}),this.normalRenderTarget=new sr(this.width,this.height,{minFilter:nr,magFilter:nr,type:Vl}),this.metalnessRenderTarget=new sr(this.width,this.height,{minFilter:nr,magFilter:nr}),this.ssrRenderTarget=new sr(this.width,this.height,{minFilter:nr,magFilter:nr}),this.blurRenderTarget=this.ssrRenderTarget.clone(),this.blurRenderTarget2=this.ssrRenderTarget.clone(),Zs===void 0&&console.error("THREE.SSRPass: The pass relies on SSRShader."),this.ssrMaterial=new Wn({defines:Object.assign({},Zs.defines,{MAX_STEP:Math.sqrt(this.width*this.width+this.height*this.height)}),uniforms:qi.clone(Zs.uniforms),vertexShader:Zs.vertexShader,fragmentShader:Zs.fragmentShader,blending:Mr}),this.ssrMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.ssrMaterial.uniforms.tNormal.value=this.normalRenderTarget.texture,this.ssrMaterial.defines.SELECTIVE=this.selective,this.ssrMaterial.needsUpdate=!0,this.ssrMaterial.uniforms.tMetalness.value=this.metalnessRenderTarget.texture,this.ssrMaterial.uniforms.tDepth.value=this.beautyRenderTarget.depthTexture,this.ssrMaterial.uniforms.cameraNear.value=this.camera.near,this.ssrMaterial.uniforms.cameraFar.value=this.camera.far,this.ssrMaterial.uniforms.thickness.value=this.thickness,this.ssrMaterial.uniforms.resolution.value.set(this.width,this.height),this.ssrMaterial.uniforms.cameraProjectionMatrix.value.copy(this.camera.projectionMatrix),this.ssrMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.normalMaterial=new kS,this.normalMaterial.blending=Mr,this.metalnessOnMaterial=new hl({color:"white"}),this.metalnessOffMaterial=new hl({color:"black"}),this.blurMaterial=new Wn({defines:Object.assign({},jc.defines),uniforms:qi.clone(jc.uniforms),vertexShader:jc.vertexShader,fragmentShader:jc.fragmentShader}),this.blurMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.blurMaterial.uniforms.resolution.value.set(this.width,this.height),this.blurMaterial2=new Wn({defines:Object.assign({},jc.defines),uniforms:qi.clone(jc.uniforms),vertexShader:jc.vertexShader,fragmentShader:jc.fragmentShader}),this.blurMaterial2.uniforms.tDiffuse.value=this.blurRenderTarget.texture,this.blurMaterial2.uniforms.resolution.value.set(this.width,this.height),this.depthRenderMaterial=new Wn({defines:Object.assign({},Zb.defines),uniforms:qi.clone(Zb.uniforms),vertexShader:Zb.vertexShader,fragmentShader:Zb.fragmentShader,blending:Mr}),this.depthRenderMaterial.uniforms.tDepth.value=this.beautyRenderTarget.depthTexture,this.depthRenderMaterial.uniforms.cameraNear.value=this.camera.near,this.depthRenderMaterial.uniforms.cameraFar.value=this.camera.far,this.copyMaterial=new Wn({uniforms:qi.clone(Ya.uniforms),vertexShader:Ya.vertexShader,fragmentShader:Ya.fragmentShader,transparent:!0,depthTest:!1,depthWrite:!1,blendSrc:F_,blendDst:z_,blendEquation:Fl,blendSrcAlpha:F_,blendDstAlpha:z_,blendEquationAlpha:Fl}),this.fsQuad=new uh(null),this.originalClearColor=new _t}dispose(){this.beautyRenderTarget.dispose(),this.prevRenderTarget.dispose(),this.normalRenderTarget.dispose(),this.metalnessRenderTarget.dispose(),this.ssrRenderTarget.dispose(),this.blurRenderTarget.dispose(),this.blurRenderTarget2.dispose(),this.normalMaterial.dispose(),this.metalnessOnMaterial.dispose(),this.metalnessOffMaterial.dispose(),this.blurMaterial.dispose(),this.blurMaterial2.dispose(),this.copyMaterial.dispose(),this.depthRenderMaterial.dispose(),this.fsQuad.dispose()}render(e,n){switch(e.setRenderTarget(this.beautyRenderTarget),e.clear(),this.groundReflector&&(this.groundReflector.visible=!1,this.groundReflector.doRender(this.renderer,this.scene,this.camera),this.groundReflector.visible=!0),e.render(this.scene,this.camera),this.groundReflector&&(this.groundReflector.visible=!1),this.renderOverride(e,this.normalMaterial,this.normalRenderTarget,0,0),this.selective&&this.renderMetalness(e,this.metalnessOnMaterial,this.metalnessRenderTarget,0,0),this.ssrMaterial.uniforms.opacity.value=this.opacity,this.ssrMaterial.uniforms.maxDistance.value=this.maxDistance,this.ssrMaterial.uniforms.thickness.value=this.thickness,this.renderPass(e,this.ssrMaterial,this.ssrRenderTarget),this.blur&&(this.renderPass(e,this.blurMaterial,this.blurRenderTarget),this.renderPass(e,this.blurMaterial2,this.blurRenderTarget2)),this.output){case Vu.OUTPUT.Default:this.bouncing?(this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=Mr,this.renderPass(e,this.copyMaterial,this.prevRenderTarget),this.blur?this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget2.texture:this.copyMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.copyMaterial.blending=qu,this.renderPass(e,this.copyMaterial,this.prevRenderTarget),this.copyMaterial.uniforms.tDiffuse.value=this.prevRenderTarget.texture,this.copyMaterial.blending=Mr,this.renderPass(e,this.copyMaterial,this.renderToScreen?null:n)):(this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=Mr,this.renderPass(e,this.copyMaterial,this.renderToScreen?null:n),this.blur?this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget2.texture:this.copyMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.copyMaterial.blending=qu,this.renderPass(e,this.copyMaterial,this.renderToScreen?null:n));break;case Vu.OUTPUT.SSR:this.blur?this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget2.texture:this.copyMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.copyMaterial.blending=Mr,this.renderPass(e,this.copyMaterial,this.renderToScreen?null:n),this.bouncing&&(this.blur?this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget2.texture:this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=Mr,this.renderPass(e,this.copyMaterial,this.prevRenderTarget),this.copyMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.copyMaterial.blending=qu,this.renderPass(e,this.copyMaterial,this.prevRenderTarget));break;case Vu.OUTPUT.Beauty:this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=Mr,this.renderPass(e,this.copyMaterial,this.renderToScreen?null:n);break;case Vu.OUTPUT.Depth:this.renderPass(e,this.depthRenderMaterial,this.renderToScreen?null:n);break;case Vu.OUTPUT.Normal:this.copyMaterial.uniforms.tDiffuse.value=this.normalRenderTarget.texture,this.copyMaterial.blending=Mr,this.renderPass(e,this.copyMaterial,this.renderToScreen?null:n);break;case Vu.OUTPUT.Metalness:this.copyMaterial.uniforms.tDiffuse.value=this.metalnessRenderTarget.texture,this.copyMaterial.blending=Mr,this.renderPass(e,this.copyMaterial,this.renderToScreen?null:n);break;default:console.warn("THREE.SSRPass: Unknown output type.")}}renderPass(e,n,r,i,o){this.originalClearColor.copy(e.getClearColor(this.tempColor));const a=e.getClearAlpha(this.tempColor),s=e.autoClear;e.setRenderTarget(r),e.autoClear=!1,i!=null&&(e.setClearColor(i),e.setClearAlpha(o||0),e.clear()),this.fsQuad.material=n,this.fsQuad.render(e),e.autoClear=s,e.setClearColor(this.originalClearColor),e.setClearAlpha(a)}renderOverride(e,n,r,i,o){this.originalClearColor.copy(e.getClearColor(this.tempColor));const a=e.getClearAlpha(this.tempColor),s=e.autoClear;e.setRenderTarget(r),e.autoClear=!1,i=n.clearColor||i,o=n.clearAlpha||o,i!=null&&(e.setClearColor(i),e.setClearAlpha(o||0),e.clear()),this.scene.overrideMaterial=n,e.render(this.scene,this.camera),this.scene.overrideMaterial=null,e.autoClear=s,e.setClearColor(this.originalClearColor),e.setClearAlpha(a)}renderMetalness(e,n,r,i,o){this.originalClearColor.copy(e.getClearColor(this.tempColor));const a=e.getClearAlpha(this.tempColor),s=e.autoClear;e.setRenderTarget(r),e.autoClear=!1,i=n.clearColor||i,o=n.clearAlpha||o,i!=null&&(e.setClearColor(i),e.setClearAlpha(o||0),e.clear()),this.scene.traverseVisible(l=>{l._SSRPassBackupMaterial=l.material,this._selects.includes(l)?l.material=this.metalnessOnMaterial:l.material=this.metalnessOffMaterial}),e.render(this.scene,this.camera),this.scene.traverseVisible(l=>{l.material=l._SSRPassBackupMaterial}),e.autoClear=s,e.setClearColor(this.originalClearColor),e.setClearAlpha(a)}setSize(e,n){this.width=e,this.height=n,this.ssrMaterial.defines.MAX_STEP=Math.sqrt(e*e+n*n),this.ssrMaterial.needsUpdate=!0,this.beautyRenderTarget.setSize(e,n),this.prevRenderTarget.setSize(e,n),this.ssrRenderTarget.setSize(e,n),this.normalRenderTarget.setSize(e,n),this.metalnessRenderTarget.setSize(e,n),this.blurRenderTarget.setSize(e,n),this.blurRenderTarget2.setSize(e,n),this.ssrMaterial.uniforms.resolution.value.set(e,n),this.ssrMaterial.uniforms.cameraProjectionMatrix.value.copy(this.camera.projectionMatrix),this.ssrMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.blurMaterial.uniforms.resolution.value.set(e,n),this.blurMaterial2.uniforms.resolution.value.set(e,n)}}Vu.OUTPUT={Default:0,SSR:1,Beauty:3,Depth:4,Normal:5,Metalness:7};const qj=[!1],TN=[],Xj=t=>{t.userData.ssr||(t.userData.ssr=!0,TN.push(t),qj[0]=!0)},nR=t=>{!t.userData.ssr||(t.userData.ssr=!1,BW(TN,t))},PN=new Vu({renderer:Ur(),scene:en,camera:Qt(),width:zS,height:BS,groundReflector:null,selects:TN});Ur(t=>PN.renderer=t);Qt(t=>PN.camera=t);class ld extends iu{constructor(e,n,r,i){super(),this.renderScene=n,this.renderCamera=r,this.selectedObjects=i!==void 0?i:[],this.visibleEdgeColor=new _t(1,1,1),this.hiddenEdgeColor=new _t(.1,.04,.02),this.edgeGlow=0,this.usePatternTexture=!1,this.edgeThickness=1,this.edgeStrength=3,this.downSampleRatio=2,this.pulsePeriod=0,this._visibilityCache=new Map,this.resolution=e!==void 0?new et(e.x,e.y):new et(256,256);const o=Math.round(this.resolution.x/this.downSampleRatio),a=Math.round(this.resolution.y/this.downSampleRatio);this.renderTargetMaskBuffer=new sr(this.resolution.x,this.resolution.y),this.renderTargetMaskBuffer.texture.name="OutlinePass.mask",this.renderTargetMaskBuffer.texture.generateMipmaps=!1,this.depthMaterial=new qm,this.depthMaterial.side=Sd,this.depthMaterial.depthPacking=xS,this.depthMaterial.blending=Mr,this.prepareMaskMaterial=this.getPrepareMaskMaterial(),this.prepareMaskMaterial.side=Sd,this.prepareMaskMaterial.fragmentShader=c(this.prepareMaskMaterial.fragmentShader,this.renderCamera),this.renderTargetDepthBuffer=new sr(this.resolution.x,this.resolution.y),this.renderTargetDepthBuffer.texture.name="OutlinePass.depth",this.renderTargetDepthBuffer.texture.generateMipmaps=!1,this.renderTargetMaskDownSampleBuffer=new sr(o,a),this.renderTargetMaskDownSampleBuffer.texture.name="OutlinePass.depthDownSample",this.renderTargetMaskDownSampleBuffer.texture.generateMipmaps=!1,this.renderTargetBlurBuffer1=new sr(o,a),this.renderTargetBlurBuffer1.texture.name="OutlinePass.blur1",this.renderTargetBlurBuffer1.texture.generateMipmaps=!1,this.renderTargetBlurBuffer2=new sr(Math.round(o/2),Math.round(a/2)),this.renderTargetBlurBuffer2.texture.name="OutlinePass.blur2",this.renderTargetBlurBuffer2.texture.generateMipmaps=!1,this.edgeDetectionMaterial=this.getEdgeDetectionMaterial(),this.renderTargetEdgeBuffer1=new sr(o,a),this.renderTargetEdgeBuffer1.texture.name="OutlinePass.edge1",this.renderTargetEdgeBuffer1.texture.generateMipmaps=!1,this.renderTargetEdgeBuffer2=new sr(Math.round(o/2),Math.round(a/2)),this.renderTargetEdgeBuffer2.texture.name="OutlinePass.edge2",this.renderTargetEdgeBuffer2.texture.generateMipmaps=!1;const s=4,l=4;this.separableBlurMaterial1=this.getSeperableBlurMaterial(s),this.separableBlurMaterial1.uniforms.texSize.value.set(o,a),this.separableBlurMaterial1.uniforms.kernelRadius.value=1,this.separableBlurMaterial2=this.getSeperableBlurMaterial(l),this.separableBlurMaterial2.uniforms.texSize.value.set(Math.round(o/2),Math.round(a/2)),this.separableBlurMaterial2.uniforms.kernelRadius.value=l,this.overlayMaterial=this.getOverlayMaterial(),Ya===void 0&&console.error("THREE.OutlinePass relies on CopyShader");const u=Ya;this.copyUniforms=qi.clone(u.uniforms),this.copyUniforms.opacity.value=1,this.materialCopy=new Wn({uniforms:this.copyUniforms,vertexShader:u.vertexShader,fragmentShader:u.fragmentShader,blending:Mr,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new _t,this.oldClearAlpha=1,this.fsQuad=new uh(null),this.tempPulseColor1=new _t,this.tempPulseColor2=new _t,this.textureMatrix=new Xt;function c(h,f){const m=f.isPerspectiveCamera?"perspective":"orthographic";return h.replace(/DEPTH_TO_VIEW_Z/g,m+"DepthToViewZ")}}dispose(){this.renderTargetMaskBuffer.dispose(),this.renderTargetDepthBuffer.dispose(),this.renderTargetMaskDownSampleBuffer.dispose(),this.renderTargetBlurBuffer1.dispose(),this.renderTargetBlurBuffer2.dispose(),this.renderTargetEdgeBuffer1.dispose(),this.renderTargetEdgeBuffer2.dispose()}setSize(e,n){this.renderTargetMaskBuffer.setSize(e,n),this.renderTargetDepthBuffer.setSize(e,n);let r=Math.round(e/this.downSampleRatio),i=Math.round(n/this.downSampleRatio);this.renderTargetMaskDownSampleBuffer.setSize(r,i),this.renderTargetBlurBuffer1.setSize(r,i),this.renderTargetEdgeBuffer1.setSize(r,i),this.separableBlurMaterial1.uniforms.texSize.value.set(r,i),r=Math.round(r/2),i=Math.round(i/2),this.renderTargetBlurBuffer2.setSize(r,i),this.renderTargetEdgeBuffer2.setSize(r,i),this.separableBlurMaterial2.uniforms.texSize.value.set(r,i)}changeVisibilityOfSelectedObjects(e){const n=this._visibilityCache;function r(i){i.isMesh&&(e===!0?i.visible=n.get(i):(n.set(i,i.visible),i.visible=e))}for(let i=0;i<this.selectedObjects.length;i++)this.selectedObjects[i].traverse(r)}changeVisibilityOfNonSelectedObjects(e){const n=this._visibilityCache,r=[];function i(a){a.isMesh&&r.push(a)}for(let a=0;a<this.selectedObjects.length;a++)this.selectedObjects[a].traverse(i);function o(a){if(a.isMesh||a.isSprite){let s=!1;for(let l=0;l<r.length;l++)if(r[l].id===a.id){s=!0;break}if(s===!1){const l=a.visible;(e===!1||n.get(a)===!0)&&(a.visible=e),n.set(a,l)}}else(a.isPoints||a.isLine)&&(e===!0?a.visible=n.get(a):(n.set(a,a.visible),a.visible=e))}this.renderScene.traverse(o)}updateTextureMatrix(){this.textureMatrix.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),this.textureMatrix.multiply(this.renderCamera.projectionMatrix),this.textureMatrix.multiply(this.renderCamera.matrixWorldInverse)}render(e,n,r,i,o){if(this.selectedObjects.length>0){e.getClearColor(this._oldClearColor),this.oldClearAlpha=e.getClearAlpha();const a=e.autoClear;e.autoClear=!1,o&&e.state.buffers.stencil.setTest(!1),e.setClearColor(16777215,1),this.changeVisibilityOfSelectedObjects(!1);const s=this.renderScene.background;if(this.renderScene.background=null,this.renderScene.overrideMaterial=this.depthMaterial,e.setRenderTarget(this.renderTargetDepthBuffer),e.clear(),e.render(this.renderScene,this.renderCamera),this.changeVisibilityOfSelectedObjects(!0),this._visibilityCache.clear(),this.updateTextureMatrix(),this.changeVisibilityOfNonSelectedObjects(!1),this.renderScene.overrideMaterial=this.prepareMaskMaterial,this.prepareMaskMaterial.uniforms.cameraNearFar.value.set(this.renderCamera.near,this.renderCamera.far),this.prepareMaskMaterial.uniforms.depthTexture.value=this.renderTargetDepthBuffer.texture,this.prepareMaskMaterial.uniforms.textureMatrix.value=this.textureMatrix,e.setRenderTarget(this.renderTargetMaskBuffer),e.clear(),e.render(this.renderScene,this.renderCamera),this.renderScene.overrideMaterial=null,this.changeVisibilityOfNonSelectedObjects(!0),this._visibilityCache.clear(),this.renderScene.background=s,this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetMaskBuffer.texture,e.setRenderTarget(this.renderTargetMaskDownSampleBuffer),e.clear(),this.fsQuad.render(e),this.tempPulseColor1.copy(this.visibleEdgeColor),this.tempPulseColor2.copy(this.hiddenEdgeColor),this.pulsePeriod>0){const l=.625+Math.cos(performance.now()*.01/this.pulsePeriod)*.75/2;this.tempPulseColor1.multiplyScalar(l),this.tempPulseColor2.multiplyScalar(l)}this.fsQuad.material=this.edgeDetectionMaterial,this.edgeDetectionMaterial.uniforms.maskTexture.value=this.renderTargetMaskDownSampleBuffer.texture,this.edgeDetectionMaterial.uniforms.texSize.value.set(this.renderTargetMaskDownSampleBuffer.width,this.renderTargetMaskDownSampleBuffer.height),this.edgeDetectionMaterial.uniforms.visibleEdgeColor.value=this.tempPulseColor1,this.edgeDetectionMaterial.uniforms.hiddenEdgeColor.value=this.tempPulseColor2,e.setRenderTarget(this.renderTargetEdgeBuffer1),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.separableBlurMaterial1,this.separableBlurMaterial1.uniforms.colorTexture.value=this.renderTargetEdgeBuffer1.texture,this.separableBlurMaterial1.uniforms.direction.value=ld.BlurDirectionX,this.separableBlurMaterial1.uniforms.kernelRadius.value=this.edgeThickness,e.setRenderTarget(this.renderTargetBlurBuffer1),e.clear(),this.fsQuad.render(e),this.separableBlurMaterial1.uniforms.colorTexture.value=this.renderTargetBlurBuffer1.texture,this.separableBlurMaterial1.uniforms.direction.value=ld.BlurDirectionY,e.setRenderTarget(this.renderTargetEdgeBuffer1),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.separableBlurMaterial2,this.separableBlurMaterial2.uniforms.colorTexture.value=this.renderTargetEdgeBuffer1.texture,this.separableBlurMaterial2.uniforms.direction.value=ld.BlurDirectionX,e.setRenderTarget(this.renderTargetBlurBuffer2),e.clear(),this.fsQuad.render(e),this.separableBlurMaterial2.uniforms.colorTexture.value=this.renderTargetBlurBuffer2.texture,this.separableBlurMaterial2.uniforms.direction.value=ld.BlurDirectionY,e.setRenderTarget(this.renderTargetEdgeBuffer2),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.overlayMaterial,this.overlayMaterial.uniforms.maskTexture.value=this.renderTargetMaskBuffer.texture,this.overlayMaterial.uniforms.edgeTexture1.value=this.renderTargetEdgeBuffer1.texture,this.overlayMaterial.uniforms.edgeTexture2.value=this.renderTargetEdgeBuffer2.texture,this.overlayMaterial.uniforms.patternTexture.value=this.patternTexture,this.overlayMaterial.uniforms.edgeStrength.value=this.edgeStrength,this.overlayMaterial.uniforms.edgeGlow.value=this.edgeGlow,this.overlayMaterial.uniforms.usePatternTexture.value=this.usePatternTexture,o&&e.state.buffers.stencil.setTest(!0),e.setRenderTarget(r),this.fsQuad.render(e),e.setClearColor(this._oldClearColor,this.oldClearAlpha),e.autoClear=a}this.renderToScreen&&(this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=r.texture,e.setRenderTarget(null),this.fsQuad.render(e))}getPrepareMaskMaterial(){return new Wn({uniforms:{depthTexture:{value:null},cameraNearFar:{value:new et(.5,.5)},textureMatrix:{value:null}},vertexShader:`#include <morphtarget_pars_vertex>
				#include <skinning_pars_vertex>

				varying vec4 projTexCoord;
				varying vec4 vPosition;
				uniform mat4 textureMatrix;

				void main() {

					#include <skinbase_vertex>
					#include <begin_vertex>
					#include <morphtarget_vertex>
					#include <skinning_vertex>
					#include <project_vertex>

					vPosition = mvPosition;
					vec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );
					projTexCoord = textureMatrix * worldPosition;

				}`,fragmentShader:`#include <packing>
				varying vec4 vPosition;
				varying vec4 projTexCoord;
				uniform sampler2D depthTexture;
				uniform vec2 cameraNearFar;

				void main() {

					float depth = unpackRGBAToDepth(texture2DProj( depthTexture, projTexCoord ));
					float viewZ = - DEPTH_TO_VIEW_Z( depth, cameraNearFar.x, cameraNearFar.y );
					float depthTest = (-vPosition.z > viewZ) ? 1.0 : 0.0;
					gl_FragColor = vec4(0.0, depthTest, 1.0, 1.0);

				}`})}getEdgeDetectionMaterial(){return new Wn({uniforms:{maskTexture:{value:null},texSize:{value:new et(.5,.5)},visibleEdgeColor:{value:new pe(1,1,1)},hiddenEdgeColor:{value:new pe(1,1,1)}},vertexShader:`varying vec2 vUv;

				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;

				uniform sampler2D maskTexture;
				uniform vec2 texSize;
				uniform vec3 visibleEdgeColor;
				uniform vec3 hiddenEdgeColor;

				void main() {
					vec2 invSize = 1.0 / texSize;
					vec4 uvOffset = vec4(1.0, 0.0, 0.0, 1.0) * vec4(invSize, invSize);
					vec4 c1 = texture2D( maskTexture, vUv + uvOffset.xy);
					vec4 c2 = texture2D( maskTexture, vUv - uvOffset.xy);
					vec4 c3 = texture2D( maskTexture, vUv + uvOffset.yw);
					vec4 c4 = texture2D( maskTexture, vUv - uvOffset.yw);
					float diff1 = (c1.r - c2.r)*0.5;
					float diff2 = (c3.r - c4.r)*0.5;
					float d = length( vec2(diff1, diff2) );
					float a1 = min(c1.g, c2.g);
					float a2 = min(c3.g, c4.g);
					float visibilityFactor = min(a1, a2);
					vec3 edgeColor = 1.0 - visibilityFactor > 0.001 ? visibleEdgeColor : hiddenEdgeColor;
					gl_FragColor = vec4(edgeColor, 1.0) * vec4(d);
				}`})}getSeperableBlurMaterial(e){return new Wn({defines:{MAX_RADIUS:e},uniforms:{colorTexture:{value:null},texSize:{value:new et(.5,.5)},direction:{value:new et(.5,.5)},kernelRadius:{value:1}},vertexShader:`varying vec2 vUv;

				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`#include <common>
				varying vec2 vUv;
				uniform sampler2D colorTexture;
				uniform vec2 texSize;
				uniform vec2 direction;
				uniform float kernelRadius;

				float gaussianPdf(in float x, in float sigma) {
					return 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;
				}

				void main() {
					vec2 invSize = 1.0 / texSize;
					float weightSum = gaussianPdf(0.0, kernelRadius);
					vec4 diffuseSum = texture2D( colorTexture, vUv) * weightSum;
					vec2 delta = direction * invSize * kernelRadius/float(MAX_RADIUS);
					vec2 uvOffset = delta;
					for( int i = 1; i <= MAX_RADIUS; i ++ ) {
						float w = gaussianPdf(uvOffset.x, kernelRadius);
						vec4 sample1 = texture2D( colorTexture, vUv + uvOffset);
						vec4 sample2 = texture2D( colorTexture, vUv - uvOffset);
						diffuseSum += ((sample1 + sample2) * w);
						weightSum += (2.0 * w);
						uvOffset += delta;
					}
					gl_FragColor = diffuseSum/weightSum;
				}`})}getOverlayMaterial(){return new Wn({uniforms:{maskTexture:{value:null},edgeTexture1:{value:null},edgeTexture2:{value:null},patternTexture:{value:null},edgeStrength:{value:1},edgeGlow:{value:1},usePatternTexture:{value:0}},vertexShader:`varying vec2 vUv;

				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;

				uniform sampler2D maskTexture;
				uniform sampler2D edgeTexture1;
				uniform sampler2D edgeTexture2;
				uniform sampler2D patternTexture;
				uniform float edgeStrength;
				uniform float edgeGlow;
				uniform bool usePatternTexture;

				void main() {
					vec4 edgeValue1 = texture2D(edgeTexture1, vUv);
					vec4 edgeValue2 = texture2D(edgeTexture2, vUv);
					vec4 maskColor = texture2D(maskTexture, vUv);
					vec4 patternColor = texture2D(patternTexture, 6.0 * vUv);
					float visibilityFactor = 1.0 - maskColor.g > 0.0 ? 1.0 : 0.5;
					vec4 edgeValue = edgeValue1 + edgeValue2 * edgeGlow;
					vec4 finalColor = edgeStrength * maskColor.r * edgeValue;
					if(usePatternTexture)
						finalColor += + visibilityFactor * (1.0 - maskColor.r) * (1.0 - patternColor.r);
					gl_FragColor = finalColor;
				}`,blending:D_,depthTest:!1,depthWrite:!1,transparent:!0})}}ld.BlurDirectionX=new et(1,0);ld.BlurDirectionY=new et(0,1);const Yj=[!1],AN=[],Zj=t=>{t.userData.outline||(t.userData.outline=!0,AN.push(t),Yj[0]=!0)},Jj=t=>{!t.userData.outline||(t.userData.outline=!1,BW(AN,t))},Gl=new ld(new et,en,Qt(),AN);Qt(t=>Gl.renderCamera=t);yr(()=>{var t;const e=HA(),n=(t=WA())!==null&&t!==void 0?t:e;Gl.visibleEdgeColor=new _t(e),Gl.hiddenEdgeColor=new _t(n)},[HA,WA]);yr(()=>{const t=jA();if(!!t)return Gl.patternTexture=Uo(t),Gl.usePatternTexture=!0,()=>{Gl.usePatternTexture=!1}},[jA]);_j(t=>Gl.pulsePeriod=t*.001);Sj(t=>Gl.edgeStrength=t);Cj(t=>Gl.edgeThickness=t);const W2e=["name","blending","side","vertexColors","opacity","transparent","blendSrc","blendDst","blendEquation","blendSrcAlpha","blendDstAlpha","blendEquationAlpha","depthFunc","depthTest","depthWrite","stencilWriteMask","stencilFunc","stencilRef","stencilFuncMask","stencilFail","stencilZFail","stencilZPass","stencilWrite","clipIntersection","clipShadows","shadowSide","colorWrite","precision","polygonOffset","polygonOffsetFactor","polygonOffsetUnits","dithering","alphaTest","alphaToCoverage","premultipliedAlpha","visible","toneMapped"];var Qj=(t,e)=>{for(const i of W2e){const o=t[i];o!=null&&(e[i]=o)}const n=t.clippingPlanes;let r=null;if(n){const i=n.length;r=new Array(i);for(let o=0;o!==i;++o)r[o]=n[o].clone()}e.clippingPlanes=r};const j2e=["roughness","metalness","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissiveMap","emissiveIntensity","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","roughnessMap","metalnessMap","alphaMap","envMap","envMapIntensity","wireframe","wireframeLinewidth","wireframeLinecap","wireframeLinejoin","flatShading","fog"];var rR=(t,e)=>{Qj(t,e);for(const n of j2e){const r=t[n];r!=null&&(e[n]=r)}e.defines={STANDARD:""},t.color&&e.color.copy(t.color),t.emissive&&e.emissive.copy(t.emissive),t.normalScale&&e.normalScale.copy(t.normalScale)};const G2e=["map","gradientMap","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissiveMap","emissiveIntensity","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","alphaMap","wireframe","wireframeLinewidth","wireframeLinecap","wireframeLinejoin","fog"];var Y5=(t,e)=>{Qj(t,e);for(const n of G2e){const r=t[n];r!=null&&(e[n]=r)}t.color&&e.color.copy(t.color),t.emissive&&e.emissive.copy(t.emissive),t.normalScale&&e.normalScale.copy(t.normalScale)};const wf=new Set,$2e=(t,e)=>{var n,r,i;return(n=(i=t.userData)[e])!==null&&n!==void 0?n:i[e]=(r=t.material[e])!==null&&r!==void 0?r:1},G2=(t,e,n)=>{t.material[e]=$2e(t,e)*n},Z5=(t,e,n,r,i,o)=>{const{material:a}=t;if(!!a){if(Array.isArray(a)){if(e){for(let s=0;s<a.length;++s){const l=a[s],u=a[s]=new G_;Y5(l,u),l.dispose()}return}if(n)for(let s=0;s<a.length;++s){const l=a[s],u=a[s]=new Yu;rR(l,u),u.envMapIntensity=1,u.roughness=1,u.metalness=1,l.dispose()}return}if(e){t.material=new G_,Y5(a,t.material),a.dispose();return}n&&(t.material=new Yu,rR(a,t.material),t.material.envMapIntensity=1,t.material.roughness=1,t.material.metalness=1,a.dispose()),t.material instanceof Yu&&(r!==void 0&&G2(t,"metalness",r),i!==void 0&&G2(t,"roughness",i),o!==void 0&&G2(t,"envMapIntensity",o))}};var tg=as(()=>{for(const t of wf){const{_toon:e,_pbr:n,_metalnessFactor:r=0,_roughnessFactor:i,_environmentFactor:o}=t;"loadedResolvable"in t?t.loadedResolvable.then(a=>{a.traverse(s=>Z5(s,e,n,r,i,o))}):t.outerObject3d.traverse(a=>Z5(a,e,n,r,i,o))}wf.clear()},0,"trailing");const eG=[0],K2e=new $7;so(()=>eG[0]=K2e.getDelta());const q2e=new WeakMap,J5=new WeakMap,$2=new WeakMap;class z0 extends kO{constructor(e,n){super(),this.mixer=tu(q2e,n,()=>new K7(n)),typeof e=="string"?this.name=e:(this.name=e.name,this.loadClip(e))}retarget(e){const n=this.clip.clone(),r=e.name+".";return n.tracks=n.tracks.filter(i=>i.name.startsWith(r)),new z0(n,e)}dispose(){return super.dispose(),this.stop(),this}get duration(){var e,n;return(n=(e=this.clip)===null||e===void 0?void 0:e.duration)!==null&&n!==void 0?n:0}loadClip(e){this.clip=e,this.action=this.mixer.clipAction(e)}setTracks(e){const n=Object.entries(e).map(([r,i])=>new R0("."+r,Object.keys(i).map(o=>Number(o)),Object.values(i)));this.clip&&this.mixer.uncacheClip(this.clip),this.loadClip(new PA(this.name,-1,n))}play({crossFade:e=.25,repeat:n=!0,onFinish:r}={}){var i,o;const[a,s]=(i=J5.get(this.mixer))!==null&&i!==void 0?i:[];if((a==null?void 0:a.isRunning())&&this.action===a){n!==s&&a.setLoop(n?bA:xA,1/0);return}(o=$2.get(this.mixer))===null||o===void 0||o.cancel();const l=this.watch(so(()=>this.mixer.update(eG[0])));$2.set(this.mixer,l);const{action:u}=this;if(!u)return;a&&e?(u.time=0,u.enabled=!0,u.crossFadeFrom(a,e,!0)):this.mixer.stopAllAction(),J5.set(this.mixer,[u,n]),u.setLoop(n?bA:xA,1/0),u.clampWhenFinished=!0;const c=()=>r==null?void 0:r();this.mixer.addEventListener("finished",c),l.then(()=>this.mixer.removeEventListener("finished",c)),u.paused&&u.stop(),u.play()}stop(){var e;this.action&&(this.action.paused=!0),(e=$2.get(this.mixer))===null||e===void 0||e.cancel()}getPaused(){var e;return(e=this.action)===null||e===void 0?void 0:e.paused}setPaused(e){this.action&&(this.action.paused=e)}update(e){this.mixer.time=0,this.action&&(this.action.time=0),this.mixer.update(e)}}const X2e=as(t=>{const e=Object.entries(t);let n=0;for(const[,{length:a}]of e)a>n&&(n=a);const i=1e3*.001/n,o={};for(const[a,s]of e)o[a]=Object.fromEntries(s.map((l,u)=>[(u*i).toFixed(2),l]));return o},0,"trailingPromise");class Y2e extends uc{get animations(){var e;return(e=this.animationManagers)!==null&&e!==void 0?e:this.animationManagers={}}set animations(e){this.animationManagers=e}createAnimation(e){if(e in this.animations){const r=this.animations[e];if(typeof r!="string")return r}const n=this.watch(new z0(e,this));return this.animations[e]=n,n}buildAnimation(e){X2e(e).then(n=>{const r="lingo3d-animation";this.createAnimation(r).setTracks(n),this.playAnimation(r)})}makeAnimationProxy(e){return new Proxy(e,{get:(n,r)=>n[r],set:(n,r,i)=>(n[r]=i,this.buildAnimation(n),!0)})}async playAnimation(e,n){var r;await Promise.resolve(),this.loadingAnims&&(await Promise.all(this.loadingAnims),this.loadingAnims=void 0),!this.done&&(this.animationManager=typeof e=="string"?this.animations[e]:Object.values(this.animations)[e!=null?e:0],(r=this.animationManager)===null||r===void 0||r.play(n))}stopAnimation(){var e;(e=this.animationManager)===null||e===void 0||e.stop()}get animationPaused(){var e;return!!(!((e=this.animationManager)===null||e===void 0)&&e.getPaused())}set animationPaused(e){(async()=>{var n;await Promise.resolve(),this.loadingAnims&&await Promise.all(this.loadingAnims),!this.done&&((n=this.animationManager)===null||n===void 0||n.setPaused(e))})()}setAnimation(e,n){if(this._animation=e,typeof e=="string"||typeof e=="number"){this.animationName=e,this.playAnimation(e,n);return}if(typeof e=="boolean"){e?this.playAnimation(void 0,n):this.stopAnimation();return}if(!e){this.stopAnimation();return}this._animation=this.makeAnimationProxy(e),this.buildAnimation(e)}get animation(){return this._animation}set animation(e){if(Array.isArray(e)){let n=0;const r={onFinish:()=>{++n>=e.length&&(n=0),this.setAnimation(e[n],r)},repeat:!1};this.setAnimation(e[0],r);return}this.queueMicrotask(()=>this.setAnimation(e))}}const K2=new _N,ng=new _N,Z2e=OO(()=>{const t=Qt();Dj.setFromProjectionMatrix(M2e.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse))},200,"leading");class RN extends uc{constructor(e){super(e),this.object3d=e}dispose(){return super.dispose(),nR(this.object3d),this}addToRaycastSet(e,n){e.add(this.object3d),n.then(()=>e.delete(this.object3d))}get onClick(){return this._onClick}set onClick(e){var n;(n=this.clickHandle)===null||n===void 0||n.cancel(),this._onClick=e,e&&this.addToRaycastSet(Bj,this.clickHandle=new Yr)}get onMouseDown(){return this._onMouseDown}set onMouseDown(e){var n;(n=this.mouseDownHandle)===null||n===void 0||n.cancel(),this._onMouseDown=e,e&&this.addToRaycastSet(Vj,this.mouseDownHandle=new Yr)}get onMouseUp(){return this._onMouseUp}set onMouseUp(e){var n;(n=this.mouseUpHandle)===null||n===void 0||n.cancel(),this._onMouseUp=e,e&&this.addToRaycastSet(Uj,this.mouseUpHandle=new Yr)}get onMouseOver(){return this._onMouseOver}set onMouseOver(e){var n;(n=this.mouseOverHandle)===null||n===void 0||n.cancel(),this._onMouseOver=e,e&&this.addToRaycastSet(Hj,this.mouseOverHandle=new Yr)}get onMouseOut(){return this._onMouseOut}set onMouseOut(e){var n;(n=this.mouseOutHandle)===null||n===void 0||n.cancel(),this._onMouseOut=e,e&&this.addToRaycastSet(Wj,this.mouseOutHandle=new Yr)}get onMouseMove(){return this._onMouseMove}set onMouseMove(e){var n;(n=this.mouseMoveHandle)===null||n===void 0||n.cancel(),this._onMouseMove=e,e&&this.addToRaycastSet(jj,this.mouseMoveHandle=new Yr)}get name(){return this.outerObject3d.name}set name(e){this.outerObject3d.name=Cr.sanitizeNodeName(e)}getRay(){return Ij.set(this.object3d.getWorldPosition(Lf),this.object3d.getWorldDirection(Xn))}pointAt(e){return D0(this.getRay().at(e*Wt,Xn))}rayIntersectsAt(e,n){if(this.done||e.done||this===e)return;ng.set(e.object3d.getWorldPosition(new pe),kj,new Ri().setFromMatrix4(e.object3d.matrixWorld));const r=ng.intersectRay(this.getRay(),Xn);if(!!r){if(n){const{x:i,y:o,z:a}=this.object3d.getWorldPosition(Lf);if(Tj(r.x,r.y,r.z,i,o,a)*Br>n)return}return D0(r)}}rayIntersects(e){return!!this.rayIntersectsAt(e)}intersects(e){return this.done||e.done||this===e?!1:(K2.set(this.object3d.getWorldPosition(new pe),KA.clone(),new Ri),K2.applyMatrix4(this.object3d.matrixWorld),ng.set(e.object3d.getWorldPosition(new pe),KA.clone(),new Ri),ng.applyMatrix4(e.object3d.matrixWorld),K2.intersectsOBB(ng,0))}get clientX(){return Q_(this.object3d).x}get clientY(){return Q_(this.object3d).y}get reflection(){return!!this.object3d.userData.ssr}set reflection(e){e?Xj(this.object3d):nR(this.object3d)}get bloom(){return!!this.outerObject3d.userData.bloom}set bloom(e){e?EN(this.outerObject3d):MN(this.outerObject3d)}get outline(){return!!this.object3d.userData.outline}set outline(e){e?Zj(this.object3d):Jj(this.object3d)}get visible(){return this._visible!==!1}set visible(e){this._visible=e,this.outerObject3d.visible=e}get frustumCulled(){return this.outerObject3d.frustumCulled}set frustumCulled(e){this.outerObject3d.traverse(n=>n.frustumCulled=e)}get metalnessFactor(){var e;return(e=this._metalnessFactor)!==null&&e!==void 0?e:0}set metalnessFactor(e){this._metalnessFactor=e,wf.add(this),tg()}get roughnessFactor(){var e;return(e=this._roughnessFactor)!==null&&e!==void 0?e:1}set roughnessFactor(e){this._roughnessFactor=e,wf.add(this),tg()}get environmentFactor(){var e;return(e=this._environmentFactor)!==null&&e!==void 0?e:1}set environmentFactor(e){this._environmentFactor=e,wf.add(this),tg()}get toon(){var e;return(e=this._toon)!==null&&e!==void 0?e:!1}set toon(e){this._toon=e,wf.add(this),tg()}get pbr(){var e;return(e=this._pbr)!==null&&e!==void 0?e:!1}set pbr(e){this._pbr=e,wf.add(this),tg()}get frustumVisible(){return Z2e(),Dj.containsPoint(vy(this.object3d))}lookAt(e){var n;"outerObject3d"in e?this.outerObject3d.lookAt(((n=e.object3d)!==null&&n!==void 0?n:e.outerObject3d).getWorldPosition(Xn)):this.outerObject3d.lookAt(Ug(e))}}nu(RN,[Y2e]);const Jb=new WeakMap;var ch=t=>{var e;if(Jb.has(t))return Jb.get(t);const n=((e=t.object3d)!==null&&e!==void 0?e:t.outerObject3d).scale.clone().multiply(t.outerObject3d.scale);return Jb.set(t,n),setTimeout(()=>Jb.delete(t)),n};const[J2e,Q5]=Lt(void 0);var Qm=oh(async()=>{const{World:t,GSSolver:e,SplitSolver:n,NaiveBroadphase:r,Material:i,ContactMaterial:o,Body:a,Vec3:s,Box:l,Sphere:u,Cylinder:c}=await Wi(()=>import("./cannon-es.af838222.js"),[]),h=new t;vj(x=>h.gravity.set(0,-x,0)),h.quatNormalizeSkip=0,h.quatNormalizeFast=!1;const f=new e;h.defaultContactMaterial.contactEquationStiffness=1e9,h.defaultContactMaterial.contactEquationRelaxation=4,f.iterations=7,f.tolerance=.1,h.solver=new n(f),h.broadphase=new r;const[m]=h.defaultContactMaterial.materials,y=new i("slipperyMaterial");return h.addContactMaterial(new o(y,y,{friction:0,restitution:0})),h.addContactMaterial(new o(y,m,{friction:.001,restitution:0})),J2e(h),{world:h,defaultMaterial:m,slipperyMaterial:y,Body:a,Vec3:s,Box:l,Sphere:u,Cylinder:c}});async function tG(){const{Box:t}=await Qm();this.cannonBody.addShape(new t(ch(this).multiplyScalar(.5)))}class Q2e extends jS{getMAV(){var e;return(e=this._mAV)!==null&&e!==void 0?e:this._mAV=new H2(1/0,1/0,1/0)}get maxAngularVelocityX(){var e,n;return(n=(e=this._mAV)===null||e===void 0?void 0:e.x)!==null&&n!==void 0?n:1/0}set maxAngularVelocityX(e){this.getMAV().x=e}get maxAngularVelocityY(){var e,n;return(n=(e=this._mAV)===null||e===void 0?void 0:e.y)!==null&&n!==void 0?n:1/0}set maxAngularVelocityY(e){this.getMAV().y=e}get maxAngularVelocityZ(){var e,n;return(n=(e=this._mAV)===null||e===void 0?void 0:e.z)!==null&&n!==void 0?n:1/0}set maxAngularVelocityZ(e){this.getMAV().z=e}getMV(){var e;return(e=this._mV)!==null&&e!==void 0?e:this._mV=new H2(1/0,1/0,1/0)}get maxVelocityX(){var e,n;return(n=(e=this._mV)===null||e===void 0?void 0:e.x)!==null&&n!==void 0?n:1/0}set maxVelocityX(e){this.getMV().x=e}get maxVelocityY(){var e,n;return(n=(e=this._mV)===null||e===void 0?void 0:e.y)!==null&&n!==void 0?n:1/0}set maxVelocityY(e){this.getMV().y=e}get maxVelocityZ(){var e,n;return(n=(e=this._mV)===null||e===void 0?void 0:e.z)!==null&&n!==void 0?n:1/0}set maxVelocityZ(e){this.getMV().z=e}physicsRotate(){var e,n;if(!this.physicsUpdate)return;const r=(e=(n=this.physicsUpdate).rotation)!==null&&e!==void 0?e:n.rotation={};r.x=!0,r.y=!0,r.z=!0}physicsMove(){var e,n;if(!this.physicsUpdate)return;const r=(e=(n=this.physicsUpdate).position)!==null&&e!==void 0?e:n.position={};r.x=!0,r.y=!0,r.z=!0}physicsMoveXZ(){var e,n;if(!this.physicsUpdate)return;const r=(e=(n=this.physicsUpdate).position)!==null&&e!==void 0?e:n.position={};r.x=!0,r.z=!0}applyForce(e,n,r){setTimeout(()=>{var i;return(i=this.cannonBody)===null||i===void 0?void 0:i.applyForce({x:e,y:n,z:r})})}applyImpulse(e,n,r){setTimeout(()=>{var i;return(i=this.cannonBody)===null||i===void 0?void 0:i.applyImpulse({x:e,y:n,z:r})})}applyLocalForce(e,n,r){setTimeout(()=>{var i;return(i=this.cannonBody)===null||i===void 0?void 0:i.applyLocalForce({x:e,y:n,z:r})})}applyLocalImpulse(e,n,r){setTimeout(()=>{var i;return(i=this.cannonBody)===null||i===void 0?void 0:i.applyLocalImpulse({x:e,y:n,z:r})})}applyTorque(e,n,r){setTimeout(()=>{var i;return(i=this.cannonBody)===null||i===void 0?void 0:i.applyTorque({x:e,y:n,z:r})})}get velocity(){return this.bvhVelocity?this.bvhVelocity:this.cannonBody?this.cannonBody.velocity:new H2(0,0,0)}set velocity(e){this.bvhVelocity?Object.assign(this.bvhVelocity,e):this.cannonBody&&Object.assign(this.cannonBody.velocity,e)}refreshCannon(){var e;this.physicsUpdate&&(this.physics=(e=this._physics)!==null&&e!==void 0?e:!1)}get noTumble(){return this._noTumble}set noTumble(e){this._noTumble=e,this.refreshCannon()}get slippery(){return this._slippery}set slippery(e){this._slippery=e,this.refreshCannon()}get mass(){return this._mass}set mass(e){this._mass=e,this.refreshCannon()}get physicsGroup(){return this._physicsGroup}set physicsGroup(e){this._physicsGroup=e,this.refreshCannon()}get ignorePhysicsGroups(){return this._ignorePhysicsGroups}set ignorePhysicsGroups(e){this._ignorePhysicsGroups=e,this.refreshCannon()}get physicsShape(){var e;return(e=this._physicsShape)!==null&&e!==void 0?e:this._physicsShape=tG}set physicsShape(e){this._physicsShape=e,this.refreshCannon()}initPhysics(e,n){if(!(!e||n.done))switch(e){case!0:case"2d":Wi(()=>import("./enableCannon.6a00afd7.js"),[]).then(r=>r.default.call(this,n));break;case"map":this.bvhMap=!0,Wi(()=>import("./enableBVHMap.bb13992c.js"),["assets/enableBVHMap.bb13992c.js","assets/computeBVH.22b710c6.js","assets/useBVHMap.e49e2002.js"]).then(r=>r.default.call(this,n,!1));break;case"map-debug":this.bvhMap=!0,Wi(()=>import("./enableBVHMap.bb13992c.js"),["assets/enableBVHMap.bb13992c.js","assets/computeBVH.22b710c6.js","assets/useBVHMap.e49e2002.js"]).then(r=>r.default.call(this,n,!0));break;case"character":this.bvhCharacter=!0,Wi(()=>import("./enableBVHCharacter.6cfa8256.js"),["assets/enableBVHCharacter.6cfa8256.js","assets/useBVHMap.e49e2002.js","assets/computeBVH.22b710c6.js"]).then(r=>r.default.call(this,n));break;default:zW(e)}}get physics(){var e;return(e=this._physics)!==null&&e!==void 0?e:!1}set physics(e){var n;if(this._physics===e)return;this._physics=e,(n=this.physicsHandle)===null||n===void 0||n.cancel();const r=this.physicsHandle=this.cancellable();this.initPhysics(e,r)}}var ez=new Map;const eTe=new Set,n1=new Map,tz=new WeakSet,tTe=()=>new WeakSet,nTe=1/60;yr(function(){if(Pm())return;const t=Q5();if(!t)return;const e=so(()=>{for(const n of eTe){const r=n.cannonBody;if("_mAV"in n){const{x:a,y:s,z:l}=n._mAV,{angularVelocity:u}=r;u.x>a?u.x=a:u.x<-a&&(u.x=-a),u.y>s?u.y=s:u.y<-s&&(u.y=-s),u.z>l?u.z=l:u.z<-l&&(u.z=-l)}if("_mV"in n){const{x:a,y:s,z:l}=n._mV,{velocity:u}=r;u.x>a?u.x=a:u.x<-a&&(u.x=-a),u.y>s?u.y=s:u.y<-s&&(u.y=-s),u.z>l?u.z=l:u.z<-l&&(u.z=-l)}const{position:i,rotation:o}=n.physicsUpdate;n.physicsUpdate={},i&&(i.x&&(r.position.x=n.outerObject3d.position.x,r.velocity.x=0,r.force.x=0),i.y&&(r.position.y=n.outerObject3d.position.y,r.velocity.y=0,r.force.y=0),i.z&&(r.position.z=n.outerObject3d.position.z,r.velocity.z=0,r.force.z=0)),n.outerObject3d.position.copy(r.position),o?(o.x&&(r.angularVelocity.x=0,r.torque.x=0),o.y&&(r.angularVelocity.y=0,r.torque.y=0),o.z&&(r.angularVelocity.z=0,r.torque.z=0),r.quaternion.copy(n.outerObject3d.quaternion)):n.outerObject3d.quaternion.copy(r.quaternion)}t.step(nTe),n1.clear();for(const n of t.contacts)tu(n1,n.bi,tTe).add(n.bj)});return()=>{e.cancel()}},[Q5,Pm]);const _p=new Map,rTe=()=>new Set,nz=new WeakMap,rz=(t,e)=>{const n=nz.get(t);if(n)return n;const r=Tj(t.x,t.y,t.z,e.x*Br,e.y*Br,e.z*Br);return nz.set(t,r),r};class Yf extends RN{get id(){return this._id}set id(e){this._id!==void 0&&_p.get(this._id).delete(this),this._id=e,e!==void 0&&tu(_p,e,rTe).add(this)}getRayIntersectionsAt(e,n){var r;const i=[];for(const o of(r=_p.get(e))!==null&&r!==void 0?r:[]){if(o===this)continue;const a=this.rayIntersectsAt(o,n);a&&i.push([o,a])}return this.object3d.getWorldPosition(Lf),i.sort((o,a)=>rz(o[1],Lf)-rz(a[1],Lf))}getRayIntersections(e,n){return this.getRayIntersectionsAt(e,n).map(r=>r[0])}listenToRayIntersection(e,n,r){return this.loop(()=>{for(const[i,o]of this.getRayIntersectionsAt(e,r))n(i,o)})}getIntersections(e){var n;const r=[];for(const i of(n=_p.get(e))!==null&&n!==void 0?n:[])i!==this&&this.intersects(i)&&r.push(i);return r}listenToIntersection(e,n,r){let i=[];return this.loop(()=>{const o=this.getIntersections(e);if(n)for(const a of o)i.includes(a)||n(a);if(r)for(const a of i)o.includes(a)||r(a);i=o})}initIntersect(){this.onIntersectState||(this.onIntersectState=new Gr(void 0),this.onIntersectOutState=new Gr(void 0),this.intersectIdsState=new Gr(void 0),this.createEffect(()=>{const{onIntersect:e,onIntersectOut:n,intersectIds:r}=this;if(!r||!e&&!n)return;const i=[];for(const o of r)i.push(this.listenToIntersection(o,e,n));return()=>{for(const o of i)o.cancel()}},[this.onIntersectState.get,this.onIntersectOutState.get,this.intersectIdsState.get]))}get onIntersect(){var e;return(e=this.onIntersectState)===null||e===void 0?void 0:e.get()}set onIntersect(e){var n;this.initIntersect(),(n=this.onIntersectState)===null||n===void 0||n.set(e)}get onIntersectOut(){var e;return(e=this.onIntersectOutState)===null||e===void 0?void 0:e.get()}set onIntersectOut(e){var n;this.initIntersect(),(n=this.onIntersectOutState)===null||n===void 0||n.set(e)}get intersectIds(){var e;return(e=this.intersectIdsState)===null||e===void 0?void 0:e.get()}set intersectIds(e){var n;this.initIntersect(),(n=this.intersectIdsState)===null||n===void 0||n.set(e)}dispose(){return super.dispose(),this._id!==void 0&&_p.get(this._id).delete(this),this}intersects(e){var n,r,i,o;return this.done||e.done||this===e?!1:this.bvhMap&&e.bvhCharacter||this.bvhCharacter&&e.bvhMap?((n=ez.get(this))===null||n===void 0?void 0:n.has(e))||((r=ez.get(e))===null||r===void 0?void 0:r.has(this))||!1:this.cannonBody&&e.cannonBody?(tz.add(this.cannonBody),tz.add(e.cannonBody),((i=n1.get(this.cannonBody))===null||i===void 0?void 0:i.has(e.cannonBody))||((o=n1.get(e.cannonBody))===null||o===void 0?void 0:o.has(this.cannonBody))||!1):super.intersects(e)}get width(){return this.object3d.scale.x*Br}set width(e){this.object3d.scale.x=e*Wt}get height(){return this.object3d.scale.y*Br}set height(e){this.object3d.scale.y=e*Wt}get depth(){return this.object3d.scale.z*Br}set depth(e){this.object3d.scale.z=e*Wt}get x(){return this.outerObject3d.position.x*Br}set x(e){var n,r;this.outerObject3d.position.x=e*Wt,this.physicsUpdate&&(((n=(r=this.physicsUpdate).position)!==null&&n!==void 0?n:r.position={}).x=!0)}get y(){return this.outerObject3d.position.y*Br}set y(e){var n,r;this.outerObject3d.position.y=e*Wt,this.physicsUpdate&&(((n=(r=this.physicsUpdate).position)!==null&&n!==void 0?n:r.position={}).y=!0)}get z(){return this.outerObject3d.position.z*Br}set z(e){var n,r;this.outerObject3d.position.z=e*Wt,this.physicsUpdate&&(((n=(r=this.physicsUpdate).position)!==null&&n!==void 0?n:r.position={}).z=!0)}get scaleX(){return this.outerObject3d.scale.x}set scaleX(e){this.outerObject3d.scale.x=e}get scaleY(){return this.outerObject3d.scale.y}set scaleY(e){this.outerObject3d.scale.y=e}get scaleZ(){return this.outerObject3d.scale.z}set scaleZ(e){this.outerObject3d.scale.z=e}get scale(){return this.scaleX}set scale(e){this.scaleX=e,this.scaleY=e,this.scaleZ=e}get rotationX(){return this.outerObject3d.rotation.x*ro}set rotationX(e){var n,r;this.outerObject3d.rotation.x=e*Xr,this.physicsUpdate&&(((n=(r=this.physicsUpdate).rotation)!==null&&n!==void 0?n:r.rotation={}).x=!0)}get rotationY(){return this.outerObject3d.rotation.y*ro}set rotationY(e){var n,r,i;this.outerObject3d.rotation.y=e*Xr,this.physicsUpdate&&(((n=(i=this.physicsUpdate).rotation)!==null&&n!==void 0?n:i.rotation={}).y=!0),(r=this.onRotationY)===null||r===void 0||r.call(this)}get rotationZ(){return this.outerObject3d.rotation.z*ro}set rotationZ(e){var n,r;this.outerObject3d.rotation.z=e*Xr,this.physicsUpdate&&(((n=(r=this.physicsUpdate).rotation)!==null&&n!==void 0?n:r.rotation={}).z=!0)}get rotation(){return this.rotationZ}set rotation(e){this.rotationZ=e}get innerVisible(){return this.object3d.visible}set innerVisible(e){this.object3d.visible=e}lookAt(e){var n;super.lookAt(e),this.physicsRotate(),(n=this.onRotationY)===null||n===void 0||n.call(this)}translateX(e){this.outerObject3d.translateX(e*Wt),this.physicsMove()}translateY(e){this.outerObject3d.translateY(e*Wt),this.physicsMove()}translateZ(e){this.outerObject3d.translateZ(e*Wt),this.physicsMove()}placeAt(e){var n,r;"object3d"in e?(this.outerObject3d.position.copy(vy((n=e.object3d)!==null&&n!==void 0?n:e.outerObject3d)),this.outerObject3d.quaternion.copy(e.outerObject3d.getWorldQuaternion(J_))):this.outerObject3d.position.copy(Ug(e)),this.physicsMove(),this.physicsRotate(),(r=this.onRotationY)===null||r===void 0||r.call(this)}moveForward(e){e!==0&&(Xn.setFromMatrixColumn(this.outerObject3d.matrix,0),Xn.crossVectors(this.outerObject3d.up,Xn),this.outerObject3d.position.addScaledVector(Xn,e*Wt),this.physicsMoveXZ())}moveRight(e){e!==0&&(Xn.setFromMatrixColumn(this.outerObject3d.matrix,0),this.outerObject3d.position.addScaledVector(Xn,e*Wt),this.physicsMoveXZ())}}nu(Yf,[jS,Q2e]);const iTe={animations:Object,animation:[String,Number,Array,Boolean,Object],animationPaused:Boolean},oTe={animations:{},animationPaused:!1},nG=Jt(nt(nt({},py),iTe),{onClick:Function,onMouseDown:Function,onMouseUp:Function,onMouseOver:Function,onMouseOut:Function,onMouseMove:Function,name:String,bloom:Boolean,reflection:Boolean,outline:Boolean,visible:Boolean,frustumCulled:Boolean,metalnessFactor:Number,roughnessFactor:Number,environmentFactor:Number,toon:Boolean,pbr:Boolean}),rG=Jt(nt(nt({},Jm),oTe),{name:"",bloom:!1,reflection:!1,outline:!1,visible:!0,frustumCulled:!0,metalnessFactor:0,roughnessFactor:1,environmentFactor:1,toon:!1,pbr:!1}),$S={color:String,vertexColors:Boolean,fog:Boolean,opacity:Number,texture:[String,Object],videoTexture:[String,Object],alphaMap:String,textureRepeat:[Object,Number]},KS={color:"#ffffff",vertexColors:!1,fog:!0,opacity:1},ON={color:String,flatShading:Boolean,wireframe:Boolean,envMap:String,aoMap:String,aoMapIntensity:Number,bumpMap:String,bumpScale:Number,displacementMap:String,displacementScale:Number,displacementBias:Number,emissiveColor:String,emissiveMap:String,emissiveIntensity:Number,lightMap:String,lightMapIntensity:Number,metalnessMap:String,metalness:Number,roughnessMap:String,roughness:Number,normalMap:String,normalScale:[Object,Number],normalMapType:String},NN={color:"#ffffff",flatShading:!1,wireframe:!1,aoMapIntensity:1,bumpScale:1,displacementScale:1,displacementBias:0,emissiveColor:"#000000",emissiveIntensity:1,lightMapIntensity:1,metalness:0,roughness:1,normalScale:{x:1,y:1}},aTe=nt(nt(nt({},nG),$S),ON),sTe=nt(nt(nt({},rG),KS),NN),iG=[t=>t],lTe=["map","alphaMap"],iR=new Map,uTe=as(function(){for(const[t,e]of iR)for(const n of lTe){const r=t.material[n];r&&(r.repeat=e)}iR.clear()},0,"trailing");class qS{get color(){return"#"+this.material.color.getHexString()}set color(e){this.material.color=new _t(e)}get vertexColors(){return this.material.vertexColors}set vertexColors(e){this.material.vertexColors=e}get fog(){return this.material.fog}set fog(e){this.material.fog=e}get opacity(){var e;return(e=this._opacity)!==null&&e!==void 0?e:this._opacity=1}set opacity(e){var n;this._opacity=e,this.material.opacity=e,this.material.transparent=(n=this.transparent)!==null&&n!==void 0?n:e<1,this.object3d.visible=!!e}basicTextureRepeat(){this.material.needsUpdate=!0,this._textureRepeat&&(iR.set(this,this._textureRepeat),uTe())}initTexture(){var e,n;if(this.textureState)return;const r=(e=this.videoTextureState)!==null&&e!==void 0?e:this.videoTextureState=new Gr(void 0),i=(n=this.textureState)!==null&&n!==void 0?n:this.textureState=new Gr(void 0);this.createEffect(()=>{const o=i.get();let a=r.get();if(!a&&(typeof o=="string"&&iG[0](o).toLowerCase().endsWith(".mp4")||o&&o instanceof HTMLVideoElement)&&(a=o),a){let u;a instanceof HTMLVideoElement?u=a:(u=document.createElement("video"),u.crossOrigin="anonymous",u.src=a,u.loop=!0,u.autoplay=!0,u.muted=!0,u.playsInline=!0,u.play());const c=new v7(u);c.wrapS=c.wrapT=_0;const{material:h}=this,{map:f}=h;return h.map=c,h.needsUpdate=!0,this.basicTextureRepeat(),()=>{u.pause(),c.dispose(),h.map=f,h.needsUpdate=!0}}if(!o)return;const{material:s}=this,{map:l}=s;return s.map=Uo(o),this.basicTextureRepeat(),()=>{s.map=l,this.material.needsUpdate=!0}},[r.get,i.get])}get videoTexture(){var e;return(e=this.videoTextureState)===null||e===void 0?void 0:e.get()}set videoTexture(e){this.initTexture(),this.videoTextureState.set(e)}get texture(){var e;return(e=this.textureState)===null||e===void 0?void 0:e.get()}set texture(e){this.initTexture(),this.textureState.set(e)}get alphaMap(){return this._alphaMap}set alphaMap(e){this._alphaMap=e,this.material.alphaMap=e?Uo(e):null,this.basicTextureRepeat()}get textureRepeat(){return this._textureRepeat}set textureRepeat(e){typeof e=="number"&&(e=new et(e,e)),this._textureRepeat=e,this.basicTextureRepeat()}}const cTe=["map","alphaMap","envMap","aoMap","bumpMap","displacementMap","emissiveMap","lightMap","metalnessMap","roughnessMap","normalMap"],oR=new Map,dTe=as(function(){for(const[t,e]of oR)for(const n of cTe){const r=t.material[n];r&&(r.repeat=e)}oR.clear()},0,"trailing");class kN{get color(){return"#"+this.material.color.getHexString()}set color(e){this.material.color=new _t(e)}get flatShading(){return this.material.flatShading}set flatShading(e){this.material.flatShading=e}get wireframe(){return this.material.wireframe}set wireframe(e){this.material.wireframe=e}standardTextureRepeat(){this.material.needsUpdate=!0,this._textureRepeat&&(oR.set(this,this._textureRepeat),dTe())}get envMap(){return this._envMap}set envMap(e){this._envMap=e,this.material.envMap=e?Uo(e):null,this.standardTextureRepeat()}get aoMap(){return this._aoMap}set aoMap(e){this._aoMap=e,this.material.aoMap=e?Uo(e):null,this.standardTextureRepeat()}get aoMapIntensity(){return this.material.aoMapIntensity}set aoMapIntensity(e){this.material.aoMapIntensity=e}get bumpMap(){return this._bumpMap}set bumpMap(e){this._bumpMap=e,this.material.bumpMap=e?Uo(e):null,this.standardTextureRepeat()}get bumpScale(){return this.material.bumpScale}set bumpScale(e){this.material.bumpScale=e}get displacementMap(){return this._displacementMap}set displacementMap(e){this._displacementMap=e,this.material.displacementMap=e?Uo(e):null,this.standardTextureRepeat()}get displacementScale(){return this.material.displacementScale}set displacementScale(e){this.material.displacementScale=e}get displacementBias(){return this.material.displacementBias}set displacementBias(e){this.material.displacementBias=e}get emissiveColor(){return"#"+this.material.emissive.getHexString()}set emissiveColor(e){this.material.emissive=new _t(e)}get emissiveMap(){return this._emissiveMap}set emissiveMap(e){this._emissiveMap=e,this.material.emissiveMap=e?Uo(e):null,this.standardTextureRepeat()}get emissiveIntensity(){return this.material.emissiveIntensity}set emissiveIntensity(e){this.material.emissiveIntensity=e}get lightMap(){return this._lightMap}set lightMap(e){this._lightMap=e,this.material.lightMap=e?Uo(e):null,this.standardTextureRepeat()}get lightMapIntensity(){return this.material.lightMapIntensity}set lightMapIntensity(e){this.material.lightMapIntensity=e}get metalnessMap(){return this._metalnessMap}set metalnessMap(e){this._metalnessMap=e,this.material.metalnessMap=e?Uo(e):null,this.standardTextureRepeat()}get metalness(){return this.material.metalness}set metalness(e){this.material.metalness=e}get roughnessMap(){return this._roughnessMap}set roughnessMap(e){this._roughnessMap=e,this.material.roughnessMap=e?Uo(e):null,this.standardTextureRepeat()}get roughness(){return this.material.roughness}set roughness(e){this.material.roughness=e}get normalMap(){return this._normalMap}set normalMap(e){this._normalMap=e,this.material.normalMap=e?Uo(e):null,this.standardTextureRepeat()}get normalScale(){return this.material.normalScale}set normalScale(e){typeof e=="number"?this.material.normalScale=new et(e,e):this.material.normalScale=e}get normalMapType(){return this._normalMapType}set normalMapType(e){this._normalMapType=e,this.material.normalMapType=e==="objectSpace"?YW:ah}}class Rm extends RN{constructor(e){var n;super(e),this.material=(n=e.material)!==null&&n!==void 0?n:e.material=new Yu,jo.delete(this)}retargetAnimations(){var e;if(!!(!((e=this.model)===null||e===void 0)&&e.animationManagers)){for(const n of Object.values(this.model.animationManagers))this.animations[n.name]=this.watch(n.retarget(this.object3d));this.model=void 0}}get animation(){return super.animation}set animation(e){this.retargetAnimations(),super.animation=e}dispose(){return super.dispose(),this.material.dispose(),this}addToRaycastSet(e,n){this.managerSet||(this.managerSet=!0,this.object3d.traverse(r=>r.userData.manager=this)),e.add(this.object3d),n.then(()=>e.delete(this.object3d))}}Rm.componentName="find";Rm.defaults=sTe;Rm.schema=aTe;nu(Rm,[kN,qS]);class ou extends Yf{constructor(e){super(e);const n=this.outerObject3d=new Xi;n.userData.manager=this,en.add(n),n.add(e)}get innerRotationX(){return this.object3d.rotation.x*ro}set innerRotationX(e){this.object3d.rotation.x=e*Xr}get innerRotationY(){return this.object3d.rotation.y*ro}set innerRotationY(e){this.object3d.rotation.y=e*Xr}get innerRotationZ(){return this.object3d.rotation.z*ro}set innerRotationZ(e){this.object3d.rotation.z=e*Xr}get innerRotation(){return this.innerRotationZ}set innerRotation(e){this.innerRotationZ=e}get innerX(){return this.object3d.position.x*Br}set innerX(e){this.object3d.position.x=e*Wt}get innerY(){return this.object3d.position.y*Br}set innerY(e){this.object3d.position.y=e*Wt}get innerZ(){return this.object3d.position.z*Br}set innerZ(e){this.object3d.position.z=e*Wt}find(e,n){var r,i;const o=this.outerObject3d.getObjectByName(Cr.sanitizeNodeName(e));if(!o)return;const a=(r=(i=o.userData).manager)!==null&&r!==void 0?r:i.manager=new Rm(o);return!n&&this._append(a),a}findAll(e){const n=[];return this.outerObject3d.traverse(r=>{var i,o;r.name===e&&n.push((i=(o=r.userData).manager)!==null&&i!==void 0?i:o.manager=new Rm(r))}),n}}const fTe={maxAngularVelocityX:Number,maxAngularVelocityY:Number,maxAngularVelocityZ:Number,maxVelocityX:Number,maxVelocityY:Number,maxVelocityZ:Number,velocity:Object,noTumble:Boolean,slippery:Boolean,mass:Number,physicsGroup:Number,ignorePhysicsGroups:Array,physics:[String,Boolean],physicsShape:Function},hTe={maxAngularVelocityX:1/0,maxAngularVelocityY:1/0,maxAngularVelocityZ:1/0,maxVelocityX:1/0,maxVelocityY:1/0,maxVelocityZ:1/0,velocity:{x:0,y:0,z:0},physics:!1,physicsShape:tG},IN=Jt(nt({},py),{x:Number,y:Number,z:Number}),LN=Jt(nt({},Jm),{x:0,y:0,z:0}),pTe=Jt(nt(nt(nt({},nG),IN),fTe),{onIntersect:Function,onIntersectOut:Function,id:String,intersectIds:Array,width:Number,height:Number,depth:Number,scaleX:Number,scaleY:Number,scaleZ:Number,scale:Number,rotationX:Number,rotationY:Number,rotationZ:Number,rotation:Number,innerVisible:Boolean}),mTe=Jt(nt(nt(nt({},rG),LN),hTe),{width:100,height:100,depth:100,scaleX:1,scaleY:1,scaleZ:1,scale:1,rotationX:0,rotationY:0,rotationZ:0,rotation:0,innerVisible:!0}),dh=Jt(nt({},pTe),{innerRotationX:Number,innerRotationY:Number,innerRotationZ:Number,innerRotation:Number,innerX:Number,innerY:Number,innerZ:Number}),ev=Jt(nt({},mTe),{innerRotationX:0,innerRotationY:0,innerRotationZ:0,innerRotation:0,innerX:0,innerY:0,innerZ:0}),vTe=nt(nt({},dh),$S),gTe=Jt(nt(nt({},ev),KS),{scaleZ:0,depth:0});class fh extends ou{constructor(){const e=new dy({transparent:!0});super(new $O(e)),this.material=e}dispose(){return super.dispose(),this.material.dispose(),this}get depth(){return 0}set depth(e){}get scaleZ(){return 0}set scaleZ(e){}}fh.componentName="sprite";fh.defaults=gTe;fh.schema=vTe;nu(fh,[qS]);var yTe=()=>{const t=new fh;return t.texture="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAABnNJREFUaEPtWVmoVlUU/r5zNItModEGQinLMkqbyDLqoR6K0gZMEsxIkh6iEYSEZiR9iDTyoZEkqeylsoFeKmkwKOhGRaE5VIo0kVOIej37i3XY62f7e+//n//e44DcA//DvXuftde3hm+tvQ5xiDzcVzgk5QBMvno4w/8fSPa03rFatQORZDJJMlTRRlJWdW8rebUCSZWSdHUI4SoAx0XPmB5mfTtzW5ZlKwAsNY+Y90gWVYD3tqc2IOYJV0rSGwCmVFCsi+Qkkhv665k6gZQhEkJ4G8ANALoBDG4BZieAIQB+JjmO5C43RgUD7LWlFiAeGpKuk/QegF0ADgNglv4IwKB4sp23yxQHcBGAHQAOJ3kfyYWSBpHcfSCBDCbZHUJ4B8BkV1DSk3meP9KsmKTxkr4FYHlh7Laa5BkxNMsQ7RTMXh6xWAVgPxfWTqglareksZJ+iMlchhXJOSSfkmTesf9Z+BWSxkj6Ke41D5gnHiI5L9K2E0MznpIRTbdmctgDSF/ZQ9JwSR8AuCxa2RTIJb2eZdl0AEdEwxiQ/yTdImkpAKNoV844expJI4q2T6R5e6c0dAOIs4akU41xQgjnkTzWYjihzd4OOBfAMVEx82b6/BVDLfXyCTGHfJ/Tsv1tIbcpRkXz+k5JG7Mse5+kkQqcIEogSbLeFKnTQqHTx6zbDCJVsJ08D+FKBCRpSZ7n0xtAEv4/WtKvAI6KrGNKVRIaAaR7DZT9nK2aQfi6tzHpuq21yktbs5/l4N0kF5Vs55QnaaqkNyvwfzvLlsmbbFoHYCOALQCOB3AKgBHJujNXO7npur/TlWXZ+aUzJJXUKelhSU8AaFak6gFp4q4j+SyAjwGstGLXCHZpGIBxIYSpJO+K3uz0TA/ZP0iONgJpeKQoimesMPURSCM/JM3PsuxRkla5y2SMHrJQtW7XaLh8JI2W9AKAKzs814FsJjmK5OYUyAKS93YosNQn4fYbSb4blTS26+6pGbRwNnp2sEVRvEzyjqRAtouCfQKk9AbJ6SSXxOJnBau0vKRLAFwAYDiAfwF8TdIo1taGOJikR6sSZg5kC8mRdXikPFTSK3mez7R8i1V3d2xDFgGY0IN5l1t+kFzpYCQNlbQagNWYnqg8FVMrEBe2neRZJH83b8Qu1ptHO9yp1hXxFmgnyQkkuyRZ47hD0ixJz1cIsVqBuDcW53l+ewJilKSVsYXvrZX37ng9ybEkt3leRa+c3MYrtQIpuZzkZJLLPESKoniV5IwK9agE4x2ye6UoipdIzmxDOrUBcUE7Yvu9Plp0mKRfYuFr1554HqwhOcY7Wkl3RkpulfS1AXElNpA8k+T2COQcSd8n05NWLY4rY7kyhqS1R8ZkkyQZhbeq+LUDsQpuie7Fb5ykrnZFwOthBGw3xrNJrolArpH04f4C0piGxBbhz6jECEmrYuPZLrR8/W+Sp5PcGmXcJmnx/gLSqOgkLyX5lfdsIYRPK7YcJaPZtSHP82kJWcy1m+X+SnYD4vT7eJ7njyW1wGuIrXvNaI62RsEjOZ7kd96FhxCs6o/fn/Trylh3a7XA7uLloK0oiqdJPhC1L+/qCQHYe+WYiOT9JBck1X2ipM8r3EhrS3a3sA8O/ILT6J0kzZY0r5fLmSX4gySfi8MOm5wUIYTPAFze38relzY+bVMsRFaZdePsykaho0MIs0hOBHAkgK2SlmdZ9iLJ3+LExLxowzkDPr8CiLTjrrWNT2dTF5PcFJtHs3J6odpjXmU5BcBqiAGeIumtJlpuxeItQ2s+ydl9uI80Et8miyRvJflFpFLLDRtkGFjLjfKO7nUn7pkjaW4HIFKP/EPyNKPu9M5+j6SFfQRiwhuV2CYcWZZZqJb3juZHkoXZtZKMZm18mipXpZ460ayNXUG3ASmZRtKFkr6JQHqablQ9oDFwA/CjpBVZltkAYlMI4SQANhq9AsCJUaAZoJOJjb1WDsAlvZbnuRXQQT7XKuM3hLAMwPWR/tqNZVoBc+XaTePt/OZZWBWD2VXZ8stam7XlcDHGqX/bGBpCsPvzzTGeqwg9EHusY55B8kuPqL1GphHYSAA2BjX3G7tUHdTta1D2GWItgE/s80M6q24eYnf0/W9fa92Sf5s+1/Voaa+2B5EnUkxWQ/b6GnywhEy/nTsApN8mrFnAgEdqNmi/xQ14pN8mrFnAgEdqNmi/xR0yHvkfVPFBbg9BWmoAAAAASUVORK5CYII=",jo.delete(t),t.scale=.5,t};class oG extends uc{initCamera(){S2e(this.camera),this.then(()=>{this.active&&If(oi),C2e(this.camera)}),this.createEffect(()=>{if(Qt()!==oi||Qt()===this.camera)return;const e=new xMe(this.camera);en.add(e);const n=yTe();e.add(n.outerObject3d);const r=gy(({target:i})=>{i===n&&Go(this)});return()=>{e.dispose(),en.remove(e),n.dispose(),r.cancel()}},[Qt])}get fov(){return this.camera.fov}set fov(e){var n,r;this.camera.fov=e,(r=(n=this.camera).updateProjectionMatrix)===null||r===void 0||r.call(n)}get zoom(){return this.camera.zoom}set zoom(e){var n,r;this.camera.zoom=e,(r=(n=this.camera).updateProjectionMatrix)===null||r===void 0||r.call(n)}get near(){return this.camera.near}set near(e){var n,r;this.camera.near=e,(r=(n=this.camera).updateProjectionMatrix)===null||r===void 0||r.call(n)}get far(){return this.camera.far}set far(e){var n,r;this.camera.far=e,(r=(n=this.camera).updateProjectionMatrix)===null||r===void 0||r.call(n)}activate(){If(this.camera)}get active(){return Qt()===this.camera}set active(e){e&&this.activate()}get bokeh(){var e;return(e=this.camera.userData.bokeh)!==null&&e!==void 0?e:VS}set bokeh(e){Qt()===this.camera&&Aj(e),this.camera.userData.bokeh=e}get bokehFocus(){var e;return(e=this.camera.userData.bokehFocus)!==null&&e!==void 0?e:HS}set bokehFocus(e){Qt()===this.camera&&Oj(e),this.camera.userData.bokehFocus=e}get bokehMaxBlur(){var e;return(e=this.camera.userData.bokehMaxBlur)!==null&&e!==void 0?e:WS}set bokehMaxBlur(e){Qt()===this.camera&&Nj(e),this.camera.userData.bokehMaxBlur=e}get bokehAperture(){var e;return(e=this.camera.userData.bokehAperture)!==null&&e!==void 0?e:US}set bokehAperture(e){Qt()===this.camera&&Rj(e),this.camera.userData.bokehAperture=e}}const aG={fov:Number,zoom:Number,near:Number,far:Number,active:Boolean,bokeh:Boolean,bokehFocus:Number,bokehMaxBlur:Number,bokehAperture:Number,minPolarAngle:Number,maxPolarAngle:Number},sG={fov:75,zoom:1,near:IS,far:LS,active:!1,bokeh:VS,bokehFocus:HS,bokehMaxBlur:WS,bokehAperture:US,minPolarAngle:vN,maxPolarAngle:gN},xTe=Jt(nt(nt({},IN),aG),{targetX:Number,targetY:Number,targetZ:Number,enableDamping:Boolean,enablePan:Boolean,enableZoom:Boolean,autoRotate:Boolean,autoRotateSpeed:Number,minAzimuthAngle:Number,maxAzimuthAngle:Number,azimuthAngle:Number,polarAngle:Number}),bTe=Jt(nt(nt({},LN),sG),{targetX:0,targetY:0,targetZ:0,z:500,enableDamping:!1,enablePan:!1,enableZoom:!1,autoRotate:!1,autoRotateSpeed:2,minAzimuthAngle:-1/0,maxAzimuthAngle:1/0,azimuthAngle:0,polarAngle:0}),[xy,XS]=ss();window.addEventListener("blur",()=>xy());window.addEventListener("focus",()=>xy());document.addEventListener("visibilitychange",()=>xy());const Hg=new Set;XS(()=>Hg.clear());let aR=!1;document.addEventListener("keydown",t=>{(t.key==="Shift"||t.key==="Meta")&&Hg.add(t.key),Hg.has("Meta")&&Hg.has("Shift")&&(xy(),aR=!0)});document.addEventListener("keyup",t=>{(t.key==="Shift"||t.key==="Meta")&&Hg.delete(t.key)});document.addEventListener("mousedown",()=>{aR&&(aR=!1,xy())});class tv extends jS{constructor(e=new bo(75,1,IS,LS)){super(e),this.camera=e,this.updateDebounced=as(()=>this.controls.update(),0,"trailing"),this.targetState=new Gr(void 0),this.enableZoomState=new Gr(!1),this.enableFlyState=new Gr(!1),this.enabledState=new Gr(!0),this._minPolarAngle=vN*Xr,this._maxPolarAngle=gN*Xr,this._minAzimuthAngle=-1/0,this._maxAzimuthAngle=1/0,en.add(e),this.initCamera(),this.createEffect(()=>{const r=this.targetState.get();if(!r)return;this.controls.target=r.outerObject3d.position;const i=FS(()=>r.parent!==this&&this.targetState.set(void 0));return()=>{this.controls.target=new pe,i.cancel()}},[this.targetState.get]);const n=this.controls=new x2e(e,Jr);n.enabled=!1,n.enablePan=!1,n.enableZoom=!1,n.minPolarAngle=this._minPolarAngle,n.maxPolarAngle=this._maxPolarAngle,n.minAzimuthAngle=this._minAzimuthAngle,n.maxAzimuthAngle=this._maxAzimuthAngle,e.position.z=5,this.updateDebounced(),this.createEffect(()=>{if(ic()||Qt()!==e||!this.enabledState.get())return;n.enabled=!0;const r=so(this.updateDebounced);if(this.enableZoomState.get()){const i=o=>{o.preventDefault();const a=e.getWorldDirection(Xn);let s=e.position.clone().add(a.clone().multiplyScalar(-o.deltaY*Wt));const l=e.worldToLocal(s.clone()),u=e.worldToLocal(n.target.clone());l.z-u.z<=1&&(s=n.target.clone().add(a.multiplyScalar(-1))),e.position.copy(s),this.updateDebounced()};Jr.addEventListener("wheel",i),r.then(()=>Jr.removeEventListener("wheel",i))}if(this.enableFlyState.get()){const i=new Set,o=c=>{const h=e.getWorldDirection(Xn);e.position.add(h.clone().multiplyScalar(c*Wt)),this.controls.target.copy(e.position).add(h),this.updateDebounced()},a=c=>{Xn.setFromMatrixColumn(this.outerObject3d.matrix,0),e.position.addScaledVector(Xn,c*Wt),this.controls.target.addScaledVector(Xn,c*Wt),this.updateDebounced()},s=c=>{const h=c*Wt;e.position.y+=h,this.controls.target.y+=h,this.updateDebounced()};r.watch(so(()=>{i.has("w")?o(i.has("Shift")?50:10):i.has("s")&&o(i.has("Shift")?-50:-10),i.has("a")?a(-10):i.has("d")&&a(10),i.has("ArrowDown")?s(-10):i.has("ArrowUp")&&s(10)}));const l=c=>{i.add(c.key.length===1?c.key.toLocaleLowerCase():c.key)},u=c=>{i.delete(c.key.length===1?c.key.toLowerCase():c.key)};document.addEventListener("keydown",l),document.addEventListener("keyup",u),r.watch(XS(()=>i.clear())),r.then(()=>{document.removeEventListener("keydown",l),document.removeEventListener("keyup",u)})}return()=>{n.enabled=!1,r.cancel()}},[Qt,ic,this.enableZoomState.get,this.enableFlyState.get,this.enabledState.get]),this.then(()=>n.dispose())}get targetX(){var e;return(e=this._targetX)!==null&&e!==void 0?e:this._targetX=0}set targetX(e){this._targetX=e,this.controls.target.x=e*Wt}get targetY(){var e;return(e=this._targetY)!==null&&e!==void 0?e:this._targetY=0}set targetY(e){this._targetY=e,this.controls.target.y=e*Wt}get targetZ(){var e;return(e=this._targetZ)!==null&&e!==void 0?e:this._targetZ=0}set targetZ(e){this._targetZ=e,this.controls.target.z=e*Wt}append(e){var n;if(this.targetState.get()){super.append(e);return}this._append(e),(n=this.outerObject3d.parent)===null||n===void 0||n.add(e.outerObject3d),this.targetState.set(e)}attach(e){var n;if(this.targetState.get()){super.attach(e);return}this._append(e),(n=this.outerObject3d.parent)===null||n===void 0||n.attach(e.outerObject3d),this.targetState.set(e)}get x(){return this.camera.position.x*Br}set x(e){this.camera.position.x=e*Wt}get y(){return this.camera.position.y*Br}set y(e){this.camera.position.y=e*Wt}get z(){return this.camera.position.z*Br}set z(e){this.camera.position.z=e*Wt}get rotationX(){return this.camera.rotation.x*ro}get rotationY(){return this.camera.rotation.y*ro}get rotationZ(){return this.camera.rotation.z*ro}get enableDamping(){return this.controls.enableDamping}set enableDamping(e){this.controls.enableDamping=e}get enablePan(){return this.controls.enablePan}set enablePan(e){this.controls.enablePan=e}get enableZoom(){return this.enableZoomState.get()}set enableZoom(e){this.enableZoomState.set(e)}get enableFly(){return this.enableFlyState.get()}set enableFly(e){this.enableFlyState.set(e)}get enabled(){return this.enabledState.get()}set enabled(e){this.enabledState.set(e)}get autoRotate(){return this.controls.autoRotate}set autoRotate(e){this.controls.autoRotate=e}get autoRotateSpeed(){return this.controls.autoRotateSpeed}set autoRotateSpeed(e){this.controls.autoRotateSpeed=e}get minPolarAngle(){return this._minPolarAngle*ro}set minPolarAngle(e){this.controls.minPolarAngle=this._minPolarAngle=e*Xr}get maxPolarAngle(){return this._maxPolarAngle*ro}set maxPolarAngle(e){this.controls.maxPolarAngle=this._maxPolarAngle=e*Xr}get minAzimuthAngle(){return this._minAzimuthAngle*ro}set minAzimuthAngle(e){this.controls.minAzimuthAngle=this._minAzimuthAngle=e*Xr}get maxAzimuthAngle(){return this._maxAzimuthAngle*ro}set maxAzimuthAngle(e){this.controls.maxAzimuthAngle=this._maxAzimuthAngle=e*Xr}get azimuthAngle(){return this.controls.getAzimuthalAngle()*ro}set azimuthAngle(e){this.controls.minAzimuthAngle=this.controls.maxAzimuthAngle=e*Xr,this.controls.update(),this.queueMicrotask(()=>{this.controls.minAzimuthAngle=this._minAzimuthAngle,this.controls.maxAzimuthAngle=this._maxAzimuthAngle})}get polarAngle(){return this.controls.getPolarAngle()*ro}set polarAngle(e){this.controls.minPolarAngle=this.controls.maxPolarAngle=e*Xr,this.controls.update(),this.queueMicrotask(()=>{this.controls.minPolarAngle=this._minPolarAngle,this.controls.maxPolarAngle=this._maxPolarAngle})}get distance(){return this.controls.getDistance()*Br}set distance(e){this.controls.minDistance=this.controls.maxDistance=e*Wt,this.controls.update(),this.queueMicrotask(()=>{this.controls.minDistance=-1/0,this.controls.maxDistance=1/0})}getCenter(){return this.getWorldPosition()}}tv.componentName="orbitCamera";tv.defaults=bTe;tv.schema=xTe;nu(tv,[oG]);const[lG,wTe]=ss(),[iz,_Te]=Lt(0),Oa=new tv(oi);Oa.enablePan=!0;Oa.enableZoom=!0;Oa.enableFly=!0;Oa.enabled=!1;jo.delete(Oa);wTe(t=>{const e=t.getCenter();Oa.targetX=e.x,Oa.targetY=e.y,Oa.targetZ=e.z});const{controls:uG}=Oa;v2e(t=>uG.screenSpacePanning=t);yr(()=>{if(!(!qf()||Qt()!==oi||ic()))return Oa.enabled=!0,Jr.style.cursor="grab",()=>{Oa.enabled=!1,Jr.style.cursor="auto"}},[qf,ic,Qt]);yr(()=>{if(!qf())return;let t=!0;return queueMicrotask(()=>t&&(Oa.polarAngle=60)),()=>{t=!1,uG.reset(),Oa.polarAngle=90,Oa.azimuthAngle=0}},[qf]);yr(()=>{if(Qt()!==oi||qf())return;const t=_Te(e=>oi.position.z=e);return()=>{t.cancel()}},[Qt,qf]);const[oz,sR]=ss(),[STe,Zf]=Lt("translate"),[CTe,lR]=Lt("world"),[uNe,az]=Lt(null),ETe=oh(async()=>{const{TransformControls:t}=await Wi(()=>import("./TransformControls.ce3aef12.js"),[]),e=new t(Qt(),Jr);Qt(r=>e.camera=r),e.enabled=!1;let n=!1;return e.addEventListener("dragging-changed",({value:r})=>{n=r,k2e(n),oz(n?"start":"stop")}),e.addEventListener("change",()=>n&&oz("move")),e});yr(()=>{const t=Xo(),e=Zf(),n=lR(),r=az();if(!t||Qt()!==oi)return;const i=new Yr;return ETe().then(o=>{if(e==="select"){o.enabled=!1;return}o.setMode(e),o.setSpace(n),o.setScaleSnap(r),o.setRotationSnap(r),o.setTranslationSnap(r),en.add(o),o.attach(t.outerObject3d),o.enabled=!0,i.then(()=>{en.remove(o),o.detach(),o.enabled=!1})}),()=>{i.cancel()}},[Xo,Zf,lR,az,Qt]);yr(()=>{if(!FA())return;const t=zA(),e=new Y7(t,t);return en.add(e),()=>{en.remove(e)}},[FA,zA]);const[cNe,sz]=Lt(!1),[Qb,DN]=ss(),lf=new ci(new uy(Qa,Qa,4,4),Lj);yr(()=>{var t;if(!sz()||Qt()!==oi)return;en.add(lf);const[e,n]=(t=Cm())!==null&&t!==void 0?t:wo();lf.scale.x=e*Wt,lf.scale.y=n*Wt;const r=DN(()=>{lf.quaternion.copy(oi.quaternion),lf.position.copy(oi.position),lf.translateZ(-4.9)});return()=>{r.cancel(),en.remove(lf)}},[sz,Cm,wo(),Qt]);const[dNe,MTe]=Lt({turbidity:10,rayleigh:3,mieCoefficient:.005,mieDirectionalG:.5,inclination:.49,azimuth:.25});class by extends ci{constructor(){const e=by.SkyShader,n=new Wn({name:"SkyShader",fragmentShader:e.fragmentShader,vertexShader:e.vertexShader,uniforms:qi.clone(e.uniforms),side:Ja,depthWrite:!1});super(new lh(1,1,1),n)}}by.prototype.isSky=!0;by.SkyShader={uniforms:{turbidity:{value:2},rayleigh:{value:1},mieCoefficient:{value:.005},mieDirectionalG:{value:.8},sunPosition:{value:new pe},up:{value:new pe(0,1,0)}},vertexShader:`
		uniform vec3 sunPosition;
		uniform float rayleigh;
		uniform float turbidity;
		uniform float mieCoefficient;
		uniform vec3 up;

		varying vec3 vWorldPosition;
		varying vec3 vSunDirection;
		varying float vSunfade;
		varying vec3 vBetaR;
		varying vec3 vBetaM;
		varying float vSunE;

		// constants for atmospheric scattering
		const float e = 2.71828182845904523536028747135266249775724709369995957;
		const float pi = 3.141592653589793238462643383279502884197169;

		// wavelength of used primaries, according to preetham
		const vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );
		// this pre-calcuation replaces older TotalRayleigh(vec3 lambda) function:
		// (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn))
		const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );

		// mie stuff
		// K coefficient for the primaries
		const float v = 4.0;
		const vec3 K = vec3( 0.686, 0.678, 0.666 );
		// MieConst = pi * pow( ( 2.0 * pi ) / lambda, vec3( v - 2.0 ) ) * K
		const vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );

		// earth shadow hack
		// cutoffAngle = pi / 1.95;
		const float cutoffAngle = 1.6110731556870734;
		const float steepness = 1.5;
		const float EE = 1000.0;

		float sunIntensity( float zenithAngleCos ) {
			zenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );
			return EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );
		}

		vec3 totalMie( float T ) {
			float c = ( 0.2 * T ) * 10E-18;
			return 0.434 * c * MieConst;
		}

		void main() {

			vec4 worldPosition = modelMatrix * vec4( position, 1.0 );
			vWorldPosition = worldPosition.xyz;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
			gl_Position.z = gl_Position.w; // set z to camera.far

			vSunDirection = normalize( sunPosition );

			vSunE = sunIntensity( dot( vSunDirection, up ) );

			vSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );

			float rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );

			// extinction (absorbtion + out scattering)
			// rayleigh coefficients
			vBetaR = totalRayleigh * rayleighCoefficient;

			// mie coefficients
			vBetaM = totalMie( turbidity ) * mieCoefficient;

		}`,fragmentShader:`
		varying vec3 vWorldPosition;
		varying vec3 vSunDirection;
		varying float vSunfade;
		varying vec3 vBetaR;
		varying vec3 vBetaM;
		varying float vSunE;

		uniform float mieDirectionalG;
		uniform vec3 up;

		const vec3 cameraPos = vec3( 0.0, 0.0, 0.0 );

		// constants for atmospheric scattering
		const float pi = 3.141592653589793238462643383279502884197169;

		const float n = 1.0003; // refractive index of air
		const float N = 2.545E25; // number of molecules per unit volume for air at 288.15K and 1013mb (sea level -45 celsius)

		// optical length at zenith for molecules
		const float rayleighZenithLength = 8.4E3;
		const float mieZenithLength = 1.25E3;
		// 66 arc seconds -> degrees, and the cosine of that
		const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;

		// 3.0 / ( 16.0 * pi )
		const float THREE_OVER_SIXTEENPI = 0.05968310365946075;
		// 1.0 / ( 4.0 * pi )
		const float ONE_OVER_FOURPI = 0.07957747154594767;

		float rayleighPhase( float cosTheta ) {
			return THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );
		}

		float hgPhase( float cosTheta, float g ) {
			float g2 = pow( g, 2.0 );
			float inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );
			return ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );
		}

		void main() {

			vec3 direction = normalize( vWorldPosition - cameraPos );

			// optical length
			// cutoff angle at 90 to avoid singularity in next formula.
			float zenithAngle = acos( max( 0.0, dot( up, direction ) ) );
			float inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );
			float sR = rayleighZenithLength * inverse;
			float sM = mieZenithLength * inverse;

			// combined extinction factor
			vec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );

			// in scattering
			float cosTheta = dot( direction, vSunDirection );

			float rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );
			vec3 betaRTheta = vBetaR * rPhase;

			float mPhase = hgPhase( cosTheta, mieDirectionalG );
			vec3 betaMTheta = vBetaM * mPhase;

			vec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );
			Lin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );

			// nightsky
			float theta = acos( direction.y ); // elevation --> y-axis, [-pi/2, pi/2]
			float phi = atan( direction.z, direction.x ); // azimuth --> x-axis [-pi/2, pi/2]
			vec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );
			vec3 L0 = vec3( 0.1 ) * Fex;

			// composition + solar disc
			float sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );
			L0 += ( vSunE * 19000.0 * Fex ) * sundisk;

			vec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );

			vec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );

			gl_FragColor = vec4( retColor, 1.0 );

			#include <tonemapping_fragment>
			#include <encodings_fragment>

		}`};const[TTe,PTe]=Lt(!1),lz=oh(()=>{const t=new by;return t.scale.setScalar(45e4),MTe(e=>{const{uniforms:n}=t.material;n.turbidity.value=e.turbidity,n.rayleigh.value=e.rayleigh,n.mieCoefficient.value=e.mieCoefficient,n.mieDirectionalG.value=e.mieDirectionalG;const r=Math.PI*(e.inclination-.5),i=2*Math.PI*(e.azimuth-.5);Xn.x=Math.cos(i),Xn.y=Math.sin(i)*Math.sin(r),Xn.z=Math.sin(i)*Math.cos(r),n.sunPosition.value.copy(Xn)}),t});let uz=!1;PTe(t=>{uz!==t&&(uz=t,t?en.add(lz()):en.remove(lz()))});const FN=nt(nt(nt({},dh),$S),ON),zN=nt(nt(nt({},ev),KS),NN);class ks extends ou{constructor(e,n){const r=new Yu(n?{transparent:!0}:void 0),i=new ci(e,r);super(i),this.material=r,this.transparent=n}dispose(){return super.dispose(),this.material.dispose(),this}}ks.defaults=zN;ks.schema=FN;nu(ks,[kN,qS]);const cG=new lh(Qa,Qa,Qa,1,1,1);class YS extends ks{constructor(){super(cG)}}YS.componentName="cube";const[ew,fNe]=ss(),[ATe,cz]=Lt(!1),[RTe,dz]=Lt(!1),[OTe,fz]=Lt(!1),hz={defines:{DEPTH_PACKING:1,PERSPECTIVE_CAMERA:1},uniforms:{tColor:{value:null},tDepth:{value:null},focus:{value:1},aspect:{value:1},aperture:{value:.025},maxblur:{value:.01},nearClip:{value:1},farClip:{value:1e3}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		#include <common>

		varying vec2 vUv;

		uniform sampler2D tColor;
		uniform sampler2D tDepth;

		uniform float maxblur; // max blur amount
		uniform float aperture; // aperture - bigger values for shallower depth of field

		uniform float nearClip;
		uniform float farClip;

		uniform float focus;
		uniform float aspect;

		#include <packing>

		float getDepth( const in vec2 screenPosition ) {
			#if DEPTH_PACKING == 1
			return unpackRGBAToDepth( texture2D( tDepth, screenPosition ) );
			#else
			return texture2D( tDepth, screenPosition ).x;
			#endif
		}

		float getViewZ( const in float depth ) {
			#if PERSPECTIVE_CAMERA == 1
			return perspectiveDepthToViewZ( depth, nearClip, farClip );
			#else
			return orthographicDepthToViewZ( depth, nearClip, farClip );
			#endif
		}


		void main() {

			vec2 aspectcorrect = vec2( 1.0, aspect );

			float viewZ = getViewZ( getDepth( vUv ) );

			float factor = ( focus + viewZ ); // viewZ is <= 0, so this is a difference equation

			vec2 dofblur = vec2 ( clamp( factor * aperture, -maxblur, maxblur ) );

			vec2 dofblur9 = dofblur * 0.9;
			vec2 dofblur7 = dofblur * 0.7;
			vec2 dofblur4 = dofblur * 0.4;

			vec4 col = vec4( 0.0 );

			col += texture2D( tColor, vUv.xy );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.0,   0.4  ) * aspectcorrect ) * dofblur );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.15,  0.37 ) * aspectcorrect ) * dofblur );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.29,  0.29 ) * aspectcorrect ) * dofblur );
			col += texture2D( tColor, vUv.xy + ( vec2( -0.37,  0.15 ) * aspectcorrect ) * dofblur );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.40,  0.0  ) * aspectcorrect ) * dofblur );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.37, -0.15 ) * aspectcorrect ) * dofblur );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.29, -0.29 ) * aspectcorrect ) * dofblur );
			col += texture2D( tColor, vUv.xy + ( vec2( -0.15, -0.37 ) * aspectcorrect ) * dofblur );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.0,  -0.4  ) * aspectcorrect ) * dofblur );
			col += texture2D( tColor, vUv.xy + ( vec2( -0.15,  0.37 ) * aspectcorrect ) * dofblur );
			col += texture2D( tColor, vUv.xy + ( vec2( -0.29,  0.29 ) * aspectcorrect ) * dofblur );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.37,  0.15 ) * aspectcorrect ) * dofblur );
			col += texture2D( tColor, vUv.xy + ( vec2( -0.4,   0.0  ) * aspectcorrect ) * dofblur );
			col += texture2D( tColor, vUv.xy + ( vec2( -0.37, -0.15 ) * aspectcorrect ) * dofblur );
			col += texture2D( tColor, vUv.xy + ( vec2( -0.29, -0.29 ) * aspectcorrect ) * dofblur );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.15, -0.37 ) * aspectcorrect ) * dofblur );

			col += texture2D( tColor, vUv.xy + ( vec2(  0.15,  0.37 ) * aspectcorrect ) * dofblur9 );
			col += texture2D( tColor, vUv.xy + ( vec2( -0.37,  0.15 ) * aspectcorrect ) * dofblur9 );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.37, -0.15 ) * aspectcorrect ) * dofblur9 );
			col += texture2D( tColor, vUv.xy + ( vec2( -0.15, -0.37 ) * aspectcorrect ) * dofblur9 );
			col += texture2D( tColor, vUv.xy + ( vec2( -0.15,  0.37 ) * aspectcorrect ) * dofblur9 );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.37,  0.15 ) * aspectcorrect ) * dofblur9 );
			col += texture2D( tColor, vUv.xy + ( vec2( -0.37, -0.15 ) * aspectcorrect ) * dofblur9 );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.15, -0.37 ) * aspectcorrect ) * dofblur9 );

			col += texture2D( tColor, vUv.xy + ( vec2(  0.29,  0.29 ) * aspectcorrect ) * dofblur7 );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.40,  0.0  ) * aspectcorrect ) * dofblur7 );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.29, -0.29 ) * aspectcorrect ) * dofblur7 );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.0,  -0.4  ) * aspectcorrect ) * dofblur7 );
			col += texture2D( tColor, vUv.xy + ( vec2( -0.29,  0.29 ) * aspectcorrect ) * dofblur7 );
			col += texture2D( tColor, vUv.xy + ( vec2( -0.4,   0.0  ) * aspectcorrect ) * dofblur7 );
			col += texture2D( tColor, vUv.xy + ( vec2( -0.29, -0.29 ) * aspectcorrect ) * dofblur7 );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.0,   0.4  ) * aspectcorrect ) * dofblur7 );

			col += texture2D( tColor, vUv.xy + ( vec2(  0.29,  0.29 ) * aspectcorrect ) * dofblur4 );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.4,   0.0  ) * aspectcorrect ) * dofblur4 );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.29, -0.29 ) * aspectcorrect ) * dofblur4 );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.0,  -0.4  ) * aspectcorrect ) * dofblur4 );
			col += texture2D( tColor, vUv.xy + ( vec2( -0.29,  0.29 ) * aspectcorrect ) * dofblur4 );
			col += texture2D( tColor, vUv.xy + ( vec2( -0.4,   0.0  ) * aspectcorrect ) * dofblur4 );
			col += texture2D( tColor, vUv.xy + ( vec2( -0.29, -0.29 ) * aspectcorrect ) * dofblur4 );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.0,   0.4  ) * aspectcorrect ) * dofblur4 );

			gl_FragColor = col / 41.0;
			gl_FragColor.a = 1.0;

		}`};class NTe extends iu{constructor(e,n,r){super(),this.scene=e,this.camera=n;const i=r.focus!==void 0?r.focus:1,o=r.aspect!==void 0?r.aspect:n.aspect,a=r.aperture!==void 0?r.aperture:.025,s=r.maxblur!==void 0?r.maxblur:1,l=r.width||window.innerWidth||1,u=r.height||window.innerHeight||1;this.renderTargetDepth=new sr(l,u,{minFilter:nr,magFilter:nr}),this.renderTargetDepth.texture.name="BokehPass.depth",this.materialDepth=new qm,this.materialDepth.depthPacking=xS,this.materialDepth.blending=Mr,hz===void 0&&console.error("THREE.BokehPass relies on BokehShader");const c=hz,h=qi.clone(c.uniforms);h.tDepth.value=this.renderTargetDepth.texture,h.focus.value=i,h.aspect.value=o,h.aperture.value=a,h.maxblur.value=s,h.nearClip.value=n.near,h.farClip.value=n.far,this.materialBokeh=new Wn({defines:Object.assign({},c.defines),uniforms:h,vertexShader:c.vertexShader,fragmentShader:c.fragmentShader}),this.uniforms=h,this.needsSwap=!1,this.fsQuad=new uh(this.materialBokeh),this._oldClearColor=new _t}render(e,n,r){this.scene.overrideMaterial=this.materialDepth,e.getClearColor(this._oldClearColor);const i=e.getClearAlpha(),o=e.autoClear;e.autoClear=!1,e.setClearColor(16777215),e.setClearAlpha(1),e.setRenderTarget(this.renderTargetDepth),e.clear(),e.render(this.scene,this.camera),this.uniforms.tColor.value=r.texture,this.uniforms.nearClip.value=this.camera.near,this.uniforms.farClip.value=this.camera.far,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(n),e.clear(),this.fsQuad.render(e)),this.scene.overrideMaterial=null,e.setClearColor(this._oldClearColor),e.setClearAlpha(i),e.autoClear=o}}const BN=new NTe(en,Qt(),{});Qt(t=>BN.camera=t);const VN=BN.uniforms;w2e(t=>VN.focus.value=t);b2e(t=>VN.aperture.value=t);_2e(t=>VN.maxblur.value=t);const kTe=new t1(new Wn({uniforms:{baseTexture:{value:null},bloomTexture:{value:yd.renderTarget2.texture}},vertexShader:`
            varying vec2 vUv;
            void main() {
                vUv = uv;
                gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
            }
        `,fragmentShader:`
            uniform sampler2D baseTexture;
                uniform sampler2D bloomTexture;
                varying vec2 vUv;
                void main() {
                    gl_FragColor = texture2D(baseTexture, vUv) + texture2D(bloomTexture, vUv);
                }
            `,defines:{}}),"baseTexture"),rg={defines:{NUM_SAMPLES:7,NUM_RINGS:4,NORMAL_TEXTURE:0,DIFFUSE_TEXTURE:0,DEPTH_PACKING:1,PERSPECTIVE_CAMERA:1},uniforms:{tDepth:{value:null},tDiffuse:{value:null},tNormal:{value:null},size:{value:new et(512,512)},cameraNear:{value:1},cameraFar:{value:100},cameraProjectionMatrix:{value:new Xt},cameraInverseProjectionMatrix:{value:new Xt},scale:{value:1},intensity:{value:.1},bias:{value:.5},minResolution:{value:0},kernelRadius:{value:100},randomSeed:{value:0}},vertexShader:`

		varying vec2 vUv;

		void main() {
			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
		}`,fragmentShader:`

		#include <common>

		varying vec2 vUv;

		#if DIFFUSE_TEXTURE == 1
		uniform sampler2D tDiffuse;
		#endif

		uniform sampler2D tDepth;

		#if NORMAL_TEXTURE == 1
		uniform sampler2D tNormal;
		#endif

		uniform float cameraNear;
		uniform float cameraFar;
		uniform mat4 cameraProjectionMatrix;
		uniform mat4 cameraInverseProjectionMatrix;

		uniform float scale;
		uniform float intensity;
		uniform float bias;
		uniform float kernelRadius;
		uniform float minResolution;
		uniform vec2 size;
		uniform float randomSeed;

		// RGBA depth

		#include <packing>

		vec4 getDefaultColor( const in vec2 screenPosition ) {
			#if DIFFUSE_TEXTURE == 1
			return texture2D( tDiffuse, vUv );
			#else
			return vec4( 1.0 );
			#endif
		}

		float getDepth( const in vec2 screenPosition ) {
			#if DEPTH_PACKING == 1
			return unpackRGBAToDepth( texture2D( tDepth, screenPosition ) );
			#else
			return texture2D( tDepth, screenPosition ).x;
			#endif
		}

		float getViewZ( const in float depth ) {
			#if PERSPECTIVE_CAMERA == 1
			return perspectiveDepthToViewZ( depth, cameraNear, cameraFar );
			#else
			return orthographicDepthToViewZ( depth, cameraNear, cameraFar );
			#endif
		}

		vec3 getViewPosition( const in vec2 screenPosition, const in float depth, const in float viewZ ) {
			float clipW = cameraProjectionMatrix[2][3] * viewZ + cameraProjectionMatrix[3][3];
			vec4 clipPosition = vec4( ( vec3( screenPosition, depth ) - 0.5 ) * 2.0, 1.0 );
			clipPosition *= clipW; // unprojection.

			return ( cameraInverseProjectionMatrix * clipPosition ).xyz;
		}

		vec3 getViewNormal( const in vec3 viewPosition, const in vec2 screenPosition ) {
			#if NORMAL_TEXTURE == 1
			return unpackRGBToNormal( texture2D( tNormal, screenPosition ).xyz );
			#else
			return normalize( cross( dFdx( viewPosition ), dFdy( viewPosition ) ) );
			#endif
		}

		float scaleDividedByCameraFar;
		float minResolutionMultipliedByCameraFar;

		float getOcclusion( const in vec3 centerViewPosition, const in vec3 centerViewNormal, const in vec3 sampleViewPosition ) {
			vec3 viewDelta = sampleViewPosition - centerViewPosition;
			float viewDistance = length( viewDelta );
			float scaledScreenDistance = scaleDividedByCameraFar * viewDistance;

			return max(0.0, (dot(centerViewNormal, viewDelta) - minResolutionMultipliedByCameraFar) / scaledScreenDistance - bias) / (1.0 + pow2( scaledScreenDistance ) );
		}

		// moving costly divides into consts
		const float ANGLE_STEP = PI2 * float( NUM_RINGS ) / float( NUM_SAMPLES );
		const float INV_NUM_SAMPLES = 1.0 / float( NUM_SAMPLES );

		float getAmbientOcclusion( const in vec3 centerViewPosition ) {
			// precompute some variables require in getOcclusion.
			scaleDividedByCameraFar = scale / cameraFar;
			minResolutionMultipliedByCameraFar = minResolution * cameraFar;
			vec3 centerViewNormal = getViewNormal( centerViewPosition, vUv );

			// jsfiddle that shows sample pattern: https://jsfiddle.net/a16ff1p7/
			float angle = rand( vUv + randomSeed ) * PI2;
			vec2 radius = vec2( kernelRadius * INV_NUM_SAMPLES ) / size;
			vec2 radiusStep = radius;

			float occlusionSum = 0.0;
			float weightSum = 0.0;

			for( int i = 0; i < NUM_SAMPLES; i ++ ) {
				vec2 sampleUv = vUv + vec2( cos( angle ), sin( angle ) ) * radius;
				radius += radiusStep;
				angle += ANGLE_STEP;

				float sampleDepth = getDepth( sampleUv );
				if( sampleDepth >= ( 1.0 - EPSILON ) ) {
					continue;
				}

				float sampleViewZ = getViewZ( sampleDepth );
				vec3 sampleViewPosition = getViewPosition( sampleUv, sampleDepth, sampleViewZ );
				occlusionSum += getOcclusion( centerViewPosition, centerViewNormal, sampleViewPosition );
				weightSum += 1.0;
			}

			if( weightSum == 0.0 ) discard;

			return occlusionSum * ( intensity / weightSum );
		}

		void main() {
			float centerDepth = getDepth( vUv );
			if( centerDepth >= ( 1.0 - EPSILON ) ) {
				discard;
			}

			float centerViewZ = getViewZ( centerDepth );
			vec3 viewPosition = getViewPosition( vUv, centerDepth, centerViewZ );

			float ambientOcclusion = getAmbientOcclusion( viewPosition );

			gl_FragColor = getDefaultColor( vUv );
			gl_FragColor.xyz *=  1.0 - ambientOcclusion;
		}`},Ou={defines:{KERNEL_RADIUS:4,DEPTH_PACKING:1,PERSPECTIVE_CAMERA:1},uniforms:{tDiffuse:{value:null},size:{value:new et(512,512)},sampleUvOffsets:{value:[new et(0,0)]},sampleWeights:{value:[1]},tDepth:{value:null},cameraNear:{value:10},cameraFar:{value:1e3},depthCutoff:{value:10}},vertexShader:`

		#include <common>

		uniform vec2 size;

		varying vec2 vUv;
		varying vec2 vInvSize;

		void main() {
			vUv = uv;
			vInvSize = 1.0 / size;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
		}`,fragmentShader:`

		#include <common>
		#include <packing>

		uniform sampler2D tDiffuse;
		uniform sampler2D tDepth;

		uniform float cameraNear;
		uniform float cameraFar;
		uniform float depthCutoff;

		uniform vec2 sampleUvOffsets[ KERNEL_RADIUS + 1 ];
		uniform float sampleWeights[ KERNEL_RADIUS + 1 ];

		varying vec2 vUv;
		varying vec2 vInvSize;

		float getDepth( const in vec2 screenPosition ) {
			#if DEPTH_PACKING == 1
			return unpackRGBAToDepth( texture2D( tDepth, screenPosition ) );
			#else
			return texture2D( tDepth, screenPosition ).x;
			#endif
		}

		float getViewZ( const in float depth ) {
			#if PERSPECTIVE_CAMERA == 1
			return perspectiveDepthToViewZ( depth, cameraNear, cameraFar );
			#else
			return orthographicDepthToViewZ( depth, cameraNear, cameraFar );
			#endif
		}

		void main() {
			float depth = getDepth( vUv );
			if( depth >= ( 1.0 - EPSILON ) ) {
				discard;
			}

			float centerViewZ = -getViewZ( depth );
			bool rBreak = false, lBreak = false;

			float weightSum = sampleWeights[0];
			vec4 diffuseSum = texture2D( tDiffuse, vUv ) * weightSum;

			for( int i = 1; i <= KERNEL_RADIUS; i ++ ) {

				float sampleWeight = sampleWeights[i];
				vec2 sampleUvOffset = sampleUvOffsets[i] * vInvSize;

				vec2 sampleUv = vUv + sampleUvOffset;
				float viewZ = -getViewZ( getDepth( sampleUv ) );

				if( abs( viewZ - centerViewZ ) > depthCutoff ) rBreak = true;

				if( ! rBreak ) {
					diffuseSum += texture2D( tDiffuse, sampleUv ) * sampleWeight;
					weightSum += sampleWeight;
				}

				sampleUv = vUv - sampleUvOffset;
				viewZ = -getViewZ( getDepth( sampleUv ) );

				if( abs( viewZ - centerViewZ ) > depthCutoff ) lBreak = true;

				if( ! lBreak ) {
					diffuseSum += texture2D( tDiffuse, sampleUv ) * sampleWeight;
					weightSum += sampleWeight;
				}

			}

			gl_FragColor = diffuseSum / weightSum;
		}`},r1={createSampleWeights:function(t,e){const n=[];for(let r=0;r<=t;r++)n.push(ITe(r,e));return n},createSampleOffsets:function(t,e){const n=[];for(let r=0;r<=t;r++)n.push(e.clone().multiplyScalar(r));return n},configure:function(t,e,n,r){t.defines.KERNEL_RADIUS=e,t.uniforms.sampleUvOffsets.value=r1.createSampleOffsets(e,r),t.uniforms.sampleWeights.value=r1.createSampleWeights(e,n),t.needsUpdate=!0}};function ITe(t,e){return Math.exp(-(t*t)/(2*(e*e)))/(Math.sqrt(2*Math.PI)*e)}const tw={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float opacity;

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		#include <packing>

		void main() {

			float depth = 1.0 - unpackRGBAToDepth( texture2D( tDiffuse, vUv ) );
			gl_FragColor = vec4( vec3( depth ), opacity );

		}`};class dG extends iu{constructor(e,n,r=!1,i=!1,o=new et(256,256)){super(),this.scene=e,this.camera=n,this.clear=!0,this.needsSwap=!1,this.supportsDepthTextureExtension=r,this.supportsNormalTexture=i,this.originalClearColor=new _t,this._oldClearColor=new _t,this.oldClearAlpha=1,this.params={output:0,saoBias:.5,saoIntensity:.18,saoScale:1,saoKernelRadius:100,saoMinResolution:0,saoBlur:!0,saoBlurRadius:8,saoBlurStdDev:4,saoBlurDepthCutoff:.01},this.resolution=new et(o.x,o.y),this.saoRenderTarget=new sr(this.resolution.x,this.resolution.y),this.blurIntermediateRenderTarget=this.saoRenderTarget.clone(),this.beautyRenderTarget=this.saoRenderTarget.clone(),this.normalRenderTarget=new sr(this.resolution.x,this.resolution.y,{minFilter:nr,magFilter:nr}),this.depthRenderTarget=this.normalRenderTarget.clone();let a;this.supportsDepthTextureExtension&&(a=new CS,a.type=$f,this.beautyRenderTarget.depthTexture=a,this.beautyRenderTarget.depthBuffer=!0),this.depthMaterial=new qm,this.depthMaterial.depthPacking=xS,this.depthMaterial.blending=Mr,this.normalMaterial=new kS,this.normalMaterial.blending=Mr,rg===void 0&&console.error("THREE.SAOPass relies on SAOShader"),this.saoMaterial=new Wn({defines:Object.assign({},rg.defines),fragmentShader:rg.fragmentShader,vertexShader:rg.vertexShader,uniforms:qi.clone(rg.uniforms)}),this.saoMaterial.extensions.derivatives=!0,this.saoMaterial.defines.DEPTH_PACKING=this.supportsDepthTextureExtension?0:1,this.saoMaterial.defines.NORMAL_TEXTURE=this.supportsNormalTexture?1:0,this.saoMaterial.defines.PERSPECTIVE_CAMERA=this.camera.isPerspectiveCamera?1:0,this.saoMaterial.uniforms.tDepth.value=this.supportsDepthTextureExtension?a:this.depthRenderTarget.texture,this.saoMaterial.uniforms.tNormal.value=this.normalRenderTarget.texture,this.saoMaterial.uniforms.size.value.set(this.resolution.x,this.resolution.y),this.saoMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.saoMaterial.uniforms.cameraProjectionMatrix.value=this.camera.projectionMatrix,this.saoMaterial.blending=Mr,Ou===void 0&&console.error("THREE.SAOPass relies on DepthLimitedBlurShader"),this.vBlurMaterial=new Wn({uniforms:qi.clone(Ou.uniforms),defines:Object.assign({},Ou.defines),vertexShader:Ou.vertexShader,fragmentShader:Ou.fragmentShader}),this.vBlurMaterial.defines.DEPTH_PACKING=this.supportsDepthTextureExtension?0:1,this.vBlurMaterial.defines.PERSPECTIVE_CAMERA=this.camera.isPerspectiveCamera?1:0,this.vBlurMaterial.uniforms.tDiffuse.value=this.saoRenderTarget.texture,this.vBlurMaterial.uniforms.tDepth.value=this.supportsDepthTextureExtension?a:this.depthRenderTarget.texture,this.vBlurMaterial.uniforms.size.value.set(this.resolution.x,this.resolution.y),this.vBlurMaterial.blending=Mr,this.hBlurMaterial=new Wn({uniforms:qi.clone(Ou.uniforms),defines:Object.assign({},Ou.defines),vertexShader:Ou.vertexShader,fragmentShader:Ou.fragmentShader}),this.hBlurMaterial.defines.DEPTH_PACKING=this.supportsDepthTextureExtension?0:1,this.hBlurMaterial.defines.PERSPECTIVE_CAMERA=this.camera.isPerspectiveCamera?1:0,this.hBlurMaterial.uniforms.tDiffuse.value=this.blurIntermediateRenderTarget.texture,this.hBlurMaterial.uniforms.tDepth.value=this.supportsDepthTextureExtension?a:this.depthRenderTarget.texture,this.hBlurMaterial.uniforms.size.value.set(this.resolution.x,this.resolution.y),this.hBlurMaterial.blending=Mr,Ya===void 0&&console.error("THREE.SAOPass relies on CopyShader"),this.materialCopy=new Wn({uniforms:qi.clone(Ya.uniforms),vertexShader:Ya.vertexShader,fragmentShader:Ya.fragmentShader,blending:Mr}),this.materialCopy.transparent=!0,this.materialCopy.depthTest=!1,this.materialCopy.depthWrite=!1,this.materialCopy.blending=pA,this.materialCopy.blendSrc=$W,this.materialCopy.blendDst=mA,this.materialCopy.blendEquation=Fl,this.materialCopy.blendSrcAlpha=GW,this.materialCopy.blendDstAlpha=mA,this.materialCopy.blendEquationAlpha=Fl,tw===void 0&&console.error("THREE.SAOPass relies on UnpackDepthRGBAShader"),this.depthCopy=new Wn({uniforms:qi.clone(tw.uniforms),vertexShader:tw.vertexShader,fragmentShader:tw.fragmentShader,blending:Mr}),this.fsQuad=new uh(null)}render(e,n,r){if(this.renderToScreen&&(this.materialCopy.blending=Mr,this.materialCopy.uniforms.tDiffuse.value=r.texture,this.materialCopy.needsUpdate=!0,this.renderPass(e,this.materialCopy,null)),this.params.output===1)return;e.getClearColor(this._oldClearColor),this.oldClearAlpha=e.getClearAlpha();const i=e.autoClear;e.autoClear=!1,e.setRenderTarget(this.depthRenderTarget),e.clear(),this.saoMaterial.uniforms.bias.value=this.params.saoBias,this.saoMaterial.uniforms.intensity.value=this.params.saoIntensity,this.saoMaterial.uniforms.scale.value=this.params.saoScale,this.saoMaterial.uniforms.kernelRadius.value=this.params.saoKernelRadius,this.saoMaterial.uniforms.minResolution.value=this.params.saoMinResolution,this.saoMaterial.uniforms.cameraNear.value=this.camera.near,this.saoMaterial.uniforms.cameraFar.value=this.camera.far;const o=this.params.saoBlurDepthCutoff*(this.camera.far-this.camera.near);this.vBlurMaterial.uniforms.depthCutoff.value=o,this.hBlurMaterial.uniforms.depthCutoff.value=o,this.vBlurMaterial.uniforms.cameraNear.value=this.camera.near,this.vBlurMaterial.uniforms.cameraFar.value=this.camera.far,this.hBlurMaterial.uniforms.cameraNear.value=this.camera.near,this.hBlurMaterial.uniforms.cameraFar.value=this.camera.far,this.params.saoBlurRadius=Math.floor(this.params.saoBlurRadius),(this.prevStdDev!==this.params.saoBlurStdDev||this.prevNumSamples!==this.params.saoBlurRadius)&&(r1.configure(this.vBlurMaterial,this.params.saoBlurRadius,this.params.saoBlurStdDev,new et(0,1)),r1.configure(this.hBlurMaterial,this.params.saoBlurRadius,this.params.saoBlurStdDev,new et(1,0)),this.prevStdDev=this.params.saoBlurStdDev,this.prevNumSamples=this.params.saoBlurRadius),e.setClearColor(0),e.setRenderTarget(this.beautyRenderTarget),e.clear(),e.render(this.scene,this.camera),this.supportsDepthTextureExtension||this.renderOverride(e,this.depthMaterial,this.depthRenderTarget,0,1),this.supportsNormalTexture&&this.renderOverride(e,this.normalMaterial,this.normalRenderTarget,7829503,1),this.renderPass(e,this.saoMaterial,this.saoRenderTarget,16777215,1),this.params.saoBlur&&(this.renderPass(e,this.vBlurMaterial,this.blurIntermediateRenderTarget,16777215,1),this.renderPass(e,this.hBlurMaterial,this.saoRenderTarget,16777215,1));let a=this.materialCopy;this.params.output===3?this.supportsDepthTextureExtension?(this.materialCopy.uniforms.tDiffuse.value=this.beautyRenderTarget.depthTexture,this.materialCopy.needsUpdate=!0):(this.depthCopy.uniforms.tDiffuse.value=this.depthRenderTarget.texture,this.depthCopy.needsUpdate=!0,a=this.depthCopy):this.params.output===4?(this.materialCopy.uniforms.tDiffuse.value=this.normalRenderTarget.texture,this.materialCopy.needsUpdate=!0):(this.materialCopy.uniforms.tDiffuse.value=this.saoRenderTarget.texture,this.materialCopy.needsUpdate=!0),this.params.output===0?a.blending=pA:a.blending=Mr,this.renderPass(e,a,this.renderToScreen?null:r),e.setClearColor(this._oldClearColor,this.oldClearAlpha),e.autoClear=i}renderPass(e,n,r,i,o){e.getClearColor(this.originalClearColor);const a=e.getClearAlpha(),s=e.autoClear;e.setRenderTarget(r),e.autoClear=!1,i!=null&&(e.setClearColor(i),e.setClearAlpha(o||0),e.clear()),this.fsQuad.material=n,this.fsQuad.render(e),e.autoClear=s,e.setClearColor(this.originalClearColor),e.setClearAlpha(a)}renderOverride(e,n,r,i,o){e.getClearColor(this.originalClearColor);const a=e.getClearAlpha(),s=e.autoClear;e.setRenderTarget(r),e.autoClear=!1,i=n.clearColor||i,o=n.clearAlpha||o,i!=null&&(e.setClearColor(i),e.setClearAlpha(o||0),e.clear()),this.scene.overrideMaterial=n,e.render(this.scene,this.camera),this.scene.overrideMaterial=null,e.autoClear=s,e.setClearColor(this.originalClearColor),e.setClearAlpha(a)}setSize(e,n){this.beautyRenderTarget.setSize(e,n),this.saoRenderTarget.setSize(e,n),this.blurIntermediateRenderTarget.setSize(e,n),this.normalRenderTarget.setSize(e,n),this.depthRenderTarget.setSize(e,n),this.saoMaterial.uniforms.size.value.set(e,n),this.saoMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.saoMaterial.uniforms.cameraProjectionMatrix.value=this.camera.projectionMatrix,this.saoMaterial.needsUpdate=!0,this.vBlurMaterial.uniforms.size.value.set(e,n),this.vBlurMaterial.needsUpdate=!0,this.hBlurMaterial.uniforms.size.value.set(e,n),this.hBlurMaterial.needsUpdate=!0}}dG.OUTPUT={Beauty:1,Default:0,SAO:2,Depth:3,Normal:4};const wy=new dG(en,Qt(),!1,!0);wy.params.saoKernelRadius=80;wy.params.saoBlurStdDev=5;Y_(t=>wy.params.saoScale=t==="light"?3e3:2e3);Qt(t=>wy.camera=t);const ig={defines:{SMAA_THRESHOLD:"0.1"},uniforms:{tDiffuse:{value:null},resolution:{value:new et(1/1024,1/512)}},vertexShader:`

		uniform vec2 resolution;

		varying vec2 vUv;
		varying vec4 vOffset[ 3 ];

		void SMAAEdgeDetectionVS( vec2 texcoord ) {
			vOffset[ 0 ] = texcoord.xyxy + resolution.xyxy * vec4( -1.0, 0.0, 0.0,  1.0 ); // WebGL port note: Changed sign in W component
			vOffset[ 1 ] = texcoord.xyxy + resolution.xyxy * vec4(  1.0, 0.0, 0.0, -1.0 ); // WebGL port note: Changed sign in W component
			vOffset[ 2 ] = texcoord.xyxy + resolution.xyxy * vec4( -2.0, 0.0, 0.0,  2.0 ); // WebGL port note: Changed sign in W component
		}

		void main() {

			vUv = uv;

			SMAAEdgeDetectionVS( vUv );

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform sampler2D tDiffuse;

		varying vec2 vUv;
		varying vec4 vOffset[ 3 ];

		vec4 SMAAColorEdgeDetectionPS( vec2 texcoord, vec4 offset[3], sampler2D colorTex ) {
			vec2 threshold = vec2( SMAA_THRESHOLD, SMAA_THRESHOLD );

			// Calculate color deltas:
			vec4 delta;
			vec3 C = texture2D( colorTex, texcoord ).rgb;

			vec3 Cleft = texture2D( colorTex, offset[0].xy ).rgb;
			vec3 t = abs( C - Cleft );
			delta.x = max( max( t.r, t.g ), t.b );

			vec3 Ctop = texture2D( colorTex, offset[0].zw ).rgb;
			t = abs( C - Ctop );
			delta.y = max( max( t.r, t.g ), t.b );

			// We do the usual threshold:
			vec2 edges = step( threshold, delta.xy );

			// Then discard if there is no edge:
			if ( dot( edges, vec2( 1.0, 1.0 ) ) == 0.0 )
				discard;

			// Calculate right and bottom deltas:
			vec3 Cright = texture2D( colorTex, offset[1].xy ).rgb;
			t = abs( C - Cright );
			delta.z = max( max( t.r, t.g ), t.b );

			vec3 Cbottom  = texture2D( colorTex, offset[1].zw ).rgb;
			t = abs( C - Cbottom );
			delta.w = max( max( t.r, t.g ), t.b );

			// Calculate the maximum delta in the direct neighborhood:
			float maxDelta = max( max( max( delta.x, delta.y ), delta.z ), delta.w );

			// Calculate left-left and top-top deltas:
			vec3 Cleftleft  = texture2D( colorTex, offset[2].xy ).rgb;
			t = abs( C - Cleftleft );
			delta.z = max( max( t.r, t.g ), t.b );

			vec3 Ctoptop = texture2D( colorTex, offset[2].zw ).rgb;
			t = abs( C - Ctoptop );
			delta.w = max( max( t.r, t.g ), t.b );

			// Calculate the final maximum delta:
			maxDelta = max( max( maxDelta, delta.z ), delta.w );

			// Local contrast adaptation in action:
			edges.xy *= step( 0.5 * maxDelta, delta.xy );

			return vec4( edges, 0.0, 0.0 );
		}

		void main() {

			gl_FragColor = SMAAColorEdgeDetectionPS( vUv, vOffset, tDiffuse );

		}`},nw={defines:{SMAA_MAX_SEARCH_STEPS:"8",SMAA_AREATEX_MAX_DISTANCE:"16",SMAA_AREATEX_PIXEL_SIZE:"( 1.0 / vec2( 160.0, 560.0 ) )",SMAA_AREATEX_SUBTEX_SIZE:"( 1.0 / 7.0 )"},uniforms:{tDiffuse:{value:null},tArea:{value:null},tSearch:{value:null},resolution:{value:new et(1/1024,1/512)}},vertexShader:`

		uniform vec2 resolution;

		varying vec2 vUv;
		varying vec4 vOffset[ 3 ];
		varying vec2 vPixcoord;

		void SMAABlendingWeightCalculationVS( vec2 texcoord ) {
			vPixcoord = texcoord / resolution;

			// We will use these offsets for the searches later on (see @PSEUDO_GATHER4):
			vOffset[ 0 ] = texcoord.xyxy + resolution.xyxy * vec4( -0.25, 0.125, 1.25, 0.125 ); // WebGL port note: Changed sign in Y and W components
			vOffset[ 1 ] = texcoord.xyxy + resolution.xyxy * vec4( -0.125, 0.25, -0.125, -1.25 ); // WebGL port note: Changed sign in Y and W components

			// And these for the searches, they indicate the ends of the loops:
			vOffset[ 2 ] = vec4( vOffset[ 0 ].xz, vOffset[ 1 ].yw ) + vec4( -2.0, 2.0, -2.0, 2.0 ) * resolution.xxyy * float( SMAA_MAX_SEARCH_STEPS );

		}

		void main() {

			vUv = uv;

			SMAABlendingWeightCalculationVS( vUv );

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		#define SMAASampleLevelZeroOffset( tex, coord, offset ) texture2D( tex, coord + float( offset ) * resolution, 0.0 )

		uniform sampler2D tDiffuse;
		uniform sampler2D tArea;
		uniform sampler2D tSearch;
		uniform vec2 resolution;

		varying vec2 vUv;
		varying vec4 vOffset[3];
		varying vec2 vPixcoord;

		#if __VERSION__ == 100
		vec2 round( vec2 x ) {
			return sign( x ) * floor( abs( x ) + 0.5 );
		}
		#endif

		float SMAASearchLength( sampler2D searchTex, vec2 e, float bias, float scale ) {
			// Not required if searchTex accesses are set to point:
			// float2 SEARCH_TEX_PIXEL_SIZE = 1.0 / float2(66.0, 33.0);
			// e = float2(bias, 0.0) + 0.5 * SEARCH_TEX_PIXEL_SIZE +
			//     e * float2(scale, 1.0) * float2(64.0, 32.0) * SEARCH_TEX_PIXEL_SIZE;
			e.r = bias + e.r * scale;
			return 255.0 * texture2D( searchTex, e, 0.0 ).r;
		}

		float SMAASearchXLeft( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {
			/**
				* @PSEUDO_GATHER4
				* This texcoord has been offset by (-0.25, -0.125) in the vertex shader to
				* sample between edge, thus fetching four edges in a row.
				* Sampling with different offsets in each direction allows to disambiguate
				* which edges are active from the four fetched ones.
				*/
			vec2 e = vec2( 0.0, 1.0 );

			for ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) { // WebGL port note: Changed while to for
				e = texture2D( edgesTex, texcoord, 0.0 ).rg;
				texcoord -= vec2( 2.0, 0.0 ) * resolution;
				if ( ! ( texcoord.x > end && e.g > 0.8281 && e.r == 0.0 ) ) break;
			}

			// We correct the previous (-0.25, -0.125) offset we applied:
			texcoord.x += 0.25 * resolution.x;

			// The searches are bias by 1, so adjust the coords accordingly:
			texcoord.x += resolution.x;

			// Disambiguate the length added by the last step:
			texcoord.x += 2.0 * resolution.x; // Undo last step
			texcoord.x -= resolution.x * SMAASearchLength(searchTex, e, 0.0, 0.5);

			return texcoord.x;
		}

		float SMAASearchXRight( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {
			vec2 e = vec2( 0.0, 1.0 );

			for ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) { // WebGL port note: Changed while to for
				e = texture2D( edgesTex, texcoord, 0.0 ).rg;
				texcoord += vec2( 2.0, 0.0 ) * resolution;
				if ( ! ( texcoord.x < end && e.g > 0.8281 && e.r == 0.0 ) ) break;
			}

			texcoord.x -= 0.25 * resolution.x;
			texcoord.x -= resolution.x;
			texcoord.x -= 2.0 * resolution.x;
			texcoord.x += resolution.x * SMAASearchLength( searchTex, e, 0.5, 0.5 );

			return texcoord.x;
		}

		float SMAASearchYUp( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {
			vec2 e = vec2( 1.0, 0.0 );

			for ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) { // WebGL port note: Changed while to for
				e = texture2D( edgesTex, texcoord, 0.0 ).rg;
				texcoord += vec2( 0.0, 2.0 ) * resolution; // WebGL port note: Changed sign
				if ( ! ( texcoord.y > end && e.r > 0.8281 && e.g == 0.0 ) ) break;
			}

			texcoord.y -= 0.25 * resolution.y; // WebGL port note: Changed sign
			texcoord.y -= resolution.y; // WebGL port note: Changed sign
			texcoord.y -= 2.0 * resolution.y; // WebGL port note: Changed sign
			texcoord.y += resolution.y * SMAASearchLength( searchTex, e.gr, 0.0, 0.5 ); // WebGL port note: Changed sign

			return texcoord.y;
		}

		float SMAASearchYDown( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {
			vec2 e = vec2( 1.0, 0.0 );

			for ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) { // WebGL port note: Changed while to for
				e = texture2D( edgesTex, texcoord, 0.0 ).rg;
				texcoord -= vec2( 0.0, 2.0 ) * resolution; // WebGL port note: Changed sign
				if ( ! ( texcoord.y < end && e.r > 0.8281 && e.g == 0.0 ) ) break;
			}

			texcoord.y += 0.25 * resolution.y; // WebGL port note: Changed sign
			texcoord.y += resolution.y; // WebGL port note: Changed sign
			texcoord.y += 2.0 * resolution.y; // WebGL port note: Changed sign
			texcoord.y -= resolution.y * SMAASearchLength( searchTex, e.gr, 0.5, 0.5 ); // WebGL port note: Changed sign

			return texcoord.y;
		}

		vec2 SMAAArea( sampler2D areaTex, vec2 dist, float e1, float e2, float offset ) {
			// Rounding prevents precision errors of bilinear filtering:
			vec2 texcoord = float( SMAA_AREATEX_MAX_DISTANCE ) * round( 4.0 * vec2( e1, e2 ) ) + dist;

			// We do a scale and bias for mapping to texel space:
			texcoord = SMAA_AREATEX_PIXEL_SIZE * texcoord + ( 0.5 * SMAA_AREATEX_PIXEL_SIZE );

			// Move to proper place, according to the subpixel offset:
			texcoord.y += SMAA_AREATEX_SUBTEX_SIZE * offset;

			return texture2D( areaTex, texcoord, 0.0 ).rg;
		}

		vec4 SMAABlendingWeightCalculationPS( vec2 texcoord, vec2 pixcoord, vec4 offset[ 3 ], sampler2D edgesTex, sampler2D areaTex, sampler2D searchTex, ivec4 subsampleIndices ) {
			vec4 weights = vec4( 0.0, 0.0, 0.0, 0.0 );

			vec2 e = texture2D( edgesTex, texcoord ).rg;

			if ( e.g > 0.0 ) { // Edge at north
				vec2 d;

				// Find the distance to the left:
				vec2 coords;
				coords.x = SMAASearchXLeft( edgesTex, searchTex, offset[ 0 ].xy, offset[ 2 ].x );
				coords.y = offset[ 1 ].y; // offset[1].y = texcoord.y - 0.25 * resolution.y (@CROSSING_OFFSET)
				d.x = coords.x;

				// Now fetch the left crossing edges, two at a time using bilinear
				// filtering. Sampling at -0.25 (see @CROSSING_OFFSET) enables to
				// discern what value each edge has:
				float e1 = texture2D( edgesTex, coords, 0.0 ).r;

				// Find the distance to the right:
				coords.x = SMAASearchXRight( edgesTex, searchTex, offset[ 0 ].zw, offset[ 2 ].y );
				d.y = coords.x;

				// We want the distances to be in pixel units (doing this here allow to
				// better interleave arithmetic and memory accesses):
				d = d / resolution.x - pixcoord.x;

				// SMAAArea below needs a sqrt, as the areas texture is compressed
				// quadratically:
				vec2 sqrt_d = sqrt( abs( d ) );

				// Fetch the right crossing edges:
				coords.y -= 1.0 * resolution.y; // WebGL port note: Added
				float e2 = SMAASampleLevelZeroOffset( edgesTex, coords, ivec2( 1, 0 ) ).r;

				// Ok, we know how this pattern looks like, now it is time for getting
				// the actual area:
				weights.rg = SMAAArea( areaTex, sqrt_d, e1, e2, float( subsampleIndices.y ) );
			}

			if ( e.r > 0.0 ) { // Edge at west
				vec2 d;

				// Find the distance to the top:
				vec2 coords;

				coords.y = SMAASearchYUp( edgesTex, searchTex, offset[ 1 ].xy, offset[ 2 ].z );
				coords.x = offset[ 0 ].x; // offset[1].x = texcoord.x - 0.25 * resolution.x;
				d.x = coords.y;

				// Fetch the top crossing edges:
				float e1 = texture2D( edgesTex, coords, 0.0 ).g;

				// Find the distance to the bottom:
				coords.y = SMAASearchYDown( edgesTex, searchTex, offset[ 1 ].zw, offset[ 2 ].w );
				d.y = coords.y;

				// We want the distances to be in pixel units:
				d = d / resolution.y - pixcoord.y;

				// SMAAArea below needs a sqrt, as the areas texture is compressed
				// quadratically:
				vec2 sqrt_d = sqrt( abs( d ) );

				// Fetch the bottom crossing edges:
				coords.y -= 1.0 * resolution.y; // WebGL port note: Added
				float e2 = SMAASampleLevelZeroOffset( edgesTex, coords, ivec2( 0, 1 ) ).g;

				// Get the area for this direction:
				weights.ba = SMAAArea( areaTex, sqrt_d, e1, e2, float( subsampleIndices.x ) );
			}

			return weights;
		}

		void main() {

			gl_FragColor = SMAABlendingWeightCalculationPS( vUv, vPixcoord, vOffset, tDiffuse, tArea, tSearch, ivec4( 0.0 ) );

		}`},q2={uniforms:{tDiffuse:{value:null},tColor:{value:null},resolution:{value:new et(1/1024,1/512)}},vertexShader:`

		uniform vec2 resolution;

		varying vec2 vUv;
		varying vec4 vOffset[ 2 ];

		void SMAANeighborhoodBlendingVS( vec2 texcoord ) {
			vOffset[ 0 ] = texcoord.xyxy + resolution.xyxy * vec4( -1.0, 0.0, 0.0, 1.0 ); // WebGL port note: Changed sign in W component
			vOffset[ 1 ] = texcoord.xyxy + resolution.xyxy * vec4( 1.0, 0.0, 0.0, -1.0 ); // WebGL port note: Changed sign in W component
		}

		void main() {

			vUv = uv;

			SMAANeighborhoodBlendingVS( vUv );

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform sampler2D tDiffuse;
		uniform sampler2D tColor;
		uniform vec2 resolution;

		varying vec2 vUv;
		varying vec4 vOffset[ 2 ];

		vec4 SMAANeighborhoodBlendingPS( vec2 texcoord, vec4 offset[ 2 ], sampler2D colorTex, sampler2D blendTex ) {
			// Fetch the blending weights for current pixel:
			vec4 a;
			a.xz = texture2D( blendTex, texcoord ).xz;
			a.y = texture2D( blendTex, offset[ 1 ].zw ).g;
			a.w = texture2D( blendTex, offset[ 1 ].xy ).a;

			// Is there any blending weight with a value greater than 0.0?
			if ( dot(a, vec4( 1.0, 1.0, 1.0, 1.0 )) < 1e-5 ) {
				return texture2D( colorTex, texcoord, 0.0 );
			} else {
				// Up to 4 lines can be crossing a pixel (one through each edge). We
				// favor blending by choosing the line with the maximum weight for each
				// direction:
				vec2 offset;
				offset.x = a.a > a.b ? a.a : -a.b; // left vs. right
				offset.y = a.g > a.r ? -a.g : a.r; // top vs. bottom // WebGL port note: Changed signs

				// Then we go in the direction that has the maximum weight:
				if ( abs( offset.x ) > abs( offset.y )) { // horizontal vs. vertical
					offset.y = 0.0;
				} else {
					offset.x = 0.0;
				}

				// Fetch the opposite color and lerp by hand:
				vec4 C = texture2D( colorTex, texcoord, 0.0 );
				texcoord += sign( offset ) * resolution;
				vec4 Cop = texture2D( colorTex, texcoord, 0.0 );
				float s = abs( offset.x ) > abs( offset.y ) ? abs( offset.x ) : abs( offset.y );

				// WebGL port note: Added gamma correction
				C.xyz = pow(C.xyz, vec3(2.2));
				Cop.xyz = pow(Cop.xyz, vec3(2.2));
				vec4 mixed = mix(C, Cop, s);
				mixed.xyz = pow(mixed.xyz, vec3(1.0 / 2.2));

				return mixed;
			}
		}

		void main() {

			gl_FragColor = SMAANeighborhoodBlendingPS( vUv, vOffset, tColor, tDiffuse );

		}`};class LTe extends iu{constructor(e,n){super(),this.edgesRT=new sr(e,n,{depthBuffer:!1}),this.edgesRT.texture.name="SMAAPass.edges",this.weightsRT=new sr(e,n,{depthBuffer:!1}),this.weightsRT.texture.name="SMAAPass.weights";const r=this,i=new Image;i.src=this.getAreaTexture(),i.onload=function(){r.areaTexture.needsUpdate=!0},this.areaTexture=new Yi,this.areaTexture.name="SMAAPass.area",this.areaTexture.image=i,this.areaTexture.minFilter=Ai,this.areaTexture.generateMipmaps=!1,this.areaTexture.flipY=!1;const o=new Image;o.src=this.getSearchTexture(),o.onload=function(){r.searchTexture.needsUpdate=!0},this.searchTexture=new Yi,this.searchTexture.name="SMAAPass.search",this.searchTexture.image=o,this.searchTexture.magFilter=nr,this.searchTexture.minFilter=nr,this.searchTexture.generateMipmaps=!1,this.searchTexture.flipY=!1,ig===void 0&&console.error("THREE.SMAAPass relies on SMAAShader"),this.uniformsEdges=qi.clone(ig.uniforms),this.uniformsEdges.resolution.value.set(1/e,1/n),this.materialEdges=new Wn({defines:Object.assign({},ig.defines),uniforms:this.uniformsEdges,vertexShader:ig.vertexShader,fragmentShader:ig.fragmentShader}),this.uniformsWeights=qi.clone(nw.uniforms),this.uniformsWeights.resolution.value.set(1/e,1/n),this.uniformsWeights.tDiffuse.value=this.edgesRT.texture,this.uniformsWeights.tArea.value=this.areaTexture,this.uniformsWeights.tSearch.value=this.searchTexture,this.materialWeights=new Wn({defines:Object.assign({},nw.defines),uniforms:this.uniformsWeights,vertexShader:nw.vertexShader,fragmentShader:nw.fragmentShader}),this.uniformsBlend=qi.clone(q2.uniforms),this.uniformsBlend.resolution.value.set(1/e,1/n),this.uniformsBlend.tDiffuse.value=this.weightsRT.texture,this.materialBlend=new Wn({uniforms:this.uniformsBlend,vertexShader:q2.vertexShader,fragmentShader:q2.fragmentShader}),this.needsSwap=!1,this.fsQuad=new uh(null)}render(e,n,r){this.uniformsEdges.tDiffuse.value=r.texture,this.fsQuad.material=this.materialEdges,e.setRenderTarget(this.edgesRT),this.clear&&e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.materialWeights,e.setRenderTarget(this.weightsRT),this.clear&&e.clear(),this.fsQuad.render(e),this.uniformsBlend.tColor.value=r.texture,this.fsQuad.material=this.materialBlend,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(n),this.clear&&e.clear(),this.fsQuad.render(e))}setSize(e,n){this.edgesRT.setSize(e,n),this.weightsRT.setSize(e,n),this.materialEdges.uniforms.resolution.value.set(1/e,1/n),this.materialWeights.uniforms.resolution.value.set(1/e,1/n),this.materialBlend.uniforms.resolution.value.set(1/e,1/n)}getAreaTexture(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAAIwCAIAAACOVPcQAACBeklEQVR42u39W4xlWXrnh/3WWvuciIzMrKxrV8/0rWbY0+SQFKcb4owIkSIFCjY9AC1BT/LYBozRi+EX+cV+8IMsYAaCwRcBwjzMiw2jAWtgwC8WR5Q8mDFHZLNHTarZGrLJJllt1W2qKrsumZWZcTvn7L3W54e1vrXX3vuciLPPORFR1XE2EomorB0nVuz//r71re/y/1eMvb4Cb3N11xV/PP/2v4UBAwJG/7H8urx6/25/Gf8O5hypMQ0EEEQwAqLfoN/Z+97f/SW+/NvcgQk4sGBJK6H7N4PFVL+K+e0N11yNfkKvwUdwdlUAXPHHL38oa15f/i/46Ih6SuMSPmLAYAwyRKn7dfMGH97jaMFBYCJUgotIC2YAdu+LyW9vvubxAP8kAL8H/koAuOKP3+q6+xGnd5kdYCeECnGIJViwGJMAkQKfDvB3WZxjLKGh8VSCCzhwEWBpMc5/kBbjawT4HnwJfhr+pPBIu7uu+OOTo9vsmtQcniMBGkKFd4jDWMSCRUpLjJYNJkM+IRzQ+PQvIeAMTrBS2LEiaiR9b/5PuT6Ap/AcfAFO4Y3dA3DFH7/VS+M8k4baEAQfMI4QfbVDDGIRg7GKaIY52qAjTAgTvGBAPGIIghOCYAUrGFNgzA7Q3QhgCwfwAnwe5vDejgG44o/fbm1C5ZlYQvQDARPAIQGxCWBM+wWl37ZQESb4gImexGMDouhGLx1Cst0Saa4b4AqO4Hk4gxo+3DHAV/nx27p3JziPM2pVgoiia5MdEzCGULprIN7gEEeQ5IQxEBBBQnxhsDb5auGmAAYcHMA9eAAz8PBol8/xij9+C4Djlim4gJjWcwZBhCBgMIIYxGAVIkH3ZtcBuLdtRFMWsPGoY9rN+HoBji9VBYdwD2ZQg4cnO7OSq/z4rU5KKdwVbFAjNojCQzTlCLPFSxtamwh2jMUcEgg2Wm/6XgErIBhBckQtGN3CzbVacERgCnfgLswhnvqf7QyAq/z4rRZm1YglYE3affGITaZsdIe2FmMIpnOCap25I6jt2kCwCW0D1uAD9sZctNGXcQIHCkINDQgc78aCr+zjtw3BU/ijdpw3zhCwcaONwBvdeS2YZKkJNJsMPf2JKEvC28RXxxI0ASJyzQCjCEQrO4Q7sFArEzjZhaFc4cdv+/JFdKULM4px0DfUBI2hIsy06BqLhGTQEVdbfAIZXYMPesq6VoCHICzUyjwInO4Y411//LYLs6TDa9wvg2CC2rElgAnpTBziThxaL22MYhzfkghz6GAs2VHbbdM91VZu1MEEpupMMwKyVTb5ij9+u4VJG/5EgEMMmFF01cFai3isRbKbzb+YaU/MQbAm2XSMoUPAmvZzbuKYRIFApbtlrfFuUGd6vq2hXNnH78ZLh/iFhsQG3T4D1ib7k5CC6vY0DCbtrohgLEIClXiGtl10zc0CnEGIhhatLBva7NP58Tvw0qE8yWhARLQ8h4+AhQSP+I4F5xoU+VilGRJs6wnS7ruti/4KvAY/CfdgqjsMy4pf8fodQO8/gnuX3f/3xi3om1/h7THr+co3x93PP9+FBUfbNUjcjEmhcrkT+8K7ml7V10Jo05mpIEFy1NmCJWx9SIKKt+EjAL4Ez8EBVOB6havuT/rByPvHXK+9zUcfcbb254+9fydJknYnRr1oGfdaiAgpxu1Rx/Rek8KISftx3L+DfsLWAANn8Hvw0/AFeAGO9DFV3c6D+CcWbL8Dj9e7f+T1k8AZv/d7+PXWM/Z+VvdCrIvuAKO09RpEEQJM0Ci6+B4xhTWr4cZNOvhktabw0ta0rSJmqz3Yw5/AKXwenod7cAhTmBSPKf6JBdvH8IP17h95pXqw50/+BFnj88fev4NchyaK47OPhhtI8RFSvAfDSNh0Ck0p2gLxGkib5NJj/JWCr90EWQJvwBzO4AHcgztwAFN1evHPUVGwfXON+0debT1YeGON9Yy9/63X+OguiwmhIhQhD7l4sMqlG3D86Suc3qWZ4rWjI1X7u0Ytw6x3rIMeIOPDprfe2XzNgyj6PahhBjO4C3e6puDgXrdg+/5l948vF3bqwZetZ+z9Rx9zdIY5pInPK4Nk0t+l52xdK2B45Qd87nM8fsD5EfUhIcJcERw4RdqqH7Yde5V7m1vhNmtedkz6EDzUMF/2jJYWbC+4fzzA/Y+/8PPH3j9dcBAPIRP8JLXd5BpAu03aziOL3VVHZzz3CXWDPWd+SH2AnxIqQoTZpo9Ckc6HIrFbAbzNmlcg8Ag8NFDDAhbJvTBZXbC94P7t68EXfv6o+21gUtPETU7bbkLxvNKRFG2+KXzvtObonPP4rBvsgmaKj404DlshFole1Glfh02fE7bYR7dZ82oTewIBGn1Md6CG6YUF26X376oevOLzx95vhUmgblI6LBZwTCDY7vMq0op5WVXgsObOXJ+1x3qaBl9j1FeLxbhU9w1F+Wiba6s1X/TBz1LnUfuYDi4r2C69f1f14BWfP+p+W2GFKuC9phcELMYRRLur9DEZTUdEH+iEqWdaM7X4WOoPGI+ZYD2+wcQ+y+ioHUZ9dTDbArzxmi/bJI9BND0Ynd6lBdve/butBw8+f/T9D3ABa3AG8W3VPX4hBin+bj8dMMmSpp5pg7fJ6xrBFE2WQQEWnV8Qg3FbAWzYfM1rREEnmvkN2o1+acG2d/9u68GDzx91v3mAjb1zkpqT21OipPKO0b9TO5W0nTdOmAQm0TObts3aBKgwARtoPDiCT0gHgwnbArzxmtcLc08HgF1asN0C4Ms/fvD5I+7PhfqyXE/b7RbbrGyRQRT9ARZcwAUmgdoz0ehJ9Fn7QAhUjhDAQSw0bV3T3WbNa59jzmiP6GsWbGXDX2ytjy8+f9T97fiBPq9YeLdBmyuizZHaqXITnXiMUEEVcJ7K4j3BFPurtB4bixW8wTpweL8DC95szWMOqucFYGsWbGU7p3TxxxefP+r+oTVktxY0v5hbq3KiOKYnY8ddJVSBxuMMVffNbxwIOERShst73HZ78DZrHpmJmH3K6sGz0fe3UUj0eyRrSCGTTc+rjVNoGzNSv05srAxUBh8IhqChiQgVNIIBH3AVPnrsnXQZbLTm8ammv8eVXn/vWpaTem5IXRlt+U/LA21zhSb9cye6jcOfCnOwhIAYXAMVTUNV0QhVha9xjgA27ODJbLbmitt3tRN80lqG6N/khgot4ZVlOyO4WNg3OIMzhIZQpUEHieg2im6F91hB3I2tubql6BYNN9Hj5S7G0G2tahslBWKDnOiIvuAEDzakDQKDNFQT6gbn8E2y4BBubM230YIpBnDbMa+y3dx0n1S0BtuG62lCCXwcY0F72T1VRR3t2ONcsmDjbmzNt9RFs2LO2hQNyb022JisaI8rAWuw4HI3FuAIhZdOGIcdjLJvvObqlpqvWTJnnQbyi/1M9O8UxWhBs//H42I0q1Yb/XPGONzcmm+ri172mHKvZBpHkJaNJz6v9jxqiklDj3U4CA2ugpAaYMWqNXsdXbmJNd9egCnJEsphXNM+MnK3m0FCJ5S1kmJpa3DgPVbnQnPGWIDspW9ozbcO4K/9LkfaQO2KHuqlfFXSbdNzcEcwoqNEFE9zcIXu9/6n/ym/BC/C3aJLzEKPuYVlbFnfhZ8kcWxV3dbv4bKl28566wD+8C53aw49lTABp9PWbsB+knfc/Li3eVizf5vv/xmvnPKg5ihwKEwlrcHqucuVcVOxEv8aH37E3ZqpZypUulrHEtIWKUr+txHg+ojZDGlwnqmkGlzcVi1dLiNSJiHjfbRNOPwKpx9TVdTn3K05DBx4psIk4Ei8aCkJahRgffk4YnEXe07T4H2RR1u27E6wfQsBDofUgjFUFnwC2AiVtA+05J2zpiDK2Oa0c5fmAecN1iJzmpqFZxqYBCYhFTCsUNEmUnIcZ6aEA5rQVhEywG6w7HSW02XfOoBlQmjwulOFQAg66SvJblrTEX1YtJ3uG15T/BH1OfOQeuR8g/c0gdpT5fx2SKbs9EfHTKdM8A1GaJRHLVIwhcGyydZsbifAFVKl5EMKNU2Hryo+06BeTgqnxzYjThVySDikbtJPieco75lYfKAJOMEZBTjoITuWHXXZVhcUDIS2hpiXHV9Ku4u44bN5OYLDOkJo8w+xJSMbhBRHEdEs9JZUCkQrPMAvaHyLkxgkEHxiNkx/x2YB0mGsQ8EUWj/stW5YLhtS5SMu+/YBbNPDCkGTUybN8krRLBGPlZkVOA0j+a1+rkyQKWGaPHPLZOkJhioQYnVZ2hS3zVxMtgC46KuRwbJNd9nV2PHgb36F194ecf/Yeu2vAFe5nm/bRBFrnY4BauE8ERmZRFUn0k8hbftiVYSKMEme2dJCJSCGYAlNqh87bXOPdUkGy24P6d1ll21MBqqx48Fvv8ZHH8HZFY7j/uAq1xMJUFqCSUlJPmNbIiNsmwuMs/q9CMtsZsFO6SprzCS1Z7QL8xCQClEelpjTduDMsmWD8S1PT152BtvmIGvUeDA/yRn83u/x0/4qxoPHjx+PXY9pqX9bgMvh/Nz9kpP4pOe1/fYf3axUiMdHLlPpZCNjgtNFAhcHEDxTumNONhHrBduW+vOyY++70WWnPXj98eA4kOt/mj/5E05l9+O4o8ePx67HFqyC+qSSnyselqjZGaVK2TadbFLPWAQ4NBhHqDCCV7OTpo34AlSSylPtIdd2AJZlyzYQrDJ5lcWGNceD80CunPLGGzsfD+7wRb95NevJI5docQ3tgCyr5bGnyaPRlmwNsFELViOOx9loebGNq2moDOKpHLVP5al2cymWHbkfzGXL7kfRl44H9wZy33tvt+PB/Xnf93e+nh5ZlU18wCiRUa9m7kib9LYuOk+hudQNbxwm0AQqbfloimaB2lM5fChex+ylMwuTbfmXQtmWlenZljbdXTLuOxjI/fDDHY4Hjx8/Hrse0zXfPFxbUN1kKqSCCSk50m0Ajtx3ub9XHBKHXESb8iO6E+qGytF4nO0OG3SXzbJlhxBnKtKyl0NwybjvYCD30aMdjgePHz8eu56SVTBbgxJMliQ3Oauwg0QHxXE2Ez/EIReLdQj42Gzb4CLS0YJD9xUx7bsi0vJi5mUbW1QzL0h0PFk17rtiIPfJk52MB48fPx67npJJwyrBa2RCCQRTbGZSPCxTPOiND4G2pYyOQ4h4jINIJh5wFU1NFZt+IsZ59LSnDqBjZ2awbOku+yInunLcd8VA7rNnOxkPHj9+PGY9B0MWJJNozOJmlglvDMXDEozdhQWbgs/U6oBanGzLrdSNNnZFjOkmbi5bNt1lX7JLLhn3vXAg9/h4y/Hg8ePHI9dzQMEkWCgdRfYykYKnkP7D4rIujsujaKPBsB54vE2TS00ccvFY/Tth7JXeq1hz+qgVy04sAJawTsvOknHfCwdyT062HA8eP348Zj0vdoXF4pilKa2BROed+9fyw9rWRXeTFXESMOanvDZfJuJaSXouQdMdDJZtekZcLLvEeK04d8m474UDuaenW44Hjx8/Xns9YYqZpszGWB3AN/4VHw+k7WSFtJ3Qicuqb/NlVmgXWsxh570xg2UwxUw3WfO6B5nOuO8aA7lnZxuPB48fPx6znm1i4bsfcbaptF3zNT78eFPtwi1OaCNOqp1x3zUGcs/PN++AGD1+fMXrSVm2baTtPhPahbPhA71wIHd2bXzRa69nG+3CraTtPivahV/55tXWg8fyRY/9AdsY8VbSdp8V7cKrrgdfM//z6ILQFtJ2nxHtwmuoB4/kf74+gLeRtvvMaBdeSz34+vifx0YG20jbfTa0C6+tHrwe//NmOG0L8EbSdp8R7cLrrQe/996O+ai3ujQOskpTNULa7jOjXXj99eCd8lHvoFiwsbTdZ0a78PrrwTvlo966pLuRtB2fFe3Cm6oHP9kNH/W2FryxtN1nTLvwRurBO+Kj3pWXHidtx2dFu/Bm68Fb81HvykuPlrb7LGkX3mw9eGs+6h1Y8MbSdjegXcguQLjmevDpTQLMxtJ2N6NdyBZu9AbrwVvwUW+LbteULUpCdqm0HTelXbhNPe8G68Gb8lFvVfYfSNuxvrTdTWoXbozAzdaDZzfkorOj1oxVxlIMlpSIlpLrt8D4hrQL17z+c3h6hU/wv4Q/utps4+bm+6P/hIcf0JwQ5oQGPBL0eKPTYEXTW+eL/2DKn73J9BTXYANG57hz1cEMviVf/4tf5b/6C5pTQkMIWoAq7hTpOJjtAM4pxKu5vg5vXeUrtI09/Mo/5H+4z+Mp5xULh7cEm2QbRP2tFIKR7WM3fPf/jZ3SWCqLM2l4NxID5zB72HQXv3jj/8mLR5xXNA5v8EbFQEz7PpRfl1+MB/hlAN65qgDn3wTgH13hK7T59bmP+NIx1SHHU84nLOITt3iVz8mNO+lPrjGAnBFqmioNn1mTyk1ta47R6d4MrX7tjrnjYUpdUbv2rVr6YpVfsGG58AG8Ah9eyUN8CX4WfgV+G8LVWPDGb+Zd4cU584CtqSbMKxauxTg+dyn/LkVgA+IR8KHtejeFKRtTmLLpxN6mYVLjYxwXf5x2VofiZcp/lwKk4wGOpYDnoIZPdg/AAbwMfx0+ge9dgZvYjuqKe4HnGnykYo5TvJbG0Vj12JagRhwKa44H95ShkZa5RyLGGdfYvG7aw1TsF6iapPAS29mNS3NmsTQZCmgTzFwgL3upCTgtBTRwvGMAKrgLn4evwin8+afJRcff+8izUGUM63GOOuAs3tJkw7J4kyoNreqrpO6cYLQeFUd7TTpr5YOTLc9RUUogUOVJQ1GYJaFLAW0oTmKyYS46ZooP4S4EON3xQ5zC8/CX4CnM4c1PE8ApexpoYuzqlP3d4S3OJP8ZDK7cKWNaTlqmgDiiHwl1YsE41w1zT4iRTm3DBqxvOUsbMKKDa/EHxagtnta072ejc3DOIh5ojvh8l3tk1JF/AV6FU6jh3U8HwEazLgdCLYSQ+MYiAI2ltomkzttUb0gGHdSUUgsIYjTzLG3mObX4FBRaYtpDVNZrih9TgTeYOBxsEnN1gOCTM8Bsw/ieMc75w9kuAT6A+/AiHGvN/+Gn4KRkiuzpNNDYhDGFndWRpE6SVfm8U5bxnSgVV2jrg6JCKmneqey8VMFgq2+AM/i4L4RUbfSi27lNXZ7R7W9RTcq/q9fk4Xw3AMQd4I5ifAZz8FcVtm9SAom/dyN4lczJQW/kC42ZrHgcCoIf1oVMKkVItmMBi9cOeNHGLqOZk+QqQmrbc5YmYgxELUUN35z2iohstgfLIFmcMV7s4CFmI74L9+EFmGsi+tGnAOD4Yk9gIpo01Y4cA43BWGygMdr4YZekG3OBIUXXNukvJS8tqa06e+lSDCtnqqMFu6hWHXCF+WaYt64m9QBmNxi7Ioy7D+fa1yHw+FMAcPt7SysFLtoG4PXAk7JOA3aAxBRqUiAdU9Yp5lK3HLSRFtOim0sa8euEt08xvKjYjzeJ2GU7YawexrnKI9tmobInjFXCewpwriY9+RR4aaezFhMhGCppKwom0ChrgFlKzyPKkGlTW1YQrE9HJqu8hKGgMc6hVi5QRq0PZxNfrYNgE64utmRv6KKHRpxf6VDUaOvNP5jCEx5q185My/7RKz69UQu2im5k4/eownpxZxNLwiZ1AZTO2ZjWjkU9uaB2HFn6Q3u0JcsSx/qV9hTEApRzeBLDJQXxYmTnq7bdLa3+uqFrxLJ5w1TehnNHx5ECvCh2g2c3hHH5YsfdaSKddztfjQ6imKFGSyFwlLzxEGPp6r5IevVjk1AMx3wMqi1NxDVjLBiPs9tbsCkIY5we5/ML22zrCScFxnNtzsr9Wcc3CnD+pYO+4VXXiDE0oc/vQQ/fDK3oPESJMYXNmJa/DuloJZkcTpcYE8lIH8Dz8DJMiynNC86Mb2lNaaqP/+L7f2fcE/yP7/Lde8xfgSOdMxvOixZf/9p3+M4hT1+F+zApxg9XfUvYjc8qX2lfOOpK2gNRtB4flpFu9FTKCp2XJRgXnX6olp1zyYjTKJSkGmLE2NjUr1bxFM4AeAAHBUFIeSLqXR+NvH/M9fOnfHzOD2vCSyQJKzfgsCh+yi/Mmc35F2fUrw7miW33W9hBD1vpuUojFphIyvg7aTeoymDkIkeW3XLHmguMzbIAJejN6B5MDrhipE2y6SoFRO/AK/AcHHZHNIfiWrEe/C6cr3f/yOvrQKB+zMM55/GQdLDsR+ifr5Fiuu+/y+M78LzOE5dsNuXC3PYvYWd8NXvphLSkJIasrlD2/HOqQ+RjcRdjKTGWYhhVUm4yxlyiGPuMsZR7sMCHUBeTuNWA7if+ifXgc/hovftHXs/DV+Fvwe+f8shzMiMcweFgBly3//vwJfg5AN4450fn1Hd1Rm1aBLu22Dy3y3H2+OqMemkbGZ4jozcDjJf6596xOLpC0eMTHbKnxLxH27uZ/bMTGs2jOaMOY4m87CfQwF0dw53oa1k80JRuz/XgS+8fX3N9Af4qPIMfzKgCp4H5TDGe9GGeFPzSsZz80SlPTxXjgwJmC45njzgt2vbQ4b4OAdUK4/vWhO8d8v6EE8fMUsfakXbPpFJeLs2ubM/qdm/la3WP91uWhxXHjoWhyRUq2iJ/+5mA73zwIIo+LoZ/SgvIRjAd1IMvvn98PfgOvAJfhhm8scAKVWDuaRaK8aQ9f7vuPDH6Bj47ZXau7rqYJ66mTDwEDU6lLbCjCK0qTXyl5mnDoeNRxanj3FJbaksTk0faXxHxLrssgPkWB9LnA/MFleXcJozzjwsUvUG0X/QCve51qkMDXp9mtcyOy3rwBfdvVJK7D6/ACSzg3RoruIq5UDeESfEmVclDxnniU82vxMLtceD0hGZWzBNPMM/jSPne2OVatiTKUpY5vY7gc0LdUAWeWM5tH+O2I66AOWw9xT2BuyRVLGdoDHUsVRXOo/c+ZdRXvFfnxWyIV4upFLCl9eAL7h8Zv0QH8Ry8pA2cHzQpGesctVA37ZtklBTgHjyvdSeKY/RZw/kJMk0Y25cSNRWSigQtlULPTw+kzuJPeYEkXjQRpoGZobYsLF79pyd1dMRHInbgFTZqNLhDqiIsTNpoex2WLcy0/X6rHcdMMQvFSd5dWA++4P7xv89deACnmr36uGlL69bRCL6BSZsS6c0TU2TKK5gtWCzgAOOwQcurqk9j8whvziZSMLcq5hbuwBEsYjopUBkqw1yYBGpLA97SRElEmx5MCInBY5vgLk94iKqSWmhIGmkJ4Bi9m4L645J68LyY4wsFYBfUg5feP/6gWWm58IEmKQM89hq7KsZNaKtP5TxxrUZZVkNmMJtjbKrGxLNEbHPJxhqy7lAmbC32ZqeF6lTaknRWcYaFpfLUBh/rwaQycCCJmW15Kstv6jRHyJFry2C1ahkkIW0LO75s61+owxK1y3XqweX9m5YLM2DPFeOjn/iiqCKJ+yKXF8t5Yl/kNsqaSCryxPq5xWTFIaP8KSW0RYxqupaUf0RcTNSSdJZGcKYdYA6kdtrtmyBckfKXwqk0pHpUHlwWaffjNRBYFPUDWa8e3Lt/o0R0CdisKDM89cX0pvRHEfM8ca4t0s2Xx4kgo91MPQJ/0c9MQYq0co8MBh7bz1fio0UUHLR4aAIOvOmoYO6kwlEVODSSTliWtOtH6sPkrtctF9ZtJ9GIerBskvhdVS5cFNv9s1BU0AbdUgdK4FG+dRnjFmDTzniRMdZO1QhzMK355vigbdkpz9P6qjUGE5J2qAcXmwJ20cZUiAD0z+pGMx6xkzJkmEf40Hr4qZfVg2XzF9YOyoV5BjzVkUJngKf8lgNYwKECEHrCNDrWZzMlflS3yBhr/InyoUgBc/lKT4pxVrrC6g1YwcceK3BmNxZcAtz3j5EIpqguh9H6wc011YN75cKDLpFDxuwkrPQmUwW4KTbj9mZTwBwLq4aQMUZbHm1rylJ46dzR0dua2n3RYCWZsiHROeywyJGR7mXKlpryyCiouY56sFkBWEnkEB/raeh/Sw4162KeuAxMQpEkzy5alMY5wamMsWKKrtW2WpEWNnReZWONKWjrdsKZarpFjqCslq773PLmEhM448Pc3+FKr1+94vv/rfw4tEcu+lKTBe4kZSdijBrykwv9vbCMPcLQTygBjzVckSLPRVGslqdunwJ4oegtFOYb4SwxNgWLCmD7T9kVjTv5YDgpo0XBmN34Z/rEHp0sgyz7lngsrm4lvMm2Mr1zNOJYJ5cuxuQxwMGJq/TP5emlb8fsQBZviK4t8hFL+zbhtlpwaRSxQRWfeETjuauPsdGxsBVdO7nmP4xvzSoT29pRl7kGqz+k26B3Oy0YNV+SXbbQas1ctC/GarskRdFpKczVAF1ZXnLcpaMuzVe6lZ2g/1ndcvOVgRG3sdUAY1bKD6achijMPdMxV4muKVorSpiDHituH7rSTs7n/4y5DhRXo4FVBN4vO/zbAcxhENzGbHCzU/98Mcx5e7a31kWjw9FCe/zNeYyQjZsWb1uc7U33pN4Mji6hCLhivqfa9Ss6xLg031AgfesA/l99m9fgvnaF9JoE6bYKmkGNK3aPbHB96w3+DnxFm4hs0drLsk7U8kf/N/CvwQNtllna0rjq61sH8L80HAuvwH1tvBy2ChqWSCaYTaGN19sTvlfzFD6n+iKTbvtayfrfe9ueWh6GJFoxLdr7V72a5ZpvHcCPDzma0wTO4EgbLyedxstO81n57LYBOBzyfsOhUKsW1J1BB5vr/tz8RyqOFylQP9Tvst2JALsC5lsH8PyQ40DV4ANzYa4dedNiKNR1s+x2wwbR7q4/4cTxqEk4LWDebfisuo36JXLiWFjOtLrlNWh3K1rRS4xvHcDNlFnNmWBBAl5SWaL3oPOfnvbr5pdjVnEaeBJSYjuLEkyLLsWhKccadmOphZkOPgVdalj2QpSmfOsADhMWE2ZBu4+EEJI4wKTAuCoC4xwQbWXBltpxbjkXJtKxxabo9e7tyhlgb6gNlSbUpMh+l/FaqzVwewGu8BW1Zx7pTpQDJUjb8tsUTW6+GDXbMn3mLbXlXJiGdggxFAoUrtPS3wE4Nk02UZG2OOzlk7fRs7i95QCLo3E0jtrjnM7SR3uS1p4qtS2nJ5OwtQVHgOvArLBFijZUV9QtSl8dAY5d0E0hM0w3HS2DpIeB6m/A1+HfhJcGUq4sOxH+x3f5+VO+Ds9rYNI7zPXOYWPrtf8bYMx6fuOAX5jzNR0PdsuON+X1f7EERxMJJoU6GkTEWBvVolVlb5lh3tKCg6Wx1IbaMDdJ+9sUCc5KC46hKGCk3IVOS4TCqdBNfUs7Kd4iXf2RjnT/LLysJy3XDcHLh/vde3x8DoGvwgsa67vBk91G5Pe/HbOe7xwym0NXbtiuuDkGO2IJDh9oQvJ4cY4vdoqLDuoH9Zl2F/ofsekn8lkuhIlhQcffUtSjytFyp++p6NiE7Rqx/lodgKVoceEp/CP4FfjrquZaTtj2AvH5K/ywpn7M34K/SsoYDAdIN448I1/0/wveW289T1/lX5xBzc8N5IaHr0XMOQdHsIkDuJFifj20pBm5jzwUv9e2FhwRsvhAbalCIuIw3bhJihY3p6nTFFIZgiSYjfTf3aXuOjmeGn4bPoGvwl+CFzTRczBIuHBEeImHc37/lGfwZR0cXzVDOvaKfNHvwe+suZ771K/y/XcBlsoN996JpBhoE2toYxOznNEOS5TJc6Id5GEXLjrWo+LEWGNpPDU4WAwsIRROu+1vM+0oW37z/MBN9kqHnSArwPfgFJ7Cq/Ai3Ie7g7ncmI09v8sjzw9mzOAEXoIHxURueaAce5V80f/DOuuZwHM8vsMb5wBzOFWM7wymTXPAEvm4vcFpZ2ut0VZRjkiP2MlmLd6DIpbGSiHOjdnUHN90hRYmhTnmvhzp1iKDNj+b7t5hi79lWGwQ+HN9RsfFMy0FXbEwhfuczKgCbyxYwBmcFhhvo/7a44v+i3XWcwDP86PzpGQYdWh7csP5dBvZ1jNzdxC8pBGuxqSW5vw40nBpj5JhMwvOzN0RWqERHMr4Lv1kWX84xLR830G3j6yqZ1a8UstTlW+qJPOZ+sZ7xZPKTJLhiNOAFd6tk+jrTH31ncLOxid8+nzRb128HhUcru/y0Wn6iT254YPC6FtVSIMoW2sk727AhvTtrWKZTvgsmckfXYZWeNRXx/3YQ2OUxLDrbHtN11IwrgXT6c8dATDwLniYwxzO4RzuQqTKSC5gAofMZ1QBK3zQ4JWobFbcvJm87FK+6JXrKahLn54m3p+McXzzYtP8VF/QpJuh1OwieElEoI1pRxPS09FBrkq2tWCU59+HdhNtTIqKm8EBrw2RTOEDpG3IKo2Y7mFdLm3ZeVjYwVw11o/oznceMve4CgMfNym/utA/d/ILMR7gpXzRy9eDsgLcgbs8O2Va1L0zzIdwGGemTBuwROHeoMShkUc7P+ISY3KH5ZZeWqO8mFTxQYeXTNuzvvK5FGPdQfuu00DwYFY9dyhctEt+OJDdnucfpmyhzUJzfsJjr29l8S0bXBfwRS9ZT26tmMIdZucch5ZboMz3Nio3nIOsYHCGoDT4kUA9MiXEp9Xsui1S8th/kbWIrMBxDGLodWUQIWcvnXy+9M23xPiSMOiRPqM+YMXkUN3gXFrZJwXGzUaMpJfyRS9ZT0lPe8TpScuRlbMHeUmlaKDoNuy62iWNTWNFYjoxFzuJs8oR+RhRx7O4SVNSXpa0ZJQ0K1LAHDQ+D9IepkMXpcsq5EVCvClBUIzDhDoyKwDw1Lc59GbTeORivugw1IcuaEOaGWdNm+Ps5fQ7/tm0DjMegq3yM3vb5j12qUId5UZD2oxDSEWOZMSqFl/W+5oynWDa/aI04tJRQ2eTXusg86SQVu/nwSYwpW6wLjlqIzwLuxGIvoAvul0PS+ZNz0/akp/pniO/8JDnGyaCkzbhl6YcqmK/69prxPqtpx2+Km9al9sjL+rwMgHw4jE/C8/HQ3m1vBuL1fldbzd8mOueVJ92syqdEY4KJjSCde3mcRw2TA6szxedn+zwhZMps0XrqEsiUjnC1hw0TELC2Ek7uAAdzcheXv1BYLagspxpzSAoZZUsIzIq35MnFQ9DOrlNB30jq3L4pkhccKUAA8/ocvN1Rzx9QyOtERs4CVsJRK/DF71kPYrxYsGsm6RMh4cps5g1DOmM54Ly1ii0Hd3Y/BMk8VWFgBVmhqrkJCPBHAolwZaWzLR9Vb7bcWdX9NyUYE+uB2BKfuaeBUcjDljbYVY4DdtsVWvzRZdWnyUzDpjNl1Du3aloAjVJTNDpcIOVVhrHFF66lLfJL1zJr9PQ2nFJSBaKoDe+sAvLufZVHVzYh7W0h/c6AAZ+7Tvj6q9j68G/cTCS/3n1vLKHZwNi+P+pS0WkZNMBMUl+LDLuiE4omZy71r3UFMwNJV+VJ/GC5ixVUkBStsT4gGKh0Gm4Oy3qvq7Lbmq24nPdDuDR9deR11XzP4vFu3TYzfnIyiSVmgizUYGqkIXNdKTY9pgb9D2Ix5t0+NHkVzCdU03suWkkVZAoCONCn0T35gAeW38de43mf97sMOpSvj4aa1KYUm58USI7Wxxes03bAZdRzk6UtbzMaCQ6IxO0dy7X+XsjoD16hpsBeGz9dfzHj+R/Hp8nCxZRqkEDTaCKCSywjiaoMJ1TITE9eg7Jqnq8HL6gDwiZb0u0V0Rr/rmvqjxKuaLCX7ZWXTvAY+uvm3z8CP7nzVpngqrJpZKwWnCUjIviYVlirlGOzPLI3SMVyp/elvBUjjDkNhrtufFFErQ8pmdSlbK16toBHlt/HV8uHMX/vEGALkV3RJREiSlopxwdMXOZPLZ+ix+kAHpMKIk8UtE1ygtquttwxNhphrIZ1IBzjGF3IIGxGcBj6q8bHJBG8T9vdsoWrTFEuebEZuVxhhClH6P5Zo89OG9fwHNjtNQTpD0TG9PJLEYqvEY6Rlxy+ZZGfL0Aj62/bnQCXp//eeM4KzfQVJbgMQbUjlMFIm6TpcfWlZje7NBSV6IsEVmumWIbjiloUzQX9OzYdo8L1wjw2PrrpimONfmfNyzKklrgnEkSzT5QWYQW40YShyzqsRmMXbvVxKtGuYyMKaU1ugenLDm5Ily4iT14fP11Mx+xJv+zZ3MvnfdFqxU3a1W/FTB4m3Qfsyc1XUcdVhDeUDZXSFHHLQj/Y5jtC7ZqM0CXGwB4bP11i3LhOvzPGygYtiUBiwQV/4wFO0majijGsafHyRLu0yG6q35cL1rOpVxr2s5cM2jJYMCdc10Aj6q/blRpWJ//+dmm5psMl0KA2+AFRx9jMe2WbC4jQxnikd4DU8TwUjRVacgdlhmr3bpddzuJ9zXqr2xnxJfzP29RexdtjDVZqzkqa6PyvcojGrfkXiJ8SEtml/nYskicv0ivlxbqjemwUjMw5evdg8fUX9nOiC/lf94Q2i7MURk9nW1MSj5j8eAyV6y5CN2S6qbnw3vdA1Iwq+XOSCl663udN3IzLnrt+us25cI1+Z83SXQUldqQq0b5XOT17bGpLd6ssN1VMPf8c+jG8L3NeCnMdF+Ra3fRa9dft39/LuZ/3vwHoHrqGmQFafmiQw6eyzMxS05K4bL9uA+SKUQzCnSDkqOGokXyJvbgJ/BHI+qvY69//4rl20NsmK2ou2dTsyIALv/91/8n3P2Aao71WFGi8KKv1fRC5+J67Q/507/E/SOshqN5TsmYIjVt+kcjAx98iz/4SaojbIV1rexE7/C29HcYD/DX4a0rBOF5VTu7omsb11L/AWcVlcVZHSsqGuXLLp9ha8I//w3Mv+T4Ew7nTBsmgapoCrNFObIcN4pf/Ob/mrvHTGqqgAupL8qWjWPS9m/31jAe4DjA+4+uCoQoT/zOzlrNd3qd4SdphFxsUvYwGWbTWtISc3wNOWH+kHBMfc6kpmpwPgHWwqaSUG2ZWWheYOGQGaHB+eQ/kn6b3pOgLV+ODSn94wDvr8Bvb70/LLuiPPEr8OGVWfDmr45PZyccEmsVXZGe1pRNX9SU5+AVQkNTIVPCHF/jGmyDC9j4R9LfWcQvfiETmgMMUCMN1uNCakkweZsowdYobiMSlnKA93u7NzTXlSfe+SVbfnPQXmg9LpYAQxpwEtONyEyaueWM4FPjjyjG3uOaFmBTWDNgBXGEiQpsaWhnAqIijB07Dlsy3fUGeP989xbWkyf+FF2SNEtT1E0f4DYYVlxFlbaSMPIRMk/3iMU5pME2SIWJvjckciebkQuIRRyhUvkHg/iUljG5kzVog5hV7vIlCuBrmlhvgPfNHQM8lCf+FEGsYbMIBC0qC9a0uuy2wLXVbLBaP5kjHokCRxapkQyzI4QEcwgYHRZBp+XEFTqXFuNVzMtjXLJgX4gAid24Hjwc4N3dtVSe+NNiwTrzH4WVUOlDobUqr1FuAgYllc8pmzoVrELRHSIW8ViPxNy4xwjBpyR55I6J220qQTZYR4guvUICJiSpr9gFFle4RcF/OMB7BRiX8sSfhpNSO3lvEZCQfLUVTKT78Ek1LRLhWN+yLyTnp8qWUZ46b6vxdRGXfHVqx3eI75YaLa4iNNiK4NOW7wPW6lhbSOF9/M9qw8e/aoB3d156qTzxp8pXx5BKAsYSTOIIiPkp68GmTq7sZtvyzBQaRLNxIZ+paozHWoLFeExIhRBrWitHCAHrCF7/thhD8JhYz84wg93QRV88wLuLY8zF8sQ36qF1J455bOlgnELfshKVxYOXKVuKx0jaj22sczTQqPqtV/XDgpswmGTWWMSDw3ssyUunLLrVPGjYRsH5ggHeHSWiV8kT33ycFSfMgkoOK8apCye0J6VW6GOYvffgU9RWsukEi2kUV2nl4dOYUzRik9p7bcA4ggdJ53LxKcEe17B1R8eqAd7dOepV8sTXf5lhejoL85hUdhDdknPtKHFhljOT+bdq0hxbm35p2nc8+Ja1Iw+tJykgp0EWuAAZYwMVwac5KzYMslhvgHdHRrxKnvhTYcfKsxTxtTETkjHO7rr3zjoV25lAQHrqpV7bTiy2aXMmUhTBnKS91jhtR3GEoF0oLnWhWNnYgtcc4N0FxlcgT7yz3TgNIKkscx9jtV1ZKpWW+Ub1tc1eOv5ucdgpx+FJy9pgbLE7xDyXb/f+hLHVGeitHOi6A7ybo3sF8sS7w7cgdk0nJaOn3hLj3uyD0Zp5pazFIUXUpuTTU18d1EPkDoX8SkmWTnVIozEdbTcZjoqxhNHf1JrSS/AcvHjZ/SMHhL/7i5z+POsTUh/8BvNfYMTA8n+yU/MlTZxSJDRStqvEuLQKWwDctMTQogUDyQRoTQG5Kc6oQRE1yV1jCA7ri7jdZyK0sYTRjCR0Hnnd+y7nHxNgTULqw+8wj0mQKxpYvhjm9uSUxg+TTy7s2GtLUGcywhXSKZN275GsqlclX90J6bRI1aouxmgL7Q0Nen5ziM80SqMIo8cSOo+8XplT/5DHNWsSUr/6lLN/QQ3rDyzLruEW5enpf7KqZoShEduuSFOV7DLX7Ye+GmXb6/hnNNqKsVXuMDFpb9Y9eH3C6NGEzuOuI3gpMH/I6e+zDiH1fXi15t3vA1czsLws0TGEtmPEJdiiFPwlwKbgLHAFk4P6ZyPdymYYHGE0dutsChQBl2JcBFlrEkY/N5bQeXQ18gjunuMfMfsBlxJSx3niO485fwO4fGD5T/+3fPQqkneWVdwnw/3bMPkW9Wbqg+iC765Zk+xcT98ibKZc2EdgHcLoF8cSOo/Oc8fS+OyEULF4g4sJqXVcmfMfsc7A8v1/yfGXmL9I6Fn5pRwZhsPv0TxFNlAfZCvG+Oohi82UC5f/2IsJo0cTOm9YrDoKhFPEUr/LBYTUNht9zelHXDqwfPCIw4owp3mOcIQcLttWXFe3VZ/j5H3cIc0G6oPbCR+6Y2xF2EC5cGUm6wKC5tGEzhsWqw5hNidUiKX5gFWE1GXh4/Qplw4sVzOmx9QxU78g3EF6wnZlEN4FzJ1QPSLEZz1KfXC7vd8ssGdIbNUYpVx4UapyFUHzJoTOo1McSkeNn1M5MDQfs4qQuhhX5vQZFw8suwWTcyYTgioISk2YdmkhehG4PkE7w51inyAGGaU+uCXADabGzJR1fn3lwkty0asIo8cROm9Vy1g0yDxxtPvHDAmpu+PKnM8Ix1wwsGw91YJqhteaWgjYBmmQiebmSpwKKzE19hx7jkzSWOm66oPbzZ8Yj6kxVSpYjVAuvLzYMCRo3oTQecOOjjgi3NQ4l9K5/hOGhNTdcWVOTrlgYNkEXINbpCkBRyqhp+LdRB3g0OU6rMfW2HPCFFMV9nSp+uB2woepdbLBuJQyaw/ZFysXrlXwHxI0b0LovEkiOpXGA1Ijagf+KUNC6rKNa9bQnLFqYNkEnMc1uJrg2u64ELPBHpkgWbmwKpJoDhMwNbbGzAp7Yg31wS2T5rGtzit59PrKhesWG550CZpHEzpv2NGRaxlNjbMqpmEIzygJqQfjypycs2pg2cS2RY9r8HUqkqdEgKTWtWTKoRvOBPDYBltja2SO0RGjy9UHtxwRjA11ujbKF+ti5cIR9eCnxUg6owidtyoU5tK4NLji5Q3HCtiyF2IqLGYsHViOXTXOYxucDqG0HyttqYAKqYo3KTY1ekyDXRAm2AWh9JmsVh/ccg9WJ2E8YjG201sPq5ULxxX8n3XLXuMInbft2mk80rRGjCGctJ8/GFdmEQ9Ug4FlE1ll1Y7jtiraqm5Fe04VV8lvSVBL8hiPrfFVd8+7QH3Qbu2ipTVi8cvSGivc9cj8yvH11YMHdNSERtuOslM97feYFOPKzGcsI4zW0YGAbTAOaxCnxdfiYUmVWslxiIblCeAYr9VYR1gM7GmoPrilunSxxeT3DN/2eBQ9H11+nk1adn6VK71+5+Jfct4/el10/7KBZfNryUunWSCPxPECk1rdOv1WVSrQmpC+Tl46YD3ikQYcpunSQgzVB2VHFhxHVGKDgMEY5GLlQnP7FMDzw7IacAWnO6sBr12u+XanW2AO0wQ8pknnFhsL7KYIqhkEPmEXFkwaN5KQphbkUmG72wgw7WSm9RiL9QT925hkjiVIIhphFS9HKI6/8QAjlpXqg9W2C0apyaVDwKQwrwLY3j6ADR13ZyUNByQXHQu6RY09Hu6zMqXRaNZGS/KEJs0cJEe9VH1QdvBSJv9h09eiRmy0V2uJcqHcShcdvbSNg5fxkenkVprXM9rDVnX24/y9MVtncvbKY706anNl3ASll9a43UiacVquXGhvq4s2FP62NGKfQLIQYu9q1WmdMfmUrDGt8eDS0cXozH/fjmUH6Jruvm50hBDSaEU/2Ru2LEN/dl006TSc/g7tfJERxGMsgDUEr104pfWH9lQaN+M4KWQjwZbVc2rZVNHsyHal23wZtIs2JJqtIc/WLXXRFCpJkfE9jvWlfFbsNQ9pP5ZBS0zKh4R0aMFj1IjTcTnvi0Zz2rt7NdvQb2mgbju1plsH8MmbnEk7KbK0b+wC2iy3aX3szW8xeZvDwET6hWZYwqTXSSG+wMETKum0Dq/q+x62gt2ua2ppAo309TRk9TPazfV3qL9H8z7uhGqGqxNVg/FKx0HBl9OVUORn8Q8Jx9gFttGQUDr3tzcXX9xGgN0EpzN9mdZ3GATtPhL+CjxFDmkeEU6x56kqZRusLzALXVqkCN7zMEcqwjmywDQ6OhyUe0Xao1Qpyncrg6wKp9XfWDsaZplElvQ/b3sdweeghorwBDlHzgk1JmMc/wiERICVy2VJFdMjFuLQSp3S0W3+sngt2njwNgLssFGVQdJ0tu0KH4ky1LW4yrbkuaA6Iy9oz/qEMMXMMDWyIHhsAyFZc2peV9hc7kiKvfULxCl9iddfRK1f8kk9qvbdOoBtOg7ZkOZ5MsGrSHsokgLXUp9y88smniwWyuFSIRVmjplga3yD8Uij5QS1ZiM4U3Qw5QlSm2bXjFe6jzzBFtpg+/YBbLAWG7OPynNjlCw65fukGNdkJRf7yM1fOxVzbxOJVocFoYIaGwH22mIQkrvu1E2nGuebxIgW9U9TSiukPGU+Lt++c3DJPKhyhEEbXCQLUpae2exiKy6tMPe9mDRBFCEMTWrtwxN8qvuGnt6MoihKWS5NSyBhbH8StXoAz8PLOrRgLtOT/+4vcu+7vDLnqNvztOq7fmd8sMmY9Xzn1zj8Dq8+XVdu2Nv0IIySgEdQo3xVHps3Q5i3fLFsV4aiqzAiBhbgMDEd1uh8qZZ+lwhjkgokkOIv4xNJmyncdfUUzgB4oFMBtiu71Xumpz/P+cfUP+SlwFExwWW62r7b+LSPxqxn/gvMZ5z9C16t15UbNlq+jbGJtco7p8wbYlL4alSyfWdeuu0j7JA3JFNuVAwtst7F7FhWBbPFNKIUORndWtLraFLmMu7KFVDDOzqkeaiN33YAW/r76wR4XDN/yN1z7hejPau06EddkS/6XThfcz1fI/4K736fO48vlxt2PXJYFaeUkFS8U15XE3428xdtn2kc8GQlf1vkIaNRRnOMvLTWrZbElEHeLWi1o0dlKPAh1MVgbbVquPJ5+Cr8LU5/H/+I2QlHIU2ClXM9G8v7Rr7oc/hozfUUgsPnb3D+I+7WF8kNO92GY0SNvuxiE+2Bt8prVJTkzE64sfOstxuwfxUUoyk8VjcTlsqe2qITSFoSj6Epd4KsT6BZOWmtgE3hBfir8IzZDwgV4ZTZvD8VvPHERo8v+vL1DASHTz/i9OlKueHDjK5Rnx/JB1Vb1ioXdBra16dmt7dgik10yA/FwJSVY6XjA3oy4SqM2frqDPPSRMex9qs3XQtoWxMj7/Er8GWYsXgjaVz4OYumP2+9kbxvny/6kvWsEBw+fcb5bInc8APdhpOSs01tEqIkoiZjbAqKMruLbJYddHuHFRIyJcbdEdbl2sVLaySygunutBg96Y2/JjKRCdyHV+AEFtTvIpbKIXOamknYSiB6KV/0JetZITgcjjk5ZdaskBtWO86UF0ap6ozGXJk2WNiRUlCPFir66lzdm/SLSuK7EUdPz8f1z29Skq6F1fXg8+5UVR6bszncP4Tn4KUkkdJ8UFCY1zR1i8RmL/qQL3rlei4THG7OODlnKko4oI01kd3CaM08Ia18kC3GNoVaO9iDh+hWxSyTXFABXoau7Q6q9OxYg/OVEMw6jdbtSrJ9cBcewGmaZmg+bvkUnUUaGr+ZfnMH45Ivevl61hMcXsxYLFTu1hTm2zViCp7u0o5l+2PSUh9bDj6FgYypufBDhqK2+oXkiuHFHR3zfj+9PtA8oR0xnqX8qn+sx3bFODSbbF0X8EUvWQ8jBIcjo5bRmLOljDNtcqNtOe756h3l0VhKa9hDd2l1eqmsnh0MNMT/Cqnx6BInumhLT8luljzQ53RiJeA/0dxe5NK0o2fA1+GLXr6eNQWHNUOJssQaTRlGpLHKL9fD+IrQzTOMZS9fNQD4AnRNVxvTdjC+fJdcDDWQcyB00B0t9BDwTxXgaAfzDZ/DBXzRnfWMFRwuNqocOmX6OKNkY63h5n/fFcB28McVHqnXZVI27K0i4rDLNE9lDKV/rT+udVbD8dFFu2GGZ8mOt0kAXcoX3ZkIWVtw+MNf5NjR2FbivROHmhV1/pj2egv/fMGIOWTIWrV3Av8N9imV9IWml36H6cUjqEWNv9aNc+veb2sH46PRaHSuMBxvtW+twxctq0z+QsHhux8Q7rCY4Ct8lqsx7c6Sy0dl5T89rIeEuZKoVctIk1hNpfavER6yyH1Vvm3MbsUHy4ab4hWr/OZPcsRBphnaV65/ZcdYPNNwsjN/djlf9NqCw9U5ExCPcdhKxUgLSmfROpLp4WSUr8ojdwbncbvCf+a/YzRaEc6QOvXcGO256TXc5Lab9POvB+AWY7PigWYjzhifbovuunzRawsO24ZqQQAqguBtmpmPB7ysXJfyDDaV/aPGillgz1MdQg4u5MYaEtBNNHFjkRlSpd65lp4hd2AVPTfbV7FGpyIOfmNc/XVsPfg7vzaS/3nkvLL593ANLvMuRMGpQIhiF7kUEW9QDpAUbTWYBcbp4WpacHHY1aacqQyjGZS9HI3yCBT9kUZJhVOD+zUDvEH9ddR11fzPcTDQ5TlgB0KwqdXSavk9BC0pKp0WmcuowSw07VXmXC5guzSa4p0UvRw2lbDiYUx0ExJJRzWzi6Gm8cnEkfXXsdcG/M/jAJa0+bmCgdmQ9CYlNlSYZOKixmRsgiFxkrmW4l3KdFKv1DM8tk6WxPYJZhUUzcd8Kdtgrw/gkfXXDT7+avmfVak32qhtkg6NVdUS5wgkru1YzIkSduTW1FDwVWV3JQVJVuieTc0y4iDpFwc7/BvSalvKdQM8sv662cevz/+8sQVnjVAT0W2wLllw1JiMhJRxgDjCjLQsOzSFSgZqx7lAW1JW0e03yAD3asC+GD3NbQhbe+mN5GXH1F83KDOM4n/e5JIuH4NpdQARrFPBVptUNcjj4cVMcFSRTE2NpR1LEYbYMmfWpXgP9KejaPsLUhuvLCsVXznAG9dfx9SR1ud/3hZdCLHb1GMdPqRJgqDmm76mHbvOXDtiO2QPUcKo/TWkQ0i2JFXpBoo7vij1i1Lp3ADAo+qvG3V0rM//vFnnTE4hxd5Ka/Cor5YEdsLVJyKtDgVoHgtW11pWSjolPNMnrlrVj9Fv2Qn60twMwKPqr+N/wvr8z5tZcDsDrv06tkqyzESM85Ycv6XBWA2birlNCXrI6VbD2lx2L0vQO0QVTVVLH4SE67fgsfVXv8n7sz7/85Z7cMtbE6f088wSaR4kCkCm10s6pKbJhfqiUNGLq+0gLWC6eUAZFPnLjwqtKd8EwGvWX59t7iPW4X/eAN1svgRVSY990YZg06BD1ohLMtyFTI4pKTJsS9xREq9EOaPWiO2gpms7397x6nQJkbh+Fz2q/rqRROX6/M8bJrqlVW4l6JEptKeUFuMYUbtCQ7CIttpGc6MY93x1r1vgAnRXvY5cvwWPqb9uWQm+lP95QxdNMeWhOq1x0Db55C7GcUv2ZUuN6n8iKzsvOxibC//Yfs9Na8r2Rlz02vXXDT57FP/zJi66/EJSmsJKa8QxnoqW3VLQ+jZVUtJwJ8PNX1NQCwfNgdhhHD9on7PdRdrdGPF28rJr1F+3LBdeyv+8yYfLoMYet1vX4upNAjVvwOUWnlNXJXlkzk5Il6kqeoiL0C07qno+/CYBXq/+utlnsz7/Mzvy0tmI4zm4ag23PRN3t/CWryoUVJGm+5+K8RJ0V8Hc88/XHUX/HfiAq7t+BH+x6v8t438enWmdJwFA6ZINriLGKv/95f8lT9/FnyA1NMVEvQyaXuu+gz36f/DD73E4pwqpLcvm/o0Vle78n//+L/NPvoefp1pTJye6e4A/D082FERa5/opeH9zpvh13cNm19/4v/LDe5xMWTi8I0Ta0qKlK27AS/v3/r+/x/2GO9K2c7kVMonDpq7//jc5PKCxeNPpFVzaRr01wF8C4Pu76hXuX18H4LduTr79guuFD3n5BHfI+ZRFhY8w29TYhbbLi/bvBdqKE4fUgg1pBKnV3FEaCWOWyA+m3WpORZr/j+9TKJtW8yBTF2/ZEODI9/QavHkVdGFp/Pjn4Q+u5hXapsP5sOH+OXXA1LiKuqJxiMNbhTkbdJTCy4llEt6NnqRT4dhg1V3nbdrm6dYMecA1yTOL4PWTE9L5VzPFlLBCvlG58AhehnN4uHsAYinyJ+AZ/NkVvELbfOBUuOO5syBIEtiqHU1k9XeISX5bsimrkUUhnGDxourN8SgUsCZVtKyGbyGzHXdjOhsAvOAswSRyIBddRdEZWP6GZhNK/yjwew9ehBo+3jEADu7Ay2n8mDc+TS7awUHg0OMzR0LABhqLD4hJEh/BEGyBdGlSJoXYXtr+3HS4ijzVpgi0paWXtdruGTknXBz+11qT1Q2inxaTzQCO46P3lfLpyS4fou2PH/PupwZgCxNhGlj4IvUuWEsTkqMWm6i4xCSMc9N1RDQoCVcuGItJ/MRWefais+3synowi/dESgJjkilnWnBTGvRWmaw8oR15257t7CHmCf8HOn7cwI8+NQBXMBEmAa8PMRemrNCEhLGEhDQKcGZWS319BX9PFBEwGTbRBhLbDcaV3drFcDqk5kCTd2JF1Wp0HraqBx8U0wwBTnbpCadwBA/gTH/CDrcCs93LV8E0YlmmcyQRQnjBa8JESmGUfIjK/7fkaDJpmD2QptFNVJU1bbtIAjjWQizepOKptRjbzR9Kag6xZmMLLjHOtcLT3Tx9o/0EcTT1XN3E45u24AiwEypDJXihKjQxjLprEwcmRKclaDNZCVqr/V8mYWyFADbusiY5hvgFoU2vio49RgJLn5OsReRFN6tabeetiiy0V7KFHT3HyZLx491u95sn4K1QQSPKM9hNT0wMVvAWbzDSVdrKw4zRjZMyJIHkfq1VAVCDl/bUhNKlGq0zGr05+YAceXVPCttVk0oqjVwMPt+BBefx4yPtGVkUsqY3CHDPiCM5ngupUwCdbkpd8kbPrCWHhkmtIKLEetF2499eS1jZlIPGYnlcPXeM2KD9vLS0bW3ktYNqUllpKLn5ZrsxlIzxvDu5eHxzGLctkZLEY4PgSOg2IUVVcUONzUDBEpRaMoXNmUc0tFZrTZquiLyKxrSm3DvIW9Fil+AkhXu5PhEPx9mUNwqypDvZWdKlhIJQY7vn2OsnmBeOWnYZ0m1iwbbw1U60by5om47iHRV6fOgzjMf/DAZrlP40Z7syxpLK0lJ0gqaAK1c2KQKu7tabTXkLFz0sCftuwX++MyNeNn68k5Buq23YQhUh0SNTJa1ioQ0p4nUG2y0XilF1JqODqdImloPS4Bp111DEWT0jJjVv95uX9BBV7eB3bUWcu0acSVM23YZdd8R8UbQUxJ9wdu3oMuhdt929ME+mh6JXJ8di2RxbTi6TbrDquqV4aUKR2iwT6aZbyOwEXN3DUsWr8Hn4EhwNyHuXHh7/pdaUjtR7vnDh/d8c9xD/s5f501eQ1+CuDiCvGhk1AN/4Tf74RfxPwD3toLarR0zNtsnPzmS64KIRk861dMWCU8ArasG9T9H0ZBpsDGnjtAOM2+/LuIb2iIUGXNgl5ZmKD/Tw8TlaAuihaFP5yrw18v4x1898zIdP+DDAX1bM3GAMvPgRP/cJn3zCW013nrhHkrITyvYuwOUkcHuKlRSW5C6rzIdY4ppnF7J8aAJbQepgbJYBjCY9usGXDKQxq7RZfh9eg5d1UHMVATRaD/4BHK93/1iAgYZ/+jqPn8Dn4UExmWrpa3+ZOK6MvM3bjwfzxNWA2dhs8+51XHSPJiaAhGSpWevEs5xHLXcEGFXYiCONySH3fPWq93JIsBiSWvWyc3CAN+EcXoT7rCSANloPPoa31rt/5PUA/gp8Q/jDD3hyrjzlR8VkanfOvB1XPubt17vzxAfdSVbD1pzAnfgyF3ycadOTOTXhpEUoLC1HZyNGW3dtmjeXgr2r56JNmRwdNNWaQVBddd6rh4MhviEB9EFRD/7RGvePvCbwAL4Mx/D6M541hHO4D3e7g6PafdcZVw689z7NGTwo5om7A8sPhccT6qKcl9NJl9aM/9kX+e59Hh1yPqGuCCZxuITcsmNaJ5F7d0q6J3H48TO1/+M57085q2icdu2U+W36Ldllz9Agiv4YGljoEN908EzvDOrBF98/vtJwCC/BF2AG75xxEmjmMIcjxbjoaxqOK3/4hPOZzhMPBpYPG44CM0dTVm1LjLtUWWVz1Bcf8tEx0zs8O2A2YVHRxKYOiy/aOVoAaMu0i7ubu43njjmd4ibMHU1sIDHaQNKrZND/FZYdk54oCXetjq7E7IVl9eAL7t+oHnwXXtLx44czzoRFHBztYVwtH1d+NOMkupZ5MTM+gUmq90X+Bh9zjRlmaQ+m7YMqUL/veemcecAtOJ0yq1JnVlN27di2E0+Klp1tAJ4KRw1eMI7aJjsO3R8kPSI3fUFXnIOfdQe86sIIVtWDL7h//Ok6vj8vwDk08NEcI8zz7OhBy+WwalzZeZ4+0XniRfst9pAJqQHDGLzVQ2pheZnnv1OWhwO43/AgcvAEXEVVpa4db9sGvNK8wjaENHkfFQ4Ci5i7dqnQlPoLQrHXZDvO3BIXZbJOBrOaEbML6sFL798I4FhKihjHMsPjBUZYCMFr6nvaArxqXPn4lCa+cHfSa2cP27g3Z3ziYTRrcbQNGLQmGF3F3cBdzzzX7AILx0IB9rbwn9kx2G1FW3Inic+ZLIsVvKR8Zwfj0l1fkqo8LWY1M3IX14OX3r9RKTIO+d9XzAI8qRPGPn/4NC2n6o4rN8XJ82TOIvuVA8zLKUHRFgBCetlDZlqR1gLKjS39xoE7Bt8UvA6BxuEDjU3tFsEijgA+615tmZkXKqiEENrh41iLDDZNq4pKTWR3LZfnos81LOuNa15cD956vLMsJd1rqYp51gDUQqMYm2XsxnUhD2jg1DM7SeuJxxgrmpfISSXVIJIS5qJJSvJPEQ49DQTVIbYWJ9QWa/E2+c/oPK1drmC7WSfJRNKBO5Yjvcp7Gc3dmmI/Xh1kDTEuiSnWqQf37h+fTMhGnDf6dsS8SQfQWlqqwXXGlc/PEZ/SC5mtzIV0nAshlQdM/LvUtYutrEZ/Y+EAFtq1k28zQhOwLr1AIeANzhF8t9qzTdZf2qRKO6MWE9ohBYwibbOmrFtNmg3mcS+tB28xv2uKd/agYCvOP+GkSc+0lr7RXzyufL7QbkUpjLjEWFLqOIkAGu2B0tNlO9Eau2W1qcOUvVRgKzypKIQZ5KI3q0MLzqTNRYqiZOqmtqloIRlmkBHVpHmRYV6/HixbO6UC47KOFJnoMrVyr7wYz+SlW6GUaghYbY1I6kkxA2W1fSJokUdSh2LQ1GAimRGm0MT+uu57H5l7QgOWxERpO9moLRPgTtquWCfFlGlIjQaRly9odmzMOWY+IBO5tB4sW/0+VWGUh32qYk79EidWKrjWuiLpiVNGFWFRJVktyeXWmbgBBzVl8anPuXyNJlBJOlKLTgAbi/EYHVHxWiDaVR06GnHQNpJcWcK2jJtiCfG2sEHLzuI66sGrMK47nPIInPnu799935aOK2cvmvubrE38ZzZjrELCmXM2hM7UcpXD2oC3+ECVp7xtIuxptJ0jUr3sBmBS47TVxlvJ1Sqb/E0uLdvLj0lLr29ypdd/eMX3f6lrxGlKwKQxEGvw0qHbkbwrF3uHKwVENbIV2wZ13kNEF6zD+x24aLNMfDTCbDPnEikZFyTNttxWBXDaBuM8KtI2rmaMdUY7cXcUPstqTGvBGSrFWIpNMfbdea990bvAOC1YX0qbc6smDS1mPxSJoW4fwEXvjMmhlijDRq6qale6aJEuFGoppYDoBELQzLBuh/mZNx7jkinv0EtnUp50lO9hbNK57lZaMAWuWR5Yo9/kYwcYI0t4gWM47Umnl3YmpeBPqSyNp3K7s2DSAS/39KRuEN2bS4xvowV3dFRMx/VFcp2Yp8w2nTO9hCXtHG1kF1L4KlrJr2wKfyq77R7MKpFKzWlY9UkhYxyHWW6nBWPaudvEAl3CGcNpSXPZ6R9BbBtIl6cHL3gIBi+42CYXqCx1gfGWe7Ap0h3luyXdt1MKy4YUT9xSF01G16YEdWsouW9mgDHd3veyA97H+Ya47ZmEbqMY72oPztCGvK0onL44AvgC49saZKkWRz4veWljE1FHjbRJaWv6ZKKtl875h4CziFCZhG5rx7tefsl0aRT1bMHZjm8dwL/6u7wCRysaQblQoG5yAQN5zpatMNY/+yf8z+GLcH/Qn0iX2W2oEfXP4GvwQHuIL9AYGnaO3zqAX6946nkgqZNnUhx43DIdQtMFeOPrgy/y3Yd85HlJWwjLFkU3kFwq28xPnuPhMWeS+tDLV9Otllq7pQCf3uXJDN9wFDiUTgefHaiYbdfi3b3u8+iY6TnzhgehI1LTe8lcd7s1wJSzKbahCRxKKztTLXstGAiu3a6rPuQs5pk9TWAan5f0BZmGf7Ylxzzk/A7PAs4QPPPAHeFQ2hbFHszlgZuKZsJcUmbDC40sEU403cEjczstOEypa+YxevL4QBC8oRYqWdK6b7sK25tfE+oDZgtOQ2Jg8T41HGcBE6fTWHn4JtHcu9S7uYgU5KSCkl/mcnq+5/YBXOEr6lCUCwOTOM1taOI8mSxx1NsCXBEmLKbMAg5MkwbLmpBaFOPrNSlO2HnLiEqW3tHEwd8AeiQLmn+2gxjC3k6AxREqvKcJbTEzlpLiw4rNZK6oJdidbMMGX9FULKr0AkW+2qDEPBNNm5QAt2Ik2nftNWHetubosHLo2nG4vQA7GkcVCgVCgaDixHqo9UUn1A6OshapaNR/LPRYFV8siT1cCtJE0k/3WtaNSuUZYKPnsVIW0xXWnMUxq5+En4Kvw/MqQmVXnAXj9Z+9zM98zM/Agy7F/qqj2Nh67b8HjFnPP3iBn/tkpdzwEJX/whIcQUXOaikeliCRGUk7tiwF0rItwMEhjkZ309hikFoRAmLTpEXWuHS6y+am/KB/fM50aLEhGnSMwkpxzOov4H0AvgovwJ1iGzDLtJn/9BU+fAINfwUe6FHSLhu83viV/+/HrOePX+STT2B9uWGbrMHHLldRBlhS/CJQmcRxJFqZica01XixAZsYiH1uolZxLrR/SgxVIJjkpQP4PE9sE59LKLr7kltSBogS5tyszzH8Fvw8/AS8rNOg0xUS9fIaHwb+6et8Q/gyvKRjf5OusOzGx8evA/BP4IP11uN/grca5O0lcsPLJ5YjwI4QkJBOHa0WdMZYGxPbh2W2nR9v3WxEWqgp/G3+6VZbRLSAAZ3BhdhAaUL33VUSw9yjEsvbaQ9u4A/gGXwZXoEHOuU1GSj2chf+Mo+f8IcfcAxfIKVmyunRbYQVnoevwgfw3TXXcw++xNuP4fhyueEUNttEduRVaDttddoP0eSxLe2LENk6itYxlrxBNBYrNNKSQmeaLcm9c8UsaB5WyO6675yyQIAWSDpBVoA/gxmcwEvwoDv0m58UE7gHn+fJOa8/Ywan8EKRfjsopF83eCglX/Sfr7OeaRoQfvt1CGvIDccH5BCvw1sWIzRGC/66t0VTcLZQZtm6PlAasbOJ9iwWtUo7biktTSIPxnR24jxP1ZKaqq+2RcXM9OrBAm/AAs7hDJ5bNmGb+KIfwCs8a3jnjBrOFeMjHSCdbKr+2uOLfnOd9eiA8Hvvwwq54VbP2OqwkB48Ytc4YEOiH2vTXqodabfWEOzso4qxdbqD5L6tbtNPECqbhnA708DZH4QOJUXqScmUlks7Ot6FBuZw3n2mEbaUX7kDzxHOOQk8nKWMzAzu6ZZ8sOFw4RK+6PcuXo9tB4SbMz58ApfKDXf3szjNIIbGpD5TKTRxGkEMLjLl+K3wlWXBsCUxIDU+jbOiysESqAy1MGUJpXgwbTWzNOVEziIXZrJ+VIztl1PUBxTSo0dwn2bOmfDRPD3TRTGlfbCJvO9KvuhL1hMHhB9wPuPRLGHcdOWG2xc0U+5bQtAJT0nRTewXL1pgk2+rZAdeWmz3jxAqfNQQdzTlbF8uJ5ecEIWvTkevAHpwz7w78QujlD/Lr491bD8/1vhM2yrUQRrWXNQY4fGilfctMWYjL72UL/qS9eiA8EmN88nbNdour+PBbbAjOjIa4iBhfFg6rxeKdEGcL6p3EWR1Qq2Qkhs2DrnkRnmN9tG2EAqmgPw6hoL7Oza7B+3SCrR9tRftko+Lsf2F/mkTndN2LmzuMcKTuj/mX2+4Va3ki16+nnJY+S7MefpkidxwnV+4wkXH8TKnX0tsYzYp29DOOoSW1nf7nTh2akYiWmcJOuTidSaqESrTYpwjJJNVGQr+rLI7WsqerHW6Kp/oM2pKuV7T1QY9gjqlZp41/WfKpl56FV/0kvXQFRyeQ83xaTu5E8p5dNP3dUF34ihyI3GSpeCsywSh22ZJdWto9winhqifb7VRvgktxp13vyjrS0EjvrRfZ62uyqddSWaWYlwTPAtJZ2oZ3j/Sgi/mi+6vpzesfAcWNA0n8xVyw90GVFGuZjTXEQy+6GfLGLMLL523f5E0OmxVjDoOuRiH91RKU+vtoCtH7TgmvBLvtFXWLW15H9GTdVw8ow4IlRLeHECN9ym1e9K0I+Cbnhgv4Yu+aD2HaQJ80XDqOzSGAV4+4yCqBxrsJAX6ZTIoX36QnvzhhzzMfFW2dZVLOJfo0zbce5OvwXMFaZ81mOnlTVXpDZsQNuoYWveketKb5+6JOOsgX+NTm7H49fUTlx+WLuWL7qxnOFh4BxpmJx0p2gDzA/BUARuS6phR+pUsY7MMboAHx5xNsSVfVZcYSwqCKrqon7zM+8ecCkeS4nm3rINuaWvVNnMRI1IRpxTqx8PZUZ0Br/UEduo3B3hNvmgZfs9gQPj8vIOxd2kndir3awvJ6BLvoUuOfFWNYB0LR1OQJoUySKb9IlOBx74q1+ADC2G6rOdmFdJcD8BkfualA+BdjOOzP9uUhGUEX/TwhZsUduwRr8wNuXKurCixLBgpQI0mDbJr9dIqUuV+92ngkJZ7xduCk2yZKbfWrH1VBiTg9VdzsgRjW3CVXCvAwDd+c1z9dWw9+B+8MJL/eY15ZQ/HqvTwVdsZn5WQsgRRnMaWaecu3jFvMBEmgg+FJFZsnSl0zjB9OqPYaBD7qmoVyImFvzi41usesV0julaAR9dfR15Xzv9sEruRDyk1nb+QaLU67T885GTls6YgcY+UiMa25M/pwGrbCfzkvR3e0jjtuaFtnwuagHTSb5y7boBH119HXhvwP487jJLsLJ4XnUkHX5sLbS61dpiAXRoZSCrFJ+EjpeU3puVfitngYNo6PJrAigKktmwjyQdZpfq30mmtulaAx9Zfx15Xzv+cyeuiBFUs9zq8Kq+XB9a4PVvph3GV4E3y8HENJrN55H1X2p8VyqSKwVusJDKzXOZzplWdzBUFK9e+B4+uv468xvI/b5xtSAkBHQaPvtqWzllVvEOxPbuiE6+j2pvjcKsbvI7txnRErgfH7LdXqjq0IokKzga14GzQ23SSbCQvO6r+Or7SMIr/efOkkqSdMnj9mBx2DRsiY29Uj6+qK9ZrssCKaptR6HKURdwUYeUWA2kPzVKQO8ku2nU3Anhs/XWkBx3F/7wJtCTTTIKftthue1ty9xvNYLY/zo5KSbIuKbXpbEdSyeRyYdAIwKY2neyoc3+k1XUaufYga3T9daMUx/r8z1s10ITknIO0kuoMt+TB8jK0lpayqqjsJ2qtXAYwBU932zinimgmd6mTRDnQfr88q36NAI+tv24E8Pr8zxtasBqx0+xHH9HhlrwsxxNUfKOHQaZBITNf0uccj8GXiVmXAuPEAKSdN/4GLHhs/XWj92dN/uetNuBMnVR+XWDc25JLjo5Mg5IZIq226tmCsip2zZliL213YrTlL2hcFjpCduyim3M7/eB16q/blQsv5X/esDRbtJeabLIosWy3ycavwLhtxdWzbMmHiBTiVjJo6lCLjXZsi7p9PEPnsq6X6wd4bP11i0rD5fzPm/0A6brrIsllenZs0lCJlU4abakR59enZKrKe3BZihbTxlyZ2zl1+g0wvgmA166/bhwDrcn/7Ddz0eWZuJvfSESug6NzZsox3Z04FIxz0mUjMwVOOVTq1CQ0AhdbBGVdjG/CgsfUX7esJl3K/7ytWHRv683praW/8iDOCqWLLhpljDY1ZpzK75QiaZoOTpLKl60auHS/97oBXrv+umU9+FL+5+NtLFgjqVLCdbmj7pY5zPCPLOHNCwXGOcLquOhi8CmCWvbcuO73XmMUPab+ug3A6/A/78Bwe0bcS2+tgHn4J5pyS2WbOck0F51Vq3LcjhLvZ67p1ABbaL2H67bg78BfjKi/jr3+T/ABV3ilLmNXTI2SpvxWBtt6/Z//D0z/FXaGbSBgylzlsEGp+5//xrd4/ae4d8DUUjlslfIYS3t06HZpvfQtvv0N7AHWqtjP2pW08QD/FLy//da38vo8PNlKHf5y37Dxdfe/oj4kVIgFq3koLReSR76W/bx//n9k8jonZxzWTANVwEniDsg87sOSd/z7//PvMp3jQiptGVWFX2caezzAXwfgtzYUvbr0iozs32c3Uge7varH+CNE6cvEYmzbPZ9hMaYDdjK4V2iecf6EcEbdUDVUARda2KzO/JtCuDbNQB/iTeL0EG1JSO1jbXS+nLxtPMDPw1fh5+EPrgSEKE/8Gry5A73ui87AmxwdatyMEBCPNOCSKUeRZ2P6Myb5MRvgCHmA9ywsMifU+AYXcB6Xa5GibUC5TSyerxyh0j6QgLVpdyhfArRTTLqQjwe4HOD9s92D4Ap54odXAPBWLAwB02igG5Kkc+piN4lvODIFGAZgT+EO4Si1s7fjSR7vcQETUkRm9O+MXyo9OYhfe4xt9STQ2pcZRLayCV90b4D3jR0DYAfyxJ+eywg2IL7NTMXna7S/RpQ63JhWEM8U41ZyQGjwsVS0QBrEKLu8xwZsbi4wLcCT+OGidPIOCe1PiSc9Qt+go+vYqB7cG+B9d8cAD+WJPz0Am2gxXgU9IneOqDpAAXOsOltVuMzpdakJXrdPCzXiNVUpCeOos5cxnpQT39G+XVLhs1osQVvJKPZyNq8HDwd4d7pNDuWJPxVX7MSzqUDU6gfadKiNlUFTzLeFHHDlzO4kpa7aiKhBPGKwOqxsBAmYkOIpipyXcQSPlRTf+Tii0U3EJGaZsDER2qoB3h2hu0qe+NNwUooYU8y5mILbJe6OuX+2FTKy7bieTDAemaQyQ0CPthljSWO+xmFDIYiESjM5xKd6Ik5lvLq5GrQ3aCMLvmCA9wowLuWJb9xF59hVVP6O0CrBi3ZjZSNOvRy+I6klNVRJYRBaEzdN+imiUXQ8iVF8fsp+W4JXw7WISW7fDh7lptWkCwZ4d7QTXyBPfJMYK7SijjFppGnlIVJBJBYj7eUwtiP1IBXGI1XCsjNpbjENVpSAJ2hq2LTywEly3hUYazt31J8w2+aiLx3g3fohXixPfOMYm6zCGs9LVo9MoW3MCJE7R5u/WsOIjrqBoHUO0bJE9vxBpbhsd3+Nb4/vtPCZ4oZYCitNeYuC/8UDvDvy0qvkiW/cgqNqRyzqSZa/s0mqNGjtKOoTm14zZpUauiQgVfqtQiZjq7Q27JNaSK5ExRcrGCXO1FJYh6jR6CFqK7bZdQZ4t8g0rSlPfP1RdBtqaa9diqtzJkQ9duSryi2brQXbxDwbRUpFMBHjRj8+Nt7GDKgvph9okW7LX47gu0SpGnnFQ1S1lYldOsC7hYteR574ZuKs7Ei1lBsfdz7IZoxzzCVmmVqaSySzQbBVAWDek+N4jh9E/4VqZrJjPwiv9BC1XcvOWgO8275CVyBPvAtTVlDJfZkaZGU7NpqBogAj/xEHkeAuJihWYCxGN6e8+9JtSegFXF1TrhhLGP1fak3pebgPz192/8gB4d/6WT7+GdYnpH7hH/DJzzFiYPn/vjW0SgNpTNuPIZoAEZv8tlGw4+RLxy+ZjnKa5NdFoC7UaW0aduoYse6+bXg1DLg6UfRYwmhGEjqPvF75U558SANrElK/+MdpXvmqBpaXOa/MTZaa1DOcSiLaw9j0NNNst3c+63c7EKTpkvKHzu6bPbP0RkuHAVcbRY8ijP46MIbQeeT1mhA+5PV/inyDdQipf8LTvMXbwvoDy7IruDNVZKTfV4CTSRUYdybUCnGU7KUTDxLgCknqUm5aAW6/1p6eMsOYsphLzsHrE0Y/P5bQedx1F/4yPHnMB3/IOoTU9+BL8PhtjuFKBpZXnYNJxTuv+2XqolKR2UQgHhS5novuxVySJhBNRF3SoKK1XZbbXjVwWNyOjlqWJjrWJIy+P5bQedyldNScP+HZ61xKSK3jyrz+NiHG1hcOLL/+P+PDF2gOkekKGiNWKgJ+8Z/x8Iv4DdQHzcpZyF4v19I27w9/yPGDFQvmEpKtqv/TLiWMfn4sofMm9eAH8Ao0zzh7h4sJqYtxZd5/D7hkYPneDzl5idlzNHcIB0jVlQ+8ULzw/nc5/ojzl2juE0apD7LRnJxe04dMz2iOCFNtGFpTuXA5AhcTRo8mdN4kz30nVjEC4YTZQy4gpC7GlTlrePKhGsKKgeXpCYeO0MAd/GH7yKQUlXPLOasOH3FnSphjHuDvEu4gB8g66oNbtr6eMbFIA4fIBJkgayoXriw2XEDQPJrQeROAlY6aeYOcMf+IVYTU3XFlZufMHinGywaW3YLpObVBAsbjF4QJMsVUSayjk4voPsHJOQfPWDhCgDnmDl6XIRerD24HsGtw86RMHOLvVSHrKBdeVE26gKB5NKHzaIwLOmrqBWJYZDLhASG16c0Tn+CdRhWDgWXnqRZUTnPIHuMJTfLVpkoYy5CzylHVTGZMTwkGAo2HBlkQplrJX6U+uF1wZz2uwS1SQ12IqWaPuO4baZaEFBdukksJmkcTOm+YJSvoqPFzxFA/YUhIvWxcmSdPWTWwbAKVp6rxTtPFUZfKIwpzm4IoMfaYQLWgmlG5FME2gdBgm+J7J+rtS/XBbaVLsR7bpPQnpMFlo2doWaVceHk9+MkyguZNCJ1He+kuHTWyQAzNM5YSUg/GlTk9ZunAsg1qELVOhUSAK0LABIJHLKbqaEbHZLL1VA3VgqoiOKXYiS+HRyaEKgsfIqX64HYWbLRXy/qWoylIV9gudL1OWBNgBgTNmxA6b4txDT4gi3Ri7xFSLxtXpmmYnzAcWDZgY8d503LFogz5sbonDgkKcxGsWsE1OI+rcQtlgBBCSOKD1mtqYpIU8cTvBmAT0yZe+zUzeY92fYjTtGipXLhuR0ePoHk0ofNWBX+lo8Z7pAZDk8mEw5L7dVyZZoE/pTewbI6SNbiAL5xeygW4xPRuLCGbhcO4RIeTMFYHEJkYyEO9HmJfXMDEj/LaH781wHHZEtqSQ/69UnGpzH7LKIAZEDSPJnTesJTUa+rwTepI9dLJEawYV+ZkRn9g+QirD8vF8Mq0jFQ29js6kCS3E1+jZIhgPNanHdHFqFvPJLHqFwQqbIA4jhDxcNsOCCQLDomaL/dr5lyJaJU6FxPFjO3JOh3kVMcROo8u+C+jo05GjMF3P3/FuDLn5x2M04xXULPwaS6hBYki+MrMdZJSgPHlcB7nCR5bJ9Kr5ACUn9jk5kivdd8tk95SOGrtqu9lr2IhK65ZtEl7ZKrp7DrqwZfRUSN1el7+7NJxZbywOC8neNKTch5vsTEMNsoCCqHBCqIPRjIPkm0BjvFODGtto99rCl+d3wmHkW0FPdpZtC7MMcVtGFQjJLX5bdQ2+x9ypdc313uj8xlsrfuLgWXz1cRhZvJYX0iNVBRcVcmCXZs6aEf3RQF2WI/TcCbKmGU3IOoDJGDdDub0+hYckt6PlGu2BcxmhbTdj/klhccLGJMcqRjMJP1jW2ETqLSWJ/29MAoORluJ+6LPffBZbi5gqi5h6catQpmOT7/OFf5UorRpLzCqcMltBLhwd1are3kztrSzXO0LUbXRQcdLh/RdSZ+swRm819REDrtqzC4es6Gw4JCKlSnjYVpo0xeq33PrADbFLL3RuCmObVmPN+24kfa+AojDuM4umKe2QwCf6EN906HwjujaitDs5o0s1y+k3lgbT2W2i7FJdnwbLXhJUBq/9liTctSmFC/0OqUinb0QddTWamtjbHRFuWJJ6NpqZ8vO3fZJ37Db+2GkaPYLGHs7XTTdiFQJ68SkVJFVmY6McR5UycflNCsccHFaV9FNbR4NttLxw4pQ7wJd066Z0ohVbzihaxHVExd/ay04oxUKWt+AsdiQ9OUyZ2krzN19IZIwafSTFgIBnMV73ADj7V/K8u1MaY2sJp2HWm0f41tqwajEvdHWOJs510MaAqN4aoSiPCXtN2KSi46dUxHdaMquar82O1x5jqhDGvqmoE9LfxcY3zqA7/x3HA67r9ZG4O6Cuxu12/+TP+eLP+I+HErqDDCDVmBDO4larujNe7x8om2rMug0MX0rL1+IWwdwfR+p1TNTyNmVJ85ljWzbWuGv8/C7HD/izjkHNZNYlhZcUOKVzKFUxsxxN/kax+8zPWPSFKw80rJr9Tizyj3o1gEsdwgWGoxPezDdZ1TSENE1dLdNvuKL+I84nxKesZgxXVA1VA1OcL49dFlpFV5yJMhzyCmNQ+a4BqusPJ2bB+xo8V9u3x48VVIEPS/mc3DvAbXyoYr6VgDfh5do5hhHOCXMqBZUPhWYbWZECwVJljLgMUWOCB4MUuMaxGNUQDVI50TQ+S3kFgIcu2qKkNSHVoM0SHsgoZxP2d5HH8B9woOk4x5bPkKtAHucZsdykjxuIpbUrSILgrT8G7G5oCW+K0990o7E3T6AdW4TilH5kDjds+H64kS0mz24grtwlzDHBJqI8YJQExotPvoC4JBq0lEjjQkyBZ8oH2LnRsQ4Hu1QsgDTJbO8fQDnllitkxuVskoiKbRF9VwzMDvxHAdwB7mD9yCplhHFEyUWHx3WtwCbSMMTCUCcEmSGlg4gTXkHpZXWQ7kpznK3EmCHiXInqndkQjunG5kxTKEeGye7jWz9cyMR2mGiFQ15ENRBTbCp+Gh86vAyASdgmJq2MC6hoADQ3GosP0QHbnMHjyBQvQqfhy/BUbeHd5WY/G/9LK/8Ka8Jd7UFeNWEZvzPb458Dn8DGLOe3/wGL/4xP+HXlRt+M1PE2iLhR8t+lfgxsuh7AfO2AOf+owWhSZRYQbd622hbpKWKuU+XuvNzP0OseRDa+mObgDHJUSc/pKx31QdKffQ5OIJpt8GWjlgTwMc/w5MPCR/yl1XC2a2Yut54SvOtMev55Of45BOat9aWG27p2ZVORRvnEk1hqWMVUmqa7S2YtvlIpspuF1pt0syuZS2NV14mUidCSfzQzg+KqvIYCMljIx2YK2AO34fX4GWdu5xcIAb8MzTw+j/lyWM+Dw/gjs4GD6ehNgA48kX/AI7XXM/XAN4WHr+9ntywqoCakCqmKP0rmQrJJEErG2Upg1JObr01lKQy4jskWalKYfJ/EDLMpjNSHFEUAde2fltaDgmrNaWQ9+AAb8I5vKjz3L1n1LriB/BXkG/wwR9y/oRX4LlioHA4LzP2inzRx/DWmutRweFjeP3tNeSGlaE1Fde0OS11yOpmbIp2u/jF1n2RRZviJM0yBT3IZl2HWImKjQOxIyeU325b/qWyU9Moj1o07tS0G7qJDoGHg5m8yeCxMoEH8GU45tnrNM84D2l297DQ9t1YP7jki/7RmutRweEA77/HWXOh3HCxkRgldDQkAjNTMl2Iloc1qN5JfJeeTlyTRzxURTdn1Ixv2uKjs12AbdEWlBtmVdk2k7FFwj07PCZ9XAwW3dG+8xKzNFr4EnwBZpy9Qzhh3jDXebBpYcpuo4fQ44u+fD1dweEnHzI7v0xuuOALRUV8rXpFyfSTQYkhd7IHm07jpyhlkCmI0ALYqPTpUxXS+z4jgDj1Pflvmz5ecuItpIBxyTHpSTGWd9g1ApfD/bvwUhL4nT1EzqgX7cxfCcNmb3mPL/qi9SwTHJ49oj5ZLjccbTG3pRmlYi6JCG0mQrAt1+i2UXTZ2dv9IlQpN5naMYtviaXlTrFpoMsl3bOAFEa8sqPj2WCMrx3Yjx99qFwO59Aw/wgx+HlqNz8oZvA3exRDvuhL1jMQHPaOJ0+XyA3fp1OfM3qObEVdhxjvynxNMXQV4+GJyvOEFqeQBaIbbO7i63rpxCltdZShPFxkjM2FPVkn3TG+Rp9pO3l2RzFegGfxGDHIAh8SteR0C4HopXzRF61nheDw6TFN05Ebvq8M3VKKpGjjO6r7nhudTEGMtYM92HTDaR1FDMXJ1eThsbKfywyoWwrzRSXkc51flG3vIid62h29bIcFbTGhfV+faaB+ohj7dPN0C2e2lC96+XouFByen9AsunLDJZ9z7NExiUc0OuoYW6UZkIyx2YUR2z6/TiRjyKMx5GbbjLHvHuf7YmtKghf34LJfx63Yg8vrvN2zC7lY0x0tvKezo4HmGYDU+Gab6dFL+KI761lDcNifcjLrrr9LWZJctG1FfU1uwhoQE22ObjdfkSzY63CbU5hzs21WeTddH2BaL11Gi7lVdlxP1nkxqhnKhVY6knS3EPgVGg1JpN5cP/hivujOelhXcPj8HC/LyI6MkteVjlolBdMmF3a3DbsuAYhL44dxzthWSN065xxUd55Lmf0wRbOYOqH09/o9WbO2VtFdaMb4qBgtFJoT1SqoN8wPXMoXLb3p1PUEhxfnnLzGzBI0Ku7FxrKsNJj/8bn/H8fPIVOd3rfrklUB/DOeO+nkghgSPzrlPxluCMtOnDL4Yml6dK1r3vsgMxgtPOrMFUZbEUbTdIzii5beq72G4PD0DKnwjmBULUVFmy8t+k7fZ3pKc0Q4UC6jpVRqS9Umv8bxw35flZVOU1X7qkjnhZlsMbk24qQ6Hz7QcuL6sDC0iHHki96Uh2UdvmgZnjIvExy2TeJdMDZNSbdZyAHe/Yd1xsQhHiKzjh7GxQ4yqMPaywPkjMamvqrYpmO7Knad+ZQC5msCuAPWUoxrxVhrGv7a+KLXFhyONdTMrZ7ke23qiO40ZJUyzgYyX5XyL0mV7NiUzEs9mjtbMN0dERqwyAJpigad0B3/zRV7s4PIfXSu6YV/MK7+OrYe/JvfGMn/PHJe2fyUdtnFrKRNpXV0Y2559aWPt/G4BlvjTMtXlVIWCnNyA3YQBDmYIodFz41PvXPSa6rq9lWZawZ4dP115HXV/M/tnFkkrBOdzg6aP4pID+MZnTJ1SuuB6iZlyiox4HT2y3YBtkUKWooacBQUDTpjwaDt5poBHl1/HXltwP887lKKXxNUEyPqpGTyA699UqY/lt9yGdlUKra0fFWS+36iylVWrAyd7Uw0CZM0z7xKTOduznLIjG2Hx8cDPLb+OvK6Bv7n1DYci4CxUuRxrjBc0bb4vD3rN5Zz36ntLb83eVJIB8LiIzCmn6SMPjlX+yNlTjvIGjs+QzHPf60Aj62/jrzG8j9vYMFtm1VoRWCJdmw7z9N0t+c8cxZpPeK4aTRicS25QhrVtUp7U578chk4q04Wx4YoQSjFryUlpcQ1AbxZ/XVMknIU//OGl7Q6z9Zpxi0+3yFhSkjUDpnCIUhLWVX23KQ+L9vKvFKI0ZWFQgkDLvBoylrHNVmaw10zwCPrr5tlodfnf94EWnQ0lFRWy8pW9LbkLsyUVDc2NSTHGDtnD1uMtchjbCeb1mpxFP0YbcClhzdLu6lfO8Bj6q+bdT2sz/+8SZCV7VIxtt0DUn9L7r4cLYWDSXnseEpOGFuty0qbOVlS7NNzs5FOGJUqQpl2Q64/yBpZf90sxbE+//PGdZ02HSipCbmD6NItmQ4Lk5XUrGpDMkhbMm2ZVheNYV+VbUWTcv99+2NyX1VoafSuC+AN6q9bFIMv5X/eagNWXZxEa9JjlMwNWb00akGUkSoepp1/yRuuqHGbUn3UdBSTxBU6SEVklzWRUkPndVvw2PrrpjvxOvzPmwHc0hpmq82npi7GRro8dXp0KXnUQmhZbRL7NEVp1uuZmO45vuzKsHrktS3GLWXODVjw+vXXLYx4Hf7njRPd0i3aoAGX6W29GnaV5YdyDj9TFkakje7GHYzDoObfddHtOSpoi2SmzJHrB3hM/XUDDEbxP2/oosszcRlehWXUvzHv4TpBVktHqwenFo8uLVmy4DKLa5d3RtLrmrM3aMFr1183E4sewf+85VWeg1c5ag276NZrM9IJVNcmLEvDNaV62aq+14IAOGFsBt973Ra8Xv11YzXwNfmft7Jg2oS+XOyoC8/cwzi66Dhmgk38kUmP1CUiYWOX1bpD2zWXt2FCp7uq8703APAa9dfNdscR/M/bZLIyouVxqJfeWvG9Je+JVckHQ9+CI9NWxz+blX/KYYvO5n2tAP/vrlZ7+8/h9y+9qeB/Hnt967e5mevX10rALDWK//FaAT5MXdBXdP0C/BAes792c40H+AiAp1e1oH8HgH94g/Lttx1gp63op1eyoM/Bvw5/G/7xFbqJPcCXnmBiwDPb/YKO4FX4OjyCb289db2/Noqicw4i7N6TVtoz8tNwDH+8x/i6Ae7lmaQVENzJFb3Di/BFeAwz+Is9SjeQySpPqbLFlNmyz47z5a/AF+AYFvDmHqibSXTEzoT4Gc3OALaqAP4KPFUJ6n+1x+rGAM6Zd78bgJ0a8QN4GU614vxwD9e1Amy6CcskNrczLx1JIp6HE5UZD/DBHrFr2oNlgG4Odv226BodoryjGJ9q2T/AR3vQrsOCS0ctXZi3ruLlhpFDJYl4HmYtjQCP9rhdn4suySLKDt6wLcC52h8xPlcjju1fn+yhuw4LZsAGUuo2b4Fx2UwQu77uqRHXGtg92aN3tQCbFexc0uk93vhTXbct6y7MulLycoUljx8ngDMBg1tvJjAazpEmOtxlzclvj1vQf1Tx7QlPDpGpqgtdSKz/d9/hdy1vTfFHSmC9dGDZbLiezz7Ac801HirGZsWjydfZyPvHXL/Y8Mjzg8BxTZiuwKz4Eb8sBE9zznszmjvFwHKPIWUnwhqfVRcd4Ck0K6ate48m1oOfrX3/yOtvAsJ8zsPAM89sjnddmuLuDPjX9Bu/L7x7xpMzFk6nWtyQfPg278Gn4Aekz2ZgOmU9eJ37R14vwE/BL8G3aibCiWMWWDQ0ZtkPMnlcGeAu/Ag+8ZyecU5BPuy2ILD+sQqyZhAKmn7XZd+jIMTN9eBL7x95xVLSX4On8EcNlXDqmBlqS13jG4LpmGbkF/0CnOi3H8ETOIXzmnmtb0a16Tzxj1sUvQCBiXZGDtmB3KAefPH94xcUa/6vwRn80GOFyjEXFpba4A1e8KQfFF+259tx5XS4egYn8fQsLGrqGrHbztr+uByTahWuL1NUGbDpsnrwBfePPwHHIf9X4RnM4Z2ABWdxUBlqQ2PwhuDxoS0vvqB1JzS0P4h2nA/QgTrsJFn+Y3AOjs9JFC07CGWX1oNX3T/yHOzgDjwPn1PM3g9Jk9lZrMEpxnlPmBbjyo2+KFXRU52TJM/2ALcY57RUzjObbjqxVw++4P6RAOf58pcVsw9Daje3htriYrpDOonre3CudSe6bfkTEgHBHuDiyu5MCsc7BHhYDx7ePxLjqigXZsw+ijMHFhuwBmtoTPtOxOrTvYJDnC75dnUbhfwu/ZW9AgYd+peL68HD+0emKquiXHhWjJg/UrkJYzuiaL3E9aI/ytrCvAd4GcYZMCkSQxfUg3v3j8c4e90j5ZTPdvmJJGHnOCI2nHS8081X013pHuBlV1gB2MX1YNmWLHqqGN/TWmG0y6clJWthxNUl48q38Bi8vtMKyzzpFdSDhxZ5WBA5ZLt8Jv3895DduBlgbPYAj8C4B8hO68FDkoh5lydC4FiWvBOVqjYdqjiLv92t8yPDjrDaiHdUD15qkSURSGmXJwOMSxWAXYwr3zaAufJ66l+94vv3AO+vPcD7aw/w/toDvL/2AO+vPcD7aw/wHuD9tQd4f+0B3l97gPfXHuD9tQd4f+0B3l97gG8LwP8G/AL8O/A5OCq0Ys2KIdv/qOIXG/4mvFAMF16gZD+2Xvu/B8as5+8bfllWyg0zaNO5bfXj6vfhhwD86/Aq3NfRS9t9WPnhfnvCIw/CT8GLcFTMnpntdF/z9V+PWc/vWoIH+FL3Znv57PitcdGP4R/C34avw5fgRVUInCwbsn1yyA8C8zm/BH8NXoXnVE6wVPjdeCI38kX/3+Ct9dbz1pTmHFRu+Hm4O9Ch3clr99negxfwj+ER/DR8EV6B5+DuQOnTgUw5rnkY+FbNU3gNXh0o/JYTuWOvyBf9FvzX663HH/HejO8LwAl8Hl5YLTd8q7sqA3wbjuExfAFegQdwfyDoSkWY8swzEf6o4Qyewefg+cHNbqMQruSL/u/WWc+E5g7vnnEXgDmcDeSGb/F4cBcCgT+GGRzDU3hZYburAt9TEtHgbM6JoxJ+6NMzzTcf6c2bycv2+KK/f+l6LBzw5IwfqZJhA3M472pWT/ajKxnjv4AFnMEpnBTPND6s2J7qHbPAqcMK74T2mZ4VGB9uJA465It+/eL1WKhYOD7xHOkr1ajK7d0C4+ke4Hy9qXZwpgLr+Znm/uNFw8xQOSy8H9IzjUrd9+BIfenYaylf9FsXr8fBAadnPIEDna8IBcwlxnuA0/Wv6GAWPd7dDIKjMdSWueAsBj4M7TOd06qBbwDwKr7oleuxMOEcTuEZTHWvDYUO7aHqAe0Bbq+HEFRzOz7WVoTDQkVds7A4sIIxfCQdCefFRoIOF/NFL1mPab/nvOakSL/Q1aFtNpUb/nFOVX6gzyg/1nISyDfUhsokIzaBR9Kxm80s5mK+6P56il1jXic7nhQxsxSm3OwBHl4fFdLqi64nDQZvqE2at7cWAp/IVvrN6/BFL1mPhYrGMBfOi4PyjuSGf6wBBh7p/FZTghCNWGgMzlBbrNJoPJX2mW5mwZfyRffXo7OFi5pZcS4qZUrlViptrXtw+GQoyhDPS+ANjcGBNRiLCQDPZPMHuiZfdFpPSTcQwwKYdRNqpkjm7AFeeT0pJzALgo7g8YYGrMHS0iocy+YTm2vyRUvvpXCIpQ5pe666TJrcygnScUf/p0NDs/iAI/nqDHC8TmQT8x3NF91l76oDdQGwu61Z6E0ABv7uO1dbf/37Zlv+Zw/Pbh8f1s4Avur6657/+YYBvur6657/+YYBvur6657/+YYBvur6657/+aYBvuL6657/+VMA8FXWX/f8zzcN8BXXX/f8zzcNMFdbf93zP38KLPiK6697/uebtuArrr/u+Z9vGmCusP6653/+1FjwVdZf9/zPN7oHX339dc//fNMu+irrr3v+50+Bi+Zq6697/uebA/jz8Pudf9ht/fWv517J/XUzAP8C/BAeX9WCDrUpZ3/dEMBxgPcfbtTVvsYV5Yn32u03B3Ac4P3b8I+vxNBKeeL9dRMAlwO83959qGO78sT769oB7g3w/vGVYFzKE++v6wV4OMD7F7tckFkmT7y/rhHgpQO8b+4Y46XyxPvrugBeNcB7BRiX8sT767oAvmCA9woAHsoT76+rBJjLBnh3txOvkifeX1dswZcO8G6N7sXyxPvr6i340gHe3TnqVfLE++uKAb50gHcXLnrX8sR7gNdPRqwzwLu7Y/FO5Yn3AK9jXCMGeHdgxDuVJ75VAI8ljP7PAb3/RfjcZfePHBB+79dpfpH1CanN30d+mT1h9GqAxxJGM5LQeeQ1+Tb+EQJrElLb38VHQ94TRq900aMIo8cSOo+8Dp8QfsB8zpqE1NO3OI9Zrj1h9EV78PqE0WMJnUdeU6E+Jjyk/hbrEFIfeWbvId8H9oTRFwdZaxJGvziW0Hn0gqYB/wyZ0PwRlxJST+BOw9m77Amj14ii1yGM/txYQudN0qDzGe4EqfA/5GJCagsHcPaEPWH0esekSwmjRxM6b5JEcZ4ww50ilvAOFxBSx4yLW+A/YU8YvfY5+ALC6NGEzhtmyZoFZoarwBLeZxUhtY4rc3bKnjB6TKJjFUHzJoTOozF2YBpsjcyxDgzhQ1YRUse8+J4wenwmaylB82hC5w0zoRXUNXaRBmSMQUqiWSWkLsaVqc/ZE0aPTFUuJWgeTei8SfLZQeMxNaZSIzbII4aE1Nmr13P2hNHjc9E9guYNCZ032YlNwESMLcZiLQHkE4aE1BFg0yAR4z1h9AiAGRA0jyZ03tyIxWMajMPWBIsxYJCnlITU5ShiHYdZ94TR4wCmSxg9jtB5KyPGYzymAYexWEMwAPIsAdYdV6aObmNPGD0aYLoEzaMJnTc0Ygs+YDw0GAtqxBjkuP38bMRWCHn73xNGjz75P73WenCEJnhwyVe3AEe8TtKdJcYhBl97wuhNAObK66lvD/9J9NS75v17wuitAN5fe4D31x7g/bUHeH/tAd5fe4D3AO+vPcD7aw/w/toDvL/2AO+vPcD7aw/w/toDvAd4f/24ABzZ8o+KLsSLS+Pv/TqTb3P4hKlQrTGh+fbIBT0Axqznnb+L/V2mb3HkN5Mb/nEHeK7d4IcDld6lmDW/iH9E+AH1MdOw/Jlu2T1xNmY98sv4wHnD7D3uNHu54WUuOsBTbQuvBsPT/UfzNxGYzwkP8c+Yz3C+r/i6DcyRL/rZ+utRwWH5PmfvcvYEt9jLDS/bg0/B64DWKrQM8AL8FPwS9beQCe6EMKNZYJol37jBMy35otdaz0Bw2H/C2Smc7+WGB0HWDELBmOByA3r5QONo4V+DpzR/hFS4U8wMW1PXNB4TOqYz9urxRV++ntWCw/U59Ty9ebdWbrgfRS9AYKKN63ZokZVygr8GZ/gfIhZXIXPsAlNjPOLBby5c1eOLvmQ9lwkOy5x6QV1j5TYqpS05JtUgUHUp5toHGsVfn4NX4RnMCe+AxTpwmApTYxqMxwfCeJGjpXzRF61nbcHhUBPqWze9svwcHJ+S6NPscKrEjug78Dx8Lj3T8D4YxGIdxmJcwhi34fzZUr7olevZCw5vkOhoClq5zBPZAnygD/Tl9EzDh6kl3VhsHYcDEb+hCtJSvuiV69kLDm+WycrOTArHmB5/VYyP6jOVjwgGawk2zQOaTcc1L+aLXrKeveDwZqlKrw8U9Y1p66uK8dEzdYwBeUQAY7DbyYNezBfdWQ97weEtAKYQg2xJIkuveAT3dYeLGH+ShrWNwZgN0b2YL7qznr3g8JYAo5bQBziPjx7BPZ0d9RCQp4UZbnFdzBddor4XHN4KYMrB2qHFRIzzcLAHQZ5the5ovui94PCWAPefaYnxIdzRwdHCbuR4B+tbiy96Lzi8E4D7z7S0mEPd+eqO3cT53Z0Y8SV80XvB4Z0ADJi/f7X113f+7p7/+UYBvur6657/+YYBvur6657/+aYBvuL6657/+aYBvuL6657/+aYBvuL6657/+aYBvuL6657/+VMA8FXWX/f8z58OgK+y/rrnf75RgLna+uue//lTA/CV1V/3/M837aKvvv6653++UQvmauuve/7nTwfAV1N/3fM/fzr24Cuuv+75nz8FFnxl9dc9//MOr/8/glixwRuUfM4AAAAASUVORK5CYII="}getSearchTexture(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAAAhCAAAAABIXyLAAAAAOElEQVRIx2NgGAWjYBSMglEwEICREYRgFBZBqDCSLA2MGPUIVQETE9iNUAqLR5gIeoQKRgwXjwAAGn4AtaFeYLEAAAAASUVORK5CYII="}}var DTe=new LTe(zS,BS);const fG=new t1(new Wn({defines:{BAND_MODE:2,CHROMA_SAMPLES:1},uniforms:{tDiffuse:{value:null},baseIor:{value:.8},bandOffset:{value:.01},jitterIntensity:{value:1},jitterOffset:{value:0}},vertexShader:`

		varying vec2 vUv;
		varying vec3 viewDir;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
			viewDir = normalize( ( modelViewMatrix * vec4( position, 1.0 ) ).xyz );

		}

	`,fragmentShader:`

		varying vec2 vUv;
		varying vec3 viewDir;
		uniform float baseIor;
		uniform float bandOffset;
		uniform float jitterIntensity;
		uniform float jitterOffset;
		uniform sampler2D tDiffuse;

		#include <common>
		void main() {

			vec3 normal = vec3( ( 2.0 * vUv - vec2( 1.0 ) ), 1.0 );
			normal.z = 1.0;
			normal = normalize( normal );

			vec3 color;

			// if NO BANDS
			#if BAND_MODE == 0

			vec3 refracted = refract( vec3( 0.0, 0.0, - 1.0 ), normal, baseIor );
			color = texture2D( tDiffuse, vUv + refracted.xy ).rgb;

			// if RGB or RYGCBV BANDS
			#else

			float index, randValue, offsetValue;
			float r, g, b, r_ior, g_ior, b_ior;
			vec3 r_refracted, g_refracted, b_refracted;
			vec4 r_sample, g_sample, b_sample;

			#if BAND_MODE == 2
			float y, c, v, y_ior, c_ior, v_ior;
			vec3 y_refracted, c_refracted, v_refracted;
			vec4 y_sample, c_sample, v_sample;
			#endif

			for ( int i = 0; i < CHROMA_SAMPLES; i ++ ) {

				index = float( i );
				randValue = rand( sin( index + 1. ) * gl_FragCoord.xy + vec2( jitterOffset, - jitterOffset ) ) - 0.5;
				offsetValue = index / float( CHROMA_SAMPLES ) + randValue * jitterIntensity;
				#if BAND_MODE == 1
				randValue *= 2.0;
				#endif

				// Paper describing functions for creating yellow, cyan, and violet bands and reforming
				// them into RGB:
				// https://web.archive.org/web/20061108181225/http://home.iitk.ac.in/~shankars/reports/dispersionraytrace.pdf
				r_ior = 1.0 + bandOffset * ( 0.0 + offsetValue );
				g_ior = 1.0 + bandOffset * ( 2.0 + offsetValue );
				b_ior = 1.0 + bandOffset * ( 4.0 + offsetValue );

				r_refracted = refract( vec3( 0.0, 0.0, - 1.0 ), normal, baseIor / r_ior );
				g_refracted = refract( vec3( 0.0, 0.0, - 1.0 ), normal, baseIor / g_ior );
				b_refracted = refract( vec3( 0.0, 0.0, - 1.0 ), normal, baseIor / b_ior );

				r_sample = texture2D( tDiffuse, vUv + r_refracted.xy );
				g_sample = texture2D( tDiffuse, vUv + g_refracted.xy );
				b_sample = texture2D( tDiffuse, vUv + b_refracted.xy );

				#if BAND_MODE == 2
				y_ior = 1.0 + bandOffset * ( 1.0 + offsetValue );
				c_ior = 1.0 + bandOffset * ( 3.0 + offsetValue );
				v_ior = 1.0 + bandOffset * ( 5.0 + offsetValue );

				y_refracted = refract( vec3( 0.0, 0.0, - 1.0 ), normal, baseIor / y_ior );
				c_refracted = refract( vec3( 0.0, 0.0, - 1.0 ), normal, baseIor / c_ior );
				v_refracted = refract( vec3( 0.0, 0.0, - 1.0 ), normal, baseIor / v_ior );

				y_sample = texture2D( tDiffuse, vUv + y_refracted.xy );
				c_sample = texture2D( tDiffuse, vUv + c_refracted.xy );
				v_sample = texture2D( tDiffuse, vUv + v_refracted.xy );

				r = r_sample.r / 2.0;
				y = ( 2.0 * y_sample.r + 2.0 * y_sample.g - y_sample.b ) / 6.0;
				g = g_sample.g / 2.0;
				c = ( 2.0 * c_sample.g + 2.0 * c_sample.b - c_sample.r ) / 6.0;
				b = b_sample.b / 2.0;
				v = ( 2.0 * v_sample.b + 2.0 * v_sample.r - v_sample.g ) / 6.0;

				color.r += r + ( 2.0 * v + 2.0 * y - c ) / 3.0;
				color.g += g + ( 2.0 * y + 2.0 * c - v ) / 3.0;
				color.b += b + ( 2.0 * c + 2.0 * v - y ) / 3.0;
				#else
				color.r += r_sample.r;
				color.g += g_sample.g;
				color.b += b_sample.b;
				#endif

			}

			color /= float( CHROMA_SAMPLES );

			#endif

			gl_FragColor = vec4( color, 1.0 );

		}

	`})),{uniforms:hG}=fG;wj(t=>hG.baseIor.value=t);bj(t=>hG.bandOffset.value=t);var pG=!!window.safari;const nm=(()=>{if(pG)return new eR(Ur());const t=new sr(zS,BS,{samples:4});return wo(([e,n])=>t.setSize(e,n)),new eR(Ur(),t)})();yr(()=>{nm.renderer=Ur();const[t,e]=wo();nm.setSize(t,e),nm.setPixelRatio(Xf())},[Ur,wo,Xf]);yr(()=>{const t=[CN];fz()&&t.push(PN),Y_()&&t.push(wy),BA()&&t.push(yy),dz()&&t.push(kTe),D5()&&t.push(BN),cz()&&t.push(Gl),UA()&&t.push(fG),pG&&t.push(DTe);for(const e of t)nm.addPass(e);return()=>{for(const e of t)nm.removePass(e)}},[fz,Y_,BA,dz,D5,cz,UA]);async function FTe(){const{Sphere:t,Cylinder:e,Vec3:n}=await Qm(),{x:r,y:i}=ch(this),o=r*.5,a=i*.5,s=new t(o),l=new t(o),u=new e(o,o,Math.abs(i-r));this.cannonBody.addShape(s,new n(0,-a+o,0)),this.cannonBody.addShape(l,new n(0,a-o,0)),this.cannonBody.addShape(u)}const pz=Math.PI*.5;class mG extends ou{constructor(e){super(new Xi),this._physicsShape=FTe,this.updatePolarAngle=as(()=>this.gyrate(0,0),0,"trailing"),this._minPolarAngle=vN*Xr,this._maxPolarAngle=gN*Xr,this.mouseControlState=new Gr(!1),this.camera=e,this.object3d.add(e),this.initCamera()}getRay(){return Ij.set(this.camera.getWorldPosition(Lf),this.camera.getWorldDirection(Xn))}append(e){this._append(e),this.camera.add(e.outerObject3d)}attach(e){this._append(e),this.camera.attach(e.outerObject3d)}get width(){return this.object3d.scale.x*Br}set width(e){const n=e*Wt;this.object3d.scale.x=n,this.camera.scale.x=1/n}get height(){return this.object3d.scale.y*Br}set height(e){const n=e*Wt;this.object3d.scale.y=n,this.camera.scale.y=1/n}get depth(){return this.object3d.scale.z*Br}set depth(e){const n=e*Wt;this.object3d.scale.z=n,this.camera.scale.z=1/n}lookAt(e){super.lookAt(e),this.rotationY+=180}_gyrate(e,n,r){const i=r?this.object3d:this.outerObject3d;sa.setFromQuaternion(i.quaternion),sa.y-=e*.002,sa.x-=n*.002,sa.x=Math.max(pz-this._maxPolarAngle,Math.min(pz-this._minPolarAngle,sa.x)),i.setRotationFromEuler(sa),!r&&this.physicsRotate()}gyrate(e,n){this.mouseControlMode==="orbit"?this._gyrate(e,n):(this._gyrate(e,0),this._gyrate(0,n,!0))}get minPolarAngle(){return this._minPolarAngle*ro}set minPolarAngle(e){this._minPolarAngle=e*Xr,this.updatePolarAngle()}get maxPolarAngle(){return this._maxPolarAngle*ro}set maxPolarAngle(e){this._maxPolarAngle=e*Xr,this.updatePolarAngle()}get mouseControl(){return this.mouseControlState.get()}set mouseControl(e){this.mouseControlState.set(e),!(!e||this.mouseControlInit)&&(this.mouseControlInit=!0,Wi(()=>import("./enableMouseControl.5246774e.js"),[]).then(n=>n.default.call(this)))}getCenter(){return this.getWorldPosition()}}nu(mG,[oG]);const rw=5.7,mz=(t,e)=>Math.abs(t*.5/Math.cos(e.fov*.6*Xr));yr(()=>{var t;const[e,n]=wo(),[r,i]=(t=Cm())!==null&&t!==void 0?t:wo(),o=Qt(),a=e/n;o instanceof bo&&!Sm()?(o.aspect=a,o.updateProjectionMatrix()):o instanceof $m&&([o.left,o.right,o.top,o.bottom]=[a*rw*-.5,a*rw*.5,rw*.5,rw*-.5],o.updateProjectionMatrix());const s={width:e,height:i-(r-e)*i/r},l={width:r-(i-n)*r/i,height:n},u=Math.min(e-s.width,n-s.height),c=Math.min(e-l.width,n-l.height);u>c?(iz(mz(r/a,oi)*Wt),Object.assign(L0.style,{width:s.width+"px",height:s.height+"px"})):(iz(mz(i,oi)*Wt),Object.assign(L0.style,{width:l.width+"px",height:l.height+"px"}))},[wo,Cm,Qt,Sm]);yr(()=>{const t=Sm(),e=Qt(),n=Em(),r=Ur();if(n){const[l,u]=wo(),c=l*1,h=u*.5;n.aspect=e.aspect=c/h,e.updateProjectionMatrix(),n.updateProjectionMatrix();const f=so(()=>{Qb(),r.setViewport(0,0,c,h),r.setScissor(0,0,c,h),r.setScissorTest(!0),r.render(en,n),r.setViewport(0,h,c,h),r.setScissor(0,h,c,h),r.render(en,e),ew()});return()=>{f.cancel(),r.setViewport(0,0,l,u),r.setScissor(0,0,l,u),r.setScissorTest(!1),e.aspect=l/u,e.updateProjectionMatrix()}}if(I0()==="speed"||t==="webxr"){const l=so(()=>{Qb(),r.render(en,e),ew()});return()=>{l.cancel()}}if(t){const l=new YS;l.scale=.5,l.visible=!1;const u=1e3,c=-u*.5,[h,f]=wo(),m=h*.5,y=f*1;e.aspect=m/y,e.updateProjectionMatrix();const x=new Yf(e),b=so(()=>{Qb(),r.setViewport(0,0,m,y),r.setScissor(0,0,m,y),r.setScissorTest(!0),l.outerObject3d.position.copy(e.getWorldPosition(Xn)),l.outerObject3d.quaternion.copy(e.quaternion),l.translateZ(-u);const w=l.outerObject3d.position.clone(),S=e.quaternion.clone(),C=e.position.clone();l.moveRight(c),x.moveRight(-3),e.lookAt(l.outerObject3d.position),r.render(en,e),l.outerObject3d.position.copy(w),e.quaternion.copy(S),e.position.copy(C),r.setViewport(m,0,m,y),r.setScissor(m,0,m,y),l.moveRight(-c),x.moveRight(3),e.lookAt(l.outerObject3d.position),r.render(en,e),l.outerObject3d.position.copy(w),e.quaternion.copy(S),e.position.copy(C),ew()});return()=>{l.dispose(),b.cancel(),r.setViewport(0,0,h,f),r.setScissor(0,0,h,f),r.setScissorTest(!1),e.aspect=h/f,e.updateProjectionMatrix()}}let i=!1,o=!1,a=!1;const s=so(()=>{Qb(),$j[0]&&(i||(RTe(!0),i=!0),H2e()),qj[0]&&!o&&(OTe(!0),o=!0),Yj[0]&&!a&&(ATe(!0),a=!0),nm.render(),ew()});return()=>{s.cancel()}},[I0,Sm,Qt,Em,wo,Ur]);async function zTe(){const{Sphere:t}=await Qm(),e=new t(ch(this).x*.5);this.cannonBody.addShape(e)}const BTe=new NS(Zu,16,16);class UN extends ks{constructor(){super(BTe),this._physicsShape=zTe}}UN.componentName="sphere";const VTe=new eN(Zu,Qa,16);class vG extends ks{constructor(){super(VTe)}}vG.componentName="cone";async function UTe(){const{Cylinder:t}=await Qm(),{x:e,y:n}=ch(this),r=e*.5,i=new t(r,r,n);this.cannonBody.addShape(i)}const HTe=new PS(Zu,Zu,Qa,16);class HN extends ks{constructor(){super(HTe),this._physicsShape=UTe}}HN.componentName="cylinder";const WTe=new OS(Zu);class gG extends ks{constructor(){super(WTe)}}gG.componentName="octahedron";const ZS=new nN(61*Wt);ZS.rotateY(45*Xr);ZS.rotateX(125*Xr);ZS.translate(0,-.2,.2);class yG extends ks{constructor(){super(ZS)}}yG.componentName="tetrahedron";async function jTe(){const{Box:t,Vec3:e}=await Qm(),n=ch(this),r=n.clone().multiply(new pe(.15,.5,.1)),i=n.clone().multiply(new pe(.5,.15,.1)),o=new t(r),a=new t(i);this.cannonBody.addShape(o,new e(-i.x,0,0)),this.cannonBody.addShape(o,new e(i.x,0,0)),this.cannonBody.addShape(a,new e(0,-r.y,0)),this.cannonBody.addShape(a,new e(0,r.y,0))}const GTe=new rN(40*Wt,10*Wt,8,16);class xG extends ks{constructor(){super(GTe),this._physicsShape=jTe}}xG.componentName="torus";const bG=nt({},FN),wG=Jt(nt({},zN),{scaleZ:0,depth:0}),$Te=new uy(Qa,Qa,1,1);class _y extends ks{constructor(){super($Te,!0),this.object3d.scale.z=tj}get depth(){return 0}set depth(e){}get scaleZ(){return 0}set scaleZ(e){}}_y.componentName="plane";_y.defaults=wG;_y.schema=bG;async function KTe(){const{Sphere:t}=await Qm();this.cannonBody.addShape(new t(ch(this).x*.5))}const qTe=nt({},FN),XTe=Jt(nt({},zN),{scaleZ:0,depth:0}),YTe=new QO(Zu,32);class JS extends ks{constructor(){super(YTe,!0),this._physicsShape=KTe,this.object3d.scale.z=tj}get depth(){return 0}set depth(e){}get scaleZ(){return 0}set scaleZ(e){}}JS.componentName="circle";JS.defaults=XTe;JS.schema=qTe;const _G=[],uf=new _t,iw=new _t;let vz="",gz="";const ZTe=()=>{var t;return(t=_G.pop())!==null&&t!==void 0?t:new JTe},uR=new Set;so(()=>{for(const t of uR)t.update()});class JTe{constructor(){this.material=new dy,this.sprite=new $O(this.material)}init(e,n,r,i=r,o,a=o,s,l=s,u,c,h,f,m,y,x,b,w,S){uR.add(this),this.material.map=e,n?EN(this.sprite):MN(this.sprite),this.accelX=f*Wt,this.accelY=m*Wt,this.accelZ=y*Wt,this.speedX=x*Wt,this.speedY=b*Wt,this.speedZ=w*Wt,this.lifeTime=S,this.startTime=Date.now(),en.add(this.sprite),this.scaleStart=this.sprite.scale.x=this.sprite.scale.y=r*Wt,this.sizeRange=(i-r)*Wt,this.opacityStart=this.material.opacity=o,this.opacityRange=a-o,s!==vz&&(vz=s,uf.set(s)),gz!==l&&(gz=l,iw.set(l)),this.rStart=this.material.color.r=uf.r,this.rRange=iw.r-uf.r,this.gStart=this.material.color.g=uf.g,this.gRange=iw.g-uf.g,this.bStart=this.material.color.b=uf.b,this.bRange=iw.b-uf.b,this.sprite.position.set(u,c,h)}update(){const e=Date.now()-this.startTime;if(e>this.lifeTime){this.dispose();return}this.sprite.position.x+=this.speedX+=this.accelX,this.sprite.position.y+=this.speedY+=this.accelY,this.sprite.position.z+=this.speedZ+=this.accelZ;const n=e/this.lifeTime,r=n*this.sizeRange;this.sprite.scale.x=this.sprite.scale.y=this.scaleStart+r;const i=n*this.opacityRange;this.material.opacity=this.opacityStart+i;const o=n*this.rRange;this.material.color.r=this.rStart+o;const a=n*this.gRange;this.material.color.g=this.gStart+a;const s=n*this.bRange;this.material.color.b=this.bStart+s}dispose(){en.remove(this.sprite),uR.delete(this),_G.push(this)}}var QTe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAErklEQVRoQ92aiZNUNRDGu9NJRgUKESguFZQVEFg5ZAWLv9+SZZH7dhEQQSxEpcDjJem09Y1vqGFh2cNZljepSqVezZskv/elO52DacTJzISIekMZz0hKRM0gMzOeR5Z4FDWZ2Xoi2kRE60opa4noXWYGTCAi17ZRiSibGWD+9t4/I6KnRPQrMz/5v/1YNoiZRSLaTkSbSykba63vA6jWutbM3oMizPwCiJllKMLMfznnngHAOfeH9/4xET0iogfMnJYDtWQQM0PnPi6lbKu1bjWzzaq6ycw2ENF6M1tba10DEMAyc18RM6ttJxvn3J/MDEWeMPPvIgJVHjnnHnrvfyaiH5kZ0ItOSwIxs22ASCl9ZGbbVRUgW2qtAPmgVWWdma0xs3faoTVsI5mZ/2FmgDyFGsz8m3MOIL+IyENmfhBjvNfCAGpRaVEgrQFPlFI+UdWdqgqQHaq6vda6BarUWjeaGexi0YmZoc7jVg2AYGjdF5F7InLXe3+biGYX4xgWBGm/7L6U0oSZAWRXKWVnrfXDWusOqLHonr/mRajinLvvnPvJe39XRO4w8+0Y4ywRXYeSr2vntSAYIkS0P6W0p9Y6kXPeDZhSyi6AjAJgbh0tSB8ihHDLOTcbY7xJRFcxJOdrc16QVonJnPO+nPNeVd2jqhO11k9rrXC3K5acc/BmP4jIrIjcDCHcCCFcJ6JL8ynzSpDWJiZTSgdKKZ+r6j5VBcxnS7WD5dLCfkTkexG5ISLXvffXYoxXWpiXJtP5QPamlCZrrQdyzgdUtQ9jZn65HVvO/5i5AEJEroUQrjjnrsQYocqNufW9BAIXW0o5pKpQZFJVD6rq/jelxEsd/E+ZqyJyGRAicsl7f4GZX3DNL4C0k93RpmkOq+oXpRRkKLOiNrGQWrAZ7z0ALorIxV6vd56Izg5PmnNBdqeUjpRSDrf50Ep5p4U6P483u+C9P48cYzzHzLcG7z0HQThRSvlKVY+WUo7knAF0aKkNruT7GFIhhHPe+3MictZ7f3oQmw2D7EopHSulAORLlKOa7EYFh0nTew+A71DGGM8w8x3UPwwy1TQNQI7lnAHyVqkx+BitKgA50+v1ADLzHAThdynl65TSlKr2YRBHjepLjrIexGOAEJEzMcYZ7/23WA70FTEzGPlUzhk2gnJqtdztQtCYKEMIMyIyE0I4DRgY/QDkcNM0x2HsgCmlHFyowtX83Xt/GRAw9l6vN83M5xnhCIZVzvm4qgIE5c7V7OhCbSPEDyFMi8hplP3hhWVpKeVkSulEKQWqHH/bvNUr5hR4LwBMxxhPee+/AcgGVT3ZNE0fJOd8AsvVhb7Kav6OZXIIAQDTvV7vlIj0QbaqKjzWiYEqb6uhP5/FmZuBGlBERPpDC0vWPgTUaBV5o1HuUtVFVAxFkFuQU2MFMjZDa2yMfWzc73hMiG2s1f0QZdyCxvEI41tVur+wakHGZqk7HpsPQ0bf7e2gFgSnUd3foGthur9lOginzaz7m9itKjj36/6xQguDw8xuH/QMDbHuH70NwUCZbh+GDsHAZrp9PD28MdD5CwNzYLp/hWMOULcv1bxqD6rT15zm21RbrYtn/wLboDECn0+AWAAAAABJRU5ErkJggg==";const ePe=hj.load(QTe),og=(t,e)=>hA(t-e,t+e);class tPe extends YS{constructor(){super(),this.speed=0,this.speedRange=.5,this.accel=0,this.accelRange=0,this.lifeTime=500,this.lifeTimeRange=0,this.spread=0,this.size=20,this.sizeRange=0,this.opacityRange=0,this._frequency=50,this.width=this.height=this.depth=20,this.object3d.visible=!1,this.start()}get frequency(){return this._frequency}set frequency(e){this._frequency=e,this.handle&&this.start()}start(){var e;(e=this.handle)===null||e===void 0||e.cancel(),this.handle=this.timer(1e3/this._frequency,-1,()=>{const[,,,,n,r,i]=this.outerObject3d.matrixWorld.elements,o=og(this.speed,this.speedRange),[a,s,l]=[o*n,o*r,o*i],u=og(this.accel,this.accelRange),[c,h,f]=[u*n,u*r,u*i],m=og(this.size,this.sizeRange),y=og(this.opacity,this.opacityRange);this.outerObject3d.getWorldPosition(Xn),ZTe().init(ePe,this.bloom,m,this.sizeEnd,y,this.opacityEnd,this.color,this.colorEnd,Xn.x,Xn.y,Xn.z,c,h,f,a+hA(-this.spread,this.spread),s,l+hA(-this.spread,this.spread),og(this.lifeTime,this.lifeTimeRange))})}stop(){var e;(e=this.handle)===null||e===void 0||e.cancel(),this.handle=void 0}}tPe.componentName="particleSystem";var SG=t=>{const e=new pe;return Mm.setFromObject(t).getSize(e),e};const yz=new Map;var CG=(t,e)=>{const n=yz.get(e);if(n){const[s,l,u]=n;return t.scale.multiplyScalar(s),t.position.copy(l).multiplyScalar(-1),u}const r=SG(t),i=1/r.y;t.scale.multiplyScalar(i);const o=vy(t);t.position.copy(o).multiplyScalar(-1);const a=r.multiplyScalar(i);return yz.set(e,[i,o.clone(),a.clone()]),a};class EG extends ou{constructor(){super(new ci(cG,Lj)),this.loadedGroup=new Xi,this.loadedResolvable=new vm,this.outerObject3d.add(this.loadedGroup)}get src(){return this._src}set src(e){this._src!==e&&(this._src=e,e&&(this.loadedResolvable.done&&(this.loadedResolvable=new vm,this.loadedGroup.clear()),this.load(e).then(n=>{this.done||this._src!==e||(this.object3d.visible=!!this._boxVisible,this.resolveLoaded(n))})))}get onLoad(){return this._onLoad}set onLoad(e){var n;this._onLoad=e,(n=this.loadedHandle)===null||n===void 0||n.cancel(),e&&(this.loadedHandle=this.loadedResolvable.then(e))}get width(){return super.width}set width(e){super.width=e,this.widthSet=!0}get height(){return super.height}set height(e){super.height=e,this.heightSet=!0}get depth(){return super.depth}set depth(e){super.depth=e,this.depthSet=!0}get innerRotationX(){return super.innerRotationX}set innerRotationX(e){super.innerRotationX=e,this.loadedGroup.rotation.x=this.object3d.rotation.x}get innerRotationY(){return super.innerRotationY}set innerRotationY(e){super.innerRotationY=e,this.loadedGroup.rotation.y=this.object3d.rotation.y}get innerRotationZ(){return super.innerRotationZ}set innerRotationZ(e){super.innerRotationZ=e,this.loadedGroup.rotation.z=this.object3d.rotation.z}get innerX(){return super.innerX}set innerX(e){super.innerX=e,this.loadedGroup.position.x=this.object3d.position.x}get innerY(){return super.innerY}set innerY(e){super.innerY=e,this.loadedGroup.position.y=this.object3d.position.y}get innerZ(){return super.innerZ}set innerZ(e){super.innerZ=e,this.loadedGroup.position.z=this.object3d.position.z}get innerVisible(){return this.loadedGroup.visible}set innerVisible(e){this.loadedGroup.visible=e}get frustumCulled(){return this.outerObject3d.frustumCulled}set frustumCulled(e){this.outerObject3d.frustumCulled!==e&&(this.outerObject3d.frustumCulled=e,this.loadedResolvable.then(()=>super.frustumCulled=e))}get physics(){var e;return(e=this._physics)!==null&&e!==void 0?e:!1}set physics(e){var n;if(this._physics===e)return;this._physics=e,(n=this.physicsHandle)===null||n===void 0||n.cancel();const r=this.physicsHandle=this.cancellable();this.loadedResolvable.then(()=>this.initPhysics(e,r))}get boxVisible(){var e;return(e=this._boxVisible)!==null&&e!==void 0?e:this.object3d.visible}set boxVisible(e){this._boxVisible=e,this.object3d.visible=e}get outline(){return!!this._outline}set outline(e){var n;this._outline!==e&&(this._outline=e,(n=this._outlineHandle)===null||n===void 0||n.cancel(),this._outlineHandle=this.loadedResolvable.then(r=>{e?Zj(r):Jj(r)}))}get bloom(){return!!this._bloom}set bloom(e){var n;this._bloom!==e&&(this._bloom=e,(n=this._bloomHandle)===null||n===void 0||n.cancel(),this._bloomHandle=this.loadedResolvable.then(r=>{e?EN(r):MN(r)}))}get reflection(){return!!this._reflection}set reflection(e){var n;this._reflection!==e&&(this._reflection=e,(n=this._reflectionHandle)===null||n===void 0||n.cancel(),this._reflectionHandle=this.loadedResolvable.then(r=>{e?Xj(r):nR(r)}))}addToRaycastSet(e,n){n.watch(this.loadedResolvable.then(r=>{this.managerSet||(this.managerSet=!0,r.traverse(i=>{var o,a;return(o=(a=i.userData).manager)!==null&&o!==void 0?o:a.manager=this})),e.add(r),n.then(()=>e.delete(r))}))}}const MG=Jt(nt({},dh),{src:String,onLoad:Function,boxVisible:Boolean}),TG=Jt(nt({},ev),{boxVisible:!1}),PG=Jt(nt({},MG),{loadedScale:Number,loadedX:Number,loadedY:Number,loadedZ:Number}),AG=nt({},TG),RG=oh(()=>Wi(()=>import("./loadFBX.8d815248.js"),["assets/loadFBX.8d815248.js","assets/cloneSkinnedMesh.3c33c4fe.js"])),OG=oh(()=>Wi(()=>import("./loadGLTF.0af4b770.js"),["assets/loadGLTF.0af4b770.js","assets/cloneSkinnedMesh.3c33c4fe.js"]));class dc extends EG{async loadAnimation(e,n=e){var r,i;((r=this.loadedAnims)!==null&&r!==void 0?r:this.loadedAnims={})[n]=e;const o=new vm;((i=this.loadingAnims)!==null&&i!==void 0?i:this.loadingAnims=[]).push(o);let a;try{a=await this.load(e)}catch{o.resolve();return}const s=a.animations[0];s&&(this.animations[n]=this.watch(new z0(s,await this.loadedResolvable))),o.resolve()}get animations(){var e;return(e=this.animationManagers)!==null&&e!==void 0?e:this.animationManagers={}}set animations(e){for(const[n,r]of Object.entries(e))typeof r=="string"?this.loadAnimation(r,n):this.animations[n]=r}async load(e){var n;const r=new vm;((n=this.loadingAnims)!==null&&n!==void 0?n:this.loadingAnims=[]).push(r);let i;try{iG[0](e).toLowerCase().endsWith(".fbx")?i=await(await RG()).default(e,!0):i=await(await OG()).default(e,!0)}catch{return r.resolve(),new Xi}return r.resolve(),i}get loadedScale(){return this._loadedScale}set loadedScale(e){this._loadedScale=e}get loadedX(){return this._loadedX}set loadedX(e){this._loadedX=e,this._loadedPos=!0}get loadedY(){return this._loadedY}set loadedY(e){this._loadedY=e,this._loadedPos=!0}get loadedZ(){return this._loadedZ}set loadedZ(e){this._loadedZ=e,this._loadedPos=!0}resolveLoaded(e){for(const n of e.animations)this.animations[n.name]=this.watch(new z0(n,e));if(this._loadedScale)e.scale.multiplyScalar(this._loadedScale);else{const n=CG(e,this._src);!this.widthSet&&(this.object3d.scale.x=n.x),!this.heightSet&&(this.object3d.scale.y=n.y),!this.depthSet&&(this.object3d.scale.z=n.z)}if(this._loadedPos){let{x:n,y:r,z:i}=e.position;this._loadedX&&(n=this._loadedX*Wt),this._loadedY&&(r=this._loadedY*Wt),this._loadedZ&&(i=this._loadedZ*Wt),e.position.set(n,r,i)}this.loadedGroup.add(e),this.loadedResolvable.resolve(e)}find(e,n){const r=super.find(e,n);return r&&(r.model=this),r}findAll(e){const n=super.findAll(e);for(const r of n)r.model=this;return n}}dc.componentName="model";dc.defaults=AG;dc.schema=PG;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ot=function(){return Ot=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ot.apply(this,arguments)};function WN(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function mr(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Rr(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o}function Ti(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var Hr;(function(t){t.Start="xstate.start",t.Stop="xstate.stop",t.Raise="xstate.raise",t.Send="xstate.send",t.Cancel="xstate.cancel",t.NullEvent="",t.Assign="xstate.assign",t.After="xstate.after",t.DoneState="done.state",t.DoneInvoke="done.invoke",t.Log="xstate.log",t.Init="xstate.init",t.Invoke="xstate.invoke",t.ErrorExecution="error.execution",t.ErrorCommunication="error.communication",t.ErrorPlatform="error.platform",t.ErrorCustom="xstate.error",t.Update="xstate.update",t.Pure="xstate.pure",t.Choose="xstate.choose"})(Hr||(Hr={}));var B0;(function(t){t.Parent="#_parent",t.Internal="#_internal"})(B0||(B0={}));var cR=Hr.Start,jN=Hr.Stop,QS=Hr.Raise,eC=Hr.Send,NG=Hr.Cancel,nPe=Hr.NullEvent,xz=Hr.Assign;Hr.After;Hr.DoneState;var kG=Hr.Log,rPe=Hr.Init,dR=Hr.Invoke;Hr.ErrorExecution;var bz=Hr.ErrorPlatform,iPe=Hr.ErrorCustom,IG=Hr.Update,oPe=Hr.Choose,aPe=Hr.Pure,LG=".",wz={},fR="xstate.guard",sPe="",ag=!0,ow;function GN(t,e,n){n===void 0&&(n=LG);var r=Wg(t,n),i=Wg(e,n);return Er(i)?Er(r)?i===r:!1:Er(r)?r in i:Object.keys(r).every(function(o){return o in i?GN(r[o],i[o]):!1})}function DG(t){try{return Er(t)||typeof t=="number"?"".concat(t):t.type}catch{throw new Error("Events must be strings or objects with a string event.type property.")}}function hR(t,e){try{return nv(t)?t:t.toString().split(e)}catch{throw new Error("'".concat(t,"' is not a valid state path."))}}function lPe(t){return typeof t=="object"&&"value"in t&&"context"in t&&"event"in t&&"_event"in t}function Wg(t,e){if(lPe(t))return t.value;if(nv(t))return i1(t);if(typeof t!="string")return t;var n=hR(t,e);return i1(n)}function i1(t){if(t.length===1)return t[0];for(var e={},n=e,r=0;r<t.length-1;r++)r===t.length-2?n[t[r]]=t[r+1]:(n[t[r]]={},n=n[t[r]]);return e}function yg(t,e){for(var n={},r=Object.keys(t),i=0;i<r.length;i++){var o=r[i];n[o]=e(t[o],o,t,i)}return n}function _z(t,e,n){var r,i,o={};try{for(var a=mr(Object.keys(t)),s=a.next();!s.done;s=a.next()){var l=s.value,u=t[l];!n(u)||(o[l]=e(u,l,t))}}catch(c){r={error:c}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return o}var uPe=function(t){return function(e){var n,r,i=e;try{for(var o=mr(t),a=o.next();!a.done;a=o.next()){var s=a.value;i=i[s]}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}};function cPe(t,e){return function(n){var r,i,o=n;try{for(var a=mr(t),s=a.next();!s.done;s=a.next()){var l=s.value;o=o[e][l]}}catch(u){r={error:u}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return o}}function Dw(t){if(!t)return[[]];if(Er(t))return[[t]];var e=si(Object.keys(t).map(function(n){var r=t[n];return typeof r!="string"&&(!r||!Object.keys(r).length)?[[n]]:Dw(t[n]).map(function(i){return[n].concat(i)})}));return e}function si(t){var e;return(e=[]).concat.apply(e,Ti([],Rr(t),!1))}function FG(t){return nv(t)?t:[t]}function nl(t){return t===void 0?[]:FG(t)}function o1(t,e,n){var r,i;if(Vr(t))return t(e,n.data);var o={};try{for(var a=mr(Object.keys(t)),s=a.next();!s.done;s=a.next()){var l=s.value,u=t[l];Vr(u)?o[l]=u(e,n.data):o[l]=u}}catch(c){r={error:c}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return o}function dPe(t){return/^(done|error)\./.test(t)}function Sz(t){return!!(t instanceof Promise||t!==null&&(Vr(t)||typeof t=="object")&&Vr(t.then))}function fPe(t){return t!==null&&typeof t=="object"&&"transition"in t&&typeof t.transition=="function"}function zG(t,e){var n,r,i=Rr([[],[]],2),o=i[0],a=i[1];try{for(var s=mr(t),l=s.next();!l.done;l=s.next()){var u=l.value;e(u)?o.push(u):a.push(u)}}catch(c){n={error:c}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return[o,a]}function BG(t,e){return yg(t.states,function(n,r){if(!!n){var i=(Er(e)?void 0:e[r])||(n?n.current:void 0);if(!!i)return{current:i,states:BG(n,i)}}})}function hPe(t,e){return{current:e,states:BG(t,e)}}function Cz(t,e,n,r){var i=t&&n.reduce(function(o,a){var s,l,u=a.assignment,c={state:r,action:a,_event:e},h={};if(Vr(u))h=u(o,e.data,c);else try{for(var f=mr(Object.keys(u)),m=f.next();!m.done;m=f.next()){var y=m.value,x=u[y];h[y]=Vr(x)?x(o,e.data,c):x}}catch(b){s={error:b}}finally{try{m&&!m.done&&(l=f.return)&&l.call(f)}finally{if(s)throw s.error}}return Object.assign({},o,h)},t);return i}var jg=function(){};function nv(t){return Array.isArray(t)}function Vr(t){return typeof t=="function"}function Er(t){return typeof t=="string"}function VG(t,e){if(!!t)return Er(t)?{type:fR,name:t,predicate:e?e[t]:void 0}:Vr(t)?{type:fR,name:t.name,predicate:t}:t}function pPe(t){try{return"subscribe"in t&&Vr(t.subscribe)}catch{return!1}}var td=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();ow={},ow[td]=function(){return this},ow[Symbol.observable]=function(){return this};function Jf(t){return!!t&&"__xstatenode"in t}function mPe(t){return!!t&&typeof t.send=="function"}function $N(t,e){return Er(t)||typeof t=="number"?Ot({type:t},e):t}function Vo(t,e){if(!Er(t)&&"$$type"in t&&t.$$type==="scxml")return t;var n=$N(t);return Ot({name:n.type,data:n,$$type:"scxml",type:"external"},e)}function vp(t,e){var n=FG(e).map(function(r){return typeof r=="undefined"||typeof r=="string"||Jf(r)?{target:r,event:t}:Ot(Ot({},r),{event:t})});return n}function vPe(t){if(!(t===void 0||t===sPe))return nl(t)}function UG(t,e,n,r,i){var o=t.options.guards,a={state:i,cond:e,_event:r};if(e.type===fR)return((o==null?void 0:o[e.name])||e.predicate)(n,r.data,a);var s=o==null?void 0:o[e.type];if(!s)throw new Error("Guard '".concat(e.type,"' is not implemented on machine '").concat(t.id,"'."));return s(n,r.data,a)}function HG(t){return typeof t=="string"?{type:t}:t}function pR(t,e,n){if(typeof t=="object")return t;var r=function(){};return{next:t,error:e||r,complete:n||r}}function aw(t,e){return"".concat(t,":invocation[").concat(e,"]")}var a1=Vo({type:rPe});function mR(t,e){return e&&e[t]||void 0}function V0(t,e){var n;if(Er(t)||typeof t=="number"){var r=mR(t,e);Vr(r)?n={type:t,exec:r}:r?n=r:n={type:t,exec:void 0}}else if(Vr(t))n={type:t.name||t.toString(),exec:t};else{var r=mR(t.type,e);if(Vr(r))n=Ot(Ot({},t),{exec:r});else if(r){var i=r.type||t.type;n=Ot(Ot(Ot({},r),t),{type:i})}else n=t}return n}var s1=function(t,e){if(!t)return[];var n=nv(t)?t:[t];return n.map(function(r){return V0(r,e)})};function KN(t){var e=V0(t);return Ot(Ot({id:Er(t)?t:e.id},e),{type:e.type})}function gPe(t){return Er(t)?{type:QS,event:t}:WG(t,{to:B0.Internal})}function yPe(t){return{type:QS,_event:Vo(t.event)}}function WG(t,e){return{to:e?e.to:void 0,type:eC,event:Vr(t)?t:$N(t),delay:e?e.delay:void 0,id:e&&e.id!==void 0?e.id:Vr(t)?t.name:DG(t)}}function xPe(t,e,n,r){var i={_event:n},o=Vo(Vr(t.event)?t.event(e,n.data,i):t.event),a;if(Er(t.delay)){var s=r&&r[t.delay];a=Vr(s)?s(e,n.data,i):s}else a=Vr(t.delay)?t.delay(e,n.data,i):t.delay;var l=Vr(t.to)?t.to(e,n.data,i):t.to;return Ot(Ot({},t),{to:l,_event:o,event:o.data,delay:a})}var bPe=function(t,e,n){return Ot(Ot({},t),{value:Er(t.expr)?t.expr:t.expr(e,n.data,{_event:n})})},wPe=function(t){return{type:NG,sendId:t}};function _Pe(t){var e=KN(t);return{type:Hr.Start,activity:e,exec:void 0}}function SPe(t){var e=Vr(t)?t:KN(t);return{type:Hr.Stop,activity:e,exec:void 0}}function CPe(t,e,n){var r=Vr(t.activity)?t.activity(e,n.data):t.activity,i=typeof r=="string"?{id:r}:r,o={type:Hr.Stop,activity:i};return o}function EPe(t,e){var n=e?"#".concat(e):"";return"".concat(Hr.After,"(").concat(t,")").concat(n)}function sw(t,e){var n="".concat(Hr.DoneState,".").concat(t),r={type:n,data:e};return r.toString=function(){return n},r}function Fw(t,e){var n="".concat(Hr.DoneInvoke,".").concat(t),r={type:n,data:e};return r.toString=function(){return n},r}function xg(t,e){var n="".concat(Hr.ErrorPlatform,".").concat(t),r={type:n,data:e};return r.toString=function(){return n},r}function vR(t,e,n,r,i,o){o===void 0&&(o=!1);var a=Rr(o?[[],i]:zG(i,function(f){return f.type===xz}),2),s=a[0],l=a[1],u=s.length?Cz(n,r,s,e):n,c=o?[n]:void 0,h=si(l.map(function(f){var m;switch(f.type){case QS:return yPe(f);case eC:var y=xPe(f,u,r,t.options.delays);return y;case kG:return bPe(f,u,r);case oPe:{var x=f,b=(m=x.conds.find(function(L){var D=VG(L.cond,t.options.guards);return!D||UG(t,D,u,r,e)}))===null||m===void 0?void 0:m.actions;if(!b)return[];var w=Rr(vR(t,e,u,r,s1(nl(b),t.options.actions),o),2),S=w[0],C=w[1];return u=C,c==null||c.push(u),S}case aPe:{var b=f.get(u,r.data);if(!b)return[];var M=Rr(vR(t,e,u,r,s1(nl(b),t.options.actions),o),2),T=M[0],R=M[1];return u=R,c==null||c.push(u),T}case jN:return CPe(f,u,r);case xz:{u=Cz(u,r,[f],e),c==null||c.push(u);break}default:var I=V0(f,t.options.actions),A=I.exec;if(A&&c){var N=c.length-1;I=Ot(Ot({},I),{exec:function(L){for(var D=[],W=1;W<arguments.length;W++)D[W-1]=arguments[W];A.apply(void 0,Ti([c[N]],Rr(D),!1))}})}return I}}).filter(function(f){return!!f}));return[h,u]}var bg=function(t,e){var n=e(t);return n};function jG(t){var e;return e={id:t,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:t}}},e[td]=function(){return this},e}function MPe(t,e,n,r){var i,o=HG(t.src),a=(i=e==null?void 0:e.options.services)===null||i===void 0?void 0:i[o.type],s=t.data?o1(t.data,n,r):void 0,l=a?TPe(a,t.id,s):jG(t.id);return l.meta=t,l}function TPe(t,e,n){var r=jG(e);if(r.deferred=!0,Jf(t)){var i=r.state=bg(void 0,function(){return(n?t.withContext(n):t).initialState});r.getSnapshot=function(){return i}}return r}function PPe(t){try{return typeof t.send=="function"}catch{return!1}}function APe(t){return PPe(t)&&"id"in t}function RPe(t){var e;return Ot((e={subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}},e[td]=function(){return this},e),t)}var l1=function(t){return t.type==="atomic"||t.type==="final"};function Om(t){return Object.keys(t.states).map(function(e){return t.states[e]}).filter(function(e){return e.type!=="history"})}function GG(t){var e=[t];return l1(t)?e:e.concat(si(Om(t).map(GG)))}function Sp(t,e){var n,r,i,o,a,s,l,u,c=new Set(t),h=gR(c),f=new Set(e);try{for(var m=mr(f),y=m.next();!y.done;y=m.next())for(var x=y.value,b=x.parent;b&&!f.has(b);)f.add(b),b=b.parent}catch(N){n={error:N}}finally{try{y&&!y.done&&(r=m.return)&&r.call(m)}finally{if(n)throw n.error}}var w=gR(f);try{for(var S=mr(f),C=S.next();!C.done;C=S.next()){var x=C.value;if(x.type==="compound"&&(!w.get(x)||!w.get(x).length))h.get(x)?h.get(x).forEach(function(L){return f.add(L)}):x.initialStateNodes.forEach(function(L){return f.add(L)});else if(x.type==="parallel")try{for(var M=(a=void 0,mr(Om(x))),T=M.next();!T.done;T=M.next()){var R=T.value;f.has(R)||(f.add(R),h.get(R)?h.get(R).forEach(function(L){return f.add(L)}):R.initialStateNodes.forEach(function(L){return f.add(L)}))}}catch(L){a={error:L}}finally{try{T&&!T.done&&(s=M.return)&&s.call(M)}finally{if(a)throw a.error}}}}catch(N){i={error:N}}finally{try{C&&!C.done&&(o=S.return)&&o.call(S)}finally{if(i)throw i.error}}try{for(var I=mr(f),A=I.next();!A.done;A=I.next())for(var x=A.value,b=x.parent;b&&!f.has(b);)f.add(b),b=b.parent}catch(N){l={error:N}}finally{try{A&&!A.done&&(u=I.return)&&u.call(I)}finally{if(l)throw l.error}}return f}function $G(t,e){var n=e.get(t);if(!n)return{};if(t.type==="compound"){var r=n[0];if(r){if(l1(r))return r.key}else return{}}var i={};return n.forEach(function(o){i[o.key]=$G(o,e)}),i}function gR(t){var e,n,r=new Map;try{for(var i=mr(t),o=i.next();!o.done;o=i.next()){var a=o.value;r.has(a)||r.set(a,[]),a.parent&&(r.has(a.parent)||r.set(a.parent,[]),r.get(a.parent).push(a))}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function OPe(t,e){var n=Sp([t],e);return $G(t,gR(n))}function zw(t,e){return Array.isArray(t)?t.some(function(n){return n===e}):t instanceof Set?t.has(e):!1}function NPe(t){return Ti([],Rr(new Set(si(Ti([],Rr(t.map(function(e){return e.ownEvents})),!1)))),!1)}function Gg(t,e){return e.type==="compound"?Om(e).some(function(n){return n.type==="final"&&zw(t,n)}):e.type==="parallel"?Om(e).every(function(n){return Gg(t,n)}):!1}function kPe(t){return t===void 0&&(t=[]),t.reduce(function(e,n){return n.meta!==void 0&&(e[n.id]=n.meta),e},{})}function Ez(t){return new Set(si(t.map(function(e){return e.tags})))}function KG(t,e){if(t===e)return!0;if(t===void 0||e===void 0)return!1;if(Er(t)||Er(e))return t===e;var n=Object.keys(t),r=Object.keys(e);return n.length===r.length&&n.every(function(i){return KG(t[i],e[i])})}function IPe(t){return typeof t!="object"||t===null?!1:"value"in t&&"_event"in t}function LPe(t,e){var n=t.exec,r=Ot(Ot({},t),{exec:n!==void 0?function(){return n(e.context,e.event,{action:t,state:e,_event:e._event})}:void 0});return r}var ku=function(){function t(e){var n=this,r;this.actions=[],this.activities=wz,this.meta={},this.events=[],this.value=e.value,this.context=e.context,this._event=e._event,this._sessionid=e._sessionid,this.event=this._event.data,this.historyValue=e.historyValue,this.history=e.history,this.actions=e.actions||[],this.activities=e.activities||wz,this.meta=kPe(e.configuration),this.events=e.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=e.configuration,this.transitions=e.transitions,this.children=e.children,this.done=!!e.done,this.tags=(r=Array.isArray(e.tags)?new Set(e.tags):e.tags)!==null&&r!==void 0?r:new Set,this.machine=e.machine,Object.defineProperty(this,"nextEvents",{get:function(){return NPe(n.configuration)}})}return t.from=function(e,n){if(e instanceof t)return e.context!==n?new t({value:e.value,context:n,_event:e._event,_sessionid:null,historyValue:e.historyValue,history:e.history,actions:[],activities:e.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):e;var r=a1;return new t({value:e,context:n,_event:r,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},t.create=function(e){return new t(e)},t.inert=function(e,n){if(e instanceof t){if(!e.actions.length)return e;var r=a1;return new t({value:e.value,context:n,_event:r,_sessionid:null,historyValue:e.historyValue,history:e.history,activities:e.activities,configuration:e.configuration,transitions:[],children:{}})}return t.from(e,n)},t.prototype.toStrings=function(e,n){var r=this;if(e===void 0&&(e=this.value),n===void 0&&(n="."),Er(e))return[e];var i=Object.keys(e);return i.concat.apply(i,Ti([],Rr(i.map(function(o){return r.toStrings(e[o],n).map(function(a){return o+n+a})})),!1))},t.prototype.toJSON=function(){var e=this;e.configuration,e.transitions;var n=e.tags;e.machine;var r=WN(e,["configuration","transitions","tags","machine"]);return Ot(Ot({},r),{tags:Array.from(n)})},t.prototype.matches=function(e){return GN(e,this.value)},t.prototype.hasTag=function(e){return this.tags.has(e)},t.prototype.can=function(e){var n;jg(!!this.machine);var r=(n=this.machine)===null||n===void 0?void 0:n.getTransitionData(this,e);return!!(r!=null&&r.transitions.length)&&r.transitions.some(function(i){return i.target!==void 0||i.actions.length})},t}(),DPe={deferEvents:!1},Mz=function(){function t(e){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=Ot(Ot({},DPe),e)}return t.prototype.initialize=function(e){if(this.initialized=!0,e){if(!this.options.deferEvents){this.schedule(e);return}this.process(e)}this.flushEvents()},t.prototype.schedule=function(e){if(!this.initialized||this.processingEvent){this.queue.push(e);return}if(this.queue.length!==0)throw new Error("Event queue should be empty when it is not processing events");this.process(e),this.flushEvents()},t.prototype.clear=function(){this.queue=[]},t.prototype.flushEvents=function(){for(var e=this.queue.shift();e;)this.process(e),e=this.queue.shift()},t.prototype.process=function(e){this.processingEvent=!0;try{e()}catch(n){throw this.clear(),n}finally{this.processingEvent=!1}},t}(),X2=new Map,FPe=0,lw={bookId:function(){return"x:".concat(FPe++)},register:function(t,e){return X2.set(t,e),t},get:function(t){return X2.get(t)},free:function(t){X2.delete(t)}};function qN(){if(typeof globalThis!="undefined")return globalThis;if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global}function zPe(){var t=qN();if(t&&"__xstate__"in t)return t.__xstate__}function BPe(t){if(!!qN()){var e=zPe();e&&e.register(t)}}function VPe(t,e){e===void 0&&(e={});var n=t.initialState,r=new Set,i=[],o=!1,a=function(){if(!o){for(o=!0;i.length>0;){var u=i.shift();n=t.transition(n,u,l),r.forEach(function(c){return c.next(n)})}o=!1}},s=RPe({id:e.id,send:function(u){i.push(u),a()},getSnapshot:function(){return n},subscribe:function(u,c,h){var f=pR(u,c,h);return r.add(f),f.next(n),{unsubscribe:function(){r.delete(f)}}}}),l={parent:e.parent,self:s,id:e.id||"anonymous",observers:r};return n=t.start?t.start(l):n,s}var UPe={sync:!1,autoForward:!1},ia;(function(t){t[t.NotStarted=0]="NotStarted",t[t.Running=1]="Running",t[t.Stopped=2]="Stopped"})(ia||(ia={}));var HPe=function(){function t(e,n){var r=this;n===void 0&&(n=t.defaultOptions),this.machine=e,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=ia.NotStarted,this.children=new Map,this.forwardTo=new Set,this.init=this.start,this.send=function(c,h){if(nv(c))return r.batch(c),r.state;var f=Vo($N(c,h));if(r.status===ia.Stopped)return r.state;if(r.status!==ia.Running&&!r.options.deferEvents)throw new Error('Event "'.concat(f.name,'" was sent to uninitialized service "').concat(r.machine.id,`". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.
Event: `).concat(JSON.stringify(f.data)));return r.scheduler.schedule(function(){r.forward(f);var m=r.nextState(f);r.update(m,f)}),r._state},this.sendTo=function(c,h){var f=r.parent&&(h===B0.Parent||r.parent.id===h),m=f?r.parent:Er(h)?r.children.get(h)||lw.get(h):mPe(h)?h:void 0;if(!m){if(!f)throw new Error("Unable to send event to child '".concat(h,"' from service '").concat(r.id,"'."));return}"machine"in m?m.send(Ot(Ot({},c),{name:c.name===iPe?"".concat(xg(r.id)):c.name,origin:r.sessionId})):m.send(c.data)};var i=Ot(Ot({},t.defaultOptions),n),o=i.clock,a=i.logger,s=i.parent,l=i.id,u=l!==void 0?l:e.id;this.id=u,this.logger=a,this.clock=o,this.parent=s,this.options=i,this.scheduler=new Mz({deferEvents:this.options.deferEvents}),this.sessionId=lw.bookId()}return Object.defineProperty(t.prototype,"initialState",{get:function(){var e=this;return this._initialState?this._initialState:bg(this,function(){return e._initialState=e.machine.initialState,e._initialState})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),t.prototype.execute=function(e,n){var r,i;try{for(var o=mr(e.actions),a=o.next();!a.done;a=o.next()){var s=a.value;this.exec(s,e,n)}}catch(l){r={error:l}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}},t.prototype.update=function(e,n){var r,i,o,a,s,l,u,c,h=this;if(e._sessionid=this.sessionId,this._state=e,this.options.execute&&this.execute(this.state),this.children.forEach(function(N){h.state.children[N.id]=N}),this.devTools&&this.devTools.send(n.data,e),e.event)try{for(var f=mr(this.eventListeners),m=f.next();!m.done;m=f.next()){var y=m.value;y(e.event)}}catch(N){r={error:N}}finally{try{m&&!m.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}try{for(var x=mr(this.listeners),b=x.next();!b.done;b=x.next()){var y=b.value;y(e,e.event)}}catch(N){o={error:N}}finally{try{b&&!b.done&&(a=x.return)&&a.call(x)}finally{if(o)throw o.error}}try{for(var w=mr(this.contextListeners),S=w.next();!S.done;S=w.next()){var C=S.value;C(this.state.context,this.state.history?this.state.history.context:void 0)}}catch(N){s={error:N}}finally{try{S&&!S.done&&(l=w.return)&&l.call(w)}finally{if(s)throw s.error}}var M=Gg(e.configuration||[],this.machine);if(this.state.configuration&&M){var T=e.configuration.find(function(N){return N.type==="final"&&N.parent===h.machine}),R=T&&T.doneData?o1(T.doneData,e.context,n):void 0;try{for(var I=mr(this.doneListeners),A=I.next();!A.done;A=I.next()){var y=A.value;y(Fw(this.id,R))}}catch(N){u={error:N}}finally{try{A&&!A.done&&(c=I.return)&&c.call(I)}finally{if(u)throw u.error}}this.stop()}},t.prototype.onTransition=function(e){return this.listeners.add(e),this.status===ia.Running&&e(this.state,this.state.event),this},t.prototype.subscribe=function(e,n,r){var i=this;if(!e)return{unsubscribe:function(){}};var o,a=r;return typeof e=="function"?o=e:(o=e.next.bind(e),a=e.complete.bind(e)),this.listeners.add(o),this.status!==ia.NotStarted&&o(this.state),a&&(this.status===ia.Stopped?a():this.onDone(a)),{unsubscribe:function(){o&&i.listeners.delete(o),a&&i.doneListeners.delete(a)}}},t.prototype.onEvent=function(e){return this.eventListeners.add(e),this},t.prototype.onSend=function(e){return this.sendListeners.add(e),this},t.prototype.onChange=function(e){return this.contextListeners.add(e),this},t.prototype.onStop=function(e){return this.stopListeners.add(e),this},t.prototype.onDone=function(e){return this.doneListeners.add(e),this},t.prototype.off=function(e){return this.listeners.delete(e),this.eventListeners.delete(e),this.sendListeners.delete(e),this.stopListeners.delete(e),this.doneListeners.delete(e),this.contextListeners.delete(e),this},t.prototype.start=function(e){var n=this;if(this.status===ia.Running)return this;this.machine._init(),lw.register(this.sessionId,this),this.initialized=!0,this.status=ia.Running;var r=e===void 0?this.initialState:bg(this,function(){return IPe(e)?n.machine.resolveState(e):n.machine.resolveState(ku.from(e,n.machine.context))});return this.options.devTools&&this.attachDev(),this.scheduler.initialize(function(){n.update(r,a1)}),this},t.prototype.stop=function(){var e,n,r,i,o,a,s,l,u,c,h=this;try{for(var f=mr(this.listeners),m=f.next();!m.done;m=f.next()){var y=m.value;this.listeners.delete(y)}}catch(A){e={error:A}}finally{try{m&&!m.done&&(n=f.return)&&n.call(f)}finally{if(e)throw e.error}}try{for(var x=mr(this.stopListeners),b=x.next();!b.done;b=x.next()){var y=b.value;y(),this.stopListeners.delete(y)}}catch(A){r={error:A}}finally{try{b&&!b.done&&(i=x.return)&&i.call(x)}finally{if(r)throw r.error}}try{for(var w=mr(this.contextListeners),S=w.next();!S.done;S=w.next()){var y=S.value;this.contextListeners.delete(y)}}catch(A){o={error:A}}finally{try{S&&!S.done&&(a=w.return)&&a.call(w)}finally{if(o)throw o.error}}try{for(var C=mr(this.doneListeners),M=C.next();!M.done;M=C.next()){var y=M.value;this.doneListeners.delete(y)}}catch(A){s={error:A}}finally{try{M&&!M.done&&(l=C.return)&&l.call(C)}finally{if(s)throw s.error}}if(!this.initialized)return this;Ti([],Rr(this.state.configuration),!1).sort(function(A,N){return N.order-A.order}).forEach(function(A){var N,L;try{for(var D=mr(A.definition.exit),W=D.next();!W.done;W=D.next()){var V=W.value;h.exec(V,h.state)}}catch(B){N={error:B}}finally{try{W&&!W.done&&(L=D.return)&&L.call(D)}finally{if(N)throw N.error}}}),this.children.forEach(function(A){Vr(A.stop)&&A.stop()}),this.children.clear();try{for(var T=mr(Object.keys(this.delayedEventsMap)),R=T.next();!R.done;R=T.next()){var I=R.value;this.clock.clearTimeout(this.delayedEventsMap[I])}}catch(A){u={error:A}}finally{try{R&&!R.done&&(c=T.return)&&c.call(T)}finally{if(u)throw u.error}}return this.scheduler.clear(),this.scheduler=new Mz({deferEvents:this.options.deferEvents}),this.initialized=!1,this.status=ia.Stopped,this._initialState=void 0,lw.free(this.sessionId),this},t.prototype.batch=function(e){var n=this;if(!(this.status===ia.NotStarted&&this.options.deferEvents)){if(this.status!==ia.Running)throw new Error("".concat(e.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'))}this.scheduler.schedule(function(){var r,i,o=n.state,a=!1,s=[],l=function(f){var m=Vo(f);n.forward(m),o=bg(n,function(){return n.machine.transition(o,m)}),s.push.apply(s,Ti([],Rr(o.actions.map(function(y){return LPe(y,o)})),!1)),a=a||!!o.changed};try{for(var u=mr(e),c=u.next();!c.done;c=u.next()){var h=c.value;l(h)}}catch(f){r={error:f}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}o.changed=a,o.actions=s,n.update(o,Vo(e[e.length-1]))})},t.prototype.sender=function(e){return this.send.bind(this,e)},t.prototype.nextState=function(e){var n=this,r=Vo(e);if(r.name.indexOf(bz)===0&&!this.state.nextEvents.some(function(o){return o.indexOf(bz)===0}))throw r.data.data;var i=bg(this,function(){return n.machine.transition(n.state,r)});return i},t.prototype.forward=function(e){var n,r;try{for(var i=mr(this.forwardTo),o=i.next();!o.done;o=i.next()){var a=o.value,s=this.children.get(a);if(!s)throw new Error("Unable to forward event '".concat(e,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(a,"'."));s.send(e)}}catch(l){n={error:l}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype.defer=function(e){var n=this;this.delayedEventsMap[e.id]=this.clock.setTimeout(function(){e.to?n.sendTo(e._event,e.to):n.send(e._event)},e.delay)},t.prototype.cancel=function(e){this.clock.clearTimeout(this.delayedEventsMap[e]),delete this.delayedEventsMap[e]},t.prototype.exec=function(e,n,r){r===void 0&&(r=this.machine.options.actions);var i=n.context,o=n._event,a=e.exec||mR(e.type,r),s=Vr(a)?a:a?a.exec:e.exec;if(s)try{return s(i,o.data,{action:e,state:this.state,_event:o})}catch(M){throw this.parent&&this.parent.send({type:"xstate.error",data:M}),M}switch(e.type){case eC:var l=e;if(typeof l.delay=="number"){this.defer(l);return}else l.to?this.sendTo(l._event,l.to):this.send(l._event);break;case NG:this.cancel(e.sendId);break;case cR:{if(this.status!==ia.Running)return;var u=e.activity;if(!this.state.activities[u.id||u.type])break;if(u.type===Hr.Invoke){var c=HG(u.src),h=this.machine.options.services?this.machine.options.services[c.type]:void 0,f=u.id,m=u.data,y="autoForward"in u?u.autoForward:!!u.forward;if(!h)return;var x=m?o1(m,i,o):void 0;if(typeof h=="string")return;var b=Vr(h)?h(i,o.data,{data:x,src:c,meta:u.meta}):h;if(!b)return;var w=void 0;Jf(b)&&(b=x?b.withContext(x):b,w={autoForward:y}),this.spawn(b,f,w)}else this.spawnActivity(u);break}case jN:{this.stopChild(e.activity.id);break}case kG:var S=e.label,C=e.value;S?this.logger(S,C):this.logger(C);break}},t.prototype.removeChild=function(e){var n;this.children.delete(e),this.forwardTo.delete(e),(n=this.state)===null||n===void 0||delete n.children[e]},t.prototype.stopChild=function(e){var n=this.children.get(e);!n||(this.removeChild(e),Vr(n.stop)&&n.stop())},t.prototype.spawn=function(e,n,r){if(Sz(e))return this.spawnPromise(Promise.resolve(e),n);if(Vr(e))return this.spawnCallback(e,n);if(APe(e))return this.spawnActor(e,n);if(pPe(e))return this.spawnObservable(e,n);if(Jf(e))return this.spawnMachine(e,Ot(Ot({},r),{id:n}));if(fPe(e))return this.spawnBehavior(e,n);throw new Error('Unable to spawn entity "'.concat(n,'" of type "').concat(typeof e,'".'))},t.prototype.spawnMachine=function(e,n){var r=this;n===void 0&&(n={});var i=new t(e,Ot(Ot({},this.options),{parent:this,id:n.id||e.id})),o=Ot(Ot({},UPe),n);o.sync&&i.onTransition(function(s){r.send(IG,{state:s,id:i.id})});var a=i;return this.children.set(i.id,a),o.autoForward&&this.forwardTo.add(i.id),i.onDone(function(s){r.removeChild(i.id),r.send(Vo(s,{origin:i.id}))}).start(),a},t.prototype.spawnBehavior=function(e,n){var r=VPe(e,{id:n,parent:this});return this.children.set(n,r),r},t.prototype.spawnPromise=function(e,n){var r,i=this,o=!1,a;e.then(function(l){o||(a=l,i.removeChild(n),i.send(Vo(Fw(n,l),{origin:n})))},function(l){if(!o){i.removeChild(n);var u=xg(n,l);try{i.send(Vo(u,{origin:n}))}catch{i.devTools&&i.devTools.send(u,i.state),i.machine.strict&&i.stop()}}});var s=(r={id:n,send:function(){},subscribe:function(l,u,c){var h=pR(l,u,c),f=!1;return e.then(function(m){f||(h.next(m),!f&&h.complete())},function(m){f||h.error(m)}),{unsubscribe:function(){return f=!0}}},stop:function(){o=!0},toJSON:function(){return{id:n}},getSnapshot:function(){return a}},r[td]=function(){return this},r);return this.children.set(n,s),s},t.prototype.spawnCallback=function(e,n){var r,i=this,o=!1,a=new Set,s=new Set,l,u=function(f){l=f,s.forEach(function(m){return m(f)}),!o&&i.send(Vo(f,{origin:n}))},c;try{c=e(u,function(f){a.add(f)})}catch(f){this.send(xg(n,f))}if(Sz(c))return this.spawnPromise(c,n);var h=(r={id:n,send:function(f){return a.forEach(function(m){return m(f)})},subscribe:function(f){var m=pR(f);return s.add(m.next),{unsubscribe:function(){s.delete(m.next)}}},stop:function(){o=!0,Vr(c)&&c()},toJSON:function(){return{id:n}},getSnapshot:function(){return l}},r[td]=function(){return this},r);return this.children.set(n,h),h},t.prototype.spawnObservable=function(e,n){var r,i=this,o,a=e.subscribe(function(l){o=l,i.send(Vo(l,{origin:n}))},function(l){i.removeChild(n),i.send(Vo(xg(n,l),{origin:n}))},function(){i.removeChild(n),i.send(Vo(Fw(n),{origin:n}))}),s=(r={id:n,send:function(){},subscribe:function(l,u,c){return e.subscribe(l,u,c)},stop:function(){return a.unsubscribe()},getSnapshot:function(){return o},toJSON:function(){return{id:n}}},r[td]=function(){return this},r);return this.children.set(n,s),s},t.prototype.spawnActor=function(e,n){return this.children.set(n,e),e},t.prototype.spawnActivity=function(e){var n=this.machine.options&&this.machine.options.activities?this.machine.options.activities[e.type]:void 0;if(!!n){var r=n(this.state.context,e);this.spawnEffect(e.id,r)}},t.prototype.spawnEffect=function(e,n){var r;this.children.set(e,(r={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:n||void 0,getSnapshot:function(){},toJSON:function(){return{id:e}}},r[td]=function(){return this},r))},t.prototype.attachDev=function(){var e=qN();if(this.options.devTools&&e){if(e.__REDUX_DEVTOOLS_EXTENSION__){var n=typeof this.options.devTools=="object"?this.options.devTools:void 0;this.devTools=e.__REDUX_DEVTOOLS_EXTENSION__.connect(Ot(Ot({name:this.id,autoPause:!0,stateSanitizer:function(r){return{value:r.value,context:r.context,actions:r.actions}}},n),{features:Ot({jump:!1,skip:!1},n?n.features:void 0)}),this.machine),this.devTools.init(this.state)}BPe(this)}},t.prototype.toJSON=function(){return{id:this.id}},t.prototype[td]=function(){return this},t.prototype.getSnapshot=function(){return this.status===ia.NotStarted?this.initialState:this._state},t.defaultOptions={execute:!0,deferEvents:!0,clock:{setTimeout:function(e,n){return setTimeout(e,n)},clearTimeout:function(e){return clearTimeout(e)}},logger:console.log.bind(console),devTools:!1},t.interpret=qG,t}();function qG(t,e){var n=new HPe(t,e);return n}function WPe(t){if(typeof t=="string"){var e={type:t};return e.toString=function(){return t},e}return t}function uw(t){return Ot(Ot({type:dR},t),{toJSON:function(){t.onDone,t.onError;var e=WN(t,["onDone","onError"]);return Ot(Ot({},e),{type:dR,src:WPe(t.src)})}})}var Cp="",yR="#",sg="*",gp={},yp=function(t){return t[0]===yR},jPe=function(){return{actions:{},guards:{},services:{},activities:{},delays:{}}},GPe=function(t,e,n){var r=n.slice(0,-1).some(function(o){return!("cond"in o)&&!("in"in o)&&(Er(o.target)||Jf(o.target))}),i=e===Cp?"the transient event":"event '".concat(e,"'");jg(!r,"One or more transitions for ".concat(i," on state '").concat(t.id,"' are unreachable. ")+"Make sure that the default transition is the last one defined.")},$Pe=function(){function t(e,n,r,i){var o=this;r===void 0&&(r="context"in e?e.context:void 0);var a;this.config=e,this._context=r,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign(jPe(),n),this.parent=i==null?void 0:i.parent,this.key=this.config.key||(i==null?void 0:i.key)||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:LG),this.id=this.config.id||Ti([this.machine.key],Rr(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:(a=this.config.schema)!==null&&a!==void 0?a:{},this.description=this.config.description,this.initial=this.config.initial,this.states=this.config.states?yg(this.config.states,function(u,c){var h,f=new t(u,{},void 0,{parent:o,key:c});return Object.assign(o.idMap,Ot((h={},h[f.id]=f,h),f.idMap)),f}):gp;var s=0;function l(u){var c,h;u.order=s++;try{for(var f=mr(Om(u)),m=f.next();!m.done;m=f.next()){var y=m.value;l(y)}}catch(x){c={error:x}}finally{try{m&&!m.done&&(h=f.return)&&h.call(f)}finally{if(c)throw c.error}}}l(this),this.history=this.config.history===!0?"shallow":this.config.history||!1,this._transient=!!this.config.always||(this.config.on?Array.isArray(this.config.on)?this.config.on.some(function(u){var c=u.event;return c===Cp}):Cp in this.config.on:!1),this.strict=!!this.config.strict,this.onEntry=nl(this.config.entry||this.config.onEntry).map(function(u){return V0(u)}),this.onExit=nl(this.config.exit||this.config.onExit).map(function(u){return V0(u)}),this.meta=this.config.meta,this.doneData=this.type==="final"?this.config.data:void 0,this.invoke=nl(this.config.invoke).map(function(u,c){var h,f;if(Jf(u)){var m=aw(o.id,c);return o.machine.options.services=Ot((h={},h[m]=u,h),o.machine.options.services),uw({src:m,id:m})}else if(Er(u.src)){var m=u.id||aw(o.id,c);return uw(Ot(Ot({},u),{id:m,src:u.src}))}else if(Jf(u.src)||Vr(u.src)){var m=u.id||aw(o.id,c);return o.machine.options.services=Ot((f={},f[m]=u.src,f),o.machine.options.services),uw(Ot(Ot({id:m},u),{src:m}))}else{var y=u.src;return uw(Ot(Ot({id:aw(o.id,c)},u),{src:y}))}}),this.activities=nl(this.config.activities).concat(this.invoke).map(function(u){return KN(u)}),this.transition=this.transition.bind(this),this.tags=nl(this.config.tags)}return t.prototype._init=function(){this.__cache.transitions||GG(this).forEach(function(e){return e.on})},t.prototype.withConfig=function(e,n){var r=this.options,i=r.actions,o=r.activities,a=r.guards,s=r.services,l=r.delays;return new t(this.config,{actions:Ot(Ot({},i),e.actions),activities:Ot(Ot({},o),e.activities),guards:Ot(Ot({},a),e.guards),services:Ot(Ot({},s),e.services),delays:Ot(Ot({},l),e.delays)},n!=null?n:this.context)},t.prototype.withContext=function(e){return new t(this.config,this.options,e)},Object.defineProperty(t.prototype,"context",{get:function(){return Vr(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:yg(this.states,function(e){return e.definition}),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){return this.definition},Object.defineProperty(t.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var e=this.transitions;return this.__cache.on=e.reduce(function(n,r){return n[r.eventType]=n[r.eventType]||[],n[r.eventType].push(r),n},{})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),t.prototype.getCandidates=function(e){if(this.__cache.candidates[e])return this.__cache.candidates[e];var n=e===Cp,r=this.transitions.filter(function(i){var o=i.eventType===e;return n?o:o||i.eventType===sg});return this.__cache.candidates[e]=r,r},t.prototype.getDelayedTransitions=function(){var e=this,n=this.config.after;if(!n)return[];var r=function(o,a){var s=Vr(o)?"".concat(e.id,":delay[").concat(a,"]"):o,l=EPe(s,e.id);return e.onEntry.push(WG(l,{delay:o})),e.onExit.push(wPe(l)),l},i=nv(n)?n.map(function(o,a){var s=r(o.delay,a);return Ot(Ot({},o),{event:s})}):si(Object.keys(n).map(function(o,a){var s=n[o],l=Er(s)?{target:s}:s,u=isNaN(+o)?o:+o,c=r(u,a);return nl(l).map(function(h){return Ot(Ot({},h),{event:c,delay:u})})}));return i.map(function(o){var a=o.delay;return Ot(Ot({},e.formatTransition(o)),{delay:a})})},t.prototype.getStateNodes=function(e){var n,r=this;if(!e)return[];var i=e instanceof ku?e.value:Wg(e,this.delimiter);if(Er(i)){var o=this.getStateNode(i).initial;return o!==void 0?this.getStateNodes((n={},n[i]=o,n)):[this,this.states[i]]}var a=Object.keys(i),s=[this];return s.push.apply(s,Ti([],Rr(si(a.map(function(l){return r.getStateNode(l).getStateNodes(i[l])}))),!1)),s},t.prototype.handles=function(e){var n=DG(e);return this.events.includes(n)},t.prototype.resolveState=function(e){var n=e instanceof ku?e:ku.create(e),r=Array.from(Sp([],this.getStateNodes(n.value)));return new ku(Ot(Ot({},n),{value:this.resolve(n.value),configuration:r,done:Gg(r,this),tags:Ez(r),machine:this.machine}))},t.prototype.transitionLeafNode=function(e,n,r){var i=this.getStateNode(e),o=i.next(n,r);return!o||!o.transitions.length?this.next(n,r):o},t.prototype.transitionCompoundNode=function(e,n,r){var i=Object.keys(e),o=this.getStateNode(i[0]),a=o._transition(e[i[0]],n,r);return!a||!a.transitions.length?this.next(n,r):a},t.prototype.transitionParallelNode=function(e,n,r){var i,o,a={};try{for(var s=mr(Object.keys(e)),l=s.next();!l.done;l=s.next()){var u=l.value,c=e[u];if(!!c){var h=this.getStateNode(u),f=h._transition(c,n,r);f&&(a[u]=f)}}}catch(S){i={error:S}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}var m=Object.keys(a).map(function(S){return a[S]}),y=si(m.map(function(S){return S.transitions})),x=m.some(function(S){return S.transitions.length>0});if(!x)return this.next(n,r);var b=si(m.map(function(S){return S.entrySet})),w=si(Object.keys(a).map(function(S){return a[S].configuration}));return{transitions:y,entrySet:b,exitSet:si(m.map(function(S){return S.exitSet})),configuration:w,source:n,actions:si(Object.keys(a).map(function(S){return a[S].actions}))}},t.prototype._transition=function(e,n,r){return Er(e)?this.transitionLeafNode(e,n,r):Object.keys(e).length===1?this.transitionCompoundNode(e,n,r):this.transitionParallelNode(e,n,r)},t.prototype.getTransitionData=function(e,n){return this._transition(e.value,e,Vo(n))},t.prototype.next=function(e,n){var r,i,o=this,a=n.name,s=[],l=[],u;try{for(var c=mr(this.getCandidates(a)),h=c.next();!h.done;h=c.next()){var f=h.value,m=f.cond,y=f.in,x=e.context,b=y?Er(y)&&yp(y)?e.matches(Wg(this.getStateNodeById(y).path,this.delimiter)):GN(Wg(y,this.delimiter),uPe(this.path.slice(0,-2))(e.value)):!0,w=!1;try{w=!m||UG(this.machine,m,x,n,e)}catch(T){throw new Error("Unable to evaluate guard '".concat(m.name||m.type,"' in transition for event '").concat(a,"' in state node '").concat(this.id,`':
`).concat(T.message))}if(w&&b){f.target!==void 0&&(l=f.target),s.push.apply(s,Ti([],Rr(f.actions),!1)),u=f;break}}}catch(T){r={error:T}}finally{try{h&&!h.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}if(!!u){if(!l.length)return{transitions:[u],entrySet:[],exitSet:[],configuration:e.value?[this]:[],source:e,actions:s};var S=si(l.map(function(T){return o.getRelativeStateNodes(T,e.historyValue)})),C=!!u.internal,M=C?[]:si(S.map(function(T){return o.nodesFromChild(T)}));return{transitions:[u],entrySet:M,exitSet:C?[]:[this],configuration:S,source:e,actions:s}}},t.prototype.nodesFromChild=function(e){if(e.escapes(this))return[];for(var n=[],r=e;r&&r!==this;)n.push(r),r=r.parent;return n.push(this),n},t.prototype.escapes=function(e){if(this===e)return!1;for(var n=this.parent;n;){if(n===e)return!1;n=n.parent}return!0},t.prototype.getActions=function(e,n,r,i){var o,a,s,l,u=Sp([],i?this.getStateNodes(i.value):[this]),c=e.configuration.length?Sp(u,e.configuration):u;try{for(var h=mr(c),f=h.next();!f.done;f=h.next()){var m=f.value;zw(u,m)||e.entrySet.push(m)}}catch(I){o={error:I}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(o)throw o.error}}try{for(var y=mr(u),x=y.next();!x.done;x=y.next()){var m=x.value;(!zw(c,m)||zw(e.exitSet,m.parent))&&e.exitSet.push(m)}}catch(I){s={error:I}}finally{try{x&&!x.done&&(l=y.return)&&l.call(y)}finally{if(s)throw s.error}}var b=si(e.entrySet.map(function(I){var A=[];if(I.type!=="final")return A;var N=I.parent;if(!N.parent)return A;A.push(sw(I.id,I.doneData),sw(N.id,I.doneData?o1(I.doneData,n,r):void 0));var L=N.parent;return L.type==="parallel"&&Om(L).every(function(D){return Gg(e.configuration,D)})&&A.push(sw(L.id)),A}));e.exitSet.sort(function(I,A){return A.order-I.order}),e.entrySet.sort(function(I,A){return I.order-A.order});var w=new Set(e.entrySet),S=new Set(e.exitSet),C=Rr([si(Array.from(w).map(function(I){return Ti(Ti([],Rr(I.activities.map(function(A){return _Pe(A)})),!1),Rr(I.onEntry),!1)})).concat(b.map(gPe)),si(Array.from(S).map(function(I){return Ti(Ti([],Rr(I.onExit),!1),Rr(I.activities.map(function(A){return SPe(A)})),!1)}))],2),M=C[0],T=C[1],R=s1(T.concat(e.actions).concat(M),this.machine.options.actions);return R},t.prototype.transition=function(e,n,r){e===void 0&&(e=this.initialState);var i=Vo(n),o;if(e instanceof ku)o=r===void 0?e:this.resolveState(ku.from(e,r));else{var a=Er(e)?this.resolve(i1(this.getResolvedPath(e))):this.resolve(e),s=r!=null?r:this.machine.context;o=this.resolveState(ku.from(a,s))}if(!ag&&i.name===sg)throw new Error("An event cannot have the wildcard type ('".concat(sg,"')"));if(this.strict&&!this.events.includes(i.name)&&!dPe(i.name))throw new Error("Machine '".concat(this.id,"' does not accept event '").concat(i.name,"'"));var l=this._transition(o.value,o,i)||{transitions:[],configuration:[],entrySet:[],exitSet:[],source:o,actions:[]},u=Sp([],this.getStateNodes(o.value)),c=l.configuration.length?Sp(u,l.configuration):u;return l.configuration=Ti([],Rr(c),!1),this.resolveTransition(l,o,o.context,i)},t.prototype.resolveRaisedTransition=function(e,n,r){var i,o=e.actions;return e=this.transition(e,n),e._event=r,e.event=r.data,(i=e.actions).unshift.apply(i,Ti([],Rr(o),!1)),e},t.prototype.resolveTransition=function(e,n,r,i){var o,a,s=this;i===void 0&&(i=a1);var l=e.configuration,u=!n||e.transitions.length>0,c=u?OPe(this.machine,l):void 0,h=n?n.historyValue?n.historyValue:e.source?this.machine.historyValue(n.value):void 0:void 0,f=this.getActions(e,r,i,n),m=n?Ot({},n.activities):{};try{for(var y=mr(f),x=y.next();!x.done;x=y.next()){var b=x.value;b.type===cR?m[b.activity.id||b.activity.type]=b:b.type===jN&&(m[b.activity.id||b.activity.type]=!1)}}catch(H){o={error:H}}finally{try{x&&!x.done&&(a=y.return)&&a.call(y)}finally{if(o)throw o.error}}var w=Rr(vR(this,n,r,i,f,this.machine.config.preserveActionOrder),2),S=w[0],C=w[1],M=Rr(zG(S,function(H){return H.type===QS||H.type===eC&&H.to===B0.Internal}),2),T=M[0],R=M[1],I=S.filter(function(H){var Y;return H.type===cR&&((Y=H.activity)===null||Y===void 0?void 0:Y.type)===dR}),A=I.reduce(function(H,Y){return H[Y.activity.id]=MPe(Y.activity,s.machine,C,i),H},n?Ot({},n.children):{}),N=u?e.configuration:n?n.configuration:[],L=Gg(N,this),D=new ku({value:c||n.value,context:C,_event:i,_sessionid:n?n._sessionid:null,historyValue:c?h?hPe(h,c):void 0:n?n.historyValue:void 0,history:!c||e.source?n:void 0,actions:c?R:[],activities:c?m:n?n.activities:{},events:[],configuration:N,transitions:e.transitions,children:A,done:L,tags:Ez(N),machine:this}),W=r!==C;D.changed=i.name===IG||W;var V=D.history;V&&delete V.history;var B=!L&&(this._transient||l.some(function(H){return H._transient}));if(!u&&(!B||i.name===Cp))return D;var K=D;if(!L)for(B&&(K=this.resolveRaisedTransition(K,{type:nPe},i));T.length;){var j=T.shift();K=this.resolveRaisedTransition(K,j._event,i)}var G=K.changed||(V?!!K.actions.length||W||typeof V.value!=typeof K.value||!KG(K.value,V.value):void 0);return K.changed=G,K.history=V,K},t.prototype.getStateNode=function(e){if(yp(e))return this.machine.getStateNodeById(e);if(!this.states)throw new Error("Unable to retrieve child state '".concat(e,"' from '").concat(this.id,"'; no child states exist."));var n=this.states[e];if(!n)throw new Error("Child state '".concat(e,"' does not exist on '").concat(this.id,"'"));return n},t.prototype.getStateNodeById=function(e){var n=yp(e)?e.slice(yR.length):e;if(n===this.id)return this;var r=this.machine.idMap[n];if(!r)throw new Error("Child state node '#".concat(n,"' does not exist on machine '").concat(this.id,"'"));return r},t.prototype.getStateNodeByPath=function(e){if(typeof e=="string"&&yp(e))try{return this.getStateNodeById(e.slice(1))}catch{}for(var n=hR(e,this.delimiter).slice(),r=this;n.length;){var i=n.shift();if(!i.length)break;r=r.getStateNode(i)}return r},t.prototype.resolve=function(e){var n,r=this;if(!e)return this.initialStateValue||gp;switch(this.type){case"parallel":return yg(this.initialStateValue,function(o,a){return o?r.getStateNode(a).resolve(e[a]||o):gp});case"compound":if(Er(e)){var i=this.getStateNode(e);return i.type==="parallel"||i.type==="compound"?(n={},n[e]=i.initialStateValue,n):e}return Object.keys(e).length?yg(e,function(o,a){return o?r.getStateNode(a).resolve(o):gp}):this.initialStateValue||{};default:return e||gp}},t.prototype.getResolvedPath=function(e){if(yp(e)){var n=this.machine.idMap[e.slice(yR.length)];if(!n)throw new Error("Unable to find state node '".concat(e,"'"));return n.path}return hR(e,this.delimiter)},Object.defineProperty(t.prototype,"initialStateValue",{get:function(){var e;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;var n;if(this.type==="parallel")n=_z(this.states,function(r){return r.initialStateValue||gp},function(r){return r.type!=="history"});else if(this.initial!==void 0){if(!this.states[this.initial])throw new Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));n=l1(this.states[this.initial])?this.initial:(e={},e[this.initial]=this.states[this.initial].initialStateValue,e)}else n={};return this.__cache.initialStateValue=n,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),t.prototype.getInitialState=function(e,n){this._init();var r=this.getStateNodes(e);return this.resolveTransition({configuration:r,entrySet:r,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,n!=null?n:this.machine.context,void 0)},Object.defineProperty(t.prototype,"initialState",{get:function(){var e=this.initialStateValue;if(!e)throw new Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"target",{get:function(){var e;if(this.type==="history"){var n=this.config;Er(n.target)?e=yp(n.target)?i1(this.machine.getStateNodeById(n.target).path.slice(this.path.length-1)):n.target:e=n.target}return e},enumerable:!1,configurable:!0}),t.prototype.getRelativeStateNodes=function(e,n,r){return r===void 0&&(r=!0),r?e.type==="history"?e.resolveHistory(n):e.initialStateNodes:[e]},Object.defineProperty(t.prototype,"initialStateNodes",{get:function(){var e=this;if(l1(this))return[this];if(this.type==="compound"&&!this.initial)return ag||jg(!1,"Compound state node '".concat(this.id,"' has no initial state.")),[this];var n=Dw(this.initialStateValue);return si(n.map(function(r){return e.getFromRelativePath(r)}))},enumerable:!1,configurable:!0}),t.prototype.getFromRelativePath=function(e){if(!e.length)return[this];var n=Rr(e),r=n[0],i=n.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '".concat(r,"' from node with no states"));var o=this.getStateNode(r);if(o.type==="history")return o.resolveHistory();if(!this.states[r])throw new Error("Child state '".concat(r,"' does not exist on '").concat(this.id,"'"));return this.states[r].getFromRelativePath(i)},t.prototype.historyValue=function(e){if(!!Object.keys(this.states).length)return{current:e||this.initialStateValue,states:_z(this.states,function(n,r){if(!e)return n.historyValue();var i=Er(e)?void 0:e[r];return n.historyValue(i||n.initialStateValue)},function(n){return!n.history})}},t.prototype.resolveHistory=function(e){var n=this;if(this.type!=="history")return[this];var r=this.parent;if(!e){var i=this.target;return i?si(Dw(i).map(function(a){return r.getFromRelativePath(a)})):r.initialStateNodes}var o=cPe(r.path,"states")(e).current;return Er(o)?[r.getStateNode(o)]:si(Dw(o).map(function(a){return n.history==="deep"?r.getFromRelativePath(a):[r.states[a[0]]]}))},Object.defineProperty(t.prototype,"stateIds",{get:function(){var e=this,n=si(Object.keys(this.states).map(function(r){return e.states[r].stateIds}));return[this.id].concat(n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"events",{get:function(){var e,n,r,i;if(this.__cache.events)return this.__cache.events;var o=this.states,a=new Set(this.ownEvents);if(o)try{for(var s=mr(Object.keys(o)),l=s.next();!l.done;l=s.next()){var u=l.value,c=o[u];if(c.states)try{for(var h=(r=void 0,mr(c.events)),f=h.next();!f.done;f=h.next()){var m=f.value;a.add("".concat(m))}}catch(y){r={error:y}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}}}catch(y){e={error:y}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return this.__cache.events=Array.from(a)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ownEvents",{get:function(){var e=new Set(this.transitions.filter(function(n){return!(!n.target&&!n.actions.length&&n.internal)}).map(function(n){return n.eventType}));return Array.from(e)},enumerable:!1,configurable:!0}),t.prototype.resolveTarget=function(e){var n=this;if(e!==void 0)return e.map(function(r){if(!Er(r))return r;var i=r[0]===n.delimiter;if(i&&!n.parent)return n.getStateNodeByPath(r.slice(1));var o=i?n.key+r:r;if(n.parent)try{var a=n.parent.getStateNodeByPath(o);return a}catch(s){throw new Error("Invalid transition definition for state node '".concat(n.id,`':
`).concat(s.message))}else return n.getStateNodeByPath(o)})},t.prototype.formatTransition=function(e){var n=this,r=vPe(e.target),i="internal"in e?e.internal:r?r.some(function(l){return Er(l)&&l[0]===n.delimiter}):!0,o=this.machine.options.guards,a=this.resolveTarget(r),s=Ot(Ot({},e),{actions:s1(nl(e.actions)),cond:VG(e.cond,o),target:a,source:this,internal:i,eventType:e.event,toJSON:function(){return Ot(Ot({},s),{target:s.target?s.target.map(function(l){return"#".concat(l.id)}):void 0,source:"#".concat(n.id)})}});return s},t.prototype.formatTransitions=function(){var e,n,r=this,i;if(!this.config.on)i=[];else if(Array.isArray(this.config.on))i=this.config.on;else{var o=this.config.on,a=sg,s=o[a],l=s===void 0?[]:s,u=WN(o,[typeof a=="symbol"?a:a+""]);i=si(Object.keys(u).map(function(S){!ag&&S===Cp&&jg(!1,"Empty string transition configs (e.g., `{ on: { '': ... }}`) for transient transitions are deprecated. Specify the transition in the `{ always: ... }` property instead. "+'Please check the `on` configuration for "#'.concat(r.id,'".'));var C=vp(S,u[S]);return ag||GPe(r,S,C),C}).concat(vp(sg,l)))}var c=this.config.always?vp("",this.config.always):[],h=this.config.onDone?vp(String(sw(this.id)),this.config.onDone):[];ag||jg(!(this.config.onDone&&!this.parent),'Root nodes cannot have an ".onDone" transition. Please check the config of "'.concat(this.id,'".'));var f=si(this.invoke.map(function(S){var C=[];return S.onDone&&C.push.apply(C,Ti([],Rr(vp(String(Fw(S.id)),S.onDone)),!1)),S.onError&&C.push.apply(C,Ti([],Rr(vp(String(xg(S.id)),S.onError)),!1)),C})),m=this.after,y=si(Ti(Ti(Ti(Ti([],Rr(h),!1),Rr(f),!1),Rr(i),!1),Rr(c),!1).map(function(S){return nl(S).map(function(C){return r.formatTransition(C)})}));try{for(var x=mr(m),b=x.next();!b.done;b=x.next()){var w=b.value;y.push(w)}}catch(S){e={error:S}}finally{try{b&&!b.done&&(n=x.return)&&n.call(x)}finally{if(e)throw e.error}}return y},t}();function KPe(t,e){return new $Pe(t,e)}const XG=Jt(nt({},PG),{preset:String,strideForward:Number,strideRight:Number,strideMove:Boolean}),qPe=Jt(nt({},AG),{preset:"default",strideForward:0,strideRight:0,strideMove:!1});var XPe=KPe({states:{idle:{on:{RUN_START:"running",RUN_BACKWARDS_START:"runningBackwards",JUMP_START:"jumping"}},running:{on:{RUN_STOP:"idle",RUN_BACKWARDS_START:"runningBackwards",JUMP_START:"jumping"}},runningBackwards:{on:{RUN_STOP:"idle",RUN_START:"running",JUMP_START:"jumping"}},jumping:{on:{JUMP_STOP:"idle"}}},initial:"idle"});const lg="https://unpkg.com/lingo3d-dummy@1.0.1/assets/";class tC extends dc{constructor(){super(),this.poseService=qG(XPe),this.srcState=new Gr(lg+"ybot.fbx"),this.presetState=new Gr("default"),this.strideForwardState=new Gr(0),this.strideRightState=new Gr(0),this.strideMoveState=new Gr(!1),this.jumpHeight=10,this.width=20,this.depth=20,this.pbr=!0,this.createEffect(()=>{super.src=this.srcState.get();const s=this.presetState.get()==="rifle"?"rifle-":"";this.animations={idle:lg+s+"idle.fbx",running:lg+s+"running.fbx",runningBackwards:lg+s+"running-backwards.fbx",jumping:lg+s+"falling.fbx"},this.animation="idle"},[this.presetState.get,this.srcState.get]);const{poseService:e}=this,[n,r]=Lt("idle");this.createEffect(()=>{if((this.animation=r())!=="jumping")return;this.velocity.y=this.jumpHeight;const s=so(()=>{this.velocity.y===0&&e.send("JUMP_STOP")});return()=>{s.cancel()}},[r]),e.onTransition(a=>a.changed&&n(a.value)).start(),this.then(()=>e.stop());const[i,o]=Lt(void 0);this.loadedResolvable.then(()=>i(this.find("mixamorigSpine",!0))),this.createEffect(()=>{const a=o();if(!a)return;const{strideForward:s,strideRight:l,strideMove:u}=this;if(!s&&!l){const x=this.pointAt(1e3);this.loadedGroup.lookAt(Ug(x)),e.send("RUN_STOP");return}const c=s>0,h=c?-s:s,f=c?-l:l,m=90-Math.atan2(-h,-f)*ro,y=DN(()=>{e.send(c?"RUN_BACKWARDS_START":"RUN_START");const x=this.pointAt(1e3);this.loadedGroup.lookAt(Ug(x));const b=a.pointAt(1e3),w=this.getWorldPosition(),S=y2e({x:x.x,y:x.z},{x:w.x,y:w.z},m),C=new Fj(S.x,x.y,S.y);if(this.loadedGroup.lookAt(Ug(C)),a.lookAt(b),!u)return;const{x:M,y:T}=Pj(0,0,m+90,Math.max(Math.abs(s),Math.abs(l)));this.moveForward(c?T:-T),this.moveRight(c?-M:M)});return()=>{y.cancel()}},[this.strideMoveState.get,this.strideForwardState.get,this.strideRightState.get,o])}get src(){return this.srcState.get()}set src(e){this.srcState.set(e)}get preset(){return this.presetState.get()}set preset(e){this.presetState.set(e)}get strideForward(){return this.strideForwardState.get()}set strideForward(e){this.strideForwardState.set(e)}get strideRight(){return this.strideRightState.get()}set strideRight(e){this.strideRightState.set(e)}get strideMove(){return this.strideMoveState.get()}set strideMove(e){this.strideMoveState.set(e)}jump(e=10){this.jumpHeight=e,this.poseService.send("JUMP_START")}}tC.componentName="dummy";tC.defaults=qPe;tC.schema=XG;const YPe=nt(nt(nt({},MG),$S),ON),ZPe=nt(nt(nt({},TG),KS),NN),JPe=oh(()=>Wi(()=>import("./loadSVG.84cccaac.js"),[])),QPe=new WeakMap;class Sy extends EG{constructor(){super(...arguments),this.material=new Yu}dispose(){return super.dispose(),this.material.dispose(),this}load(e){return JPe().then(n=>n.default(e))}resolveLoaded(e){const n=new Xi;n.scale.y*=-1;const r=tu(QPe,e,()=>{const o=[];for(const u of e.paths)for(const c of u.toShapes(!0))o.push(c);if(!o.length)return[];const a=new Xi;for(const u of o){const c=new Ed(u,{depth:0,bevelEnabled:!1});c.dispose(),a.add(new ci(c))}const s=SG(a),l=[];for(const u of o)l.push(new Ed(u,{depth:s.y,bevelEnabled:!1}));return l});for(const o of r){const a=new ci(o,this.material);n.add(a)}const i=CG(n,this._src);!this.widthSet&&(this.object3d.scale.x=i.x),!this.heightSet&&(this.object3d.scale.y=i.y),!this.depthSet&&(this.object3d.scale.z=i.z),this.loadedGroup.add(n),this.loadedResolvable.resolve(n)}}Sy.componentName="svgMesh";Sy.defaults=ZPe;Sy.schema=YPe;nu(Sy,[kN,qS]);const eAe=Jt(nt({},bG),{resolution:Number,blur:Number,contrast:Number,mirror:Number}),tAe=Jt(nt({},wG),{resolution:512,blur:1024,contrast:1.5,mirror:1});class nC extends _y{constructor(){super(),this.resolutionState=new Gr(512),this.blurState=new Gr(1024),this.contrastState=new Gr(1.5),this.mirrorState=new Gr(1),this.rotationX=-90;const[e,n]=Lt(void 0);Wi(()=>import("./MeshReflectorMaterial.4d8560cb.js"),[]).then(r=>e(r.default)),this.createEffect(()=>{if(this.done)return;const r=n();if(!r)return;const i=new r(Ur(),Qt(),en,this.object3d,{resolution:this.resolutionState.get(),blur:[this.blurState.get(),this.blurState.get()],mixBlur:2.5,mixContrast:this.contrastState.get(),mirror:this.mirrorState.get()});rR(this.material,i),this.material.dispose(),this.material=this.object3d.material=i;const o=DN(()=>{i.update()});return()=>{i.dispose(),o.cancel()}},[Ur,n,Qt,this.resolutionState.get,this.blurState.get,this.contrastState.get,this.mirrorState.get])}get resolution(){return this.resolutionState.get()}set resolution(e){this.resolutionState.set(e)}get blur(){return this.blurState.get()}set blur(e){this.blurState.set(e)}get contrast(){return this.contrastState.get()}set contrast(e){this.contrastState.set(e)}get mirror(){return this.mirrorState.get()}set mirror(e){this.mirrorState.set(e)}}nC.componentName="reflector";nC.defaults=tAe;nC.schema=eAe;const[nAe,rAe]=ss(),iAe=nt({},dh),oAe=nt({},ev),[hNe,Tz]=Lt(!0),xR=new Set,aAe=OO(()=>{for(const t of xR){const{parent:e}=t.outerObject3d;e==null||e.remove(t.outerObject3d),Mm.setFromObject(t.outerObject3d),t.object3d.scale.copy(Mm.getSize(Xn)),e==null||e.add(t.outerObject3d)}xR.clear()},0,"trailing");var Pz=t=>{xR.add(t),aAe()};class Cy extends ou{constructor(){super(new Xi)}append(e){super.append(e),Pz(this)}attach(e){super.attach(e),Pz(this)}}Cy.componentName="group";Cy.defaults=oAe;Cy.schema=iAe;yr(()=>{const t=Tz(),e=Xl();if(!e.length||!t)return;const n=new Xi;en.add(n);const r=new Yf(n);nj.add(r),O0(r);const i=[];for(const{outerObject3d:s}of e)!s.parent||(i.push([s,s.parent]),n.attach(s));Mm.setFromObject(n);for(const[s,l]of i)l.attach(s);n.position.copy(Mm.getCenter(Xn));for(const[s]of i)n.attach(s);let o=!1;const a=rAe(()=>{if(!e.length||o)return;o=!0;const s=new Cy;s.outerObject3d.position.copy(n.position);for(const l of e)s.attach(l);Go(s)});return()=>{if(Go(),!r.done&&!o)for(const[s,l]of i)l.attach(s);O0(void 0),r.dispose(),en.remove(n),a.cancel()}},[Xl,Tz]);const sAe=nt({},Jm);class YG extends uc{constructor(){super(new Xi),TTe(!0)}}YG.componentName="sky";YG.defaults=sAe;const lAe=Jt(nt(nt({},dh),aG),{mouseControl:[Boolean,String],mouseControlMode:String}),uAe=Jt(nt(nt({},ev),sG),{mouseControl:!1}),ZG=nt({},lAe),JG=nt({},uAe);class Ey extends mG{constructor(e=new bo(75,1,IS,LS)){super(e)}}Ey.componentName="camera";Ey.defaults=JG;Ey.schema=ZG;const cAe=Jt(nt({},ZG),{target:Object,lockTargetRotation:[Boolean,String]}),dAe=Jt(nt({},JG),{lockTargetRotation:!0});class rC extends Ey{constructor(){super(),this.lockTargetRotation=!0,this.targetState=new Gr(void 0);const e=this.camera;en.attach(e),this.then(()=>en.remove(e)),this.createEffect(()=>{const i=this.targetState.get();if(!i)return;"frustumCulled"in i&&(i.frustumCulled=!1);const o=FS(()=>i.parent!==this&&this.targetState.set(void 0));return()=>{o.cancel()}},[this.targetState.get]);const n=i=>{sa.setFromQuaternion(i.outerObject3d.quaternion),sa.y+=Math.PI,this.outerObject3d.setRotationFromEuler(sa),this.updatePolarAngle()};let r=!1;this.createEffect(()=>{const i=this.targetState.get();if(!i)return;n(i);let o=!1;i.onRotationY=()=>o=!0;const a=so(()=>{if(this.outerObject3d.position.copy(i.outerObject3d.position),!!this.lockTargetRotation){if(this.lockTargetRotation==="follow"||r||o){o=!1,n(i);return}sa.setFromQuaternion(this.outerObject3d.quaternion),sa.x=0,sa.z=0,sa.y+=Math.PI,i.outerObject3d.setRotationFromEuler(sa)}});return()=>{a.cancel(),i.onRotationY=void 0}},[this.targetState.get]),this.createEffect(()=>{const i=this.targetState.get(),o=Xo(),a=ic(),s=Zf();if(!!(i&&i===o&&a&&s==="rotate"))return r=!0,()=>{r=!1}},[this.targetState.get,Xo,ic,Zf])}append(e){var n;if(this.targetState.get()){super.append(e);return}this._append(e),(n=this.outerObject3d.parent)===null||n===void 0||n.add(e.outerObject3d),this.targetState.set(e)}attach(e){var n;if(this.targetState.get()){super.attach(e);return}this._append(e),(n=this.outerObject3d.parent)===null||n===void 0||n.attach(e.outerObject3d),this.targetState.set(e)}get gyroControl(){return!!this._gyroControl}set gyroControl(e){var n;if(this._gyroControl===e)return;this._gyroControl,(n=this.gyroControlHandle)===null||n===void 0||n.cancel();const r=sa,i=J_,o=E2e,a=new uo(-Math.sqrt(.5),0,0,Math.sqrt(.5)),s=this.object3d.getWorldQuaternion(J_).clone(),l=0,u=c=>{var h,f,m;this.object3d.quaternion.copy(s),r.set(((h=c.beta)!==null&&h!==void 0?h:0)*Xr,((f=c.alpha)!==null&&f!==void 0?f:0)*Xr,-((m=c.gamma)!==null&&m!==void 0?m:0)*Xr,"YXZ"),this.object3d.quaternion.multiply(i.setFromEuler(r));const y=-l*.5;o.set(0,Math.sin(y),0,Math.cos(y)),this.object3d.quaternion.multiply(o),this.object3d.quaternion.multiply(a)};window.addEventListener("deviceorientation",u),this.gyroControlHandle=this.cancellable(()=>window.removeEventListener("deviceorientation",u))}}rC.defaults=dAe;rC.schema=cAe;class XN extends rC{constructor(){super(),this.innerZ=200,this.mouseControlMode="orbit",Wi(()=>import("./enableBVHCamera.e55e18b9.js"),["assets/enableBVHCamera.e55e18b9.js","assets/useBVHMap.e49e2002.js"]).then(e=>e.default.call(this))}}XN.componentName="thirdPersonCamera";class QG extends rC{constructor(){super();const e=this.camera;this.loop(()=>{e.position.copy(this.object3d.getWorldPosition(Xn)),e.quaternion.copy(this.object3d.getWorldQuaternion(J_))}),this.createEffect(()=>{const n=this.targetState.get();if(!(!n||!("height"in n)||this._innerY!==void 0))return this.innerY=n.height*.4,()=>{this.innerY=0}},[this.targetState.get])}get innerY(){return this.object3d.position.y*Br}set innerY(e){this._innerY=this.object3d.position.y=e*Wt}}QG.componentName="firstPersonCamera";var fAe=()=>{const t=new fh;return t.texture="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAABjVJREFUaEPtWmvLVUUYXWu2VlaGUGGgZUWl3cvILhqlplYWkWVlfsofkHQhyEjRSCK64Q+wT2kkWpGWl7QIpRvZzUKxgi6SRUEX0yz3XvFsZl7G43vOmTnnmEEdEF/Onj3zrFnPZc0zh+jhRxJzpiOpnPGtxmYt3GoiSQXJMsewTt5pNn9PgBgTYXclDQBQAWg2t7HgSO4zo+J3czahcWzXQCSZUZWkWZLuB2CstJvXwBiDj5FcHOY4ZEDCbkoaImkHgCMzjdlNchjJn7tlpt3OtbQrYmOEpM88kGRGABiQs0h+1S0rvQIyXNI2D8Tcpt28YYwBGUny238LkBM9kEEWvxlA9ngg3/wPxDt/OxdoFyN12pVkjGzt0LXOJPn1oWakLoIeyBcABma61l6Sp5D87pAB8XLEakhZluUCkg/5GlIkpmDLbrYRD5B81Kq8FdJOZUtHrhXn/AhEov19w/qSgqQFRVHM66bSdwqkruZlWT5J8u5IkuTOZ2BqySLpqaIo7unUxXIXNm00wHSSpHslPQ7gLwCmr7Ln8twYENNdA0neR/KJsEYOxVmLB7UqabSk9yNDsubpx8A+NyN5EcnNuco4y4AQG1VVbQQw1u+ksdGLj7Fic21yzo3L1V7JQCI2Jklam5mhUoGGTDaZ5LocVrKBlGW5lOTtPWYjAK1ZkfRcURQzeg4kkuuDJW0HMDSx8KUyEcaFWPme5Okkf0t1sSRGIrl+vqQPc63rZDzJC0h+lJqOU4EEKXKNpFcPUnwEvCFOriW5OtW9UoGE2nGHpGf/ISAzSS5JrSn/OSDBtSZIWu8lievE9xPesQ6MSaCJJDf02rVCp2SYPwkedZCz1u/+5Lijp8Eeq9Kqqt4FcPFBipM60AG855wbk5p6zb6kGPFAQsDPlTTfi0U7SPXyYwLUxOM8kgtSAz0XSHCvk/yxNrXRkAo0FENrSIzKPf4mMxKzUpblIyTn9JiVmg1JC4uieDCHjSxG4jiRdJikjwGM7BGYGgSAbSTPI/lnTnx0AsRSrnWsrXNyoSQLfJPewZBUN4rHhXf3kRxD8gPfD7AOjaXipE+ya0V6y2LjWN8dHCtpHQD7Lvek2HcyBGBxMYnkJknDAfxEck9q6k1mJJ6wqqqVAM4hOYHkl5JGSVpm3/mtMyluGxT+xTsazuj2fziQbSE5neRWSadK2gBgi3Pueu/OdZJpR0tbRhpArABwk1/gmaIoZvm/LffPkXQXgOPaLeqf/0hyEYCF4YKoLMvFJO/0z19wzk1LBdMSSDMQANaTnEpyryTL++ZW1pg4BsB0SVMBnAvgBABHeMP+ALATwCckVwFYRvJX/149h6TDJdmziblgmgJpAeIN71YW8EGDjQAwjqQp4/pjAC2WABztv9rlfb8G7cfMBLDRXyuEuSyTmHtdlQOmXyBx6quqajmAmmIA+4GwOLDWUFmW80nOBbCZpJ0jfmjlXpKGSnoFgHVj6uacv7KzjGgt2EYwK5xzN3vwfdd88RoHAGkA8TKAOugaQQS/9jXlUwCn2e46566ImLrUzt/2sp3zSb4dnlVVtQnA5QA+J3m21Q5vaDNmVjrnbmgGpiUjkoKu2uCcq/02MjJoL4uJ572xt5Bcbr7u4+dqn54NiKXX16Jnt0UgbyW5LGr+9d0QV1VlxwbLkEF/pTHSiFiS+fEqf8/Xt0CIoaqq1gCYDGA7SUvLVpUDyPHe3w2IGfN69GyQv647GcBa59yUOC6jDRsCwBJLHX/NKn5y1mpYJAhIa0Zs9gehuSQfbvD1/oBYqg6xFTSbdeFHNzYb+luzWeyl1JED2v1hV8uyfJrkbAC7vJ/XFzbeUAvaZkAsqO1K+wyv2SztLiqKYnajWIyvL1olkLZAGl+OpIqdFrcAsKvpJUVRzIzcIQRsv0B8ZqrHVFX1IoAbAfziNyP5VNgya7VC3RDsl0l6CcDxJK8k+WYnQCRd54vgTpLTSL6Vo7GCvdmMxAEnaTCA8QBWh/TZALa/rLXfb1Yk2Y8MpgBYQ3J3rnzvCkir7NEA5BJJS31qnkHynVZdkU5B1PO3c6U2Fdrer+8R+xsXAtU/a3o/2O39YddAutmEXr/bFSMpxoQfo3V6W5uyho35G4LD428xBkRwAAAAAElFTkSuQmCC",jo.delete(t),t.scale=.5,t};class My extends ou{constructor(e,n){super(e),n&&this.createEffect(()=>{if(Qt()!==oi)return;const r=new n(this.object3d);en.add(r);const i=fAe();r.add(i.outerObject3d);const o=gy(({target:a})=>{a===i&&Go(this)});return()=>{r.dispose(),en.remove(r),i.dispose(),o.cancel()}},[Qt])}dispose(){return super.dispose(),this.object3d.dispose(),this}lookAt(e){super.lookAt(e),this.rotationY+=180}get color(){return"#"+this.object3d.color.getHexString()}set color(e){this.object3d.color=new _t(e)}get intensity(){return this.object3d.intensity}set intensity(e){this.object3d.intensity=e}getCenter(){return this.getWorldPosition()}}const rv=Jt(nt({},dh),{color:String,intensity:Number}),iv=Jt(nt({},ev),{color:"#ffffff",intensity:1}),e$=nt({},rv),t$=nt({},iv),hAe=nt({},e$),pAe=nt({},t$);class iC extends My{constructor(){super(new W7)}}iC.componentName="ambientLight";iC.defaults=pAe;iC.schema=hAe;class mAe extends wm{constructor(e,n){const r=[1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],i=new $n;i.setAttribute("position",new Pn(r,3)),i.computeBoundingSphere();const o=new ml({fog:!1});super(i,o),this.light=e,this.color=n,this.type="RectAreaLightHelper";const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],s=new $n;s.setAttribute("position",new Pn(a,3)),s.computeBoundingSphere(),this.add(new ci(s,new hl({side:Ja,fog:!1})))}updateMatrixWorld(){if(this.scale.set(.5*this.light.width,.5*this.light.height,1),this.color!==void 0)this.material.color.set(this.color),this.children[0].material.color.set(this.color);else{this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);const e=this.material.color,n=Math.max(e.r,e.g,e.b);n>1&&e.multiplyScalar(1/n),this.children[0].material.color.copy(this.material.color)}this.matrixWorld.extractRotation(this.light.matrixWorld).scale(this.scale).copyPosition(this.light.matrixWorld),this.children[0].matrixWorld.copy(this.matrixWorld)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const vAe=Jt(nt({},rv),{helper:Boolean}),gf=Jt(nt({},iv),{depth:0,scaleZ:0,helper:!0}),gAe=oh(async()=>{const{RectAreaLightUniformsLib:t}=await Wi(()=>import("./RectAreaLightUniformsLib.a4e6ac95.js"),[]);t.init()});class Ty extends ou{constructor(){super(new Xi),this.helperState=new Gr(!0),(async()=>{if(await gAe(),this.done)return;const e=this.light=new j7(this._color,this._intensity,this.width*this.scaleX*Wt,this.height*this.scaleY*Wt);this.object3d.add(e),this.then(()=>e.dispose()),this.createEffect(()=>{if(Zf()!=="scale"||Xo()!==this)return;const n=sR(()=>{const{x:r,y:i}=this.outerObject3d.scale;console.log(r,i),this.scaleX=r,this.scaleY=i});return()=>{n.cancel()}},[Zf,Xo]),this.createEffect(()=>{if(Qt()!==oi||!this.helperState.get())return;const n=new mAe(e);return en.add(n),()=>{n.dispose(),en.remove(n)}},[Qt,this.helperState.get])})()}get helper(){return this.helperState.get()}set helper(e){this.helperState.set(e)}lookAt(e){super.lookAt(e),this.rotationY+=180}get color(){var e;return(e=this._color)!==null&&e!==void 0?e:gf.color}set color(e){this._color=e,this.light&&(this.light.color=new _t(e))}get intensity(){var e;return(e=this._intensity)!==null&&e!==void 0?e:gf.intensity}set intensity(e){this._intensity=e,this.light&&(this.light.intensity=e)}get width(){var e;return(e=this._width)!==null&&e!==void 0?e:gf.width}set width(e){this._width=e,this.light&&(this.light.width=e*this.scaleX*Wt)}get height(){var e;return(e=this._height)!==null&&e!==void 0?e:gf.height}set height(e){this._height=e,this.light&&(this.light.height=e*this.scaleY*Wt)}get scaleX(){var e;return(e=this._scaleX)!==null&&e!==void 0?e:gf.scaleX}set scaleX(e){this._scaleX=e,this.light&&(this.light.width=e*this.width*Wt)}get scaleY(){var e;return(e=this._scaleY)!==null&&e!==void 0?e:gf.scaleY}set scaleY(e){this._scaleY=e,this.light&&(this.light.height=e*this.height*Wt)}get depth(){return 0}set depth(e){}get scaleZ(){return 0}set scaleZ(e){}getCenter(){return this.getWorldPosition()}}Ty.componentName="areaLight";Ty.defaults=gf;Ty.schema=vAe;const yAe=Jt(nt({},rv),{helper:Boolean,area:Number}),wg=Jt(nt({},iv),{helper:!0,intensity:3,area:1});class Py extends ou{constructor(){super(new Xi),this.intensityState=new Gr(wg.intensity),this.helperState=new Gr(wg.helper),this.colorState=new Gr(wg.color),this.areaState=new Gr(wg.area),Object.assign(this.makeLight(),{width:1e3,height:1e3,innerY:1e3,innerRotationX:-90}),Object.assign(this.makeLight(),{width:1e3,height:1e3,innerY:1e3,innerRotationX:-90,rotationX:90}),Object.assign(this.makeLight(),{width:1e3,height:1e3,innerY:1e3,innerRotationX:-90,rotationX:-90}),Object.assign(this.makeLight(),{width:1e3,height:1e3,innerY:1e3,innerRotationX:-90,rotationZ:90}),Object.assign(this.makeLight(),{width:1e3,height:1e3,innerY:1e3,innerRotationX:-90,rotationZ:-90})}makeLight(){const e=new Ty;return this.append(e),this.watch(this.intensityState.get(n=>e.intensity=n)),this.watch(this.helperState.get(n=>e.helper=n)),this.watch(this.colorState.get(n=>e.color=n)),this.watch(this.areaState.get(n=>e.scaleX=e.scaleY=n)),e}get intensity(){return this.intensityState.get()}set intensity(e){this.intensityState.set(e)}get helper(){return this.helperState.get()}set helper(e){this.helperState.set(e)}get color(){return this.colorState.get()}set color(e){this.colorState.set(e)}get area(){return this.areaState.get()}set area(e){this.areaState.set(e)}getCenter(){return this.getWorldPosition()}}Py.componentName="boxLight";Py.defaults=wg;Py.schema=yAe;var xAe=Object.freeze(Object.defineProperty({__proto__:null,default:Py},Symbol.toStringTag,{value:"Module"}));const bAe=nt({},e$),wAe=nt({},t$);class oC extends My{constructor(){super(new aN,yMe)}}oC.componentName="directionalLight";oC.defaults=wAe;oC.schema=bAe;const _Ae=Jt(nt({},rv),{groundColor:String}),SAe=Jt(nt({},iv),{groundColor:"#ffffff"});class aC extends My{constructor(){super(new iN,gMe)}get groundColor(){return"#"+this.object3d.groundColor.getHexString()}set groundColor(e){this.object3d.groundColor=new _t(e)}}aC.componentName="skyLight";aC.defaults=SAe;aC.schema=_Ae;const CAe=Jt(nt({},rv),{decay:Number,distance:Number}),EAe=Jt(nt({},iv),{decay:1,distance:0});class n${get decay(){return this.object3d.decay}set decay(e){this.object3d.decay=e}get distance(){return this.object3d.distance}set distance(e){this.object3d.distance=e}}class Ay extends My{constructor(){super(new U7,mMe)}}Ay.componentName="pointLight";Ay.defaults=EAe;Ay.schema=CAe;nu(Ay,[n$]);const MAe=Jt(nt({},rv),{angle:Number,penumbra:Number}),TAe=Jt(nt({},iv),{angle:1,penumbra:0});class Ry extends My{constructor(){super(new B7,hMe)}get angle(){return this.object3d.angle}set angle(e){this.object3d.angle=e}get penumbra(){return this.object3d.penumbra}set penumbra(e){this.object3d.penumbra=e}}Ry.componentName="spotLight";Ry.defaults=TAe;Ry.schema=MAe;nu(Ry,[n$]);const cw=new WeakMap;var Az=t=>{if(cw.has(t))return cw.get(t);const e=t.getWorldPosition(new pe);return cw.set(t,e),setTimeout(()=>cw.delete(t)),e};const PAe=Jt(nt({},IN),{onEnter:Function,onExit:Function,targetIds:[String,Array],pad:Boolean,radius:Number,interval:Number,helper:Boolean}),Ep=Jt(nt({},LN),{onEnter:void 0,onExit:void 0,pad:!1,radius:50,interval:300,helper:!0}),Rz=t=>{var e;return[...(e=_p.get(t))!==null&&e!==void 0?e:[]]};class sC extends jS{constructor(){const e=new Xi;super(e),this.refresh=new Gr({}),this._pad=Ep.pad,this._radius=Ep.radius,this._interval=Ep.interval,this._helper=Ep.helper,this._targetIds=Ep.targetIds,en.add(e);let n;this.createEffect(()=>{const{_radius:r,_interval:i,_targetIds:o,_pad:a}=this;if(!o)return;const s=r*Wt,l=s*.2;let u=!1;const c=sj(i,-1,()=>{var h,f;const{x:m,y,z:x}=Az(this.outerObject3d),b=typeof o=="string"?Rz(o):o.map(Rz).flat();let w=!1;for(const S of b){const{x:C,y:M,z:T}=Az(S.object3d);if(a){const{y:R}=ch(S);w=Math.abs(m-C)<s&&Math.abs(y-(M-R*.5))<l&&Math.abs(x-T)<s}else w=Math.abs(m-C)<s&&Math.abs(y-M)<s&&Math.abs(x-T)<s;if(w)break}u!==w&&(w?((h=this.onEnter)===null||h===void 0||h.call(this),n&&(n.color="blue")):((f=this.onExit)===null||f===void 0||f.call(this),n&&(n.color="white"))),u=w});return()=>{c.cancel()}},[this.refresh.get]),this.createEffect(()=>{const{_radius:r,_helper:i,_pad:o}=this;if(!i||Qt()!==oi)return;const a=n=o?new HN:new UN;jo.delete(a),e.add(a.outerObject3d),a.scale=r*Wt*2,a.opacity=.5,a.height=o?10:100;const s=gy(({target:l})=>l===a&&Go(this));return()=>{a.dispose(),n=void 0,s.cancel()}},[this.refresh.get,Qt])}get pad(){return this._pad}set pad(e){this._pad=e,this.refresh.set({})}get radius(){return this._radius}set radius(e){this._radius=e,this.refresh.set({})}get interval(){return this._interval}set interval(e){this._interval=e,this.refresh.set({})}get helper(){return this._helper}set helper(e){this._helper=e,this.refresh.set({})}get targetIds(){return this._targetIds}set targetIds(e){this._targetIds=e,this.refresh.set({})}}sC.componentName="trigger";sC.defaults=Ep;sC.schema=PAe;const AAe=Jt(nt({},py),{onKeyPress:Function,onKeyUp:Function,onKeyDown:Function}),RAe=nt({},Jm),[Oz,Nz]=Lt(!0),[OAe,NAe]=ss(),[kz,kAe]=ss(),[Iz,IAe]=ss(),Ka=new Set,Lz=t=>(t=t.length===1?t.toLowerCase():t,t===" "&&(t="Space"),t);yr(()=>{if(Pm()&&Nz())return;const t=so(()=>Ka.size>0&&Iz()),e=r=>{const i=Lz(r.key);Ka.add(i),OAe(i)},n=r=>{const i=Lz(r.key);Ka.delete(i),kz(i),!Ka.size&&Iz()};return t.watch(XS(()=>{if(!Ka.size)return;const r=[...Ka];Ka.clear();for(const i of r)kz(i)})),document.addEventListener("keydown",e),document.addEventListener("keyup",n),()=>{t.cancel(),document.removeEventListener("keydown",e),document.removeEventListener("keyup",n)}},[Pm,Nz]);class Oy extends uc{constructor(){super(new Xi),this.watch(IAe(()=>{if(!!this.onKeyPress){if(!Ka.size){this.onKeyPress("",Ka);return}for(const e of Ka)this.onKeyPress(e,Ka)}})),this.watch(kAe(e=>{var n;return(n=this.onKeyUp)===null||n===void 0?void 0:n.call(this,e,Ka)})),this.watch(NAe(e=>{var n;return(n=this.onKeyDown)===null||n===void 0?void 0:n.call(this,e,Ka)}))}}Oy.componentName="keyboard";Oy.defaults=RAe;Oy.schema=AAe;const LAe=new Oy;jo.delete(LAe);"getGamepads"in navigator&&so(()=>{for(const t of navigator.getGamepads())if(!!t){for(let e=0;e<t.buttons.length;e++){const n=t.buttons[e],r=Math.round(n.value*100)+"%";n.pressed&&console.log(e,n.value,n.pressed,r)}for(let e=0;e<t.axes.length;e++){const n=Number(t.axes[e].toFixed(2));n!==0&&console.log(e,n)}}});const r$=new Map,DAe=t=>{var e,n;return r$.get((n=(e=VW(t)[1])===null||e===void 0?void 0:e.toLowerCase())!==null&&n!==void 0?n:"")},Ny=(t,e)=>{for(const n of e)r$.set(n,t);return e};Ny("image",["jpg","jpeg","gif","png","svg","tiff","webp","hdr"]);Ny("audio",["m4a","mp3","wav","wma","ogg","flax","flac","aac"]);Ny("plainText",["ls","js","ts","jsx","tsx","py","txt","md","json","yaml","c","cpp","h","hpp","css","scss","sass","html"]);Ny("model",["gltf","glb","fbx"]);Ny("scene",["l3d"]);const FAe=new Map;var zAe=t=>tu(FAe,t,()=>new Promise(e=>{const n=Uo(t,()=>e(n))})),BAe=async(t,e,n)=>{var r;const i=[];for(const s of t){const l=DAe(s);if(!!l)switch(l){case"image":i.push(zAe(s));break;case"model":const u=(r=VW(s)[1])===null||r===void 0?void 0:r.toLowerCase();u==="fbx"?i.push((await RG()).default(s,!1)):(u==="gltf"||u==="glb")&&i.push((await OG()).default(s,!1));break;case"audio":case"plainText":case"scene":break;default:zW(l)}}let o=0;if(typeof e=="number")o=e;else if(e=e.toLowerCase(),e.endsWith("kb"))o=parseFloat(e)*1024*1024;else if(e.endsWith("mb"))o=parseFloat(e)*1024*1024*1024;else if(e.endsWith("gb"))o=parseFloat(e)*1024*1024*1024*1024;else throw new Error("invalid preload total value: "+e);const a=setInterval(()=>{n==null||n(o<=0?0:Math.min(RMe[0]/o*100,99))},100);await Promise.all(i),clearInterval(a),await new Promise(s=>{const l=new Yr;l.watch(pN(u=>{u>0||(l.cancel(),s())}))}),n==null||n(100)};const VAe={onPlay:Function,onPause:Function,onEnded:Function,stream:Boolean,src:String,loop:Boolean,autoplay:Boolean,muted:Boolean,playbackRate:Number,volume:Number,paused:Boolean},UAe={paused:!0};class YN extends kO{constructor(){super(...arguments),this._paused=!0,this.soundResolvable=new vm}dispose(){var e,n;return super.dispose(),(e=this.sound)===null||e===void 0||e.stop(),(n=this.sound)===null||n===void 0||n.unload(),this}get paused(){return this._paused}set paused(e){this._paused=e,e?this.play():this.pause()}get src(){return this._src}set src(e){var n;this._src=e,(n=this.sound)===null||n===void 0||n.stop(),this.sound=void 0,this.soundResolvable.done&&(this.soundResolvable=new vm),e&&Wi(()=>import("./howler.8047446e.js").then(function(r){return r.h}),[]).then(r=>{this.done||e!==this.src||(this.sound=new r.default.Howl({src:e,onplay:this.onPlay,onpause:this.onPause,onend:this.onEnded,loop:this._loop,autoplay:this._autoplay,mute:this._muted,rate:this._playbackRate,volume:this._volume,html5:this.stream}),this.soundResolvable.resolve(this.sound))})}get loop(){return this._loop}set loop(e){var n;this._loop=e,(n=this.sound)===null||n===void 0||n.loop(!!e)}get autoplay(){return this._autoplay}set autoplay(e){this._autoplay=e,e&&this.play()}get muted(){return this._muted}set muted(e){var n;this._muted=e,(n=this.sound)===null||n===void 0||n.mute(!!e)}get playbackRate(){return this._playbackRate}set playbackRate(e){var n;this._playbackRate=e,(n=this.sound)===null||n===void 0||n.rate(e!=null?e:1)}get volume(){return this._volume}set volume(e){var n;this._volume=e,(n=this.sound)===null||n===void 0||n.volume(e!=null?e:1)}get duration(){var e;return(e=this.sound)===null||e===void 0?void 0:e.duration()}fade(e,n,r=1e3){this.soundResolvable.then(i=>i.fade(e,n,r))}play(){this.soundResolvable.then(e=>e.play()),this._paused=!1}pause(){this.soundResolvable.then(e=>e.pause()),this._paused=!0}stop(){this.soundResolvable.then(e=>e.stop()),this._paused=!0}}YN.componentName="sound";YN.defaults=UAe;YN.schema=VAe;const[HAe,WAe]=ss(),i$=nt({},ll);var bR=as(t=>{var e;for(const n of Object.keys(ll))ll[n]=(e=t[n])!==null&&e!==void 0?e:i$[n];HAe()},0,"trailing");const o$=["type","children","scale","velocity","target"],a$=["pixelRatio","performance","defaultOrbitControls","wasmPath","autoMount","texture","color","gridHelper","gridHelperSize"],s$=t=>{const e=[];for(const n of t){const{componentName:r,schema:i,defaults:o}=n.constructor,a={type:r};for(const s of Object.keys(i)){if(o$.includes(s))continue;let l;if(s==="animations"){if(l=n.loadedAnims,!l)continue}else if(s==="animation"){if(l=n.animationName,l===void 0)continue}else l=n[s];l===o[s]||typeof l=="function"||(typeof l=="number"&&(l=Number(l.toFixed(2))),a[s]=l)}n.children&&(a.children=s$(n.children)),e.push(a)}return e};var lC=(t=jo)=>{const e=s$(t instanceof lj?[t]:t),n={type:"setup"};for(const[r,i]of Object.entries(Rs.exports.omit(ll,a$)))i$[r]!==i&&(n[r]=i);return Object.keys(n).length&&e.push(n),e};const jAe=nbe({group:()=>new Cy,trigger:()=>new sC,model:()=>new dc,svgMesh:()=>new Sy,dummy:()=>new tC,reflector:()=>new nC,sprite:()=>new fh,camera:()=>new Ey,thirdPersonCamera:()=>new XN,firstPersonCamera:()=>new QG,orbitCamera:()=>new tv,ambientLight:()=>new iC,areaLight:()=>new Ty,boxLight:()=>new Py,directionalLight:()=>new oC,skyLight:()=>new aC,pointLight:()=>new Ay,spotLight:()=>new Ry,circle:()=>new JS,cone:()=>new vG,cube:()=>new YS,cylinder:()=>new HN,octahedron:()=>new gG,plane:()=>new _y,sphere:()=>new UN,tetrahedron:()=>new yG,torus:()=>new xG,skybox:()=>new my});var l$=t=>jAe[t]();const u$=(t,e)=>{var n;if(t.type==="setup"){bR(t);return}if(t.type==="animation")return;const r=l$(t.type);return e&&"loadedResolvable"in r&&e.push(r.loadedResolvable),Object.assign(r,Rs.exports.omit(t,o$)),(n=t.children)===null||n===void 0||n.map(i=>u$(i,e)).forEach(i=>i&&r.append(i)),r};var c$=(t,e)=>t.map(n=>u$(n,e));const GAe=t=>(v.exports.useLayoutEffect(()=>(bR(t),()=>{bR({})}),[JSON.stringify(t)]),null);var $Ae=GAe,KAe=(t,e)=>{const n=v.exports.useRef();return e===void 0?t&&(n.current=t):e&&(n.current=t),n.current},d$=t=>{const e=v.exports.useRef(t);return e.current=t,e};const qAe=console.log;let wR=[];const XAe=()=>wR=[],YAe=parseFloat(ln.version)>17,Y2=new WeakSet;let Dz=!1;var f$=(t,e,n)=>{if(YAe){const i=v.exports.useMemo(t,[]),[o]=v.exports.useState(()=>{const a={};return queueMicrotask(()=>{Y2.has(a)||(Dz=!0,e==null||e(i))}),a});return v.exports.useLayoutEffect(()=>Y2.has(o)?()=>{e==null||e(i),n==null||n(i)}:(Y2.add(o),()=>{queueMicrotask(()=>{Dz||(e==null||e(i),n==null||n(i))})}),[]),i}const[r]=v.exports.useState(()=>{if(qAe===console.log){queueMicrotask(XAe);const i=t();return wR.push(i),i}return wR.shift()});return v.exports.useLayoutEffect(()=>()=>{e==null||e(r),n==null||n(r)},[]),r};(function(){if(typeof window!="object")return;if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype){"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});return}function t(C){try{return C.defaultView&&C.defaultView.frameElement||null}catch{return null}}var e=function(C){for(var M=C,T=t(M);T;)M=T.ownerDocument,T=t(M);return M}(window.document),n=[],r=null,i=null;function o(C){this.time=C.time,this.target=C.target,this.rootBounds=y(C.rootBounds),this.boundingClientRect=y(C.boundingClientRect),this.intersectionRect=y(C.intersectionRect||m()),this.isIntersecting=!!C.intersectionRect;var M=this.boundingClientRect,T=M.width*M.height,R=this.intersectionRect,I=R.width*R.height;T?this.intersectionRatio=Number((I/T).toFixed(4)):this.intersectionRatio=this.isIntersecting?1:0}function a(C,M){var T=M||{};if(typeof C!="function")throw new Error("callback must be a function");if(T.root&&T.root.nodeType!=1&&T.root.nodeType!=9)throw new Error("root must be a Document or Element");this._checkForIntersections=l(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT),this._callback=C,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(T.rootMargin),this.thresholds=this._initThresholds(T.threshold),this.root=T.root||null,this.rootMargin=this._rootMarginValues.map(function(R){return R.value+R.unit}).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}a.prototype.THROTTLE_TIMEOUT=100,a.prototype.POLL_INTERVAL=null,a.prototype.USE_MUTATION_OBSERVER=!0,a._setupCrossOriginUpdater=function(){return r||(r=function(C,M){!C||!M?i=m():i=x(C,M),n.forEach(function(T){T._checkForIntersections()})}),r},a._resetCrossOriginUpdater=function(){r=null,i=null},a.prototype.observe=function(C){var M=this._observationTargets.some(function(T){return T.element==C});if(!M){if(!(C&&C.nodeType==1))throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:C,entry:null}),this._monitorIntersections(C.ownerDocument),this._checkForIntersections()}},a.prototype.unobserve=function(C){this._observationTargets=this._observationTargets.filter(function(M){return M.element!=C}),this._unmonitorIntersections(C.ownerDocument),this._observationTargets.length==0&&this._unregisterInstance()},a.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},a.prototype.takeRecords=function(){var C=this._queuedEntries.slice();return this._queuedEntries=[],C},a.prototype._initThresholds=function(C){var M=C||[0];return Array.isArray(M)||(M=[M]),M.sort().filter(function(T,R,I){if(typeof T!="number"||isNaN(T)||T<0||T>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return T!==I[R-1]})},a.prototype._parseRootMargin=function(C){var M=C||"0px",T=M.split(/\s+/).map(function(R){var I=/^(-?\d*\.?\d+)(px|%)$/.exec(R);if(!I)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(I[1]),unit:I[2]}});return T[1]=T[1]||T[0],T[2]=T[2]||T[0],T[3]=T[3]||T[1],T},a.prototype._monitorIntersections=function(C){var M=C.defaultView;if(!!M&&this._monitoringDocuments.indexOf(C)==-1){var T=this._checkForIntersections,R=null,I=null;this.POLL_INTERVAL?R=M.setInterval(T,this.POLL_INTERVAL):(u(M,"resize",T,!0),u(C,"scroll",T,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in M&&(I=new M.MutationObserver(T),I.observe(C,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))),this._monitoringDocuments.push(C),this._monitoringUnsubscribes.push(function(){var L=C.defaultView;L&&(R&&L.clearInterval(R),c(L,"resize",T,!0)),c(C,"scroll",T,!0),I&&I.disconnect()});var A=this.root&&(this.root.ownerDocument||this.root)||e;if(C!=A){var N=t(C);N&&this._monitorIntersections(N.ownerDocument)}}},a.prototype._unmonitorIntersections=function(C){var M=this._monitoringDocuments.indexOf(C);if(M!=-1){var T=this.root&&(this.root.ownerDocument||this.root)||e,R=this._observationTargets.some(function(N){var L=N.element.ownerDocument;if(L==C)return!0;for(;L&&L!=T;){var D=t(L);if(L=D&&D.ownerDocument,L==C)return!0}return!1});if(!R){var I=this._monitoringUnsubscribes[M];if(this._monitoringDocuments.splice(M,1),this._monitoringUnsubscribes.splice(M,1),I(),C!=T){var A=t(C);A&&this._unmonitorIntersections(A.ownerDocument)}}}},a.prototype._unmonitorAllIntersections=function(){var C=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var M=0;M<C.length;M++)C[M]()},a.prototype._checkForIntersections=function(){if(!(!this.root&&r&&!i)){var C=this._rootIsInDom(),M=C?this._getRootRect():m();this._observationTargets.forEach(function(T){var R=T.element,I=f(R),A=this._rootContainsTarget(R),N=T.entry,L=C&&A&&this._computeTargetAndRootIntersection(R,I,M),D=null;this._rootContainsTarget(R)?(!r||this.root)&&(D=M):D=m();var W=T.entry=new o({time:s(),target:R,boundingClientRect:I,rootBounds:D,intersectionRect:L});N?C&&A?this._hasCrossedThreshold(N,W)&&this._queuedEntries.push(W):N&&N.isIntersecting&&this._queuedEntries.push(W):this._queuedEntries.push(W)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},a.prototype._computeTargetAndRootIntersection=function(C,M,T){if(window.getComputedStyle(C).display!="none"){for(var R=M,I=w(C),A=!1;!A&&I;){var N=null,L=I.nodeType==1?window.getComputedStyle(I):{};if(L.display=="none")return null;if(I==this.root||I.nodeType==9)if(A=!0,I==this.root||I==e)r&&!this.root?!i||i.width==0&&i.height==0?(I=null,N=null,R=null):N=i:N=T;else{var D=w(I),W=D&&f(D),V=D&&this._computeTargetAndRootIntersection(D,W,T);W&&V?(I=D,N=x(W,V)):(I=null,R=null)}else{var B=I.ownerDocument;I!=B.body&&I!=B.documentElement&&L.overflow!="visible"&&(N=f(I))}if(N&&(R=h(N,R)),!R)break;I=I&&w(I)}return R}},a.prototype._getRootRect=function(){var C;if(this.root&&!S(this.root))C=f(this.root);else{var M=S(this.root)?this.root:e,T=M.documentElement,R=M.body;C={top:0,left:0,right:T.clientWidth||R.clientWidth,width:T.clientWidth||R.clientWidth,bottom:T.clientHeight||R.clientHeight,height:T.clientHeight||R.clientHeight}}return this._expandRectByRootMargin(C)},a.prototype._expandRectByRootMargin=function(C){var M=this._rootMarginValues.map(function(R,I){return R.unit=="px"?R.value:R.value*(I%2?C.width:C.height)/100}),T={top:C.top-M[0],right:C.right+M[1],bottom:C.bottom+M[2],left:C.left-M[3]};return T.width=T.right-T.left,T.height=T.bottom-T.top,T},a.prototype._hasCrossedThreshold=function(C,M){var T=C&&C.isIntersecting?C.intersectionRatio||0:-1,R=M.isIntersecting?M.intersectionRatio||0:-1;if(T!==R)for(var I=0;I<this.thresholds.length;I++){var A=this.thresholds[I];if(A==T||A==R||A<T!=A<R)return!0}},a.prototype._rootIsInDom=function(){return!this.root||b(e,this.root)},a.prototype._rootContainsTarget=function(C){var M=this.root&&(this.root.ownerDocument||this.root)||e;return b(M,C)&&(!this.root||M==C.ownerDocument)},a.prototype._registerInstance=function(){n.indexOf(this)<0&&n.push(this)},a.prototype._unregisterInstance=function(){var C=n.indexOf(this);C!=-1&&n.splice(C,1)};function s(){return window.performance&&performance.now&&performance.now()}function l(C,M){var T=null;return function(){T||(T=setTimeout(function(){C(),T=null},M))}}function u(C,M,T,R){typeof C.addEventListener=="function"?C.addEventListener(M,T,R||!1):typeof C.attachEvent=="function"&&C.attachEvent("on"+M,T)}function c(C,M,T,R){typeof C.removeEventListener=="function"?C.removeEventListener(M,T,R||!1):typeof C.detatchEvent=="function"&&C.detatchEvent("on"+M,T)}function h(C,M){var T=Math.max(C.top,M.top),R=Math.min(C.bottom,M.bottom),I=Math.max(C.left,M.left),A=Math.min(C.right,M.right),N=A-I,L=R-T;return N>=0&&L>=0&&{top:T,bottom:R,left:I,right:A,width:N,height:L}||null}function f(C){var M;try{M=C.getBoundingClientRect()}catch{}return M?(M.width&&M.height||(M={top:M.top,right:M.right,bottom:M.bottom,left:M.left,width:M.right-M.left,height:M.bottom-M.top}),M):m()}function m(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}function y(C){return!C||"x"in C?C:{top:C.top,y:C.top,bottom:C.bottom,left:C.left,x:C.left,right:C.right,width:C.width,height:C.height}}function x(C,M){var T=M.top-C.top,R=M.left-C.left;return{top:T,left:R,height:M.height,width:M.width,bottom:T+M.height,right:R+M.width}}function b(C,M){for(var T=M;T;){if(T==C)return!0;T=w(T)}return!1}function w(C){var M=C.parentNode;return C.nodeType==9&&C!=e?t(C):(M&&M.assignedSlot&&(M=M.assignedSlot.parentNode),M&&M.nodeType==11&&M.host?M.host:M)}function S(C){return C&&C.nodeType===9}window.IntersectionObserver=a,window.IntersectionObserverEntry=o})();const ZN=document.createElement("div");Object.assign(ZN.style,{position:"absolute",left:"0px",top:"0px",width:"100%",height:"100%",pointerEvents:"none",userSelect:"none"});const ZAe=o=>{var a=o,{style:t,className:e,position:n,children:r}=a,i=Hh(a,["style","className","position","children"]);const s=v.exports.useRef(null);return i.wasmPath&&(ll.wasmPath=i.wasmPath),f$(()=>{for(const l of[...en.children])l.userData.manager&&en.remove(l)}),v.exports.useLayoutEffect(()=>{const l=s.current;if(!l)return;l.appendChild(gd),l.appendChild(ZN);const u=new ResizeObserver(()=>{const c=[l.clientWidth,l.clientHeight];LA(c),h2e(c)});return u.observe(l),()=>{u.disconnect()}},[]),oo(x0,{children:[Ut($Ae,nt({},i)),oo("div",{style:nt({width:"100%",height:"100%",position:n!=null?n:"absolute",top:0,left:0,display:"flex"},t),children:[Ut("div",{style:{height:"100%"},children:r}),Ut("div",{ref:s,style:{height:"100%",flexGrow:1,position:"relative",zIndex:0}})]})]})};var JAe=ZAe,ky,Ln,h$,$g,p$,Fz,u1={},m$=[],QAe=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Gu(t,e){for(var n in e)t[n]=e[n];return t}function v$(t){var e=t.parentNode;e&&e.removeChild(t)}function jp(t,e,n){var r,i,o,a={};for(o in e)o=="key"?r=e[o]:o=="ref"?i=e[o]:a[o]=e[o];if(arguments.length>2&&(a.children=arguments.length>3?ky.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(o in t.defaultProps)a[o]===void 0&&(a[o]=t.defaultProps[o]);return Kg(t,a,r,i,null)}function Kg(t,e,n,r,i){var o={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i==null?++h$:i};return i==null&&Ln.vnode!=null&&Ln.vnode(o),o}function ov(t){return t.children}function Bw(t,e){this.props=t,this.context=e}function Nm(t,e){if(e==null)return t.__?Nm(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?Nm(t):null}function g$(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return g$(t)}}function zz(t){(!t.__d&&(t.__d=!0)&&$g.push(t)&&!c1.__r++||Fz!==Ln.debounceRendering)&&((Fz=Ln.debounceRendering)||p$)(c1)}function c1(){for(var t;c1.__r=$g.length;)t=$g.sort(function(e,n){return e.__v.__b-n.__v.__b}),$g=[],t.some(function(e){var n,r,i,o,a,s;e.__d&&(a=(o=(n=e).__v).__e,(s=n.__P)&&(r=[],(i=Gu({},o)).__v=o.__v+1,JN(s,o,i,n.__n,s.ownerSVGElement!==void 0,o.__h!=null?[a]:null,r,a==null?Nm(o):a,o.__h),w$(r,o),o.__e!=a&&g$(o)))})}function y$(t,e,n,r,i,o,a,s,l,u){var c,h,f,m,y,x,b,w=r&&r.__k||m$,S=w.length;for(n.__k=[],c=0;c<e.length;c++)if((m=n.__k[c]=(m=e[c])==null||typeof m=="boolean"?null:typeof m=="string"||typeof m=="number"||typeof m=="bigint"?Kg(null,m,null,null,m):Array.isArray(m)?Kg(ov,{children:m},null,null,null):m.__b>0?Kg(m.type,m.props,m.key,null,m.__v):m)!=null){if(m.__=n,m.__b=n.__b+1,(f=w[c])===null||f&&m.key==f.key&&m.type===f.type)w[c]=void 0;else for(h=0;h<S;h++){if((f=w[h])&&m.key==f.key&&m.type===f.type){w[h]=void 0;break}f=null}JN(t,m,f=f||u1,i,o,a,s,l,u),y=m.__e,(h=m.ref)&&f.ref!=h&&(b||(b=[]),f.ref&&b.push(f.ref,null,m),b.push(h,m.__c||y,m)),y!=null?(x==null&&(x=y),typeof m.type=="function"&&m.__k===f.__k?m.__d=l=x$(m,l,t):l=b$(t,m,f,w,y,l),typeof n.type=="function"&&(n.__d=l)):l&&f.__e==l&&l.parentNode!=t&&(l=Nm(f))}for(n.__e=x,c=S;c--;)w[c]!=null&&(typeof n.type=="function"&&w[c].__e!=null&&w[c].__e==n.__d&&(n.__d=Nm(r,c+1)),S$(w[c],w[c]));if(b)for(c=0;c<b.length;c++)_$(b[c],b[++c],b[++c])}function x$(t,e,n){for(var r,i=t.__k,o=0;i&&o<i.length;o++)(r=i[o])&&(r.__=t,e=typeof r.type=="function"?x$(r,e,n):b$(n,r,r,i,r.__e,e));return e}function b$(t,e,n,r,i,o){var a,s,l;if(e.__d!==void 0)a=e.__d,e.__d=void 0;else if(n==null||i!=o||i.parentNode==null)e:if(o==null||o.parentNode!==t)t.appendChild(i),a=null;else{for(s=o,l=0;(s=s.nextSibling)&&l<r.length;l+=2)if(s==i)break e;t.insertBefore(i,o),a=o}return a!==void 0?a:i.nextSibling}function eRe(t,e,n,r,i){var o;for(o in n)o==="children"||o==="key"||o in e||d1(t,o,null,n[o],r);for(o in e)i&&typeof e[o]!="function"||o==="children"||o==="key"||o==="value"||o==="checked"||n[o]===e[o]||d1(t,o,e[o],n[o],r)}function Bz(t,e,n){e[0]==="-"?t.setProperty(e,n):t[e]=n==null?"":typeof n!="number"||QAe.test(e)?n:n+"px"}function d1(t,e,n,r,i){var o;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||Bz(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||Bz(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")o=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=n,n?r||t.addEventListener(e,o?Uz:Vz,o):t.removeEventListener(e,o?Uz:Vz,o);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n==null?"":n;break e}catch{}typeof n=="function"||(n!=null&&(n!==!1||e[0]==="a"&&e[1]==="r")?t.setAttribute(e,n):t.removeAttribute(e))}}function Vz(t){this.l[t.type+!1](Ln.event?Ln.event(t):t)}function Uz(t){this.l[t.type+!0](Ln.event?Ln.event(t):t)}function JN(t,e,n,r,i,o,a,s,l){var u,c,h,f,m,y,x,b,w,S,C,M=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(l=n.__h,s=e.__e=n.__e,e.__h=null,o=[s]),(u=Ln.__b)&&u(e);try{e:if(typeof M=="function"){if(b=e.props,w=(u=M.contextType)&&r[u.__c],S=u?w?w.props.value:u.__:r,n.__c?x=(c=e.__c=n.__c).__=c.__E:("prototype"in M&&M.prototype.render?e.__c=c=new M(b,S):(e.__c=c=new Bw(b,S),c.constructor=M,c.render=nRe),w&&w.sub(c),c.props=b,c.state||(c.state={}),c.context=S,c.__n=r,h=c.__d=!0,c.__h=[]),c.__s==null&&(c.__s=c.state),M.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=Gu({},c.__s)),Gu(c.__s,M.getDerivedStateFromProps(b,c.__s))),f=c.props,m=c.state,h)M.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(M.getDerivedStateFromProps==null&&b!==f&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(b,S),!c.__e&&c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(b,c.__s,S)===!1||e.__v===n.__v){c.props=b,c.state=c.__s,e.__v!==n.__v&&(c.__d=!1),c.__v=e,e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(T){T&&(T.__=e)}),c.__h.length&&a.push(c);break e}c.componentWillUpdate!=null&&c.componentWillUpdate(b,c.__s,S),c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(f,m,y)})}c.context=S,c.props=b,c.state=c.__s,(u=Ln.__r)&&u(e),c.__d=!1,c.__v=e,c.__P=t,u=c.render(c.props,c.state,c.context),c.state=c.__s,c.getChildContext!=null&&(r=Gu(Gu({},r),c.getChildContext())),h||c.getSnapshotBeforeUpdate==null||(y=c.getSnapshotBeforeUpdate(f,m)),C=u!=null&&u.type===ov&&u.key==null?u.props.children:u,y$(t,Array.isArray(C)?C:[C],e,n,r,i,o,a,s,l),c.base=e.__e,e.__h=null,c.__h.length&&a.push(c),x&&(c.__E=c.__=null),c.__e=!1}else o==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=tRe(n.__e,e,n,r,i,o,a,l);(u=Ln.diffed)&&u(e)}catch(T){e.__v=null,(l||o!=null)&&(e.__e=s,e.__h=!!l,o[o.indexOf(s)]=null),Ln.__e(T,e,n)}}function w$(t,e){Ln.__c&&Ln.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(r){r.call(n)})}catch(r){Ln.__e(r,n.__v)}})}function tRe(t,e,n,r,i,o,a,s){var l,u,c,h=n.props,f=e.props,m=e.type,y=0;if(m==="svg"&&(i=!0),o!=null){for(;y<o.length;y++)if((l=o[y])&&"setAttribute"in l==!!m&&(m?l.localName===m:l.nodeType===3)){t=l,o[y]=null;break}}if(t==null){if(m===null)return document.createTextNode(f);t=i?document.createElementNS("http://www.w3.org/2000/svg",m):document.createElement(m,f.is&&f),o=null,s=!1}if(m===null)h===f||s&&t.data===f||(t.data=f);else{if(o=o&&ky.call(t.childNodes),u=(h=n.props||u1).dangerouslySetInnerHTML,c=f.dangerouslySetInnerHTML,!s){if(o!=null)for(h={},y=0;y<t.attributes.length;y++)h[t.attributes[y].name]=t.attributes[y].value;(c||u)&&(c&&(u&&c.__html==u.__html||c.__html===t.innerHTML)||(t.innerHTML=c&&c.__html||""))}if(eRe(t,f,h,i,s),c)e.__k=[];else if(y=e.props.children,y$(t,Array.isArray(y)?y:[y],e,n,r,i&&m!=="foreignObject",o,a,o?o[0]:n.__k&&Nm(n,0),s),o!=null)for(y=o.length;y--;)o[y]!=null&&v$(o[y]);s||("value"in f&&(y=f.value)!==void 0&&(y!==t.value||m==="progress"&&!y||m==="option"&&y!==h.value)&&d1(t,"value",y,h.value,!1),"checked"in f&&(y=f.checked)!==void 0&&y!==t.checked&&d1(t,"checked",y,h.checked,!1))}return t}function _$(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){Ln.__e(r,n)}}function S$(t,e,n){var r,i;if(Ln.unmount&&Ln.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||_$(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){Ln.__e(o,e)}r.base=r.__P=null}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&S$(r[i],e,typeof t.type!="function");n||t.__e==null||v$(t.__e),t.__e=t.__d=void 0}function nRe(t,e,n){return this.constructor(t,n)}function uC(t,e,n){var r,i,o;Ln.__&&Ln.__(t,e),i=(r=typeof n=="function")?null:n&&n.__k||e.__k,o=[],JN(e,t=(!r&&n||e).__k=jp(ov,null,[t]),i||u1,u1,e.ownerSVGElement!==void 0,!r&&n?[n]:i?null:e.firstChild?ky.call(e.childNodes):null,o,!r&&n?n:i?i.__e:e.firstChild,r),w$(o,t)}function C$(t,e){uC(t,e,C$)}function E$(t,e,n){var r,i,o,a=Gu({},t.props);for(o in e)o=="key"?r=e[o]:o=="ref"?i=e[o]:a[o]=e[o];return arguments.length>2&&(a.children=arguments.length>3?ky.call(arguments,2):n),Kg(t.type,a,r||t.key,i||t.ref,null)}ky=m$.slice,Ln={__e:function(t,e,n,r){for(var i,o,a;e=e.__;)if((i=e.__c)&&!i.__)try{if((o=i.constructor)&&o.getDerivedStateFromError!=null&&(i.setState(o.getDerivedStateFromError(t)),a=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),a=i.__d),a)return i.__E=i}catch(s){t=s}throw t}},h$=0,Bw.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Gu({},this.state),typeof t=="function"&&(t=t(Gu({},n),this.props)),t&&Gu(n,t),t!=null&&this.__v&&(e&&this.__h.push(e),zz(this))},Bw.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),zz(this))},Bw.prototype.render=ov,$g=[],p$=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,c1.__r=0;var rRe=0;function lt(t,e,n,r,i){var o,a,s={};for(a in e)a=="ref"?o=e[a]:s[a]=e[a];var l={type:t,props:s,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--rRe,__source:i,__self:r};if(typeof t=="function"&&(o=t.defaultProps))for(a in o)s[a]===void 0&&(s[a]=o[a]);return Ln.vnode&&Ln.vnode(l),l}var _R={exports:{}};/*! Tweakpane 3.0.8 (c) 2016 cocopon, licensed under the MIT license. */(function(t,e){(function(n,r){r(e)})(Ca,function(n){class r{constructor(p){const[_,O]=p.split("-"),ee=_.split(".");this.major=parseInt(ee[0],10),this.minor=parseInt(ee[1],10),this.patch=parseInt(ee[2],10),this.prerelease=O!=null?O:null}toString(){const p=[this.major,this.minor,this.patch].join(".");return this.prerelease!==null?[p,this.prerelease].join("-"):p}}class i{constructor(p){this.controller_=p}get disabled(){return this.controller_.viewProps.get("disabled")}set disabled(p){this.controller_.viewProps.set("disabled",p)}get hidden(){return this.controller_.viewProps.get("hidden")}set hidden(p){this.controller_.viewProps.set("hidden",p)}dispose(){this.controller_.viewProps.set("disposed",!0)}}class o{constructor(p){this.target=p}}class a extends o{constructor(p,_,O,ee){super(p),this.value=_,this.presetKey=O,this.last=ee!=null?ee:!0}}class s extends o{constructor(p,_,O){super(p),this.value=_,this.presetKey=O}}class l extends o{constructor(p,_){super(p),this.expanded=_}}function u(E){return E}function c(E){return E==null}function h(E,p){if(E.length!==p.length)return!1;for(let _=0;_<E.length;_++)if(E[_]!==p[_])return!1;return!0}const f={alreadydisposed:()=>"View has been already disposed",invalidparams:E=>`Invalid parameters for '${E.name}'`,nomatchingcontroller:E=>`No matching controller for '${E.key}'`,nomatchingview:E=>`No matching view for '${JSON.stringify(E.params)}'`,notbindable:()=>"Value is not bindable",propertynotfound:E=>`Property '${E.name}' not found`,shouldneverhappen:()=>"This error should never happen"};class m{constructor(p){var _;this.message=(_=f[p.type](p.context))!==null&&_!==void 0?_:"Unexpected error",this.name=this.constructor.name,this.stack=new Error(this.message).stack,this.type=p.type}static alreadyDisposed(){return new m({type:"alreadydisposed"})}static notBindable(){return new m({type:"notbindable"})}static propertyNotFound(p){return new m({type:"propertynotfound",context:{name:p}})}static shouldNeverHappen(){return new m({type:"shouldneverhappen"})}}class y{constructor(p,_,O){this.obj_=p,this.key_=_,this.presetKey_=O!=null?O:_}static isBindable(p){return!(p===null||typeof p!="object")}get key(){return this.key_}get presetKey(){return this.presetKey_}read(){return this.obj_[this.key_]}write(p){this.obj_[this.key_]=p}writeProperty(p,_){const O=this.read();if(!y.isBindable(O))throw m.notBindable();if(!(p in O))throw m.propertyNotFound(p);O[p]=_}}class x extends i{get label(){return this.controller_.props.get("label")}set label(p){this.controller_.props.set("label",p)}get title(){var p;return(p=this.controller_.valueController.props.get("title"))!==null&&p!==void 0?p:""}set title(p){this.controller_.valueController.props.set("title",p)}on(p,_){const O=_.bind(this);return this.controller_.valueController.emitter.on(p,()=>{O(new o(this))}),this}}class b{constructor(){this.observers_={}}on(p,_){let O=this.observers_[p];return O||(O=this.observers_[p]=[]),O.push({handler:_}),this}off(p,_){const O=this.observers_[p];return O&&(this.observers_[p]=O.filter(ee=>ee.handler!==_)),this}emit(p,_){const O=this.observers_[p];!O||O.forEach(ee=>{ee.handler(_)})}}const w="tp";function S(E){return(_,O)=>[w,"-",E,"v",_?`_${_}`:"",O?`-${O}`:""].join("")}function C(E,p){return _=>p(E(_))}function M(E){return E.rawValue}function T(E,p){E.emitter.on("change",C(M,p)),p(E.rawValue)}function R(E,p,_){T(E.value(p),_)}function I(E,p,_){_?E.classList.add(p):E.classList.remove(p)}function A(E,p){return _=>{I(E,p,_)}}function N(E,p){T(E,_=>{p.textContent=_!=null?_:""})}const L=S("btn");class D{constructor(p,_){this.element=p.createElement("div"),this.element.classList.add(L()),_.viewProps.bindClassModifiers(this.element);const O=p.createElement("button");O.classList.add(L("b")),_.viewProps.bindDisabled(O),this.element.appendChild(O),this.buttonElement=O;const ee=p.createElement("div");ee.classList.add(L("t")),N(_.props.value("title"),ee),this.buttonElement.appendChild(ee)}}class W{constructor(p,_){this.emitter=new b,this.onClick_=this.onClick_.bind(this),this.props=_.props,this.viewProps=_.viewProps,this.view=new D(p,{props:this.props,viewProps:this.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}}class V{constructor(p,_){var O;this.constraint_=_==null?void 0:_.constraint,this.equals_=(O=_==null?void 0:_.equals)!==null&&O!==void 0?O:(ee,Te)=>ee===Te,this.emitter=new b,this.rawValue_=p}get constraint(){return this.constraint_}get rawValue(){return this.rawValue_}set rawValue(p){this.setRawValue(p,{forceEmit:!1,last:!0})}setRawValue(p,_){const O=_!=null?_:{forceEmit:!1,last:!0},ee=this.constraint_?this.constraint_.constrain(p):p;!!this.equals_(this.rawValue_,ee)&&!O.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.rawValue_=ee,this.emitter.emit("change",{options:O,rawValue:ee,sender:this}))}}class B{constructor(p){this.emitter=new b,this.value_=p}get rawValue(){return this.value_}set rawValue(p){this.setRawValue(p,{forceEmit:!1,last:!0})}setRawValue(p,_){const O=_!=null?_:{forceEmit:!1,last:!0};this.value_===p&&!O.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.value_=p,this.emitter.emit("change",{options:O,rawValue:this.value_,sender:this}))}}function K(E,p){const _=p==null?void 0:p.constraint,O=p==null?void 0:p.equals;return!_&&!O?new B(E):new V(E,p)}class j{constructor(p){this.emitter=new b,this.valMap_=p;for(const _ in this.valMap_)this.valMap_[_].emitter.on("change",()=>{this.emitter.emit("change",{key:_,sender:this})})}static createCore(p){return Object.keys(p).reduce((O,ee)=>Object.assign(O,{[ee]:K(p[ee])}),{})}static fromObject(p){const _=this.createCore(p);return new j(_)}get(p){return this.valMap_[p].rawValue}set(p,_){this.valMap_[p].rawValue=_}value(p){return this.valMap_[p]}}function G(E,p){const O=Object.keys(p).reduce((ee,Te)=>{if(ee===void 0)return;const St=p[Te](E[Te]);return St.succeeded?Object.assign(Object.assign({},ee),{[Te]:St.value}):void 0},{});return O}function H(E,p){return E.reduce((_,O)=>{if(_===void 0)return;const ee=p(O);if(!(!ee.succeeded||ee.value===void 0))return[..._,ee.value]},[])}function Y(E){return E===null?!1:typeof E=="object"}function Z(E){return p=>_=>{if(!p&&_===void 0)return{succeeded:!1,value:void 0};if(p&&_===void 0)return{succeeded:!0,value:void 0};const O=E(_);return O!==void 0?{succeeded:!0,value:O}:{succeeded:!1,value:void 0}}}function oe(E){return{custom:p=>Z(p)(E),boolean:Z(p=>typeof p=="boolean"?p:void 0)(E),number:Z(p=>typeof p=="number"?p:void 0)(E),string:Z(p=>typeof p=="string"?p:void 0)(E),function:Z(p=>typeof p=="function"?p:void 0)(E),constant:p=>Z(_=>_===p?p:void 0)(E),raw:Z(p=>p)(E),object:p=>Z(_=>{if(!!Y(_))return G(_,p)})(E),array:p=>Z(_=>{if(!!Array.isArray(_))return H(_,p)})(E)}}const re={optional:oe(!0),required:oe(!1)};function se(E,p){const _=re.required.object(p)(E);return _.succeeded?_.value:void 0}function ce(E){return E&&E.parentElement&&E.parentElement.removeChild(E),null}function ye(){return["veryfirst","first","last","verylast"]}const fe=S(""),De={veryfirst:"vfst",first:"fst",last:"lst",verylast:"vlst"};class Oe{constructor(p){this.parent_=null,this.blade=p.blade,this.view=p.view,this.viewProps=p.viewProps;const _=this.view.element;this.blade.value("positions").emitter.on("change",()=>{ye().forEach(O=>{_.classList.remove(fe(void 0,De[O]))}),this.blade.get("positions").forEach(O=>{_.classList.add(fe(void 0,De[O]))})}),this.viewProps.handleDispose(()=>{ce(_)})}get parent(){return this.parent_}}const Fe="http://www.w3.org/2000/svg";function Ee(E){E.offsetHeight}function Ye(E,p){const _=E.style.transition;E.style.transition="none",p(),E.style.transition=_}function be(E){return E.ontouchstart!==void 0}function Ce(){return new Function("return this")()}function Me(){return Ce().document}function ze(E){const p=E.ownerDocument.defaultView;return p&&"document"in p?E.getContext("2d"):null}const Re={check:'<path d="M2 8l4 4l8 -8"/>',dropdown:'<path d="M5 7h6l-3 3 z"/>',p2dpad:'<path d="M8 4v8"/><path d="M4 8h8"/><circle cx="12" cy="12" r="1.2"/>'};function We(E,p){const _=E.createElementNS(Fe,"svg");return _.innerHTML=Re[p],_}function Ue(E,p,_){E.insertBefore(p,E.children[_])}function Ve(E){E.parentElement&&E.parentElement.removeChild(E)}function Be(E){for(;E.children.length>0;)E.removeChild(E.children[0])}function qe(E){for(;E.childNodes.length>0;)E.removeChild(E.childNodes[0])}function te(E){return E.relatedTarget?E.relatedTarget:"explicitOriginalTarget"in E?E.explicitOriginalTarget:null}const k=S("lbl");function $(E,p){const _=E.createDocumentFragment();return p.split(`
`).map(ee=>E.createTextNode(ee)).forEach((ee,Te)=>{Te>0&&_.appendChild(E.createElement("br")),_.appendChild(ee)}),_}class U{constructor(p,_){this.element=p.createElement("div"),this.element.classList.add(k()),_.viewProps.bindClassModifiers(this.element);const O=p.createElement("div");O.classList.add(k("l")),R(_.props,"label",Te=>{c(Te)?this.element.classList.add(k(void 0,"nol")):(this.element.classList.remove(k(void 0,"nol")),qe(O),O.appendChild($(p,Te)))}),this.element.appendChild(O),this.labelElement=O;const ee=p.createElement("div");ee.classList.add(k("v")),this.element.appendChild(ee),this.valueElement=ee}}class ne extends Oe{constructor(p,_){const O=_.valueController.viewProps;super(Object.assign(Object.assign({},_),{view:new U(p,{props:_.props,viewProps:O}),viewProps:O})),this.props=_.props,this.valueController=_.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}}const ge={id:"button",type:"blade",accept(E){const p=re,_=se(E,{title:p.required.string,view:p.required.constant("button"),label:p.optional.string});return _?{params:_}:null},controller(E){return new ne(E.document,{blade:E.blade,props:j.fromObject({label:E.params.label}),valueController:new W(E.document,{props:j.fromObject({title:E.params.title}),viewProps:E.viewProps})})},api(E){return!(E.controller instanceof ne)||!(E.controller.valueController instanceof W)?null:new x(E.controller)}};class me extends Oe{constructor(p){super(p),this.value=p.value}}function Q(){return new j({positions:K([],{equals:h})})}class _e extends j{constructor(p){super(p)}static create(p){const _={completed:!0,expanded:p,expandedHeight:null,shouldFixHeight:!1,temporaryExpanded:null},O=j.createCore(_);return new _e(O)}get styleExpanded(){var p;return(p=this.get("temporaryExpanded"))!==null&&p!==void 0?p:this.get("expanded")}get styleHeight(){if(!this.styleExpanded)return"0";const p=this.get("expandedHeight");return this.get("shouldFixHeight")&&!c(p)?`${p}px`:"auto"}bindExpandedClass(p,_){const O=()=>{this.styleExpanded?p.classList.add(_):p.classList.remove(_)};R(this,"expanded",O),R(this,"temporaryExpanded",O)}cleanUpTransition(){this.set("shouldFixHeight",!1),this.set("expandedHeight",null),this.set("completed",!0)}}function ke(E,p){let _=0;return Ye(p,()=>{E.set("expandedHeight",null),E.set("temporaryExpanded",!0),Ee(p),_=p.clientHeight,E.set("temporaryExpanded",null),Ee(p)}),_}function we(E,p){p.style.height=E.styleHeight}function de(E,p){E.value("expanded").emitter.on("beforechange",()=>{E.set("completed",!1),c(E.get("expandedHeight"))&&E.set("expandedHeight",ke(E,p)),E.set("shouldFixHeight",!0),Ee(p)}),E.emitter.on("change",()=>{we(E,p)}),we(E,p),p.addEventListener("transitionend",_=>{_.propertyName==="height"&&E.cleanUpTransition()})}class je extends i{constructor(p,_){super(p),this.rackApi_=_}}function Ze(E,p){return E.addBlade(Object.assign(Object.assign({},p),{view:"button"}))}function vt(E,p){return E.addBlade(Object.assign(Object.assign({},p),{view:"folder"}))}function ot(E,p){const _=p||{};return E.addBlade(Object.assign(Object.assign({},_),{view:"separator"}))}function ht(E,p){return E.addBlade(Object.assign(Object.assign({},p),{view:"tab"}))}class at{constructor(p){this.emitter=new b,this.items_=[],this.cache_=new Set,this.onSubListAdd_=this.onSubListAdd_.bind(this),this.onSubListRemove_=this.onSubListRemove_.bind(this),this.extract_=p}get items(){return this.items_}allItems(){return Array.from(this.cache_)}find(p){for(const _ of this.allItems())if(p(_))return _;return null}includes(p){return this.cache_.has(p)}add(p,_){if(this.includes(p))throw m.shouldNeverHappen();const O=_!==void 0?_:this.items_.length;this.items_.splice(O,0,p),this.cache_.add(p);const ee=this.extract_(p);ee&&(ee.emitter.on("add",this.onSubListAdd_),ee.emitter.on("remove",this.onSubListRemove_),ee.allItems().forEach(Te=>{this.cache_.add(Te)})),this.emitter.emit("add",{index:O,item:p,root:this,target:this})}remove(p){const _=this.items_.indexOf(p);if(_<0)return;this.items_.splice(_,1),this.cache_.delete(p);const O=this.extract_(p);O&&(O.emitter.off("add",this.onSubListAdd_),O.emitter.off("remove",this.onSubListRemove_)),this.emitter.emit("remove",{index:_,item:p,root:this,target:this})}onSubListAdd_(p){this.cache_.add(p.item),this.emitter.emit("add",{index:p.index,item:p.item,root:this,target:p.target})}onSubListRemove_(p){this.cache_.delete(p.item),this.emitter.emit("remove",{index:p.index,item:p.item,root:this,target:p.target})}}class Mt extends i{constructor(p){super(p),this.onBindingChange_=this.onBindingChange_.bind(this),this.emitter_=new b,this.controller_.binding.emitter.on("change",this.onBindingChange_)}get label(){return this.controller_.props.get("label")}set label(p){this.controller_.props.set("label",p)}on(p,_){const O=_.bind(this);return this.emitter_.on(p,ee=>{O(ee.event)}),this}refresh(){this.controller_.binding.read()}onBindingChange_(p){const _=p.sender.target.read();this.emitter_.emit("change",{event:new a(this,_,this.controller_.binding.target.presetKey,p.options.last)})}}class Ct extends ne{constructor(p,_){super(p,_),this.binding=_.binding}}class Ft extends i{constructor(p){super(p),this.onBindingUpdate_=this.onBindingUpdate_.bind(this),this.emitter_=new b,this.controller_.binding.emitter.on("update",this.onBindingUpdate_)}get label(){return this.controller_.props.get("label")}set label(p){this.controller_.props.set("label",p)}on(p,_){const O=_.bind(this);return this.emitter_.on(p,ee=>{O(ee.event)}),this}refresh(){this.controller_.binding.read()}onBindingUpdate_(p){const _=p.sender.target.read();this.emitter_.emit("update",{event:new s(this,_,this.controller_.binding.target.presetKey)})}}class $t extends ne{constructor(p,_){super(p,_),this.binding=_.binding,this.viewProps.bindDisabled(this.binding.ticker),this.viewProps.handleDispose(()=>{this.binding.dispose()})}}function An(E){return E instanceof it?E.apiSet_:E instanceof je?E.rackApi_.apiSet_:null}function xt(E,p){const _=E.find(O=>O.controller_===p);if(!_)throw m.shouldNeverHappen();return _}function Et(E,p,_){if(!y.isBindable(E))throw m.notBindable();return new y(E,p,_)}class it extends i{constructor(p,_){super(p),this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this),this.onRackInputChange_=this.onRackInputChange_.bind(this),this.onRackMonitorUpdate_=this.onRackMonitorUpdate_.bind(this),this.emitter_=new b,this.apiSet_=new at(An),this.pool_=_;const O=this.controller_.rack;O.emitter.on("add",this.onRackAdd_),O.emitter.on("remove",this.onRackRemove_),O.emitter.on("inputchange",this.onRackInputChange_),O.emitter.on("monitorupdate",this.onRackMonitorUpdate_),O.children.forEach(ee=>{this.setUpApi_(ee)})}get children(){return this.controller_.rack.children.map(p=>xt(this.apiSet_,p))}addInput(p,_,O){const ee=O||{},Te=this.controller_.view.element.ownerDocument,Ke=this.pool_.createInput(Te,Et(p,_,ee.presetKey),ee),St=new Mt(Ke);return this.add(St,ee.index)}addMonitor(p,_,O){const ee=O||{},Te=this.controller_.view.element.ownerDocument,Ke=this.pool_.createMonitor(Te,Et(p,_),ee),St=new Ft(Ke);return this.add(St,ee.index)}addFolder(p){return vt(this,p)}addButton(p){return Ze(this,p)}addSeparator(p){return ot(this,p)}addTab(p){return ht(this,p)}add(p,_){this.controller_.rack.add(p.controller_,_);const O=this.apiSet_.find(ee=>ee.controller_===p.controller_);return O&&this.apiSet_.remove(O),this.apiSet_.add(p),p}remove(p){this.controller_.rack.remove(p.controller_)}addBlade(p){const _=this.controller_.view.element.ownerDocument,O=this.pool_.createBlade(_,p),ee=this.pool_.createBladeApi(O);return this.add(ee,p.index)}on(p,_){const O=_.bind(this);return this.emitter_.on(p,ee=>{O(ee.event)}),this}setUpApi_(p){this.apiSet_.find(O=>O.controller_===p)||this.apiSet_.add(this.pool_.createBladeApi(p))}onRackAdd_(p){this.setUpApi_(p.bladeController)}onRackRemove_(p){if(p.isRoot){const _=xt(this.apiSet_,p.bladeController);this.apiSet_.remove(_)}}onRackInputChange_(p){const _=p.bladeController;if(_ instanceof Ct){const O=xt(this.apiSet_,_),ee=_.binding;this.emitter_.emit("change",{event:new a(O,ee.target.read(),ee.target.presetKey,p.options.last)})}else if(_ instanceof me){const O=xt(this.apiSet_,_);this.emitter_.emit("change",{event:new a(O,_.value.rawValue,void 0,p.options.last)})}}onRackMonitorUpdate_(p){if(!(p.bladeController instanceof $t))throw m.shouldNeverHappen();const _=xt(this.apiSet_,p.bladeController),O=p.bladeController.binding;this.emitter_.emit("update",{event:new s(_,O.target.read(),O.target.presetKey)})}}class rt extends je{constructor(p,_){super(p,new it(p.rackController,_)),this.emitter_=new b,this.controller_.foldable.value("expanded").emitter.on("change",O=>{this.emitter_.emit("fold",{event:new l(this,O.sender.rawValue)})}),this.rackApi_.on("change",O=>{this.emitter_.emit("change",{event:O})}),this.rackApi_.on("update",O=>{this.emitter_.emit("update",{event:O})})}get expanded(){return this.controller_.foldable.get("expanded")}set expanded(p){this.controller_.foldable.set("expanded",p)}get title(){return this.controller_.props.get("title")}set title(p){this.controller_.props.set("title",p)}get children(){return this.rackApi_.children}addInput(p,_,O){return this.rackApi_.addInput(p,_,O)}addMonitor(p,_,O){return this.rackApi_.addMonitor(p,_,O)}addFolder(p){return this.rackApi_.addFolder(p)}addButton(p){return this.rackApi_.addButton(p)}addSeparator(p){return this.rackApi_.addSeparator(p)}addTab(p){return this.rackApi_.addTab(p)}add(p,_){return this.rackApi_.add(p,_)}remove(p){this.rackApi_.remove(p)}addBlade(p){return this.rackApi_.addBlade(p)}on(p,_){const O=_.bind(this);return this.emitter_.on(p,ee=>{O(ee.event)}),this}}class ft extends Oe{constructor(p){super({blade:p.blade,view:p.view,viewProps:p.rackController.viewProps}),this.rackController=p.rackController}}class bt{constructor(p,_){const O=S(_.viewName);this.element=p.createElement("div"),this.element.classList.add(O()),_.viewProps.bindClassModifiers(this.element)}}function Yt(E,p){for(let _=0;_<E.length;_++){const O=E[_];if(O instanceof Ct&&O.binding===p)return O}return null}function Sn(E,p){for(let _=0;_<E.length;_++){const O=E[_];if(O instanceof $t&&O.binding===p)return O}return null}function he(E,p){for(let _=0;_<E.length;_++){const O=E[_];if(O instanceof me&&O.value===p)return O}return null}function Ae(E){return E instanceof Je?E.rack:E instanceof ft?E.rackController.rack:null}function Ge(E){const p=Ae(E);return p?p.bcSet_:null}class Ie{constructor(p){var _;this.onBladePositionsChange_=this.onBladePositionsChange_.bind(this),this.onSetAdd_=this.onSetAdd_.bind(this),this.onSetRemove_=this.onSetRemove_.bind(this),this.onChildDispose_=this.onChildDispose_.bind(this),this.onChildPositionsChange_=this.onChildPositionsChange_.bind(this),this.onChildInputChange_=this.onChildInputChange_.bind(this),this.onChildMonitorUpdate_=this.onChildMonitorUpdate_.bind(this),this.onChildValueChange_=this.onChildValueChange_.bind(this),this.onChildViewPropsChange_=this.onChildViewPropsChange_.bind(this),this.onDescendantLayout_=this.onDescendantLayout_.bind(this),this.onDescendantInputChange_=this.onDescendantInputChange_.bind(this),this.onDescendantMonitorUpdate_=this.onDescendantMonitorUpdate_.bind(this),this.emitter=new b,this.blade_=p!=null?p:null,(_=this.blade_)===null||_===void 0||_.value("positions").emitter.on("change",this.onBladePositionsChange_),this.bcSet_=new at(Ge),this.bcSet_.emitter.on("add",this.onSetAdd_),this.bcSet_.emitter.on("remove",this.onSetRemove_)}get children(){return this.bcSet_.items}add(p,_){p.parent&&p.parent.remove(p),p.parent_=this,this.bcSet_.add(p,_)}remove(p){p.parent_=null,this.bcSet_.remove(p)}find(p){return this.bcSet_.allItems().filter(_=>_ instanceof p)}onSetAdd_(p){this.updatePositions_();const _=p.target===p.root;if(this.emitter.emit("add",{bladeController:p.item,index:p.index,isRoot:_,sender:this}),!_)return;const O=p.item;if(O.viewProps.emitter.on("change",this.onChildViewPropsChange_),O.blade.value("positions").emitter.on("change",this.onChildPositionsChange_),O.viewProps.handleDispose(this.onChildDispose_),O instanceof Ct)O.binding.emitter.on("change",this.onChildInputChange_);else if(O instanceof $t)O.binding.emitter.on("update",this.onChildMonitorUpdate_);else if(O instanceof me)O.value.emitter.on("change",this.onChildValueChange_);else{const ee=Ae(O);if(ee){const Te=ee.emitter;Te.on("layout",this.onDescendantLayout_),Te.on("inputchange",this.onDescendantInputChange_),Te.on("monitorupdate",this.onDescendantMonitorUpdate_)}}}onSetRemove_(p){this.updatePositions_();const _=p.target===p.root;if(this.emitter.emit("remove",{bladeController:p.item,isRoot:_,sender:this}),!_)return;const O=p.item;if(O instanceof Ct)O.binding.emitter.off("change",this.onChildInputChange_);else if(O instanceof $t)O.binding.emitter.off("update",this.onChildMonitorUpdate_);else if(O instanceof me)O.value.emitter.off("change",this.onChildValueChange_);else{const ee=Ae(O);if(ee){const Te=ee.emitter;Te.off("layout",this.onDescendantLayout_),Te.off("inputchange",this.onDescendantInputChange_),Te.off("monitorupdate",this.onDescendantMonitorUpdate_)}}}updatePositions_(){const p=this.bcSet_.items.filter(ee=>!ee.viewProps.get("hidden")),_=p[0],O=p[p.length-1];this.bcSet_.items.forEach(ee=>{const Te=[];ee===_&&(Te.push("first"),(!this.blade_||this.blade_.get("positions").includes("veryfirst"))&&Te.push("veryfirst")),ee===O&&(Te.push("last"),(!this.blade_||this.blade_.get("positions").includes("verylast"))&&Te.push("verylast")),ee.blade.set("positions",Te)})}onChildPositionsChange_(){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildViewPropsChange_(p){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildDispose_(){this.bcSet_.items.filter(_=>_.viewProps.get("disposed")).forEach(_=>{this.bcSet_.remove(_)})}onChildInputChange_(p){const _=Yt(this.find(Ct),p.sender);if(!_)throw m.shouldNeverHappen();this.emitter.emit("inputchange",{bladeController:_,options:p.options,sender:this})}onChildMonitorUpdate_(p){const _=Sn(this.find($t),p.sender);if(!_)throw m.shouldNeverHappen();this.emitter.emit("monitorupdate",{bladeController:_,sender:this})}onChildValueChange_(p){const _=he(this.find(me),p.sender);if(!_)throw m.shouldNeverHappen();this.emitter.emit("inputchange",{bladeController:_,options:p.options,sender:this})}onDescendantLayout_(p){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onDescendantInputChange_(p){this.emitter.emit("inputchange",{bladeController:p.bladeController,options:p.options,sender:this})}onDescendantMonitorUpdate_(p){this.emitter.emit("monitorupdate",{bladeController:p.bladeController,sender:this})}onBladePositionsChange_(){this.updatePositions_()}}class Je extends Oe{constructor(p,_){super(Object.assign(Object.assign({},_),{view:new bt(p,{viewName:"brk",viewProps:_.viewProps})})),this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this);const O=new Ie(_.root?void 0:_.blade);O.emitter.on("add",this.onRackAdd_),O.emitter.on("remove",this.onRackRemove_),this.rack=O,this.viewProps.handleDispose(()=>{for(let ee=this.rack.children.length-1;ee>=0;ee--)this.rack.children[ee].viewProps.set("disposed",!0)})}onRackAdd_(p){!p.isRoot||Ue(this.view.element,p.bladeController.view.element,p.index)}onRackRemove_(p){!p.isRoot||Ve(p.bladeController.view.element)}}const Rt=S("cnt");class Dt{constructor(p,_){this.className_=S(_.viewName||"fld"),this.element=p.createElement("div"),this.element.classList.add(this.className_(),Rt()),_.viewProps.bindClassModifiers(this.element),this.foldable_=_.foldable,this.foldable_.bindExpandedClass(this.element,this.className_(void 0,"expanded")),R(this.foldable_,"completed",A(this.element,this.className_(void 0,"cpl")));const O=p.createElement("button");O.classList.add(this.className_("b")),R(_.props,"title",St=>{c(St)?this.element.classList.add(this.className_(void 0,"not")):this.element.classList.remove(this.className_(void 0,"not"))}),_.viewProps.bindDisabled(O),this.element.appendChild(O),this.buttonElement=O;const ee=p.createElement("div");ee.classList.add(this.className_("t")),N(_.props.value("title"),ee),this.buttonElement.appendChild(ee),this.titleElement=ee;const Te=p.createElement("div");Te.classList.add(this.className_("m")),this.buttonElement.appendChild(Te);const Ke=_.containerElement;Ke.classList.add(this.className_("c")),this.element.appendChild(Ke),this.containerElement=Ke}}class Pt extends ft{constructor(p,_){var O;const ee=_e.create((O=_.expanded)!==null&&O!==void 0?O:!0),Te=new Je(p,{blade:_.blade,root:_.root,viewProps:_.viewProps});super(Object.assign(Object.assign({},_),{rackController:Te,view:new Dt(p,{containerElement:Te.view.element,foldable:ee,props:_.props,viewName:_.root?"rot":void 0,viewProps:_.viewProps})})),this.onTitleClick_=this.onTitleClick_.bind(this),this.props=_.props,this.foldable=ee,de(this.foldable,this.view.containerElement),this.rackController.rack.emitter.on("add",()=>{this.foldable.cleanUpTransition()}),this.rackController.rack.emitter.on("remove",()=>{this.foldable.cleanUpTransition()}),this.view.buttonElement.addEventListener("click",this.onTitleClick_)}get document(){return this.view.element.ownerDocument}onTitleClick_(){this.foldable.set("expanded",!this.foldable.get("expanded"))}}const zt={id:"folder",type:"blade",accept(E){const p=re,_=se(E,{title:p.required.string,view:p.required.constant("folder"),expanded:p.optional.boolean});return _?{params:_}:null},controller(E){return new Pt(E.document,{blade:E.blade,expanded:E.params.expanded,props:j.fromObject({title:E.params.title}),viewProps:E.viewProps})},api(E){return E.controller instanceof Pt?new rt(E.controller,E.pool):null}};class sn extends me{constructor(p,_){const O=_.valueController.viewProps;super(Object.assign(Object.assign({},_),{value:_.valueController.value,view:new U(p,{props:_.props,viewProps:O}),viewProps:O})),this.props=_.props,this.valueController=_.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}}class Kt extends i{}const cn=S("spr");class gt{constructor(p,_){this.element=p.createElement("div"),this.element.classList.add(cn()),_.viewProps.bindClassModifiers(this.element);const O=p.createElement("hr");O.classList.add(cn("r")),this.element.appendChild(O)}}class Tt extends Oe{constructor(p,_){super(Object.assign(Object.assign({},_),{view:new gt(p,{viewProps:_.viewProps})}))}}const qt={id:"separator",type:"blade",accept(E){const _=se(E,{view:re.required.constant("separator")});return _?{params:_}:null},controller(E){return new Tt(E.document,{blade:E.blade,viewProps:E.viewProps})},api(E){return E.controller instanceof Tt?new Kt(E.controller):null}},Dn=S("");function rn(E,p){return A(E,Dn(void 0,p))}class Nt extends j{constructor(p){super(p)}static create(p){var _,O;const ee=p!=null?p:{},Te={disabled:(_=ee.disabled)!==null&&_!==void 0?_:!1,disposed:!1,hidden:(O=ee.hidden)!==null&&O!==void 0?O:!1},Ke=j.createCore(Te);return new Nt(Ke)}bindClassModifiers(p){R(this,"disabled",rn(p,"disabled")),R(this,"hidden",rn(p,"hidden"))}bindDisabled(p){R(this,"disabled",_=>{p.disabled=_})}bindTabIndex(p){R(this,"disabled",_=>{p.tabIndex=_?-1:0})}handleDispose(p){this.value("disposed").emitter.on("change",_=>{_&&p()})}}const ur=S("tbi");class vn{constructor(p,_){this.element=p.createElement("div"),this.element.classList.add(ur()),_.viewProps.bindClassModifiers(this.element),R(_.props,"selected",Te=>{Te?this.element.classList.add(ur(void 0,"sel")):this.element.classList.remove(ur(void 0,"sel"))});const O=p.createElement("button");O.classList.add(ur("b")),_.viewProps.bindDisabled(O),this.element.appendChild(O),this.buttonElement=O;const ee=p.createElement("div");ee.classList.add(ur("t")),N(_.props.value("title"),ee),this.buttonElement.appendChild(ee),this.titleElement=ee}}class dr{constructor(p,_){this.emitter=new b,this.onClick_=this.onClick_.bind(this),this.props=_.props,this.viewProps=_.viewProps,this.view=new vn(p,{props:_.props,viewProps:_.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}}class Or{constructor(p,_){this.onItemClick_=this.onItemClick_.bind(this),this.ic_=new dr(p,{props:_.itemProps,viewProps:Nt.create()}),this.ic_.emitter.on("click",this.onItemClick_),this.cc_=new Je(p,{blade:Q(),viewProps:Nt.create()}),this.props=_.props,R(this.props,"selected",O=>{this.itemController.props.set("selected",O),this.contentController.viewProps.set("hidden",!O)})}get itemController(){return this.ic_}get contentController(){return this.cc_}onItemClick_(){this.props.set("selected",!0)}}class Ci{constructor(p,_){this.controller_=p,this.rackApi_=_}get title(){var p;return(p=this.controller_.itemController.props.get("title"))!==null&&p!==void 0?p:""}set title(p){this.controller_.itemController.props.set("title",p)}get selected(){return this.controller_.props.get("selected")}set selected(p){this.controller_.props.set("selected",p)}get children(){return this.rackApi_.children}addButton(p){return this.rackApi_.addButton(p)}addFolder(p){return this.rackApi_.addFolder(p)}addSeparator(p){return this.rackApi_.addSeparator(p)}addTab(p){return this.rackApi_.addTab(p)}add(p,_){this.rackApi_.add(p,_)}remove(p){this.rackApi_.remove(p)}addInput(p,_,O){return this.rackApi_.addInput(p,_,O)}addMonitor(p,_,O){return this.rackApi_.addMonitor(p,_,O)}addBlade(p){return this.rackApi_.addBlade(p)}}class hi extends je{constructor(p,_){super(p,new it(p.rackController,_)),this.onPageAdd_=this.onPageAdd_.bind(this),this.onPageRemove_=this.onPageRemove_.bind(this),this.emitter_=new b,this.pageApiMap_=new Map,this.rackApi_.on("change",O=>{this.emitter_.emit("change",{event:O})}),this.rackApi_.on("update",O=>{this.emitter_.emit("update",{event:O})}),this.controller_.pageSet.emitter.on("add",this.onPageAdd_),this.controller_.pageSet.emitter.on("remove",this.onPageRemove_),this.controller_.pageSet.items.forEach(O=>{this.setUpPageApi_(O)})}get pages(){return this.controller_.pageSet.items.map(p=>{const _=this.pageApiMap_.get(p);if(!_)throw m.shouldNeverHappen();return _})}addPage(p){const _=this.controller_.view.element.ownerDocument,O=new Or(_,{itemProps:j.fromObject({selected:!1,title:p.title}),props:j.fromObject({selected:!1})});this.controller_.add(O,p.index);const ee=this.pageApiMap_.get(O);if(!ee)throw m.shouldNeverHappen();return ee}removePage(p){this.controller_.remove(p)}on(p,_){const O=_.bind(this);return this.emitter_.on(p,ee=>{O(ee.event)}),this}setUpPageApi_(p){const _=this.rackApi_.apiSet_.find(ee=>ee.controller_===p.contentController);if(!_)throw m.shouldNeverHappen();const O=new Ci(p,_);this.pageApiMap_.set(p,O)}onPageAdd_(p){this.setUpPageApi_(p.item)}onPageRemove_(p){if(!this.pageApiMap_.get(p.item))throw m.shouldNeverHappen();this.pageApiMap_.delete(p.item)}}const tn=S("tab");class hn{constructor(p,_){this.element=p.createElement("div"),this.element.classList.add(tn(),Rt()),_.viewProps.bindClassModifiers(this.element),T(_.empty,A(this.element,tn(void 0,"nop")));const O=p.createElement("div");O.classList.add(tn("i")),this.element.appendChild(O),this.itemsElement=O;const ee=_.contentsElement;ee.classList.add(tn("c")),this.element.appendChild(ee),this.contentsElement=ee}}class Rn extends ft{constructor(p,_){const O=new Je(p,{blade:_.blade,viewProps:_.viewProps}),ee=K(!0);super({blade:_.blade,rackController:O,view:new hn(p,{contentsElement:O.view.element,empty:ee,viewProps:_.viewProps})}),this.onPageAdd_=this.onPageAdd_.bind(this),this.onPageRemove_=this.onPageRemove_.bind(this),this.onPageSelectedChange_=this.onPageSelectedChange_.bind(this),this.pageSet_=new at(()=>null),this.pageSet_.emitter.on("add",this.onPageAdd_),this.pageSet_.emitter.on("remove",this.onPageRemove_),this.empty_=ee,this.applyPages_()}get pageSet(){return this.pageSet_}add(p,_){this.pageSet_.add(p,_!=null?_:this.pageSet_.items.length)}remove(p){this.pageSet_.remove(this.pageSet_.items[p])}applyPages_(){this.keepSelection_(),this.empty_.rawValue=this.pageSet_.items.length===0}onPageAdd_(p){const _=p.item;Ue(this.view.itemsElement,_.itemController.view.element,p.index),this.rackController.rack.add(_.contentController,p.index),_.props.value("selected").emitter.on("change",this.onPageSelectedChange_),this.applyPages_()}onPageRemove_(p){const _=p.item;Ve(_.itemController.view.element),this.rackController.rack.remove(_.contentController),_.props.value("selected").emitter.off("change",this.onPageSelectedChange_),this.applyPages_()}keepSelection_(){if(this.pageSet_.items.length===0)return;const p=this.pageSet_.items.findIndex(_=>_.props.get("selected"));p<0?this.pageSet_.items.forEach((_,O)=>{_.props.set("selected",O===0)}):this.pageSet_.items.forEach((_,O)=>{_.props.set("selected",O===p)})}onPageSelectedChange_(p){if(p.rawValue){const _=this.pageSet_.items.findIndex(O=>O.props.value("selected")===p.sender);this.pageSet_.items.forEach((O,ee)=>{O.props.set("selected",ee===_)})}else this.keepSelection_()}}const At={id:"tab",type:"blade",accept(E){const p=re,_=se(E,{pages:p.required.array(p.required.object({title:p.required.string})),view:p.required.constant("tab")});return!_||_.pages.length===0?null:{params:_}},controller(E){const p=new Rn(E.document,{blade:E.blade,viewProps:E.viewProps});return E.params.pages.forEach(_=>{const O=new Or(E.document,{itemProps:j.fromObject({selected:!1,title:_.title}),props:j.fromObject({selected:!1})});p.add(O)}),p},api(E){return E.controller instanceof Rn?new hi(E.controller,E.pool):null}};function Zt(E,p){const _=E.accept(p.params);if(!_)return null;const O=re.optional.boolean(p.params.disabled).value,ee=re.optional.boolean(p.params.hidden).value;return E.controller({blade:Q(),document:p.document,params:Object.assign(Object.assign({},_.params),{disabled:O,hidden:ee}),viewProps:Nt.create({disabled:O,hidden:ee})})}class br{constructor(){this.disabled=!1,this.emitter=new b}dispose(){}tick(){this.disabled||this.emitter.emit("tick",{sender:this})}}class Nr{constructor(p,_){this.disabled_=!1,this.timerId_=null,this.onTick_=this.onTick_.bind(this),this.doc_=p,this.emitter=new b,this.interval_=_,this.setTimer_()}get disabled(){return this.disabled_}set disabled(p){this.disabled_=p,this.disabled_?this.clearTimer_():this.setTimer_()}dispose(){this.clearTimer_()}clearTimer_(){if(this.timerId_===null)return;const p=this.doc_.defaultView;p&&p.clearInterval(this.timerId_),this.timerId_=null}setTimer_(){if(this.clearTimer_(),this.interval_<=0)return;const p=this.doc_.defaultView;p&&(this.timerId_=p.setInterval(this.onTick_,this.interval_))}onTick_(){this.disabled_||this.emitter.emit("tick",{sender:this})}}class Yn{constructor(p){this.constraints=p}constrain(p){return this.constraints.reduce((_,O)=>O.constrain(_),p)}}function fr(E,p){if(E instanceof p)return E;if(E instanceof Yn){const _=E.constraints.reduce((O,ee)=>O||(ee instanceof p?ee:null),null);if(_)return _}return null}class $r{constructor(p){this.options=p}constrain(p){const _=this.options;return _.length===0||_.filter(ee=>ee.value===p).length>0?p:_[0].value}}class Tr{constructor(p){this.maxValue=p.max,this.minValue=p.min}constrain(p){let _=p;return c(this.minValue)||(_=Math.max(_,this.minValue)),c(this.maxValue)||(_=Math.min(_,this.maxValue)),_}}class Kr{constructor(p){this.step=p}constrain(p){return(p<0?-Math.round(-p/this.step):Math.round(p/this.step))*this.step}}const ho=S("lst");class po{constructor(p,_){this.onValueChange_=this.onValueChange_.bind(this),this.props_=_.props,this.element=p.createElement("div"),this.element.classList.add(ho()),_.viewProps.bindClassModifiers(this.element);const O=p.createElement("select");O.classList.add(ho("s")),R(this.props_,"options",Te=>{Be(O),Te.forEach((Ke,St)=>{const fn=p.createElement("option");fn.dataset.index=String(St),fn.textContent=Ke.text,fn.value=String(Ke.value),O.appendChild(fn)})}),_.viewProps.bindDisabled(O),this.element.appendChild(O),this.selectElement=O;const ee=p.createElement("div");ee.classList.add(ho("m")),ee.appendChild(We(p,"dropdown")),this.element.appendChild(ee),_.value.emitter.on("change",this.onValueChange_),this.value_=_.value,this.update_()}update_(){this.selectElement.value=String(this.value_.rawValue)}onValueChange_(){this.update_()}}class Ii{constructor(p,_){this.onSelectChange_=this.onSelectChange_.bind(this),this.props=_.props,this.value=_.value,this.viewProps=_.viewProps,this.view=new po(p,{props:this.props,value:this.value,viewProps:this.viewProps}),this.view.selectElement.addEventListener("change",this.onSelectChange_)}onSelectChange_(p){const O=p.currentTarget.selectedOptions.item(0);if(!O)return;const ee=Number(O.dataset.index);this.value.rawValue=this.props.get("options")[ee].value}}const au=S("pop");class su{constructor(p,_){this.element=p.createElement("div"),this.element.classList.add(au()),_.viewProps.bindClassModifiers(this.element),T(_.shows,A(this.element,au(void 0,"v")))}}class lu{constructor(p,_){this.shows=K(!1),this.viewProps=_.viewProps,this.view=new su(p,{shows:this.shows,viewProps:this.viewProps})}}const Cn=S("txt");class Fn{constructor(p,_){this.onChange_=this.onChange_.bind(this),this.element=p.createElement("div"),this.element.classList.add(Cn()),_.viewProps.bindClassModifiers(this.element),this.props_=_.props,this.props_.emitter.on("change",this.onChange_);const O=p.createElement("input");O.classList.add(Cn("i")),O.type="text",_.viewProps.bindDisabled(O),this.element.appendChild(O),this.inputElement=O,_.value.emitter.on("change",this.onChange_),this.value_=_.value,this.refresh()}refresh(){const p=this.props_.get("formatter");this.inputElement.value=p(this.value_.rawValue)}onChange_(){this.refresh()}}class hr{constructor(p,_){this.onInputChange_=this.onInputChange_.bind(this),this.parser_=_.parser,this.props=_.props,this.value=_.value,this.viewProps=_.viewProps,this.view=new Fn(p,{props:_.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(p){const O=p.currentTarget.value,ee=this.parser_(O);c(ee)||(this.value.rawValue=ee),this.view.refresh()}}function pi(E){return String(E)}function uu(E){return E==="false"?!1:!!E}function mo(E){return pi(E)}class fc{constructor(p){this.text=p}evaluate(){return Number(this.text)}toString(){return this.text}}const Ls={"**":(E,p)=>Math.pow(E,p),"*":(E,p)=>E*p,"/":(E,p)=>E/p,"%":(E,p)=>E%p,"+":(E,p)=>E+p,"-":(E,p)=>E-p,"<<":(E,p)=>E<<p,">>":(E,p)=>E>>p,">>>":(E,p)=>E>>>p,"&":(E,p)=>E&p,"^":(E,p)=>E^p,"|":(E,p)=>E|p};class gl{constructor(p,_,O){this.left=_,this.operator=p,this.right=O}evaluate(){const p=Ls[this.operator];if(!p)throw new Error(`unexpected binary operator: '${this.operator}`);return p(this.left.evaluate(),this.right.evaluate())}toString(){return["b(",this.left.toString(),this.operator,this.right.toString(),")"].join(" ")}}const yl={"+":E=>E,"-":E=>-E,"~":E=>~E};class Li{constructor(p,_){this.operator=p,this.expression=_}evaluate(){const p=yl[this.operator];if(!p)throw new Error(`unexpected unary operator: '${this.operator}`);return p(this.expression.evaluate())}toString(){return["u(",this.operator,this.expression.toString(),")"].join(" ")}}function Id(E){return(p,_)=>{for(let O=0;O<E.length;O++){const ee=E[O](p,_);if(ee!=="")return ee}return""}}function Zo(E,p){var _;const O=E.substr(p).match(/^\s+/);return(_=O&&O[0])!==null&&_!==void 0?_:""}function Ld(E,p){const _=E.substr(p,1);return _.match(/^[1-9]$/)?_:""}function us(E,p){var _;const O=E.substr(p).match(/^[0-9]+/);return(_=O&&O[0])!==null&&_!==void 0?_:""}function sv(E,p){const _=us(E,p);if(_!=="")return _;const O=E.substr(p,1);if(p+=1,O!=="-"&&O!=="+")return"";const ee=us(E,p);return ee===""?"":O+ee}function q(E,p){const _=E.substr(p,1);if(p+=1,_.toLowerCase()!=="e")return"";const O=sv(E,p);return O===""?"":_+O}function F(E,p){const _=E.substr(p,1);if(_==="0")return _;const O=Ld(E,p);return p+=O.length,O===""?"":O+us(E,p)}function X(E,p){const _=F(E,p);if(p+=_.length,_==="")return"";const O=E.substr(p,1);if(p+=O.length,O!==".")return"";const ee=us(E,p);return p+=ee.length,_+O+ee+q(E,p)}function ae(E,p){const _=E.substr(p,1);if(p+=_.length,_!==".")return"";const O=us(E,p);return p+=O.length,O===""?"":_+O+q(E,p)}function He(E,p){const _=F(E,p);return p+=_.length,_===""?"":_+q(E,p)}const dt=Id([X,ae,He]);function dn(E,p){var _;const O=E.substr(p).match(/^[01]+/);return(_=O&&O[0])!==null&&_!==void 0?_:""}function Ht(E,p){const _=E.substr(p,2);if(p+=_.length,_.toLowerCase()!=="0b")return"";const O=dn(E,p);return O===""?"":_+O}function Vn(E,p){var _;const O=E.substr(p).match(/^[0-7]+/);return(_=O&&O[0])!==null&&_!==void 0?_:""}function Bt(E,p){const _=E.substr(p,2);if(p+=_.length,_.toLowerCase()!=="0o")return"";const O=Vn(E,p);return O===""?"":_+O}function wt(E,p){var _;const O=E.substr(p).match(/^[0-9a-f]+/i);return(_=O&&O[0])!==null&&_!==void 0?_:""}function on(E,p){const _=E.substr(p,2);if(p+=_.length,_.toLowerCase()!=="0x")return"";const O=wt(E,p);return O===""?"":_+O}const or=Id([Ht,Bt,on]),On=Id([or,dt]);function pn(E,p){const _=On(E,p);return p+=_.length,_===""?null:{evaluable:new fc(_),cursor:p}}function Mn(E,p){const _=E.substr(p,1);if(p+=_.length,_!=="(")return null;const O=wr(E,p);if(!O)return null;p=O.cursor,p+=Zo(E,p).length;const ee=E.substr(p,1);return p+=ee.length,ee!==")"?null:{evaluable:O.evaluable,cursor:p}}function Zn(E,p){return pn(E,p)||Mn(E,p)}function an(E,p){const _=Zn(E,p);if(_)return _;const O=E.substr(p,1);if(p+=O.length,O!=="+"&&O!=="-"&&O!=="~")return null;const ee=an(E,p);return ee?(p=ee.cursor,{cursor:p,evaluable:new Li(O,ee.evaluable)}):null}function Un(E,p,_){_+=Zo(p,_).length;const O=E.filter(ee=>p.startsWith(ee,_))[0];return O?(_+=O.length,_+=Zo(p,_).length,{cursor:_,operator:O}):null}function Jn(E,p){return(_,O)=>{const ee=E(_,O);if(!ee)return null;O=ee.cursor;let Te=ee.evaluable;for(;;){const Ke=Un(p,_,O);if(!Ke)break;O=Ke.cursor;const St=E(_,O);if(!St)return null;O=St.cursor,Te=new gl(Ke.operator,Te,St.evaluable)}return Te?{cursor:O,evaluable:Te}:null}}const gn=[["**"],["*","/","%"],["+","-"],["<<",">>>",">>"],["&"],["^"],["|"]].reduce((E,p)=>Jn(E,p),an);function wr(E,p){return p+=Zo(E,p).length,gn(E,p)}function So(E){const p=wr(E,0);return!p||p.cursor+Zo(E,p.cursor).length!==E.length?null:p.evaluable}function Zi(E){var p;const _=So(E);return(p=_==null?void 0:_.evaluate())!==null&&p!==void 0?p:null}function Pr(E){if(typeof E=="number")return E;if(typeof E=="string"){const p=Zi(E);if(!c(p))return p}return 0}function mi(E){return String(E)}function Qn(E){return p=>p.toFixed(Math.max(Math.min(E,20),0))}const hc=Qn(0);function Co(E){return hc(E)+"%"}function xl(E){return String(E)}function va(E){return E}function vi(E,p){for(;E.length<p;)E.push(void 0)}function lv(E){const p=[];return vi(p,E),K(p)}function Ji(E){const p=E.indexOf(void 0);return p<0?E:E.slice(0,p)}function vC(E,p){const _=[...Ji(E),p];return _.length>E.length?_.splice(0,_.length-E.length):vi(_,E.length),_}function pc({primary:E,secondary:p,forward:_,backward:O}){let ee=!1;function Te(Ke){ee||(ee=!0,Ke(),ee=!1)}E.emitter.on("change",Ke=>{Te(()=>{p.setRawValue(_(E,p),Ke.options)})}),p.emitter.on("change",Ke=>{Te(()=>{E.setRawValue(O(E,p),Ke.options)}),Te(()=>{p.setRawValue(_(E,p),Ke.options)})}),Te(()=>{p.setRawValue(_(E,p),{forceEmit:!1,last:!0})})}function gi(E,p){const _=E*(p.altKey?.1:1)*(p.shiftKey?10:1);return p.upKey?+_:p.downKey?-_:0}function bl(E){return{altKey:E.altKey,downKey:E.key==="ArrowDown",shiftKey:E.shiftKey,upKey:E.key==="ArrowUp"}}function Ia(E){return{altKey:E.altKey,downKey:E.key==="ArrowLeft",shiftKey:E.shiftKey,upKey:E.key==="ArrowRight"}}function qr(E){return E==="ArrowUp"||E==="ArrowDown"}function Ds(E){return qr(E)||E==="ArrowLeft"||E==="ArrowRight"}function Dd(E,p){const _=p.ownerDocument.defaultView,O=p.getBoundingClientRect();return{x:E.pageX-((_&&_.scrollX||0)+O.left),y:E.pageY-((_&&_.scrollY||0)+O.top)}}class cu{constructor(p){this.lastTouch_=null,this.onDocumentMouseMove_=this.onDocumentMouseMove_.bind(this),this.onDocumentMouseUp_=this.onDocumentMouseUp_.bind(this),this.onMouseDown_=this.onMouseDown_.bind(this),this.onTouchEnd_=this.onTouchEnd_.bind(this),this.onTouchMove_=this.onTouchMove_.bind(this),this.onTouchStart_=this.onTouchStart_.bind(this),this.elem_=p,this.emitter=new b,p.addEventListener("touchstart",this.onTouchStart_,{passive:!1}),p.addEventListener("touchmove",this.onTouchMove_,{passive:!0}),p.addEventListener("touchend",this.onTouchEnd_),p.addEventListener("mousedown",this.onMouseDown_)}computePosition_(p){const _=this.elem_.getBoundingClientRect();return{bounds:{width:_.width,height:_.height},point:p?{x:p.x,y:p.y}:null}}onMouseDown_(p){var _;p.preventDefault(),(_=p.currentTarget)===null||_===void 0||_.focus();const O=this.elem_.ownerDocument;O.addEventListener("mousemove",this.onDocumentMouseMove_),O.addEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("down",{altKey:p.altKey,data:this.computePosition_(Dd(p,this.elem_)),sender:this,shiftKey:p.shiftKey})}onDocumentMouseMove_(p){this.emitter.emit("move",{altKey:p.altKey,data:this.computePosition_(Dd(p,this.elem_)),sender:this,shiftKey:p.shiftKey})}onDocumentMouseUp_(p){const _=this.elem_.ownerDocument;_.removeEventListener("mousemove",this.onDocumentMouseMove_),_.removeEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("up",{altKey:p.altKey,data:this.computePosition_(Dd(p,this.elem_)),sender:this,shiftKey:p.shiftKey})}onTouchStart_(p){p.preventDefault();const _=p.targetTouches.item(0),O=this.elem_.getBoundingClientRect();this.emitter.emit("down",{altKey:p.altKey,data:this.computePosition_(_?{x:_.clientX-O.left,y:_.clientY-O.top}:void 0),sender:this,shiftKey:p.shiftKey}),this.lastTouch_=_}onTouchMove_(p){const _=p.targetTouches.item(0),O=this.elem_.getBoundingClientRect();this.emitter.emit("move",{altKey:p.altKey,data:this.computePosition_(_?{x:_.clientX-O.left,y:_.clientY-O.top}:void 0),sender:this,shiftKey:p.shiftKey}),this.lastTouch_=_}onTouchEnd_(p){var _;const O=(_=p.targetTouches.item(0))!==null&&_!==void 0?_:this.lastTouch_,ee=this.elem_.getBoundingClientRect();this.emitter.emit("up",{altKey:p.altKey,data:this.computePosition_(O?{x:O.clientX-ee.left,y:O.clientY-ee.top}:void 0),sender:this,shiftKey:p.shiftKey})}}function Fr(E,p,_,O,ee){const Te=(E-p)/(_-p);return O+Te*(ee-O)}function Fy(E){return String(E.toFixed(10)).split(".")[1].replace(/0+$/,"").length}function Wr(E,p,_){return Math.min(Math.max(E,p),_)}function uv(E,p){return(E%p+p)%p}const Jo=S("txt");class hh{constructor(p,_){this.onChange_=this.onChange_.bind(this),this.props_=_.props,this.props_.emitter.on("change",this.onChange_),this.element=p.createElement("div"),this.element.classList.add(Jo(),Jo(void 0,"num")),_.arrayPosition&&this.element.classList.add(Jo(void 0,_.arrayPosition)),_.viewProps.bindClassModifiers(this.element);const O=p.createElement("input");O.classList.add(Jo("i")),O.type="text",_.viewProps.bindDisabled(O),this.element.appendChild(O),this.inputElement=O,this.onDraggingChange_=this.onDraggingChange_.bind(this),this.dragging_=_.dragging,this.dragging_.emitter.on("change",this.onDraggingChange_),this.element.classList.add(Jo()),this.inputElement.classList.add(Jo("i"));const ee=p.createElement("div");ee.classList.add(Jo("k")),this.element.appendChild(ee),this.knobElement=ee;const Te=p.createElementNS(Fe,"svg");Te.classList.add(Jo("g")),this.knobElement.appendChild(Te);const Ke=p.createElementNS(Fe,"path");Ke.classList.add(Jo("gb")),Te.appendChild(Ke),this.guideBodyElem_=Ke;const St=p.createElementNS(Fe,"path");St.classList.add(Jo("gh")),Te.appendChild(St),this.guideHeadElem_=St;const fn=p.createElement("div");fn.classList.add(S("tt")()),this.knobElement.appendChild(fn),this.tooltipElem_=fn,_.value.emitter.on("change",this.onChange_),this.value=_.value,this.refresh()}onDraggingChange_(p){if(p.rawValue===null){this.element.classList.remove(Jo(void 0,"drg"));return}this.element.classList.add(Jo(void 0,"drg"));const _=p.rawValue/this.props_.get("draggingScale"),O=_+(_>0?-1:_<0?1:0),ee=Wr(-O,-4,4);this.guideHeadElem_.setAttributeNS(null,"d",[`M ${O+ee},0 L${O},4 L${O+ee},8`,`M ${_},-1 L${_},9`].join(" ")),this.guideBodyElem_.setAttributeNS(null,"d",`M 0,4 L${_},4`);const Te=this.props_.get("formatter");this.tooltipElem_.textContent=Te(this.value.rawValue),this.tooltipElem_.style.left=`${_}px`}refresh(){const p=this.props_.get("formatter");this.inputElement.value=p(this.value.rawValue)}onChange_(){this.refresh()}}class cs{constructor(p,_){this.originRawValue_=0,this.onInputChange_=this.onInputChange_.bind(this),this.onInputKeyDown_=this.onInputKeyDown_.bind(this),this.onInputKeyUp_=this.onInputKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.baseStep_=_.baseStep,this.parser_=_.parser,this.props=_.props,this.value=_.value,this.viewProps=_.viewProps,this.dragging_=K(null),this.view=new hh(p,{arrayPosition:_.arrayPosition,dragging:this.dragging_,props:this.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_),this.view.inputElement.addEventListener("keydown",this.onInputKeyDown_),this.view.inputElement.addEventListener("keyup",this.onInputKeyUp_);const O=new cu(this.view.knobElement);O.emitter.on("down",this.onPointerDown_),O.emitter.on("move",this.onPointerMove_),O.emitter.on("up",this.onPointerUp_)}onInputChange_(p){const O=p.currentTarget.value,ee=this.parser_(O);c(ee)||(this.value.rawValue=ee),this.view.refresh()}onInputKeyDown_(p){const _=gi(this.baseStep_,bl(p));_!==0&&this.value.setRawValue(this.value.rawValue+_,{forceEmit:!1,last:!1})}onInputKeyUp_(p){gi(this.baseStep_,bl(p))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}onPointerDown_(){this.originRawValue_=this.value.rawValue,this.dragging_.rawValue=0}computeDraggingValue_(p){if(!p.point)return null;const _=p.point.x-p.bounds.width/2;return this.originRawValue_+_*this.props.get("draggingScale")}onPointerMove_(p){const _=this.computeDraggingValue_(p.data);_!==null&&(this.value.setRawValue(_,{forceEmit:!1,last:!1}),this.dragging_.rawValue=this.value.rawValue-this.originRawValue_)}onPointerUp_(p){const _=this.computeDraggingValue_(p.data);_!==null&&(this.value.setRawValue(_,{forceEmit:!0,last:!0}),this.dragging_.rawValue=null)}}const cv=S("sld");class zy{constructor(p,_){this.onChange_=this.onChange_.bind(this),this.props_=_.props,this.props_.emitter.on("change",this.onChange_),this.element=p.createElement("div"),this.element.classList.add(cv()),_.viewProps.bindClassModifiers(this.element);const O=p.createElement("div");O.classList.add(cv("t")),_.viewProps.bindTabIndex(O),this.element.appendChild(O),this.trackElement=O;const ee=p.createElement("div");ee.classList.add(cv("k")),this.trackElement.appendChild(ee),this.knobElement=ee,_.value.emitter.on("change",this.onChange_),this.value=_.value,this.update_()}update_(){const p=Wr(Fr(this.value.rawValue,this.props_.get("minValue"),this.props_.get("maxValue"),0,100),0,100);this.knobElement.style.width=`${p}%`}onChange_(){this.update_()}}class By{constructor(p,_){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDownOrMove_=this.onPointerDownOrMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.baseStep_=_.baseStep,this.value=_.value,this.viewProps=_.viewProps,this.props=_.props,this.view=new zy(p,{props:this.props,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new cu(this.view.trackElement),this.ptHandler_.emitter.on("down",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("move",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.trackElement.addEventListener("keydown",this.onKeyDown_),this.view.trackElement.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(p,_){!p.point||this.value.setRawValue(Fr(Wr(p.point.x,0,p.bounds.width),0,p.bounds.width,this.props.get("minValue"),this.props.get("maxValue")),_)}onPointerDownOrMove_(p){this.handlePointerEvent_(p.data,{forceEmit:!1,last:!1})}onPointerUp_(p){this.handlePointerEvent_(p.data,{forceEmit:!0,last:!0})}onKeyDown_(p){const _=gi(this.baseStep_,Ia(p));_!==0&&this.value.setRawValue(this.value.rawValue+_,{forceEmit:!1,last:!1})}onKeyUp_(p){gi(this.baseStep_,Ia(p))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const Fd=S("sldtxt");class dv{constructor(p,_){this.element=p.createElement("div"),this.element.classList.add(Fd());const O=p.createElement("div");O.classList.add(Fd("s")),this.sliderView_=_.sliderView,O.appendChild(this.sliderView_.element),this.element.appendChild(O);const ee=p.createElement("div");ee.classList.add(Fd("t")),this.textView_=_.textView,ee.appendChild(this.textView_.element),this.element.appendChild(ee)}}class ph{constructor(p,_){this.value=_.value,this.viewProps=_.viewProps,this.sliderC_=new By(p,{baseStep:_.baseStep,props:_.sliderProps,value:_.value,viewProps:this.viewProps}),this.textC_=new cs(p,{baseStep:_.baseStep,parser:_.parser,props:_.textProps,value:_.value,viewProps:_.viewProps}),this.view=new dv(p,{sliderView:this.sliderC_.view,textView:this.textC_.view})}get sliderController(){return this.sliderC_}get textController(){return this.textC_}}function zd(E,p){E.write(p)}function mc(E){const p=re;if(Array.isArray(E))return p.required.array(p.required.object({text:p.required.string,value:p.required.raw}))(E).value;if(typeof E=="object")return p.required.raw(E).value}function mh(E){if(E==="inline"||E==="popup")return E}function wl(E){const p=re;return p.required.object({max:p.optional.number,min:p.optional.number,step:p.optional.number})(E).value}function fv(E){if(Array.isArray(E))return E;const p=[];return Object.keys(E).forEach(_=>{p.push({text:_,value:E[_]})}),p}function Eo(E){return c(E)?null:new $r(fv(E))}function Bd(E){const p=E?fr(E,$r):null;return p?p.options:null}function Vd(E){const p=E?fr(E,Kr):null;return p?p.step:null}function Ud(E,p){const _=E&&fr(E,Kr);return _?Fy(_.step):Math.max(Fy(p),2)}function du(E){const p=Vd(E);return p!=null?p:1}function vc(E,p){var _;const O=E&&fr(E,Kr),ee=Math.abs((_=O==null?void 0:O.step)!==null&&_!==void 0?_:p);return ee===0?.1:Math.pow(10,Math.floor(Math.log10(ee))-1)}const vh=S("ckb");class gC{constructor(p,_){this.onValueChange_=this.onValueChange_.bind(this),this.element=p.createElement("div"),this.element.classList.add(vh()),_.viewProps.bindClassModifiers(this.element);const O=p.createElement("label");O.classList.add(vh("l")),this.element.appendChild(O);const ee=p.createElement("input");ee.classList.add(vh("i")),ee.type="checkbox",O.appendChild(ee),this.inputElement=ee,_.viewProps.bindDisabled(this.inputElement);const Te=p.createElement("div");Te.classList.add(vh("w")),O.appendChild(Te);const Ke=We(p,"check");Te.appendChild(Ke),_.value.emitter.on("change",this.onValueChange_),this.value=_.value,this.update_()}update_(){this.inputElement.checked=this.value.rawValue}onValueChange_(){this.update_()}}class yC{constructor(p,_){this.onInputChange_=this.onInputChange_.bind(this),this.value=_.value,this.viewProps=_.viewProps,this.view=new gC(p,{value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(p){const _=p.currentTarget;this.value.rawValue=_.checked}}function xC(E){const p=[],_=Eo(E.options);return _&&p.push(_),new Yn(p)}const gc={id:"input-bool",type:"input",accept:(E,p)=>{if(typeof E!="boolean")return null;const O=se(p,{options:re.optional.custom(mc)});return O?{initialValue:E,params:O}:null},binding:{reader:E=>uu,constraint:E=>xC(E.params),writer:E=>zd},controller:E=>{var p;const _=E.document,O=E.value,ee=E.constraint;return ee&&fr(ee,$r)?new Ii(_,{props:j.fromObject({options:(p=Bd(ee))!==null&&p!==void 0?p:[]}),value:O,viewProps:E.viewProps}):new yC(_,{value:O,viewProps:E.viewProps})}},fu=S("col");class bC{constructor(p,_){this.element=p.createElement("div"),this.element.classList.add(fu()),_.foldable.bindExpandedClass(this.element,fu(void 0,"expanded")),R(_.foldable,"completed",A(this.element,fu(void 0,"cpl")));const O=p.createElement("div");O.classList.add(fu("h")),this.element.appendChild(O);const ee=p.createElement("div");ee.classList.add(fu("s")),O.appendChild(ee),this.swatchElement=ee;const Te=p.createElement("div");if(Te.classList.add(fu("t")),O.appendChild(Te),this.textElement=Te,_.pickerLayout==="inline"){const Ke=p.createElement("div");Ke.classList.add(fu("p")),this.element.appendChild(Ke),this.pickerElement=Ke}else this.pickerElement=null}}function hv(E,p,_){const O=Wr(E/255,0,1),ee=Wr(p/255,0,1),Te=Wr(_/255,0,1),Ke=Math.max(O,ee,Te),St=Math.min(O,ee,Te),fn=Ke-St;let wn=0,tr=0;const pr=(St+Ke)/2;return fn!==0&&(tr=fn/(1-Math.abs(Ke+St-1)),O===Ke?wn=(ee-Te)/fn:ee===Ke?wn=2+(Te-O)/fn:wn=4+(O-ee)/fn,wn=wn/6+(wn<0?1:0)),[wn*360,tr*100,pr*100]}function Vy(E,p,_){const O=(E%360+360)%360,ee=Wr(p/100,0,1),Te=Wr(_/100,0,1),Ke=(1-Math.abs(2*Te-1))*ee,St=Ke*(1-Math.abs(O/60%2-1)),fn=Te-Ke/2;let wn,tr,pr;return O>=0&&O<60?[wn,tr,pr]=[Ke,St,0]:O>=60&&O<120?[wn,tr,pr]=[St,Ke,0]:O>=120&&O<180?[wn,tr,pr]=[0,Ke,St]:O>=180&&O<240?[wn,tr,pr]=[0,St,Ke]:O>=240&&O<300?[wn,tr,pr]=[St,0,Ke]:[wn,tr,pr]=[Ke,0,St],[(wn+fn)*255,(tr+fn)*255,(pr+fn)*255]}function _l(E,p,_){const O=Wr(E/255,0,1),ee=Wr(p/255,0,1),Te=Wr(_/255,0,1),Ke=Math.max(O,ee,Te),St=Math.min(O,ee,Te),fn=Ke-St;let wn;fn===0?wn=0:Ke===O?wn=60*(((ee-Te)/fn%6+6)%6):Ke===ee?wn=60*((Te-O)/fn+2):wn=60*((O-ee)/fn+4);const tr=Ke===0?0:fn/Ke,pr=Ke;return[wn,tr*100,pr*100]}function Hd(E,p,_){const O=uv(E,360),ee=Wr(p/100,0,1),Te=Wr(_/100,0,1),Ke=Te*ee,St=Ke*(1-Math.abs(O/60%2-1)),fn=Te-Ke;let wn,tr,pr;return O>=0&&O<60?[wn,tr,pr]=[Ke,St,0]:O>=60&&O<120?[wn,tr,pr]=[St,Ke,0]:O>=120&&O<180?[wn,tr,pr]=[0,Ke,St]:O>=180&&O<240?[wn,tr,pr]=[0,St,Ke]:O>=240&&O<300?[wn,tr,pr]=[St,0,Ke]:[wn,tr,pr]=[Ke,0,St],[(wn+fn)*255,(tr+fn)*255,(pr+fn)*255]}function wC(E,p,_){const O=_+p*(100-Math.abs(2*_-100))/200;return[E,O!==0?p*(100-Math.abs(2*_-100))/O:0,_+p*(100-Math.abs(2*_-100))/(2*100)]}function _C(E,p,_){const O=100-Math.abs(_*(200-p)/100-100);return[E,O!==0?p*_/O:0,_*(200-p)/(2*100)]}function yc(E){return[E[0],E[1],E[2]]}function hu(E,p){return[E[0],E[1],E[2],p]}const La={hsl:{hsl:(E,p,_)=>[E,p,_],hsv:wC,rgb:Vy},hsv:{hsl:_C,hsv:(E,p,_)=>[E,p,_],rgb:Hd},rgb:{hsl:hv,hsv:_l,rgb:(E,p,_)=>[E,p,_]}};function Uy(E,p,_){return La[p][_](...E)}const SC={hsl:E=>{var p;return[uv(E[0],360),Wr(E[1],0,100),Wr(E[2],0,100),Wr((p=E[3])!==null&&p!==void 0?p:1,0,1)]},hsv:E=>{var p;return[uv(E[0],360),Wr(E[1],0,100),Wr(E[2],0,100),Wr((p=E[3])!==null&&p!==void 0?p:1,0,1)]},rgb:E=>{var p;return[Wr(E[0],0,255),Wr(E[1],0,255),Wr(E[2],0,255),Wr((p=E[3])!==null&&p!==void 0?p:1,0,1)]}};function gh(E,p){return typeof E!="object"||c(E)?!1:p in E&&typeof E[p]=="number"}class Gn{constructor(p,_){this.mode_=_,this.comps_=SC[_](p)}static black(){return new Gn([0,0,0],"rgb")}static fromObject(p){const _="a"in p?[p.r,p.g,p.b,p.a]:[p.r,p.g,p.b];return new Gn(_,"rgb")}static toRgbaObject(p){return p.toRgbaObject()}static isRgbColorObject(p){return gh(p,"r")&&gh(p,"g")&&gh(p,"b")}static isRgbaColorObject(p){return this.isRgbColorObject(p)&&gh(p,"a")}static isColorObject(p){return this.isRgbColorObject(p)}static equals(p,_){if(p.mode_!==_.mode_)return!1;const O=p.comps_,ee=_.comps_;for(let Te=0;Te<O.length;Te++)if(O[Te]!==ee[Te])return!1;return!0}get mode(){return this.mode_}getComponents(p){return hu(Uy(yc(this.comps_),this.mode_,p||this.mode_),this.comps_[3])}toRgbaObject(){const p=this.getComponents("rgb");return{r:p[0],g:p[1],b:p[2],a:p[3]}}}const Sl=S("colp");class CC{constructor(p,_){this.alphaViews_=null,this.element=p.createElement("div"),this.element.classList.add(Sl());const O=p.createElement("div");O.classList.add(Sl("hsv"));const ee=p.createElement("div");ee.classList.add(Sl("sv")),this.svPaletteView_=_.svPaletteView,ee.appendChild(this.svPaletteView_.element),O.appendChild(ee);const Te=p.createElement("div");Te.classList.add(Sl("h")),this.hPaletteView_=_.hPaletteView,Te.appendChild(this.hPaletteView_.element),O.appendChild(Te),this.element.appendChild(O);const Ke=p.createElement("div");if(Ke.classList.add(Sl("rgb")),this.textView_=_.textView,Ke.appendChild(this.textView_.element),this.element.appendChild(Ke),_.alphaViews){this.alphaViews_={palette:_.alphaViews.palette,text:_.alphaViews.text};const St=p.createElement("div");St.classList.add(Sl("a"));const fn=p.createElement("div");fn.classList.add(Sl("ap")),fn.appendChild(this.alphaViews_.palette.element),St.appendChild(fn);const wn=p.createElement("div");wn.classList.add(Sl("at")),wn.appendChild(this.alphaViews_.text.element),St.appendChild(wn),this.element.appendChild(St)}}get allFocusableElements(){const p=[this.svPaletteView_.element,this.hPaletteView_.element,this.textView_.modeSelectElement,...this.textView_.textViews.map(_=>_.inputElement)];return this.alphaViews_&&p.push(this.alphaViews_.palette.element,this.alphaViews_.text.inputElement),p}}function Cl(E){const p=re;return se(E,{alpha:p.optional.boolean,expanded:p.optional.boolean,picker:p.optional.custom(mh)})}function Ne(E){return E?.1:1}function tt(E,p){const _=E.match(/^(.+)%$/);return Math.min(_?parseFloat(_[1])*.01*p:parseFloat(E),p)}const Qe={deg:E=>E,grad:E=>E*360/400,rad:E=>E*360/(2*Math.PI),turn:E=>E*360};function Vt(E){const p=E.match(/^([0-9.]+?)(deg|grad|rad|turn)$/);if(!p)return parseFloat(E);const _=parseFloat(p[1]),O=p[2];return Qe[O](_)}const bn={"func.rgb":E=>{const p=E.match(/^rgb\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!p)return null;const _=[tt(p[1],255),tt(p[2],255),tt(p[3],255)];return isNaN(_[0])||isNaN(_[1])||isNaN(_[2])?null:new Gn(_,"rgb")},"func.rgba":E=>{const p=E.match(/^rgba\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!p)return null;const _=[tt(p[1],255),tt(p[2],255),tt(p[3],255),tt(p[4],1)];return isNaN(_[0])||isNaN(_[1])||isNaN(_[2])||isNaN(_[3])?null:new Gn(_,"rgb")},"func.hsl":E=>{const p=E.match(/^hsl\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!p)return null;const _=[Vt(p[1]),tt(p[2],100),tt(p[3],100)];return isNaN(_[0])||isNaN(_[1])||isNaN(_[2])?null:new Gn(_,"hsl")},"func.hsla":E=>{const p=E.match(/^hsla\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!p)return null;const _=[Vt(p[1]),tt(p[2],100),tt(p[3],100),tt(p[4],1)];return isNaN(_[0])||isNaN(_[1])||isNaN(_[2])||isNaN(_[3])?null:new Gn(_,"hsl")},"hex.rgb":E=>{const p=E.match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(p)return new Gn([parseInt(p[1]+p[1],16),parseInt(p[2]+p[2],16),parseInt(p[3]+p[3],16)],"rgb");const _=E.match(/^(?:#|0x)([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return _?new Gn([parseInt(_[1],16),parseInt(_[2],16),parseInt(_[3],16)],"rgb"):null},"hex.rgba":E=>{const p=E.match(/^#?([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(p)return new Gn([parseInt(p[1]+p[1],16),parseInt(p[2]+p[2],16),parseInt(p[3]+p[3],16),Fr(parseInt(p[4]+p[4],16),0,255,0,1)],"rgb");const _=E.match(/^(?:#|0x)?([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return _?new Gn([parseInt(_[1],16),parseInt(_[2],16),parseInt(_[3],16),Fr(parseInt(_[4],16),0,255,0,1)],"rgb"):null}};function er(E){return Object.keys(bn).reduce((_,O)=>_||(bn[O](E)?O:null),null)}const ai=E=>{const p=er(E);return p?bn[p](E):null};function kr(E){return E==="func.hsla"||E==="func.rgba"||E==="hex.rgba"}function pv(E){if(typeof E=="string"){const p=ai(E);if(p)return p}return Gn.black()}function Hy(E){const p=Wr(Math.floor(E),0,255).toString(16);return p.length===1?`0${p}`:p}function ko(E,p="#"){const _=yc(E.getComponents("rgb")).map(Hy).join("");return`${p}${_}`}function pu(E,p="#"){const _=E.getComponents("rgb"),O=[_[0],_[1],_[2],_[3]*255].map(Hy).join("");return`${p}${O}`}function Wy(E){const p=Qn(0);return`rgb(${yc(E.getComponents("rgb")).map(O=>p(O)).join(", ")})`}function Fs(E){const p=Qn(2),_=Qn(0);return`rgba(${E.getComponents("rgb").map((ee,Te)=>(Te===3?p:_)(ee)).join(", ")})`}function yh(E){const p=[Qn(0),Co,Co];return`hsl(${yc(E.getComponents("hsl")).map((O,ee)=>p[ee](O)).join(", ")})`}function xh(E){const p=[Qn(0),Co,Co,Qn(2)];return`hsla(${E.getComponents("hsl").map((O,ee)=>p[ee](O)).join(", ")})`}const _r={"func.hsl":yh,"func.hsla":xh,"func.rgb":Wy,"func.rgba":Fs,"hex.rgb":ko,"hex.rgba":pu};function jy(E){return _r[E]}const xc=S("apl");class bh{constructor(p,_){this.onValueChange_=this.onValueChange_.bind(this),this.value=_.value,this.value.emitter.on("change",this.onValueChange_),this.element=p.createElement("div"),this.element.classList.add(xc()),_.viewProps.bindTabIndex(this.element);const O=p.createElement("div");O.classList.add(xc("b")),this.element.appendChild(O);const ee=p.createElement("div");ee.classList.add(xc("c")),O.appendChild(ee),this.colorElem_=ee;const Te=p.createElement("div");Te.classList.add(xc("m")),this.element.appendChild(Te),this.markerElem_=Te;const Ke=p.createElement("div");Ke.classList.add(xc("p")),this.markerElem_.appendChild(Ke),this.previewElem_=Ke,this.update_()}update_(){const p=this.value.rawValue,_=p.getComponents("rgb"),O=new Gn([_[0],_[1],_[2],0],"rgb"),ee=new Gn([_[0],_[1],_[2],255],"rgb"),Te=["to right",Fs(O),Fs(ee)];this.colorElem_.style.background=`linear-gradient(${Te.join(",")})`,this.previewElem_.style.backgroundColor=Fs(p);const Ke=Fr(_[3],0,1,0,100);this.markerElem_.style.left=`${Ke}%`}onValueChange_(){this.update_()}}class EC{constructor(p,_){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=_.value,this.viewProps=_.viewProps,this.view=new bh(p,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new cu(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(p,_){if(!p.point)return;const O=p.point.x/p.bounds.width,ee=this.value.rawValue,[Te,Ke,St]=ee.getComponents("hsv");this.value.setRawValue(new Gn([Te,Ke,St,O],"hsv"),_)}onPointerDown_(p){this.handlePointerEvent_(p.data,{forceEmit:!1,last:!1})}onPointerMove_(p){this.handlePointerEvent_(p.data,{forceEmit:!1,last:!1})}onPointerUp_(p){this.handlePointerEvent_(p.data,{forceEmit:!0,last:!0})}onKeyDown_(p){const _=gi(Ne(!0),Ia(p));if(_===0)return;const O=this.value.rawValue,[ee,Te,Ke,St]=O.getComponents("hsv");this.value.setRawValue(new Gn([ee,Te,Ke,St+_],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(p){gi(Ne(!0),Ia(p))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const bc=S("coltxt");function MC(E){const p=E.createElement("select"),_=[{text:"RGB",value:"rgb"},{text:"HSL",value:"hsl"},{text:"HSV",value:"hsv"}];return p.appendChild(_.reduce((O,ee)=>{const Te=E.createElement("option");return Te.textContent=ee.text,Te.value=ee.value,O.appendChild(Te),O},E.createDocumentFragment())),p}class wh{constructor(p,_){this.element=p.createElement("div"),this.element.classList.add(bc());const O=p.createElement("div");O.classList.add(bc("m")),this.modeElem_=MC(p),this.modeElem_.classList.add(bc("ms")),O.appendChild(this.modeSelectElement);const ee=p.createElement("div");ee.classList.add(bc("mm")),ee.appendChild(We(p,"dropdown")),O.appendChild(ee),this.element.appendChild(O);const Te=p.createElement("div");Te.classList.add(bc("w")),this.element.appendChild(Te),this.textsElem_=Te,this.textViews_=_.textViews,this.applyTextViews_(),T(_.colorMode,Ke=>{this.modeElem_.value=Ke})}get modeSelectElement(){return this.modeElem_}get textViews(){return this.textViews_}set textViews(p){this.textViews_=p,this.applyTextViews_()}applyTextViews_(){Be(this.textsElem_);const p=this.element.ownerDocument;this.textViews_.forEach(_=>{const O=p.createElement("div");O.classList.add(bc("c")),O.appendChild(_.element),this.textsElem_.appendChild(O)})}}const El=Qn(0),_h={rgb:()=>new Tr({min:0,max:255}),hsl:E=>E===0?new Tr({min:0,max:360}):new Tr({min:0,max:100}),hsv:E=>E===0?new Tr({min:0,max:360}):new Tr({min:0,max:100})};function Sh(E,p,_){return new cs(E,{arrayPosition:_===0?"fst":_===3-1?"lst":"mid",baseStep:Ne(!1),parser:p.parser,props:j.fromObject({draggingScale:1,formatter:El}),value:K(0,{constraint:_h[p.colorMode](_)}),viewProps:p.viewProps})}class Ch{constructor(p,_){this.onModeSelectChange_=this.onModeSelectChange_.bind(this),this.parser_=_.parser,this.value=_.value,this.viewProps=_.viewProps,this.colorMode=K(this.value.rawValue.mode),this.ccs_=this.createComponentControllers_(p),this.view=new wh(p,{colorMode:this.colorMode,textViews:[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view]}),this.view.modeSelectElement.addEventListener("change",this.onModeSelectChange_)}createComponentControllers_(p){const _={colorMode:this.colorMode.rawValue,parser:this.parser_,viewProps:this.viewProps},O=[Sh(p,_,0),Sh(p,_,1),Sh(p,_,2)];return O.forEach((ee,Te)=>{pc({primary:this.value,secondary:ee.value,forward:Ke=>Ke.rawValue.getComponents(this.colorMode.rawValue)[Te],backward:(Ke,St)=>{const fn=this.colorMode.rawValue,wn=Ke.rawValue.getComponents(fn);return wn[Te]=St.rawValue,new Gn(hu(yc(wn),wn[3]),fn)}})}),O}onModeSelectChange_(p){const _=p.currentTarget;this.colorMode.rawValue=_.value,this.ccs_=this.createComponentControllers_(this.view.element.ownerDocument),this.view.textViews=[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view]}}const Eh=S("hpl");class Gy{constructor(p,_){this.onValueChange_=this.onValueChange_.bind(this),this.value=_.value,this.value.emitter.on("change",this.onValueChange_),this.element=p.createElement("div"),this.element.classList.add(Eh()),_.viewProps.bindTabIndex(this.element);const O=p.createElement("div");O.classList.add(Eh("c")),this.element.appendChild(O);const ee=p.createElement("div");ee.classList.add(Eh("m")),this.element.appendChild(ee),this.markerElem_=ee,this.update_()}update_(){const p=this.value.rawValue,[_]=p.getComponents("hsv");this.markerElem_.style.backgroundColor=Wy(new Gn([_,100,100],"hsv"));const O=Fr(_,0,360,0,100);this.markerElem_.style.left=`${O}%`}onValueChange_(){this.update_()}}class Mh{constructor(p,_){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=_.value,this.viewProps=_.viewProps,this.view=new Gy(p,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new cu(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(p,_){if(!p.point)return;const O=Fr(Wr(p.point.x,0,p.bounds.width),0,p.bounds.width,0,359),ee=this.value.rawValue,[,Te,Ke,St]=ee.getComponents("hsv");this.value.setRawValue(new Gn([O,Te,Ke,St],"hsv"),_)}onPointerDown_(p){this.handlePointerEvent_(p.data,{forceEmit:!1,last:!1})}onPointerMove_(p){this.handlePointerEvent_(p.data,{forceEmit:!1,last:!1})}onPointerUp_(p){this.handlePointerEvent_(p.data,{forceEmit:!0,last:!0})}onKeyDown_(p){const _=gi(Ne(!1),Ia(p));if(_===0)return;const O=this.value.rawValue,[ee,Te,Ke,St]=O.getComponents("hsv");this.value.setRawValue(new Gn([ee+_,Te,Ke,St],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(p){gi(Ne(!1),Ia(p))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const Th=S("svp"),wc=64;class mu{constructor(p,_){this.onValueChange_=this.onValueChange_.bind(this),this.value=_.value,this.value.emitter.on("change",this.onValueChange_),this.element=p.createElement("div"),this.element.classList.add(Th()),_.viewProps.bindTabIndex(this.element);const O=p.createElement("canvas");O.height=wc,O.width=wc,O.classList.add(Th("c")),this.element.appendChild(O),this.canvasElement=O;const ee=p.createElement("div");ee.classList.add(Th("m")),this.element.appendChild(ee),this.markerElem_=ee,this.update_()}update_(){const p=ze(this.canvasElement);if(!p)return;const O=this.value.rawValue.getComponents("hsv"),ee=this.canvasElement.width,Te=this.canvasElement.height,Ke=p.getImageData(0,0,ee,Te),St=Ke.data;for(let tr=0;tr<Te;tr++)for(let pr=0;pr<ee;pr++){const Hs=Fr(pr,0,ee,0,100),Pc=Fr(tr,0,Te,100,0),Ac=Hd(O[0],Hs,Pc),gu=(tr*ee+pr)*4;St[gu]=Ac[0],St[gu+1]=Ac[1],St[gu+2]=Ac[2],St[gu+3]=255}p.putImageData(Ke,0,0);const fn=Fr(O[1],0,100,0,100);this.markerElem_.style.left=`${fn}%`;const wn=Fr(O[2],0,100,100,0);this.markerElem_.style.top=`${wn}%`}onValueChange_(){this.update_()}}class Ph{constructor(p,_){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=_.value,this.viewProps=_.viewProps,this.view=new mu(p,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new cu(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(p,_){if(!p.point)return;const O=Fr(p.point.x,0,p.bounds.width,0,100),ee=Fr(p.point.y,0,p.bounds.height,100,0),[Te,,,Ke]=this.value.rawValue.getComponents("hsv");this.value.setRawValue(new Gn([Te,O,ee,Ke],"hsv"),_)}onPointerDown_(p){this.handlePointerEvent_(p.data,{forceEmit:!1,last:!1})}onPointerMove_(p){this.handlePointerEvent_(p.data,{forceEmit:!1,last:!1})}onPointerUp_(p){this.handlePointerEvent_(p.data,{forceEmit:!0,last:!0})}onKeyDown_(p){Ds(p.key)&&p.preventDefault();const[_,O,ee,Te]=this.value.rawValue.getComponents("hsv"),Ke=Ne(!1),St=gi(Ke,Ia(p)),fn=gi(Ke,bl(p));St===0&&fn===0||this.value.setRawValue(new Gn([_,O+St,ee+fn,Te],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(p){const _=Ne(!1),O=gi(_,Ia(p)),ee=gi(_,bl(p));O===0&&ee===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class TC{constructor(p,_){this.value=_.value,this.viewProps=_.viewProps,this.hPaletteC_=new Mh(p,{value:this.value,viewProps:this.viewProps}),this.svPaletteC_=new Ph(p,{value:this.value,viewProps:this.viewProps}),this.alphaIcs_=_.supportsAlpha?{palette:new EC(p,{value:this.value,viewProps:this.viewProps}),text:new cs(p,{parser:Zi,baseStep:.1,props:j.fromObject({draggingScale:.01,formatter:Qn(2)}),value:K(0,{constraint:new Tr({min:0,max:1})}),viewProps:this.viewProps})}:null,this.alphaIcs_&&pc({primary:this.value,secondary:this.alphaIcs_.text.value,forward:O=>O.rawValue.getComponents()[3],backward:(O,ee)=>{const Te=O.rawValue.getComponents();return Te[3]=ee.rawValue,new Gn(Te,O.rawValue.mode)}}),this.textC_=new Ch(p,{parser:Zi,value:this.value,viewProps:this.viewProps}),this.view=new CC(p,{alphaViews:this.alphaIcs_?{palette:this.alphaIcs_.palette.view,text:this.alphaIcs_.text.view}:null,hPaletteView:this.hPaletteC_.view,supportsAlpha:_.supportsAlpha,svPaletteView:this.svPaletteC_.view,textView:this.textC_.view})}get textController(){return this.textC_}}const mv=S("colsw");class PC{constructor(p,_){this.onValueChange_=this.onValueChange_.bind(this),_.value.emitter.on("change",this.onValueChange_),this.value=_.value,this.element=p.createElement("div"),this.element.classList.add(mv()),_.viewProps.bindClassModifiers(this.element);const O=p.createElement("div");O.classList.add(mv("sw")),this.element.appendChild(O),this.swatchElem_=O;const ee=p.createElement("button");ee.classList.add(mv("b")),_.viewProps.bindDisabled(ee),this.element.appendChild(ee),this.buttonElement=ee,this.update_()}update_(){const p=this.value.rawValue;this.swatchElem_.style.backgroundColor=pu(p)}onValueChange_(){this.update_()}}class Ah{constructor(p,_){this.value=_.value,this.viewProps=_.viewProps,this.view=new PC(p,{value:this.value,viewProps:this.viewProps})}}class _c{constructor(p,_){this.onButtonBlur_=this.onButtonBlur_.bind(this),this.onButtonClick_=this.onButtonClick_.bind(this),this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.value=_.value,this.viewProps=_.viewProps,this.foldable_=_e.create(_.expanded),this.swatchC_=new Ah(p,{value:this.value,viewProps:this.viewProps});const O=this.swatchC_.view.buttonElement;O.addEventListener("blur",this.onButtonBlur_),O.addEventListener("click",this.onButtonClick_),this.textC_=new hr(p,{parser:_.parser,props:j.fromObject({formatter:_.formatter}),value:this.value,viewProps:this.viewProps}),this.view=new bC(p,{foldable:this.foldable_,pickerLayout:_.pickerLayout}),this.view.swatchElement.appendChild(this.swatchC_.view.element),this.view.textElement.appendChild(this.textC_.view.element),this.popC_=_.pickerLayout==="popup"?new lu(p,{viewProps:this.viewProps}):null;const ee=new TC(p,{supportsAlpha:_.supportsAlpha,value:this.value,viewProps:this.viewProps});ee.view.allFocusableElements.forEach(Te=>{Te.addEventListener("blur",this.onPopupChildBlur_),Te.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=ee,this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(ee.view.element),pc({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:Te=>Te.rawValue,backward:(Te,Ke)=>Ke.rawValue})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),de(this.foldable_,this.view.pickerElement))}get textController(){return this.textC_}onButtonBlur_(p){if(!this.popC_)return;const _=this.view.element,O=p.relatedTarget;(!O||!_.contains(O))&&(this.popC_.shows.rawValue=!1)}onButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(p){if(!this.popC_)return;const _=this.popC_.view.element,O=te(p);O&&_.contains(O)||O&&O===this.swatchC_.view.buttonElement&&!be(_.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(p){this.popC_?p.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&p.key==="Escape"&&this.swatchC_.view.buttonElement.focus()}}function vv(E){return Gn.isColorObject(E)?Gn.fromObject(E):Gn.black()}function AC(E){return yc(E.getComponents("rgb")).reduce((p,_)=>p<<8|Math.floor(_)&255,0)}function $y(E){return E.getComponents("rgb").reduce((p,_,O)=>{const ee=Math.floor(O===3?_*255:_)&255;return p<<8|ee},0)>>>0}function RC(E){return new Gn([E>>16&255,E>>8&255,E&255],"rgb")}function OC(E){return new Gn([E>>24&255,E>>16&255,E>>8&255,Fr(E&255,0,255,0,1)],"rgb")}function Di(E){return typeof E!="number"?Gn.black():RC(E)}function vo(E){return typeof E!="number"?Gn.black():OC(E)}function NC(E){const p=jy(E);return(_,O)=>{zd(_,p(O))}}function kC(E){const p=E?$y:AC;return(_,O)=>{zd(_,p(O))}}function Ky(E,p){const _=p.toRgbaObject();E.writeProperty("r",_.r),E.writeProperty("g",_.g),E.writeProperty("b",_.b),E.writeProperty("a",_.a)}function IC(E,p){const _=p.toRgbaObject();E.writeProperty("r",_.r),E.writeProperty("g",_.g),E.writeProperty("b",_.b)}function gv(E){return E?Ky:IC}function vu(E){return"alpha"in E&&E.alpha===!0}function yv(E){return E?p=>pu(p,"0x"):p=>ko(p,"0x")}const Sc={id:"input-color-number",type:"input",accept:(E,p)=>{if(typeof E!="number"||!("view"in p)||p.view!=="color")return null;const _=Cl(p);return _?{initialValue:E,params:_}:null},binding:{reader:E=>vu(E.params)?vo:Di,equals:Gn.equals,writer:E=>kC(vu(E.params))},controller:E=>{const p=vu(E.params),_="expanded"in E.params?E.params.expanded:void 0,O="picker"in E.params?E.params.picker:void 0;return new _c(E.document,{expanded:_!=null?_:!1,formatter:yv(p),parser:ai,pickerLayout:O!=null?O:"popup",supportsAlpha:p,value:E.value,viewProps:E.viewProps})}};function Wd(E){return Gn.isRgbaColorObject(E)}const jd={id:"input-color-object",type:"input",accept:(E,p)=>{if(!Gn.isColorObject(E))return null;const _=Cl(p);return _?{initialValue:E,params:_}:null},binding:{reader:E=>vv,equals:Gn.equals,writer:E=>gv(Wd(E.initialValue))},controller:E=>{const p=Gn.isRgbaColorObject(E.initialValue),_="expanded"in E.params?E.params.expanded:void 0,O="picker"in E.params?E.params.picker:void 0,ee=p?pu:ko;return new _c(E.document,{expanded:_!=null?_:!1,formatter:ee,parser:ai,pickerLayout:O!=null?O:"popup",supportsAlpha:p,value:E.value,viewProps:E.viewProps})}},Rh={id:"input-color-string",type:"input",accept:(E,p)=>{if(typeof E!="string"||"view"in p&&p.view==="text"||!er(E))return null;const O=Cl(p);return O?{initialValue:E,params:O}:null},binding:{reader:E=>pv,equals:Gn.equals,writer:E=>{const p=er(E.initialValue);if(!p)throw m.shouldNeverHappen();return NC(p)}},controller:E=>{const p=er(E.initialValue);if(!p)throw m.shouldNeverHappen();const _=jy(p),O="expanded"in E.params?E.params.expanded:void 0,ee="picker"in E.params?E.params.picker:void 0;return new _c(E.document,{expanded:O!=null?O:!1,formatter:_,parser:ai,pickerLayout:ee!=null?ee:"popup",supportsAlpha:kr(p),value:E.value,viewProps:E.viewProps})}};class Qo{constructor(p){this.components=p.components,this.asm_=p.assembly}constrain(p){const _=this.asm_.toComponents(p).map((O,ee)=>{var Te,Ke;return(Ke=(Te=this.components[ee])===null||Te===void 0?void 0:Te.constrain(O))!==null&&Ke!==void 0?Ke:O});return this.asm_.fromComponents(_)}}const qy=S("pndtxt");class LC{constructor(p,_){this.textViews=_.textViews,this.element=p.createElement("div"),this.element.classList.add(qy()),this.textViews.forEach(O=>{const ee=p.createElement("div");ee.classList.add(qy("a")),ee.appendChild(O.element),this.element.appendChild(ee)})}}function DC(E,p,_){return new cs(E,{arrayPosition:_===0?"fst":_===p.axes.length-1?"lst":"mid",baseStep:p.axes[_].baseStep,parser:p.parser,props:p.axes[_].textProps,value:K(0,{constraint:p.axes[_].constraint}),viewProps:p.viewProps})}class xv{constructor(p,_){this.value=_.value,this.viewProps=_.viewProps,this.acs_=_.axes.map((O,ee)=>DC(p,_,ee)),this.acs_.forEach((O,ee)=>{pc({primary:this.value,secondary:O.value,forward:Te=>_.assembly.toComponents(Te.rawValue)[ee],backward:(Te,Ke)=>{const St=_.assembly.toComponents(Te.rawValue);return St[ee]=Ke.rawValue,_.assembly.fromComponents(St)}})}),this.view=new LC(p,{textViews:this.acs_.map(O=>O.view)})}}function FC(E){return"step"in E&&!c(E.step)?new Kr(E.step):null}function Oh(E){return"max"in E&&!c(E.max)||"min"in E&&!c(E.min)?new Tr({max:E.max,min:E.min}):null}function Gd(E){const p=[],_=FC(E);_&&p.push(_);const O=Oh(E);O&&p.push(O);const ee=Eo(E.options);return ee&&p.push(ee),new Yn(p)}function Xy(E){const p=E?fr(E,Tr):null;return p?[p.minValue,p.maxValue]:[void 0,void 0]}function ie(E){const[p,_]=Xy(E);return[p!=null?p:0,_!=null?_:100]}const Cc={id:"input-number",type:"input",accept:(E,p)=>{if(typeof E!="number")return null;const _=re,O=se(p,{format:_.optional.function,max:_.optional.number,min:_.optional.number,options:_.optional.custom(mc),step:_.optional.number});return O?{initialValue:E,params:O}:null},binding:{reader:E=>Pr,constraint:E=>Gd(E.params),writer:E=>zd},controller:E=>{var p,_;const O=E.value,ee=E.constraint;if(ee&&fr(ee,$r))return new Ii(E.document,{props:j.fromObject({options:(p=Bd(ee))!==null&&p!==void 0?p:[]}),value:O,viewProps:E.viewProps});const Te=(_="format"in E.params?E.params.format:void 0)!==null&&_!==void 0?_:Qn(Ud(ee,O.rawValue));if(ee&&fr(ee,Tr)){const[Ke,St]=ie(ee);return new ph(E.document,{baseStep:du(ee),parser:Zi,sliderProps:j.fromObject({maxValue:St,minValue:Ke}),textProps:j.fromObject({draggingScale:vc(ee,O.rawValue),formatter:Te}),value:O,viewProps:E.viewProps})}return new cs(E.document,{baseStep:du(ee),parser:Zi,props:j.fromObject({draggingScale:vc(ee,O.rawValue),formatter:Te}),value:O,viewProps:E.viewProps})}};class Da{constructor(p=0,_=0){this.x=p,this.y=_}getComponents(){return[this.x,this.y]}static isObject(p){if(c(p))return!1;const _=p.x,O=p.y;return!(typeof _!="number"||typeof O!="number")}static equals(p,_){return p.x===_.x&&p.y===_.y}toObject(){return{x:this.x,y:this.y}}}const ea={toComponents:E=>E.getComponents(),fromComponents:E=>new Da(...E)},Nn=S("p2d");class zC{constructor(p,_){this.element=p.createElement("div"),this.element.classList.add(Nn()),_.viewProps.bindClassModifiers(this.element),T(_.expanded,A(this.element,Nn(void 0,"expanded")));const O=p.createElement("div");O.classList.add(Nn("h")),this.element.appendChild(O);const ee=p.createElement("button");ee.classList.add(Nn("b")),ee.appendChild(We(p,"p2dpad")),_.viewProps.bindDisabled(ee),O.appendChild(ee),this.buttonElement=ee;const Te=p.createElement("div");if(Te.classList.add(Nn("t")),O.appendChild(Te),this.textElement=Te,_.pickerLayout==="inline"){const Ke=p.createElement("div");Ke.classList.add(Nn("p")),this.element.appendChild(Ke),this.pickerElement=Ke}else this.pickerElement=null}}const Ml=S("p2dp");class BC{constructor(p,_){this.onFoldableChange_=this.onFoldableChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.invertsY_=_.invertsY,this.maxValue_=_.maxValue,this.element=p.createElement("div"),this.element.classList.add(Ml()),_.layout==="popup"&&this.element.classList.add(Ml(void 0,"p"));const O=p.createElement("div");O.classList.add(Ml("p")),_.viewProps.bindTabIndex(O),this.element.appendChild(O),this.padElement=O;const ee=p.createElementNS(Fe,"svg");ee.classList.add(Ml("g")),this.padElement.appendChild(ee),this.svgElem_=ee;const Te=p.createElementNS(Fe,"line");Te.classList.add(Ml("ax")),Te.setAttributeNS(null,"x1","0"),Te.setAttributeNS(null,"y1","50%"),Te.setAttributeNS(null,"x2","100%"),Te.setAttributeNS(null,"y2","50%"),this.svgElem_.appendChild(Te);const Ke=p.createElementNS(Fe,"line");Ke.classList.add(Ml("ax")),Ke.setAttributeNS(null,"x1","50%"),Ke.setAttributeNS(null,"y1","0"),Ke.setAttributeNS(null,"x2","50%"),Ke.setAttributeNS(null,"y2","100%"),this.svgElem_.appendChild(Ke);const St=p.createElementNS(Fe,"line");St.classList.add(Ml("l")),St.setAttributeNS(null,"x1","50%"),St.setAttributeNS(null,"y1","50%"),this.svgElem_.appendChild(St),this.lineElem_=St;const fn=p.createElement("div");fn.classList.add(Ml("m")),this.padElement.appendChild(fn),this.markerElem_=fn,_.value.emitter.on("change",this.onValueChange_),this.value=_.value,this.update_()}get allFocusableElements(){return[this.padElement]}update_(){const[p,_]=this.value.rawValue.getComponents(),O=this.maxValue_,ee=Fr(p,-O,+O,0,100),Te=Fr(_,-O,+O,0,100),Ke=this.invertsY_?100-Te:Te;this.lineElem_.setAttributeNS(null,"x2",`${ee}%`),this.lineElem_.setAttributeNS(null,"y2",`${Ke}%`),this.markerElem_.style.left=`${ee}%`,this.markerElem_.style.top=`${Ke}%`}onValueChange_(){this.update_()}onFoldableChange_(){this.update_()}}function Tl(E,p,_){return[gi(p[0],Ia(E)),gi(p[1],bl(E))*(_?1:-1)]}class VC{constructor(p,_){this.onPadKeyDown_=this.onPadKeyDown_.bind(this),this.onPadKeyUp_=this.onPadKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=_.value,this.viewProps=_.viewProps,this.baseSteps_=_.baseSteps,this.maxValue_=_.maxValue,this.invertsY_=_.invertsY,this.view=new BC(p,{invertsY:this.invertsY_,layout:_.layout,maxValue:this.maxValue_,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new cu(this.view.padElement),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.padElement.addEventListener("keydown",this.onPadKeyDown_),this.view.padElement.addEventListener("keyup",this.onPadKeyUp_)}handlePointerEvent_(p,_){if(!p.point)return;const O=this.maxValue_,ee=Fr(p.point.x,0,p.bounds.width,-O,+O),Te=Fr(this.invertsY_?p.bounds.height-p.point.y:p.point.y,0,p.bounds.height,-O,+O);this.value.setRawValue(new Da(ee,Te),_)}onPointerDown_(p){this.handlePointerEvent_(p.data,{forceEmit:!1,last:!1})}onPointerMove_(p){this.handlePointerEvent_(p.data,{forceEmit:!1,last:!1})}onPointerUp_(p){this.handlePointerEvent_(p.data,{forceEmit:!0,last:!0})}onPadKeyDown_(p){Ds(p.key)&&p.preventDefault();const[_,O]=Tl(p,this.baseSteps_,this.invertsY_);_===0&&O===0||this.value.setRawValue(new Da(this.value.rawValue.x+_,this.value.rawValue.y+O),{forceEmit:!1,last:!1})}onPadKeyUp_(p){const[_,O]=Tl(p,this.baseSteps_,this.invertsY_);_===0&&O===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class UC{constructor(p,_){var O,ee;this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.onPadButtonBlur_=this.onPadButtonBlur_.bind(this),this.onPadButtonClick_=this.onPadButtonClick_.bind(this),this.value=_.value,this.viewProps=_.viewProps,this.foldable_=_e.create(_.expanded),this.popC_=_.pickerLayout==="popup"?new lu(p,{viewProps:this.viewProps}):null;const Te=new VC(p,{baseSteps:[_.axes[0].baseStep,_.axes[1].baseStep],invertsY:_.invertsY,layout:_.pickerLayout,maxValue:_.maxValue,value:this.value,viewProps:this.viewProps});Te.view.allFocusableElements.forEach(Ke=>{Ke.addEventListener("blur",this.onPopupChildBlur_),Ke.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=Te,this.textC_=new xv(p,{assembly:ea,axes:_.axes,parser:_.parser,value:this.value,viewProps:this.viewProps}),this.view=new zC(p,{expanded:this.foldable_.value("expanded"),pickerLayout:_.pickerLayout,viewProps:this.viewProps}),this.view.textElement.appendChild(this.textC_.view.element),(O=this.view.buttonElement)===null||O===void 0||O.addEventListener("blur",this.onPadButtonBlur_),(ee=this.view.buttonElement)===null||ee===void 0||ee.addEventListener("click",this.onPadButtonClick_),this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(this.pickerC_.view.element),pc({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:Ke=>Ke.rawValue,backward:(Ke,St)=>St.rawValue})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),de(this.foldable_,this.view.pickerElement))}onPadButtonBlur_(p){if(!this.popC_)return;const _=this.view.element,O=p.relatedTarget;(!O||!_.contains(O))&&(this.popC_.shows.rawValue=!1)}onPadButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(p){if(!this.popC_)return;const _=this.popC_.view.element,O=te(p);O&&_.contains(O)||O&&O===this.view.buttonElement&&!be(_.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(p){this.popC_?p.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&p.key==="Escape"&&this.view.buttonElement.focus()}}function HC(E){return Da.isObject(E)?new Da(E.x,E.y):new Da}function WC(E,p){E.writeProperty("x",p.x),E.writeProperty("y",p.y)}function Yy(E){if(!E)return;const p=[];return c(E.step)||p.push(new Kr(E.step)),(!c(E.max)||!c(E.min))&&p.push(new Tr({max:E.max,min:E.min})),new Yn(p)}function zs(E){return new Qo({assembly:ea,components:[Yy("x"in E?E.x:void 0),Yy("y"in E?E.y:void 0)]})}function Zy(E,p){const _=E&&fr(E,Tr);if(_)return Math.max(Math.abs(_.minValue||0),Math.abs(_.maxValue||0));const O=du(E);return Math.max(Math.abs(O)*10,Math.abs(p)*10)}function jC(E,p){const _=p instanceof Qo?p.components[0]:void 0,O=p instanceof Qo?p.components[1]:void 0,ee=Zy(_,E.x),Te=Zy(O,E.y);return Math.max(ee,Te)}function Jy(E,p){return{baseStep:du(p),constraint:p,textProps:j.fromObject({draggingScale:vc(p,E),formatter:Qn(Ud(p,E))})}}function GC(E){if(!("y"in E))return!1;const p=E.y;return p&&"inverted"in p?!!p.inverted:!1}const $C={id:"input-point2d",type:"input",accept:(E,p)=>{if(!Da.isObject(E))return null;const _=re,O=se(p,{expanded:_.optional.boolean,picker:_.optional.custom(mh),x:_.optional.custom(wl),y:_.optional.object({inverted:_.optional.boolean,max:_.optional.number,min:_.optional.number,step:_.optional.number})});return O?{initialValue:E,params:O}:null},binding:{reader:E=>HC,constraint:E=>zs(E.params),equals:Da.equals,writer:E=>WC},controller:E=>{const p=E.document,_=E.value,O=E.constraint;if(!(O instanceof Qo))throw m.shouldNeverHappen();const ee="expanded"in E.params?E.params.expanded:void 0,Te="picker"in E.params?E.params.picker:void 0;return new UC(p,{axes:[Jy(_.rawValue.x,O.components[0]),Jy(_.rawValue.y,O.components[1])],expanded:ee!=null?ee:!1,invertsY:GC(E.params),maxValue:jC(_.rawValue,O),parser:Zi,pickerLayout:Te!=null?Te:"popup",value:_,viewProps:E.viewProps})}};class Io{constructor(p=0,_=0,O=0){this.x=p,this.y=_,this.z=O}getComponents(){return[this.x,this.y,this.z]}static isObject(p){if(c(p))return!1;const _=p.x,O=p.y,ee=p.z;return!(typeof _!="number"||typeof O!="number"||typeof ee!="number")}static equals(p,_){return p.x===_.x&&p.y===_.y&&p.z===_.z}toObject(){return{x:this.x,y:this.y,z:this.z}}}const Qy={toComponents:E=>E.getComponents(),fromComponents:E=>new Io(...E)};function KC(E){return Io.isObject(E)?new Io(E.x,E.y,E.z):new Io}function qC(E,p){E.writeProperty("x",p.x),E.writeProperty("y",p.y),E.writeProperty("z",p.z)}function bv(E){if(!E)return;const p=[];return c(E.step)||p.push(new Kr(E.step)),(!c(E.max)||!c(E.min))&&p.push(new Tr({max:E.max,min:E.min})),new Yn(p)}function XC(E){return new Qo({assembly:Qy,components:[bv("x"in E?E.x:void 0),bv("y"in E?E.y:void 0),bv("z"in E?E.z:void 0)]})}function Bs(E,p){return{baseStep:du(p),constraint:p,textProps:j.fromObject({draggingScale:vc(p,E),formatter:Qn(Ud(p,E))})}}const YC={id:"input-point3d",type:"input",accept:(E,p)=>{if(!Io.isObject(E))return null;const _=re,O=se(p,{x:_.optional.custom(wl),y:_.optional.custom(wl),z:_.optional.custom(wl)});return O?{initialValue:E,params:O}:null},binding:{reader:E=>KC,constraint:E=>XC(E.params),equals:Io.equals,writer:E=>qC},controller:E=>{const p=E.value,_=E.constraint;if(!(_ instanceof Qo))throw m.shouldNeverHappen();return new xv(E.document,{assembly:Qy,axes:[Bs(p.rawValue.x,_.components[0]),Bs(p.rawValue.y,_.components[1]),Bs(p.rawValue.z,_.components[2])],parser:Zi,value:p,viewProps:E.viewProps})}};class Ec{constructor(p=0,_=0,O=0,ee=0){this.x=p,this.y=_,this.z=O,this.w=ee}getComponents(){return[this.x,this.y,this.z,this.w]}static isObject(p){if(c(p))return!1;const _=p.x,O=p.y,ee=p.z,Te=p.w;return!(typeof _!="number"||typeof O!="number"||typeof ee!="number"||typeof Te!="number")}static equals(p,_){return p.x===_.x&&p.y===_.y&&p.z===_.z&&p.w===_.w}toObject(){return{x:this.x,y:this.y,z:this.z,w:this.w}}}const ga={toComponents:E=>E.getComponents(),fromComponents:E=>new Ec(...E)};function ZC(E){return Ec.isObject(E)?new Ec(E.x,E.y,E.z,E.w):new Ec}function JC(E,p){E.writeProperty("x",p.x),E.writeProperty("y",p.y),E.writeProperty("z",p.z),E.writeProperty("w",p.w)}function Nh(E){if(!E)return;const p=[];return c(E.step)||p.push(new Kr(E.step)),(!c(E.max)||!c(E.min))&&p.push(new Tr({max:E.max,min:E.min})),new Yn(p)}function QC(E){return new Qo({assembly:ga,components:[Nh("x"in E?E.x:void 0),Nh("y"in E?E.y:void 0),Nh("z"in E?E.z:void 0),Nh("w"in E?E.w:void 0)]})}function eE(E,p){return{baseStep:du(p),constraint:p,textProps:j.fromObject({draggingScale:vc(p,E),formatter:Qn(Ud(p,E))})}}const ex={id:"input-point4d",type:"input",accept:(E,p)=>{if(!Ec.isObject(E))return null;const _=re,O=se(p,{x:_.optional.custom(wl),y:_.optional.custom(wl),z:_.optional.custom(wl),w:_.optional.custom(wl)});return O?{initialValue:E,params:O}:null},binding:{reader:E=>ZC,constraint:E=>QC(E.params),equals:Ec.equals,writer:E=>JC},controller:E=>{const p=E.value,_=E.constraint;if(!(_ instanceof Qo))throw m.shouldNeverHappen();return new xv(E.document,{assembly:ga,axes:p.rawValue.getComponents().map((O,ee)=>eE(O,_.components[ee])),parser:Zi,value:p,viewProps:E.viewProps})}};function tx(E){const p=[],_=Eo(E.options);return _&&p.push(_),new Yn(p)}const tE={id:"input-string",type:"input",accept:(E,p)=>{if(typeof E!="string")return null;const O=se(p,{options:re.optional.custom(mc)});return O?{initialValue:E,params:O}:null},binding:{reader:E=>xl,constraint:E=>tx(E.params),writer:E=>zd},controller:E=>{var p;const _=E.document,O=E.value,ee=E.constraint;return ee&&fr(ee,$r)?new Ii(_,{props:j.fromObject({options:(p=Bd(ee))!==null&&p!==void 0?p:[]}),value:O,viewProps:E.viewProps}):new hr(_,{parser:Te=>Te,props:j.fromObject({formatter:va}),value:O,viewProps:E.viewProps})}},$d={monitor:{defaultInterval:200,defaultLineCount:3}},kh=S("mll");class Kd{constructor(p,_){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=_.formatter,this.element=p.createElement("div"),this.element.classList.add(kh()),_.viewProps.bindClassModifiers(this.element);const O=p.createElement("textarea");O.classList.add(kh("i")),O.style.height=`calc(var(--bld-us) * ${_.lineCount})`,O.readOnly=!0,_.viewProps.bindDisabled(O),this.element.appendChild(O),this.textareaElem_=O,_.value.emitter.on("change",this.onValueUpdate_),this.value=_.value,this.update_()}update_(){const p=this.textareaElem_,_=p.scrollTop===p.scrollHeight-p.clientHeight,O=[];this.value.rawValue.forEach(ee=>{ee!==void 0&&O.push(this.formatter_(ee))}),p.textContent=O.join(`
`),_&&(p.scrollTop=p.scrollHeight)}onValueUpdate_(){this.update_()}}class Mc{constructor(p,_){this.value=_.value,this.viewProps=_.viewProps,this.view=new Kd(p,{formatter:_.formatter,lineCount:_.lineCount,value:this.value,viewProps:this.viewProps})}}const nx=S("sgl");class rx{constructor(p,_){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=_.formatter,this.element=p.createElement("div"),this.element.classList.add(nx()),_.viewProps.bindClassModifiers(this.element);const O=p.createElement("input");O.classList.add(nx("i")),O.readOnly=!0,O.type="text",_.viewProps.bindDisabled(O),this.element.appendChild(O),this.inputElement=O,_.value.emitter.on("change",this.onValueUpdate_),this.value=_.value,this.update_()}update_(){const p=this.value.rawValue,_=p[p.length-1];this.inputElement.value=_!==void 0?this.formatter_(_):""}onValueUpdate_(){this.update_()}}class wv{constructor(p,_){this.value=_.value,this.viewProps=_.viewProps,this.view=new rx(p,{formatter:_.formatter,value:this.value,viewProps:this.viewProps})}}const Vs={id:"monitor-bool",type:"monitor",accept:(E,p)=>{if(typeof E!="boolean")return null;const O=se(p,{lineCount:re.optional.number});return O?{initialValue:E,params:O}:null},binding:{reader:E=>uu},controller:E=>{var p;return E.value.rawValue.length===1?new wv(E.document,{formatter:mo,value:E.value,viewProps:E.viewProps}):new Mc(E.document,{formatter:mo,lineCount:(p=E.params.lineCount)!==null&&p!==void 0?p:$d.monitor.defaultLineCount,value:E.value,viewProps:E.viewProps})}};class _v{constructor(){this.emitter=new b,this.index_=-1}get index(){return this.index_}set index(p){this.index_!==p&&(this.index_=p,this.emitter.emit("change",{index:p,sender:this}))}}const Lo=S("grl");class ya{constructor(p,_){this.onCursorChange_=this.onCursorChange_.bind(this),this.onValueUpdate_=this.onValueUpdate_.bind(this),this.element=p.createElement("div"),this.element.classList.add(Lo()),_.viewProps.bindClassModifiers(this.element),this.formatter_=_.formatter,this.minValue_=_.minValue,this.maxValue_=_.maxValue,this.cursor_=_.cursor,this.cursor_.emitter.on("change",this.onCursorChange_);const O=p.createElementNS(Fe,"svg");O.classList.add(Lo("g")),O.style.height=`calc(var(--bld-us) * ${_.lineCount})`,this.element.appendChild(O),this.svgElem_=O;const ee=p.createElementNS(Fe,"polyline");this.svgElem_.appendChild(ee),this.lineElem_=ee;const Te=p.createElement("div");Te.classList.add(Lo("t"),S("tt")()),this.element.appendChild(Te),this.tooltipElem_=Te,_.value.emitter.on("change",this.onValueUpdate_),this.value=_.value,this.update_()}get graphElement(){return this.svgElem_}update_(){const p=this.svgElem_.getBoundingClientRect(),_=this.value.rawValue.length-1,O=this.minValue_,ee=this.maxValue_,Te=[];this.value.rawValue.forEach((tr,pr)=>{if(tr===void 0)return;const Hs=Fr(pr,0,_,0,p.width),Pc=Fr(tr,O,ee,p.height,0);Te.push([Hs,Pc].join(","))}),this.lineElem_.setAttributeNS(null,"points",Te.join(" "));const Ke=this.tooltipElem_,St=this.value.rawValue[this.cursor_.index];if(St===void 0){Ke.classList.remove(Lo("t","a"));return}const fn=Fr(this.cursor_.index,0,_,0,p.width),wn=Fr(St,O,ee,p.height,0);Ke.style.left=`${fn}px`,Ke.style.top=`${wn}px`,Ke.textContent=`${this.formatter_(St)}`,Ke.classList.contains(Lo("t","a"))||(Ke.classList.add(Lo("t","a"),Lo("t","in")),Ee(Ke),Ke.classList.remove(Lo("t","in")))}onValueUpdate_(){this.update_()}onCursorChange_(){this.update_()}}class nE{constructor(p,_){if(this.onGraphMouseMove_=this.onGraphMouseMove_.bind(this),this.onGraphMouseLeave_=this.onGraphMouseLeave_.bind(this),this.onGraphPointerDown_=this.onGraphPointerDown_.bind(this),this.onGraphPointerMove_=this.onGraphPointerMove_.bind(this),this.onGraphPointerUp_=this.onGraphPointerUp_.bind(this),this.value=_.value,this.viewProps=_.viewProps,this.cursor_=new _v,this.view=new ya(p,{cursor:this.cursor_,formatter:_.formatter,lineCount:_.lineCount,maxValue:_.maxValue,minValue:_.minValue,value:this.value,viewProps:this.viewProps}),!be(p))this.view.element.addEventListener("mousemove",this.onGraphMouseMove_),this.view.element.addEventListener("mouseleave",this.onGraphMouseLeave_);else{const O=new cu(this.view.element);O.emitter.on("down",this.onGraphPointerDown_),O.emitter.on("move",this.onGraphPointerMove_),O.emitter.on("up",this.onGraphPointerUp_)}}onGraphMouseLeave_(){this.cursor_.index=-1}onGraphMouseMove_(p){const _=this.view.element.getBoundingClientRect();this.cursor_.index=Math.floor(Fr(p.offsetX,0,_.width,0,this.value.rawValue.length))}onGraphPointerDown_(p){this.onGraphPointerMove_(p)}onGraphPointerMove_(p){if(!p.data.point){this.cursor_.index=-1;return}this.cursor_.index=Math.floor(Fr(p.data.point.x,0,p.data.bounds.width,0,this.value.rawValue.length))}onGraphPointerUp_(){this.cursor_.index=-1}}function Ih(E){return"format"in E&&!c(E.format)?E.format:Qn(2)}function ix(E){var p;return E.value.rawValue.length===1?new wv(E.document,{formatter:Ih(E.params),value:E.value,viewProps:E.viewProps}):new Mc(E.document,{formatter:Ih(E.params),lineCount:(p=E.params.lineCount)!==null&&p!==void 0?p:$d.monitor.defaultLineCount,value:E.value,viewProps:E.viewProps})}function qd(E){var p,_,O;return new nE(E.document,{formatter:Ih(E.params),lineCount:(p=E.params.lineCount)!==null&&p!==void 0?p:$d.monitor.defaultLineCount,maxValue:(_="max"in E.params?E.params.max:null)!==null&&_!==void 0?_:100,minValue:(O="min"in E.params?E.params.min:null)!==null&&O!==void 0?O:0,value:E.value,viewProps:E.viewProps})}function Us(E){return"view"in E&&E.view==="graph"}const ox={id:"monitor-number",type:"monitor",accept:(E,p)=>{if(typeof E!="number")return null;const _=re,O=se(p,{format:_.optional.function,lineCount:_.optional.number,max:_.optional.number,min:_.optional.number,view:_.optional.string});return O?{initialValue:E,params:O}:null},binding:{defaultBufferSize:E=>Us(E)?64:1,reader:E=>Pr},controller:E=>Us(E.params)?qd(E):ix(E)},rE={id:"monitor-string",type:"monitor",accept:(E,p)=>{if(typeof E!="string")return null;const _=re,O=se(p,{lineCount:_.optional.number,multiline:_.optional.boolean});return O?{initialValue:E,params:O}:null},binding:{reader:E=>xl},controller:E=>{var p;const _=E.value;return _.rawValue.length>1||"multiline"in E.params&&E.params.multiline?new Mc(E.document,{formatter:va,lineCount:(p=E.params.lineCount)!==null&&p!==void 0?p:$d.monitor.defaultLineCount,value:_,viewProps:E.viewProps}):new wv(E.document,{formatter:va,value:_,viewProps:E.viewProps})}};class Lh{constructor(p){this.onValueChange_=this.onValueChange_.bind(this),this.reader=p.reader,this.writer=p.writer,this.emitter=new b,this.value=p.value,this.value.emitter.on("change",this.onValueChange_),this.target=p.target,this.read()}read(){const p=this.target.read();p!==void 0&&(this.value.rawValue=this.reader(p))}write_(p){this.writer(this.target,p)}onValueChange_(p){this.write_(p.rawValue),this.emitter.emit("change",{options:p.options,rawValue:p.rawValue,sender:this})}}function iE(E,p){const _=E.accept(p.target.read(),p.params);if(c(_))return null;const O=re,ee={target:p.target,initialValue:_.initialValue,params:_.params},Te=E.binding.reader(ee),Ke=E.binding.constraint?E.binding.constraint(ee):void 0,St=K(Te(_.initialValue),{constraint:Ke,equals:E.binding.equals}),fn=new Lh({reader:Te,target:p.target,value:St,writer:E.binding.writer(ee)}),wn=O.optional.boolean(p.params.disabled).value,tr=O.optional.boolean(p.params.hidden).value,pr=E.controller({constraint:Ke,document:p.document,initialValue:_.initialValue,params:_.params,value:fn.value,viewProps:Nt.create({disabled:wn,hidden:tr})}),Hs=O.optional.string(p.params.label).value;return new Ct(p.document,{binding:fn,blade:Q(),props:j.fromObject({label:Hs||p.target.key}),valueController:pr})}class ax{constructor(p){this.onTick_=this.onTick_.bind(this),this.reader_=p.reader,this.target=p.target,this.emitter=new b,this.value=p.value,this.ticker=p.ticker,this.ticker.emitter.on("tick",this.onTick_),this.read()}dispose(){this.ticker.dispose()}read(){const p=this.target.read();if(p===void 0)return;const _=this.value.rawValue,O=this.reader_(p);this.value.rawValue=vC(_,O),this.emitter.emit("update",{rawValue:O,sender:this})}onTick_(p){this.read()}}function Qi(E,p){return p===0?new br:new Nr(E,p!=null?p:$d.monitor.defaultInterval)}function Sv(E,p){var _,O,ee;const Te=re,Ke=E.accept(p.target.read(),p.params);if(c(Ke))return null;const St={target:p.target,initialValue:Ke.initialValue,params:Ke.params},fn=E.binding.reader(St),wn=(O=(_=Te.optional.number(p.params.bufferSize).value)!==null&&_!==void 0?_:E.binding.defaultBufferSize&&E.binding.defaultBufferSize(Ke.params))!==null&&O!==void 0?O:1,tr=Te.optional.number(p.params.interval).value,pr=new ax({reader:fn,target:p.target,ticker:Qi(p.document,tr),value:lv(wn)}),Hs=Te.optional.boolean(p.params.disabled).value,Pc=Te.optional.boolean(p.params.hidden).value,Ac=E.controller({document:p.document,params:Ke.params,value:pr.value,viewProps:Nt.create({disabled:Hs,hidden:Pc})}),gu=(ee=Te.optional.string(p.params.label).value)!==null&&ee!==void 0?ee:p.target.key;return new $t(p.document,{binding:pr,blade:Q(),props:j.fromObject({label:gu}),valueController:Ac})}class sx{constructor(){this.pluginsMap_={blades:[],inputs:[],monitors:[]}}getAll(){return[...this.pluginsMap_.blades,...this.pluginsMap_.inputs,...this.pluginsMap_.monitors]}register(p){p.type==="blade"?this.pluginsMap_.blades.unshift(p):p.type==="input"?this.pluginsMap_.inputs.unshift(p):p.type==="monitor"&&this.pluginsMap_.monitors.unshift(p)}createInput(p,_,O){const ee=_.read();if(c(ee))throw new m({context:{key:_.key},type:"nomatchingcontroller"});const Te=this.pluginsMap_.inputs.reduce((Ke,St)=>Ke||iE(St,{document:p,target:_,params:O}),null);if(Te)return Te;throw new m({context:{key:_.key},type:"nomatchingcontroller"})}createMonitor(p,_,O){const ee=this.pluginsMap_.monitors.reduce((Te,Ke)=>Te||Sv(Ke,{document:p,params:O,target:_}),null);if(ee)return ee;throw new m({context:{key:_.key},type:"nomatchingcontroller"})}createBlade(p,_){const O=this.pluginsMap_.blades.reduce((ee,Te)=>ee||Zt(Te,{document:p,params:_}),null);if(!O)throw new m({type:"nomatchingview",context:{params:_}});return O}createBladeApi(p){if(p instanceof Ct)return new Mt(p);if(p instanceof $t)return new Ft(p);if(p instanceof Je)return new it(p,this);const _=this.pluginsMap_.blades.reduce((O,ee)=>O||ee.api({controller:p,pool:this}),null);if(!_)throw m.shouldNeverHappen();return _}}function ds(){const E=new sx;return[$C,YC,ex,tE,Cc,Rh,jd,Sc,gc,Vs,rE,ox,ge,zt,qt,At].forEach(p=>{E.register(p)}),E}class Dh extends i{constructor(p){super(p),this.emitter_=new b,this.controller_.valueController.value.emitter.on("change",_=>{this.emitter_.emit("change",{event:new a(this,_.rawValue)})})}get label(){return this.controller_.props.get("label")}set label(p){this.controller_.props.set("label",p)}get options(){return this.controller_.valueController.props.get("options")}set options(p){this.controller_.valueController.props.set("options",p)}get value(){return this.controller_.valueController.value.rawValue}set value(p){this.controller_.valueController.value.rawValue=p}on(p,_){const O=_.bind(this);return this.emitter_.on(p,ee=>{O(ee.event)}),this}}class Xd extends i{constructor(p){super(p),this.emitter_=new b,this.controller_.valueController.value.emitter.on("change",_=>{this.emitter_.emit("change",{event:new a(this,_.rawValue)})})}get label(){return this.controller_.props.get("label")}set label(p){this.controller_.props.set("label",p)}get maxValue(){return this.controller_.valueController.sliderController.props.get("maxValue")}set maxValue(p){this.controller_.valueController.sliderController.props.set("maxValue",p)}get minValue(){return this.controller_.valueController.sliderController.props.get("minValue")}set minValue(p){this.controller_.valueController.sliderController.props.set("minValue",p)}get value(){return this.controller_.valueController.value.rawValue}set value(p){this.controller_.valueController.value.rawValue=p}on(p,_){const O=_.bind(this);return this.emitter_.on(p,ee=>{O(ee.event)}),this}}class Pl extends i{constructor(p){super(p),this.emitter_=new b,this.controller_.valueController.value.emitter.on("change",_=>{this.emitter_.emit("change",{event:new a(this,_.rawValue)})})}get label(){return this.controller_.props.get("label")}set label(p){this.controller_.props.set("label",p)}get formatter(){return this.controller_.valueController.props.get("formatter")}set formatter(p){this.controller_.valueController.props.set("formatter",p)}get value(){return this.controller_.valueController.value.rawValue}set value(p){this.controller_.valueController.value.rawValue=p}on(p,_){const O=_.bind(this);return this.emitter_.on(p,ee=>{O(ee.event)}),this}}const lx=function(){return{id:"list",type:"blade",accept(E){const p=re,_=se(E,{options:p.required.custom(mc),value:p.required.raw,view:p.required.constant("list"),label:p.optional.string});return _?{params:_}:null},controller(E){const p=new Ii(E.document,{props:j.fromObject({options:fv(E.params.options)}),value:K(E.params.value),viewProps:E.viewProps});return new sn(E.document,{blade:E.blade,props:j.fromObject({label:E.params.label}),valueController:p})},api(E){return!(E.controller instanceof sn)||!(E.controller.valueController instanceof Ii)?null:new Dh(E.controller)}}}();function Mo(E){return E.reduce((p,_)=>Object.assign(p,{[_.presetKey]:_.read()}),{})}function Cv(E,p){E.forEach(_=>{const O=p[_.presetKey];O!==void 0&&_.write(O)})}class oE extends rt{constructor(p,_){super(p,_)}get element(){return this.controller_.view.element}importPreset(p){const _=this.controller_.rackController.rack.find(Ct).map(O=>O.binding.target);Cv(_,p),this.refresh()}exportPreset(){const p=this.controller_.rackController.rack.find(Ct).map(_=>_.binding.target);return Mo(p)}refresh(){this.controller_.rackController.rack.find(Ct).forEach(p=>{p.binding.read()}),this.controller_.rackController.rack.find($t).forEach(p=>{p.binding.read()})}}class aE extends Pt{constructor(p,_){super(p,{expanded:_.expanded,blade:_.blade,props:_.props,root:!0,viewProps:_.viewProps})}}const sE={id:"slider",type:"blade",accept(E){const p=re,_=se(E,{max:p.required.number,min:p.required.number,view:p.required.constant("slider"),format:p.optional.function,label:p.optional.string,value:p.optional.number});return _?{params:_}:null},controller(E){var p,_;const O=(p=E.params.value)!==null&&p!==void 0?p:0,ee=new ph(E.document,{baseStep:1,parser:Zi,sliderProps:j.fromObject({maxValue:E.params.max,minValue:E.params.min}),textProps:j.fromObject({draggingScale:vc(void 0,O),formatter:(_=E.params.format)!==null&&_!==void 0?_:mi}),value:K(O),viewProps:E.viewProps});return new sn(E.document,{blade:E.blade,props:j.fromObject({label:E.params.label}),valueController:ee})},api(E){return!(E.controller instanceof sn)||!(E.controller.valueController instanceof ph)?null:new Xd(E.controller)}},Ev=function(){return{id:"text",type:"blade",accept(E){const p=re,_=se(E,{parse:p.required.function,value:p.required.raw,view:p.required.constant("text"),format:p.optional.function,label:p.optional.string});return _?{params:_}:null},controller(E){var p;const _=new hr(E.document,{parser:E.params.parse,props:j.fromObject({formatter:(p=E.params.format)!==null&&p!==void 0?p:O=>String(O)}),value:K(E.params.value),viewProps:E.viewProps});return new sn(E.document,{blade:E.blade,props:j.fromObject({label:E.params.label}),valueController:_})},api(E){return!(E.controller instanceof sn)||!(E.controller.valueController instanceof hr)?null:new Pl(E.controller)}}}();function lE(E){const p=E.createElement("div");return p.classList.add(S("dfw")()),E.body&&E.body.appendChild(p),p}function Tc(E,p,_){if(E.querySelector(`style[data-tp-style=${p}]`))return;const O=E.createElement("style");O.dataset.tpStyle=p,O.textContent=_,E.head.appendChild(O)}class ux extends oE{constructor(p){var _;const O=p||{},ee=(_=O.document)!==null&&_!==void 0?_:Me(),Te=ds(),Ke=new aE(ee,{expanded:O.expanded,blade:Q(),props:j.fromObject({title:O.title}),viewProps:Nt.create()});super(Ke,Te),this.pool_=Te,this.containerElem_=O.container||lE(ee),this.containerElem_.appendChild(this.element),this.doc_=ee,this.usesDefaultWrapper_=!O.container,this.setUpDefaultPlugins_()}get document(){if(!this.doc_)throw m.alreadyDisposed();return this.doc_}dispose(){const p=this.containerElem_;if(!p)throw m.alreadyDisposed();if(this.usesDefaultWrapper_){const _=p.parentElement;_&&_.removeChild(p)}this.containerElem_=null,this.doc_=null,super.dispose()}registerPlugin(p){("plugin"in p?[p.plugin]:"plugins"in p?p.plugins:[]).forEach(O=>{this.pool_.register(O),this.embedPluginStyle_(O)})}embedPluginStyle_(p){p.css&&Tc(this.document,`plugin-${p.id}`,p.css)}setUpDefaultPlugins_(){Tc(this.document,"default",'.tp-tbiv_b,.tp-coltxtv_ms,.tp-ckbv_i,.tp-rotv_b,.tp-fldv_b,.tp-mllv_i,.tp-sglv_i,.tp-grlv_g,.tp-txtv_i,.tp-p2dpv_p,.tp-colswv_sw,.tp-p2dv_b,.tp-btnv_b,.tp-lstv_s{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-p2dv_b,.tp-btnv_b,.tp-lstv_s{background-color:var(--btn-bg);border-radius:var(--elm-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--bld-us);line-height:var(--bld-us);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-p2dv_b:hover,.tp-btnv_b:hover,.tp-lstv_s:hover{background-color:var(--btn-bg-h)}.tp-p2dv_b:focus,.tp-btnv_b:focus,.tp-lstv_s:focus{background-color:var(--btn-bg-f)}.tp-p2dv_b:active,.tp-btnv_b:active,.tp-lstv_s:active{background-color:var(--btn-bg-a)}.tp-p2dv_b:disabled,.tp-btnv_b:disabled,.tp-lstv_s:disabled{opacity:.5}.tp-txtv_i,.tp-p2dpv_p,.tp-colswv_sw{background-color:var(--in-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--bld-us);line-height:var(--bld-us);min-width:0;width:100%}.tp-txtv_i:hover,.tp-p2dpv_p:hover,.tp-colswv_sw:hover{background-color:var(--in-bg-h)}.tp-txtv_i:focus,.tp-p2dpv_p:focus,.tp-colswv_sw:focus{background-color:var(--in-bg-f)}.tp-txtv_i:active,.tp-p2dpv_p:active,.tp-colswv_sw:active{background-color:var(--in-bg-a)}.tp-txtv_i:disabled,.tp-p2dpv_p:disabled,.tp-colswv_sw:disabled{opacity:.5}.tp-mllv_i,.tp-sglv_i,.tp-grlv_g{background-color:var(--mo-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--mo-fg);height:var(--bld-us);scrollbar-color:currentColor transparent;scrollbar-width:thin;width:100%}.tp-mllv_i::-webkit-scrollbar,.tp-sglv_i::-webkit-scrollbar,.tp-grlv_g::-webkit-scrollbar{height:8px;width:8px}.tp-mllv_i::-webkit-scrollbar-corner,.tp-sglv_i::-webkit-scrollbar-corner,.tp-grlv_g::-webkit-scrollbar-corner{background-color:transparent}.tp-mllv_i::-webkit-scrollbar-thumb,.tp-sglv_i::-webkit-scrollbar-thumb,.tp-grlv_g::-webkit-scrollbar-thumb{background-clip:padding-box;background-color:currentColor;border:transparent solid 2px;border-radius:4px}.tp-rotv{--font-family: var(--tp-font-family, Roboto Mono, Source Code Pro, Menlo, Courier, monospace);--bs-br: var(--tp-base-border-radius, 6px);--cnt-h-p: var(--tp-container-horizontal-padding, 4px);--cnt-v-p: var(--tp-container-vertical-padding, 4px);--elm-br: var(--tp-element-border-radius, 2px);--bld-s: var(--tp-blade-spacing, 4px);--bld-us: var(--tp-blade-unit-size, 20px);--bs-bg: var(--tp-base-background-color, #28292e);--bs-sh: var(--tp-base-shadow-color, rgba(0, 0, 0, 0.2));--btn-bg: var(--tp-button-background-color, #adafb8);--btn-bg-a: var(--tp-button-background-color-active, #d6d7db);--btn-bg-f: var(--tp-button-background-color-focus, #c8cad0);--btn-bg-h: var(--tp-button-background-color-hover, #bbbcc4);--btn-fg: var(--tp-button-foreground-color, #28292e);--cnt-bg: var(--tp-container-background-color, rgba(187, 188, 196, 0.1));--cnt-bg-a: var(--tp-container-background-color-active, rgba(187, 188, 196, 0.25));--cnt-bg-f: var(--tp-container-background-color-focus, rgba(187, 188, 196, 0.2));--cnt-bg-h: var(--tp-container-background-color-hover, rgba(187, 188, 196, 0.15));--cnt-fg: var(--tp-container-foreground-color, #bbbcc4);--in-bg: var(--tp-input-background-color, rgba(187, 188, 196, 0.1));--in-bg-a: var(--tp-input-background-color-active, rgba(187, 188, 196, 0.25));--in-bg-f: var(--tp-input-background-color-focus, rgba(187, 188, 196, 0.2));--in-bg-h: var(--tp-input-background-color-hover, rgba(187, 188, 196, 0.15));--in-fg: var(--tp-input-foreground-color, #bbbcc4);--lbl-fg: var(--tp-label-foreground-color, rgba(187, 188, 196, 0.7));--mo-bg: var(--tp-monitor-background-color, rgba(0, 0, 0, 0.2));--mo-fg: var(--tp-monitor-foreground-color, rgba(187, 188, 196, 0.7));--grv-fg: var(--tp-groove-foreground-color, rgba(187, 188, 196, 0.1))}.tp-rotv_c>.tp-cntv.tp-v-lst,.tp-tabv_c .tp-brkv>.tp-cntv.tp-v-lst,.tp-fldv_c>.tp-cntv.tp-v-lst{margin-bottom:calc(-1*var(--cnt-v-p))}.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-tabv_c .tp-brkv>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_c{border-bottom-left-radius:0}.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-tabv_c .tp-brkv>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_b{border-bottom-left-radius:0}.tp-rotv_c>*:not(.tp-v-fst),.tp-tabv_c .tp-brkv>*:not(.tp-v-fst),.tp-fldv_c>*:not(.tp-v-fst){margin-top:var(--bld-s)}.tp-rotv_c>.tp-sprv:not(.tp-v-fst),.tp-tabv_c .tp-brkv>.tp-sprv:not(.tp-v-fst),.tp-fldv_c>.tp-sprv:not(.tp-v-fst),.tp-rotv_c>.tp-cntv:not(.tp-v-fst),.tp-tabv_c .tp-brkv>.tp-cntv:not(.tp-v-fst),.tp-fldv_c>.tp-cntv:not(.tp-v-fst){margin-top:var(--cnt-v-p)}.tp-rotv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-tabv_c .tp-brkv>.tp-sprv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-rotv_c>.tp-cntv+*:not(.tp-v-hidden),.tp-tabv_c .tp-brkv>.tp-cntv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-cntv+*:not(.tp-v-hidden){margin-top:var(--cnt-v-p)}.tp-rotv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-tabv_c .tp-brkv>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-fldv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-rotv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-tabv_c .tp-brkv>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-fldv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv{margin-top:0}.tp-tabv_c .tp-brkv>.tp-cntv,.tp-fldv_c>.tp-cntv{margin-left:4px}.tp-tabv_c .tp-brkv>.tp-fldv>.tp-fldv_b,.tp-fldv_c>.tp-fldv>.tp-fldv_b{border-top-left-radius:var(--elm-br);border-bottom-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv>.tp-fldv.tp-fldv-expanded>.tp-fldv_b,.tp-fldv_c>.tp-fldv.tp-fldv-expanded>.tp-fldv_b{border-bottom-left-radius:0}.tp-tabv_c .tp-brkv .tp-fldv>.tp-fldv_c,.tp-fldv_c .tp-fldv>.tp-fldv_c{border-bottom-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv>.tp-tabv>.tp-tabv_i,.tp-fldv_c>.tp-tabv>.tp-tabv_i{border-top-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv .tp-tabv>.tp-tabv_c,.tp-fldv_c .tp-tabv>.tp-tabv_c{border-bottom-left-radius:var(--elm-br)}.tp-rotv_b,.tp-fldv_b{background-color:var(--cnt-bg);color:var(--cnt-fg);cursor:pointer;display:block;height:calc(var(--bld-us) + 4px);line-height:calc(var(--bld-us) + 4px);overflow:hidden;padding-left:var(--cnt-h-p);padding-right:calc(4px + var(--bld-us) + var(--cnt-h-p));position:relative;text-align:left;text-overflow:ellipsis;white-space:nowrap;width:100%;transition:border-radius .2s ease-in-out .2s}.tp-rotv_b:hover,.tp-fldv_b:hover{background-color:var(--cnt-bg-h)}.tp-rotv_b:focus,.tp-fldv_b:focus{background-color:var(--cnt-bg-f)}.tp-rotv_b:active,.tp-fldv_b:active{background-color:var(--cnt-bg-a)}.tp-rotv_b:disabled,.tp-fldv_b:disabled{opacity:.5}.tp-rotv_m,.tp-fldv_m{background:linear-gradient(to left, var(--cnt-fg), var(--cnt-fg) 2px, transparent 2px, transparent 4px, var(--cnt-fg) 4px);border-radius:2px;bottom:0;content:"";display:block;height:6px;right:calc(var(--cnt-h-p) + (var(--bld-us) + 4px - 6px)/2 - 2px);margin:auto;opacity:.5;position:absolute;top:0;transform:rotate(90deg);transition:transform .2s ease-in-out;width:6px}.tp-rotv.tp-rotv-expanded .tp-rotv_m,.tp-fldv.tp-fldv-expanded>.tp-fldv_b>.tp-fldv_m{transform:none}.tp-rotv_c,.tp-fldv_c{box-sizing:border-box;height:0;opacity:0;overflow:hidden;padding-bottom:0;padding-top:0;position:relative;transition:height .2s ease-in-out,opacity .2s linear,padding .2s ease-in-out}.tp-rotv.tp-rotv-cpl:not(.tp-rotv-expanded) .tp-rotv_c,.tp-fldv.tp-fldv-cpl:not(.tp-fldv-expanded)>.tp-fldv_c{display:none}.tp-rotv.tp-rotv-expanded .tp-rotv_c,.tp-fldv.tp-fldv-expanded>.tp-fldv_c{opacity:1;padding-bottom:var(--cnt-v-p);padding-top:var(--cnt-v-p);transform:none;overflow:visible;transition:height .2s ease-in-out,opacity .2s linear .2s,padding .2s ease-in-out}.tp-lstv,.tp-coltxtv_m{position:relative}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-lstv_m,.tp-coltxtv_mm{bottom:0;margin:auto;pointer-events:none;position:absolute;right:2px;top:0}.tp-lstv_m svg,.tp-coltxtv_mm svg{bottom:0;height:16px;margin:auto;position:absolute;right:0;top:0;width:16px}.tp-lstv_m svg path,.tp-coltxtv_mm svg path{fill:currentColor}.tp-pndtxtv,.tp-coltxtv_w{display:flex}.tp-pndtxtv_a,.tp-coltxtv_c{width:100%}.tp-pndtxtv_a+.tp-pndtxtv_a,.tp-coltxtv_c+.tp-pndtxtv_a,.tp-pndtxtv_a+.tp-coltxtv_c,.tp-coltxtv_c+.tp-coltxtv_c{margin-left:2px}.tp-btnv_b{width:100%}.tp-btnv_t{text-align:center}.tp-ckbv_l{display:block;position:relative}.tp-ckbv_i{left:0;opacity:0;position:absolute;top:0}.tp-ckbv_w{background-color:var(--in-bg);border-radius:var(--elm-br);cursor:pointer;display:block;height:var(--bld-us);position:relative;width:var(--bld-us)}.tp-ckbv_w svg{bottom:0;display:block;height:16px;left:0;margin:auto;opacity:0;position:absolute;right:0;top:0;width:16px}.tp-ckbv_w svg path{fill:none;stroke:var(--in-fg);stroke-width:2}.tp-ckbv_i:hover+.tp-ckbv_w{background-color:var(--in-bg-h)}.tp-ckbv_i:focus+.tp-ckbv_w{background-color:var(--in-bg-f)}.tp-ckbv_i:active+.tp-ckbv_w{background-color:var(--in-bg-a)}.tp-ckbv_i:checked+.tp-ckbv_w svg{opacity:1}.tp-ckbv.tp-v-disabled .tp-ckbv_w{opacity:.5}.tp-colv{position:relative}.tp-colv_h{display:flex}.tp-colv_s{flex-grow:0;flex-shrink:0;width:var(--bld-us)}.tp-colv_t{flex:1;margin-left:4px}.tp-colv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-colv.tp-colv-cpl .tp-colv_p{overflow:visible}.tp-colv.tp-colv-expanded .tp-colv_p{margin-top:var(--bld-s);opacity:1}.tp-colv .tp-popv{left:calc(-1*var(--cnt-h-p));right:calc(-1*var(--cnt-h-p));top:var(--bld-us)}.tp-colpv_h,.tp-colpv_ap{margin-left:6px;margin-right:6px}.tp-colpv_h{margin-top:var(--bld-s)}.tp-colpv_rgb{display:flex;margin-top:var(--bld-s);width:100%}.tp-colpv_a{display:flex;margin-top:var(--cnt-v-p);padding-top:calc(var(--cnt-v-p) + 2px);position:relative}.tp-colpv_a:before{background-color:var(--grv-fg);content:"";height:2px;left:calc(-1*var(--cnt-h-p));position:absolute;right:calc(-1*var(--cnt-h-p));top:0}.tp-colpv_ap{align-items:center;display:flex;flex:3}.tp-colpv_at{flex:1;margin-left:4px}.tp-svpv{border-radius:var(--elm-br);outline:none;overflow:hidden;position:relative}.tp-svpv_c{cursor:crosshair;display:block;height:calc(var(--bld-us)*4);width:100%}.tp-svpv_m{border-radius:100%;border:rgba(255,255,255,.75) solid 2px;box-sizing:border-box;filter:drop-shadow(0 0 1px rgba(0, 0, 0, 0.3));height:12px;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;width:12px}.tp-svpv:focus .tp-svpv_m{border-color:#fff}.tp-hplv{cursor:pointer;height:var(--bld-us);outline:none;position:relative}.tp-hplv_c{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAABCAYAAABubagXAAAAQ0lEQVQoU2P8z8Dwn0GCgQEDi2OK/RBgYHjBgIpfovFh8j8YBIgzFGQxuqEgPhaDOT5gOhPkdCxOZeBg+IDFZZiGAgCaSSMYtcRHLgAAAABJRU5ErkJggg==);background-position:left top;background-repeat:no-repeat;background-size:100% 100%;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;position:absolute;top:50%;width:100%}.tp-hplv_m{border-radius:var(--elm-br);border:rgba(255,255,255,.75) solid 2px;box-shadow:0 0 2px rgba(0,0,0,.1);box-sizing:border-box;height:12px;left:50%;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;top:50%;width:12px}.tp-hplv:focus .tp-hplv_m{border-color:#fff}.tp-aplv{cursor:pointer;height:var(--bld-us);outline:none;position:relative;width:100%}.tp-aplv_b{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:4px 4px;background-position:0 0,2px 2px;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;overflow:hidden;position:absolute;top:50%;width:100%}.tp-aplv_c{bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv_m{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:12px 12px;background-position:0 0,6px 6px;border-radius:var(--elm-br);box-shadow:0 0 2px rgba(0,0,0,.1);height:12px;left:50%;margin-left:-6px;margin-top:-6px;overflow:hidden;pointer-events:none;position:absolute;top:50%;width:12px}.tp-aplv_p{border-radius:var(--elm-br);border:rgba(255,255,255,.75) solid 2px;box-sizing:border-box;bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv:focus .tp-aplv_p{border-color:#fff}.tp-colswv{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:10px 10px;background-position:0 0,5px 5px;border-radius:var(--elm-br);overflow:hidden}.tp-colswv.tp-v-disabled{opacity:.5}.tp-colswv_sw{border-radius:0}.tp-colswv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;cursor:pointer;display:block;height:var(--bld-us);left:0;margin:0;outline:none;padding:0;position:absolute;top:0;width:var(--bld-us)}.tp-colswv_b:focus::after{border:rgba(255,255,255,.75) solid 2px;border-radius:var(--elm-br);bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}.tp-coltxtv{display:flex;width:100%}.tp-coltxtv_m{margin-right:4px}.tp-coltxtv_ms{border-radius:var(--elm-br);color:var(--lbl-fg);cursor:pointer;height:var(--bld-us);line-height:var(--bld-us);padding:0 18px 0 4px}.tp-coltxtv_ms:hover{background-color:var(--in-bg-h)}.tp-coltxtv_ms:focus{background-color:var(--in-bg-f)}.tp-coltxtv_ms:active{background-color:var(--in-bg-a)}.tp-coltxtv_mm{color:var(--lbl-fg)}.tp-coltxtv_w{flex:1}.tp-dfwv{position:absolute;top:8px;right:8px;width:256px}.tp-fldv.tp-fldv-not .tp-fldv_b{display:none}.tp-fldv_t{padding-left:4px}.tp-fldv_c{border-left:var(--cnt-bg) solid 4px}.tp-fldv_b:hover+.tp-fldv_c{border-left-color:var(--cnt-bg-h)}.tp-fldv_b:focus+.tp-fldv_c{border-left-color:var(--cnt-bg-f)}.tp-fldv_b:active+.tp-fldv_c{border-left-color:var(--cnt-bg-a)}.tp-grlv{position:relative}.tp-grlv_g{display:block;height:calc(var(--bld-us)*3)}.tp-grlv_g polyline{fill:none;stroke:var(--mo-fg);stroke-linejoin:round}.tp-grlv_t{margin-top:-4px;transition:left .05s,top .05s;visibility:hidden}.tp-grlv_t.tp-grlv_t-a{visibility:visible}.tp-grlv_t.tp-grlv_t-in{transition:none}.tp-grlv.tp-v-disabled .tp-grlv_g{opacity:.5}.tp-grlv .tp-ttv{background-color:var(--mo-fg)}.tp-grlv .tp-ttv::before{border-top-color:var(--mo-fg)}.tp-lblv{align-items:center;display:flex;line-height:1.3;padding-left:var(--cnt-h-p);padding-right:var(--cnt-h-p)}.tp-lblv.tp-lblv-nol{display:block}.tp-lblv_l{color:var(--lbl-fg);flex:1;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;overflow:hidden;padding-left:4px;padding-right:16px}.tp-lblv.tp-v-disabled .tp-lblv_l{opacity:.5}.tp-lblv.tp-lblv-nol .tp-lblv_l{display:none}.tp-lblv_v{align-self:flex-start;flex-grow:0;flex-shrink:0;width:160px}.tp-lblv.tp-lblv-nol .tp-lblv_v{width:100%}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-lstv_m{color:var(--btn-fg)}.tp-sglv_i{padding:0 4px}.tp-sglv.tp-v-disabled .tp-sglv_i{opacity:.5}.tp-mllv_i{display:block;height:calc(var(--bld-us)*3);line-height:var(--bld-us);padding:0 4px;resize:none;white-space:pre}.tp-mllv.tp-v-disabled .tp-mllv_i{opacity:.5}.tp-p2dv{position:relative}.tp-p2dv_h{display:flex}.tp-p2dv_b{height:var(--bld-us);margin-right:4px;position:relative;width:var(--bld-us)}.tp-p2dv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-p2dv_b svg path{stroke:currentColor;stroke-width:2}.tp-p2dv_b svg circle{fill:currentColor}.tp-p2dv_t{flex:1}.tp-p2dv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-p2dv.tp-p2dv-expanded .tp-p2dv_p{margin-top:var(--bld-s);opacity:1}.tp-p2dv .tp-popv{left:calc(-1*var(--cnt-h-p));right:calc(-1*var(--cnt-h-p));top:var(--bld-us)}.tp-p2dpv{padding-left:calc(var(--bld-us) + 4px)}.tp-p2dpv_p{cursor:crosshair;height:0;overflow:hidden;padding-bottom:100%;position:relative}.tp-p2dpv_g{display:block;height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.tp-p2dpv_ax{opacity:.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_l{opacity:.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_m{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;position:absolute;width:4px}.tp-p2dpv_p:focus .tp-p2dpv_m{background-color:var(--in-fg);border-width:0}.tp-popv{background-color:var(--bs-bg);border-radius:6px;box-shadow:0 2px 4px var(--bs-sh);display:none;max-width:168px;padding:var(--cnt-v-p) var(--cnt-h-p);position:absolute;visibility:hidden;z-index:1000}.tp-popv.tp-popv-v{display:block;visibility:visible}.tp-sprv_r{background-color:var(--grv-fg);border-width:0;display:block;height:2px;margin:0;width:100%}.tp-sldv.tp-v-disabled{opacity:.5}.tp-sldv_t{box-sizing:border-box;cursor:pointer;height:var(--bld-us);margin:0 6px;outline:none;position:relative}.tp-sldv_t::before{background-color:var(--in-bg);border-radius:1px;bottom:0;content:"";display:block;height:2px;left:0;margin:auto;position:absolute;right:0;top:0}.tp-sldv_k{height:100%;left:0;position:absolute;top:0}.tp-sldv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:"";display:block;height:2px;left:0;margin-bottom:auto;margin-top:auto;position:absolute;right:0;top:0}.tp-sldv_k::after{background-color:var(--btn-bg);border-radius:var(--elm-br);bottom:0;content:"";display:block;height:12px;margin-bottom:auto;margin-top:auto;position:absolute;right:-6px;top:0;width:12px}.tp-sldv_t:hover .tp-sldv_k::after{background-color:var(--btn-bg-h)}.tp-sldv_t:focus .tp-sldv_k::after{background-color:var(--btn-bg-f)}.tp-sldv_t:active .tp-sldv_k::after{background-color:var(--btn-bg-a)}.tp-sldtxtv{display:flex}.tp-sldtxtv_s{flex:2}.tp-sldtxtv_t{flex:1;margin-left:4px}.tp-tabv.tp-v-disabled{opacity:.5}.tp-tabv_i{align-items:flex-end;display:flex;overflow:hidden}.tp-tabv.tp-tabv-nop .tp-tabv_i{height:calc(var(--bld-us) + 4px);position:relative}.tp-tabv.tp-tabv-nop .tp-tabv_i::before{background-color:var(--cnt-bg);bottom:0;content:"";height:2px;left:0;position:absolute;right:0}.tp-tabv_c{border-left:var(--cnt-bg) solid 4px;padding-bottom:var(--cnt-v-p);padding-top:var(--cnt-v-p)}.tp-tbiv{flex:1;min-width:0;position:relative}.tp-tbiv+.tp-tbiv{margin-left:2px}.tp-tbiv+.tp-tbiv::before{background-color:var(--cnt-bg);bottom:0;content:"";height:2px;left:-2px;position:absolute;width:2px}.tp-tbiv_b{background-color:var(--cnt-bg);display:block;padding-left:calc(var(--cnt-h-p) + 4px);padding-right:calc(var(--cnt-h-p) + 4px);width:100%}.tp-tbiv_b:hover{background-color:var(--cnt-bg-h)}.tp-tbiv_b:focus{background-color:var(--cnt-bg-f)}.tp-tbiv_b:active{background-color:var(--cnt-bg-a)}.tp-tbiv_b:disabled{opacity:.5}.tp-tbiv_t{color:var(--cnt-fg);height:calc(var(--bld-us) + 4px);line-height:calc(var(--bld-us) + 4px);opacity:.5;overflow:hidden;text-overflow:ellipsis}.tp-tbiv.tp-tbiv-sel .tp-tbiv_t{opacity:1}.tp-txtv{position:relative}.tp-txtv_i{padding:0 4px}.tp-txtv.tp-txtv-fst .tp-txtv_i{border-bottom-right-radius:0;border-top-right-radius:0}.tp-txtv.tp-txtv-mid .tp-txtv_i{border-radius:0}.tp-txtv.tp-txtv-lst .tp-txtv_i{border-bottom-left-radius:0;border-top-left-radius:0}.tp-txtv.tp-txtv-num .tp-txtv_i{text-align:right}.tp-txtv.tp-txtv-drg .tp-txtv_i{opacity:.3}.tp-txtv_k{cursor:pointer;height:100%;left:-3px;position:absolute;top:0;width:12px}.tp-txtv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:"";height:calc(var(--bld-us) - 4px);left:50%;margin-bottom:auto;margin-left:-1px;margin-top:auto;opacity:.1;position:absolute;top:0;transition:border-radius .1s,height .1s,transform .1s,width .1s;width:2px}.tp-txtv_k:hover::before,.tp-txtv.tp-txtv-drg .tp-txtv_k::before{opacity:1}.tp-txtv.tp-txtv-drg .tp-txtv_k::before{border-radius:50%;height:4px;transform:translateX(-1px);width:4px}.tp-txtv_g{bottom:0;display:block;height:8px;left:50%;margin:auto;overflow:visible;pointer-events:none;position:absolute;top:0;visibility:hidden;width:100%}.tp-txtv.tp-txtv-drg .tp-txtv_g{visibility:visible}.tp-txtv_gb{fill:none;stroke:var(--in-fg);stroke-dasharray:1}.tp-txtv_gh{fill:none;stroke:var(--in-fg)}.tp-txtv .tp-ttv{margin-left:6px;visibility:hidden}.tp-txtv.tp-txtv-drg .tp-ttv{visibility:visible}.tp-ttv{background-color:var(--in-fg);border-radius:var(--elm-br);color:var(--bs-bg);padding:2px 4px;pointer-events:none;position:absolute;transform:translate(-50%, -100%)}.tp-ttv::before{border-color:var(--in-fg) transparent transparent transparent;border-style:solid;border-width:2px;box-sizing:border-box;content:"";font-size:.9em;height:4px;left:50%;margin-left:-2px;position:absolute;top:100%;width:4px}.tp-rotv{background-color:var(--bs-bg);border-radius:var(--bs-br);box-shadow:0 2px 4px var(--bs-sh);font-family:var(--font-family);font-size:11px;font-weight:500;line-height:1;text-align:left}.tp-rotv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br);border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br);padding-left:calc(4px + var(--bld-us) + var(--cnt-h-p));text-align:center}.tp-rotv.tp-rotv-expanded .tp-rotv_b{border-bottom-left-radius:0;border-bottom-right-radius:0}.tp-rotv.tp-rotv-not .tp-rotv_b{display:none}.tp-rotv_c>.tp-fldv.tp-v-lst>.tp-fldv_c,.tp-rotv_c>.tp-tabv.tp-v-lst>.tp-tabv_c{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c .tp-fldv.tp-v-vlst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst{margin-top:calc(-1*var(--cnt-v-p))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst>.tp-fldv_b{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst{margin-top:calc(-1*var(--cnt-v-p))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst>.tp-tabv_i{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-v-disabled,.tp-rotv .tp-v-disabled{pointer-events:none}.tp-rotv.tp-v-hidden,.tp-rotv .tp-v-hidden{display:none}'),this.pool_.getAll().forEach(p=>{this.embedPluginStyle_(p)}),this.registerPlugin({plugins:[sE,lx,At,Ev]})}}const uE=new r("3.0.8");n.BladeApi=i,n.ButtonApi=x,n.FolderApi=rt,n.InputBindingApi=Mt,n.ListApi=Dh,n.MonitorBindingApi=Ft,n.Pane=ux,n.SeparatorApi=Kt,n.SliderApi=Xd,n.TabApi=hi,n.TabPageApi=Ci,n.TextApi=Pl,n.TpChangeEvent=a,n.VERSION=uE,Object.defineProperty(n,"__esModule",{value:!0})})})(_R,_R.exports);var Iy,es,Hz,f1=0,M$=[],Wz=Ln.__b,jz=Ln.__r,Gz=Ln.diffed,$z=Ln.__c,Kz=Ln.unmount;function cC(t,e){Ln.__h&&Ln.__h(es,t,f1||e),f1=0;var n=es.__H||(es.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function ts(t){return f1=1,iRe(T$,t)}function iRe(t,e,n){var r=cC(Iy++,2);return r.t=t,r.__c||(r.__=[n?n(e):T$(void 0,e),function(i){var o=r.t(r.__[0],i);r.__[0]!==o&&(r.__=[o,r.__[1]],r.__c.setState({}))}],r.__c=es),r.__}function Ju(t,e){var n=cC(Iy++,3);!Ln.__s&&ek(n.__H,e)&&(n.__=t,n.__H=e,es.__H.__h.push(n))}function QN(t,e){var n=cC(Iy++,4);!Ln.__s&&ek(n.__H,e)&&(n.__=t,n.__H=e,es.__h.push(n))}function U0(t){return f1=5,dC(function(){return{current:t}},[])}function dC(t,e){var n=cC(Iy++,7);return ek(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function oRe(){for(var t;t=M$.shift();)if(t.__P)try{t.__H.__h.forEach(Vw),t.__H.__h.forEach(SR),t.__H.__h=[]}catch(e){t.__H.__h=[],Ln.__e(e,t.__v)}}Ln.__b=function(t){es=null,Wz&&Wz(t)},Ln.__r=function(t){jz&&jz(t),Iy=0;var e=(es=t.__c).__H;e&&(e.__h.forEach(Vw),e.__h.forEach(SR),e.__h=[])},Ln.diffed=function(t){Gz&&Gz(t);var e=t.__c;e&&e.__H&&e.__H.__h.length&&(M$.push(e)!==1&&Hz===Ln.requestAnimationFrame||((Hz=Ln.requestAnimationFrame)||function(n){var r,i=function(){clearTimeout(o),qz&&cancelAnimationFrame(r),setTimeout(n)},o=setTimeout(i,100);qz&&(r=requestAnimationFrame(i))})(oRe)),es=null},Ln.__c=function(t,e){e.some(function(n){try{n.__h.forEach(Vw),n.__h=n.__h.filter(function(r){return!r.__||SR(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],Ln.__e(r,n.__v)}}),$z&&$z(t,e)},Ln.unmount=function(t){Kz&&Kz(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Vw(r)}catch(i){e=i}}),e&&Ln.__e(e,n.__v))};var qz=typeof requestAnimationFrame=="function";function Vw(t){var e=es,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),es=e}function SR(t){var e=es;t.__c=t.__(),es=e}function ek(t,e){return!t||t.length!==e.length||e.some(function(n,r){return n!==t[r]})}function T$(t,e){return typeof e=="function"?e(t):e}function tk(){return(tk=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function aRe(t){this.getChildContext=function(){return t.context};var e=t.children,n=function(r,i){if(r==null)return{};var o,a,s={},l=Object.keys(r);for(a=0;a<l.length;a++)i.indexOf(o=l[a])>=0||(s[o]=r[o]);return s}(t,["context","children"]);return E$(e,n)}function sRe(){var t=new CustomEvent("_preact",{detail:{},bubbles:!0,cancelable:!0});this.dispatchEvent(t),this._vdom=jp(aRe,tk({},this._props,{context:t.detail.context}),function e(n,r){if(n.nodeType===3)return n.data;if(n.nodeType!==1)return null;var i=[],o={},a=0,s=n.attributes,l=n.childNodes;for(a=s.length;a--;)s[a].name!=="slot"&&(o[s[a].name]=s[a].value,o[P$(s[a].name)]=s[a].value);for(a=l.length;a--;){var u=e(l[a],null),c=l[a].slot;c?o[c]=jp(Xz,{name:c},u):i[a]=u}var h=r?jp(Xz,null,i):i;return jp(r||n.nodeName.toLowerCase(),o,h)}(this,this._vdomComponent)),(this.hasAttribute("hydrate")?C$:uC)(this._vdom,this._root)}function P$(t){return t.replace(/-(\w)/g,function(e,n){return n?n.toUpperCase():""})}function lRe(t,e,n){if(this._vdom){var r={};r[t]=n=n==null?void 0:n,r[P$(t)]=n,this._vdom=E$(this._vdom,r),uC(this._vdom,this._root)}}function uRe(){uC(this._vdom=null,this._root)}function Xz(t,e){var n=this;return jp("slot",tk({},t,{ref:function(r){r?(n.ref=r,n._listener||(n._listener=function(i){i.stopPropagation(),i.detail.context=e},r.addEventListener("_preact",n._listener))):n.ref.removeEventListener("_preact",n._listener)}}))}function fC(t,e,n,r){function i(){var o=Reflect.construct(HTMLElement,[],i);return o._vdomComponent=t,o._root=r&&r.shadow?o.attachShadow({mode:"open"}):o,o}return(i.prototype=Object.create(HTMLElement.prototype)).constructor=i,i.prototype.connectedCallback=sRe,i.prototype.attributeChangedCallback=lRe,i.prototype.disconnectedCallback=uRe,n=n||t.observedAttributes||Object.keys(t.propTypes||{}),i.observedAttributes=n,n.forEach(function(o){Object.defineProperty(i.prototype,o,{get:function(){return this._vdom.props[o]},set:function(a){this._vdom?this.attributeChangedCallback(o,null,a):(this._props||(this._props={}),this._props[o]=a,this.connectedCallback());var s=typeof a;a!=null&&s!=="string"&&s!=="boolean"&&s!=="number"||this.setAttribute(o,a)}})}),customElements.define(e||t.tagName||t.displayName||t.name,i)}var vl=(t,e)=>()=>{const[r,i]=ts(()=>e());return Ju(()=>{const o=e(i);return()=>{o.cancel()}},[]),[r,t]};const[hC,cRe]=Lt(void 0);Xo(()=>hC(void 0));const[A$,dRe]=Lt(void 0),[nk,fRe]=Lt(!1),pC=vl(O0,Xo),rk=vl(DS,Xl),hRe=vl(yN,xN),R$=vl(If,Qt),pRe=vl(STe,Zf),mRe=vl(CTe,lR),vRe=vl(pj,q_),gRe=vl(mj,X_),O$=vl(hC,cRe),N$=vl(A$,dRe),yRe=vl(nk,fRe);var k$=()=>{if(ic())return;const t=Xo(),e=Xl();t==null||t.dispose();for(const n of e)n.dispose();Go()};const Gc=t=>typeof t=="number"?Number(t.toFixed(2)):t;let h1=!1;const Yz=as(()=>h1=!1,100,"trailing"),$c=(t,e,n,r=nt({},n),i)=>{const o=t.addFolder({title:e});for(const[a,s]of Object.entries(r))switch(typeof s){case"undefined":r[a]="";break;case"number":r[a]=Gc(s);break;case"object":if(Array.isArray(s)){r[a]=JSON.stringify(s);break}typeof(s==null?void 0:s.x)=="number"&&(s.x=Gc(s.x)),typeof(s==null?void 0:s.y)=="number"&&(s.y=Gc(s.y)),typeof(s==null?void 0:s.z)=="number"&&(s.z=Gc(s.z));break}return Object.fromEntries(Object.keys(r).map(a=>{const s=o.addInput(r,a);return s.on("change",({value:l})=>{if(!h1){if(i!=null&&i[a]){const[u,c,h]=i[a],{x:f,y:m,z:y}=l;n[u]=Gc(f),n[c]=Gc(m),n[h]=Gc(y);return}if(typeof l=="string"){if(l==="true"||l==="false"){n[a]=l==="true";return}const u=parseFloat(l);if(!Number.isNaN(u)){n[a]=u;return}}n[a]=Gc(l)}}),[a,s]}))},xRe=({mouse:t,keyboard:e})=>{const n=U0(null);Ju(()=>(F5(t!=="enabled"),Oz(e!=="enabled"),()=>{Oz(!0),F5(!0)}),[t,e]);const[r,i]=ts({});Ju(()=>{const C=Qt(),M=()=>{If(oi),kA(!0),z5(!0),DA(!0),i({})};M();const T=WAe(M),R=N=>{N.key!=="Shift"&&N.key!=="Meta"&&N.key!=="Control"||j2(!0)},I=N=>{N.key!=="Shift"&&N.key!=="Meta"&&N.key!=="Control"||j2(!1)};document.addEventListener("keydown",R),document.addEventListener("keyup",I);const A=XS(()=>j2(!1));return()=>{If(C),kA(!1),z5(!1),DA(!1),document.removeEventListener("keydown",R),document.removeEventListener("keyup",I),T.cancel(),A.cancel()}},[]);const[o]=pC(),[a]=rk(),[s]=hRe(),[l]=R$(),[u,c]=ts(),[h,f]=ts();QN(()=>{var C;if(!u||!h)return;const M=s.reduce((A,N,L)=>(A["camera "+L]=L,A),{}),T=u.addInput({camera:s.indexOf(Qt())},"camera",{options:M});h.add(T),T.on("change",({value:A})=>If(s[A]));const R=nt({none:0},Rs.exports.omit(M,"camera 0")),I=u.addInput({"secondary camera":s.indexOf((C=Em())!==null&&C!==void 0?C:oi)},"secondary camera",{options:R});return h.add(I),I.on("change",({value:A})=>p2e(A===0?void 0:s[A])),()=>{T.dispose(),I.dispose()}},[u,h,s,l]);const[m,y]=vRe(),x=!!m,[b,w]=gRe(),S=!!b;return Ju(()=>{const C=n.current;if(!C)return;const M=new _R.exports.Pane({container:C});if(c(M),f(M.addFolder({title:"camera"})),!o){const D=["defaultFog","defaultLight","defaultLightScale"],{defaultLightEnabled:W,defaultFogEnabled:V}=$c(M,"settings",ll,Object.assign(nt(Jt(nt({defaultLightEnabled:x},x&&{defaultLight:m,defaultLightScale:ll.defaultLightScale}),{defaultFogEnabled:S}),S&&{defaultFog:b}),Rs.exports.omit(ll,[...a$,...D])));return W.on("change",({value:B})=>y(B?"default":!1)),V.on("change",({value:B})=>w(B?"white":void 0)),()=>{M.dispose()}}const T=D=>{if(D.key==="Backspace"){D.preventDefault(),k$();return}if(D.key.toLocaleLowerCase()!=="c")return;const W=Xo();if(!!W){if(D.metaKey||D.ctrlKey){const[V]=c$(lC(W));if(!W.parent||!V)return;W.parent.attach(V),Go(V);return}Tm(W)&&lG(W)}};document.addEventListener("keydown",T);const R=o,I=new Yr,A=D=>({x:R[D+"X"],y:R[D+"Y"],z:R[D+"Z"]}),N=(D,W,V)=>({x:R[D],y:R[W],z:R[V]}),L=D=>[D+"X",D+"Y",D+"Z"];if(!a.length){const{name:D}=$c(M,"general",R,{name:R.name,id:R.id});D.on("change",()=>Vg())}if(o instanceof Yf){const D={scale:R.scale,"scale xyz":A("scale"),position:N("x","y","z"),rotation:A("rotation")};$c(M,"transform",R,D,{"scale xyz":L("scale"),position:["x","y","z"],rotation:L("rotation")}),I.watch(sR(()=>{h1=!0,Yz(),Object.assign(D,{"scale xyz":A("scale"),position:N("x","y","z"),rotation:A("rotation")}),M.refresh()}))}else if(Tm(o)){const D={position:N("x","y","z")};$c(M,"transform",R,D,{position:["x","y","z"]}),I.watch(sR(()=>{h1=!0,Yz(),Object.assign(D,{position:N("x","y","z")}),M.refresh()}))}if(o instanceof ou&&$c(M,"inner transform",R,{size:N("width","height","depth"),"inner position":A("inner"),"inner rotation":A("innerRotation")},{size:["width","height","depth"],"inner position":L("inner"),"inner rotation":L("innerRotation")}),!a.length){o instanceof Yf&&$c(M,"display",R,{bloom:R.bloom,reflection:R.reflection,outline:R.outline,visible:R.visible,innerVisible:R.innerVisible,frustumCulled:R.frustumCulled,metalnessFactor:R.metalnessFactor,roughnessFactor:R.roughnessFactor,environmentFactor:R.environmentFactor,toon:R.toon,pbr:R.pbr});const{schema:D,componentName:W}=R.constructor,V={};for(const[B,K]of Object.entries(D)){if(B in dh||K===Function)continue;let j=R[B];j===1/0?j=9999:j===-1/0?j=-9999:Array.isArray(j)&&(j=JSON.stringify(j)),V[B]=j}if(D===XG){V.stride={x:0,y:0};const{stride:B}=$c(M,W,R,V);B.on("change",({value:K})=>{Object.assign(V,{strideForward:-K.y,strideRight:K.x}),M.refresh()})}else $c(M,W,R,V)}return()=>{I.cancel(),M.dispose(),document.removeEventListener("keydown",T)}},[o,a,r,S,x]),lt("div",{ref:n,onKeyDown:C=>C.stopPropagation(),onKeyUp:C=>C.stopPropagation(),className:"lingo3d-ui",style:{width:300,height:"100%",background:"rgb(40, 41, 46)"}})};fC(xRe,"lingo3d-editor",["mouse","keyboard"]);const bRe=()=>lt("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 1024 1024",style:{margin:2,opacity:.25,flexShrink:0},children:lt("path",{fill:"#fff",d:"M838.4 325.12L554.24 479.36C528 493.44 512 521.6 512 552.96V851.2c0 32 31.36 53.12 57.6 38.4l284.16-154.24c25.6-14.08 42.24-42.24 42.24-73.6v-297.6c0-32.64-31.36-53.12-57.6-39.04zm-432.64 153.6L121.6 325.12c-26.24-14.08-57.6 6.4-57.6 38.4v299.52c0 31.36 16 59.52 42.24 73.6l284.16 153.6c26.24 14.08 57.6-7.04 57.6-39.04V552.32c0-31.36-16-59.52-42.24-73.6zm406.4-223.36c13.44-7.04 19.84-19.2 18.56-30.72 1.28-12.16-5.12-23.68-18.56-30.72L522.88 42.88c-12.8-7.04-28.16-10.24-43.52-10.24-15.36 0-30.72 3.2-43.52 10.24l-289.28 150.4c-13.44 7.04-19.2 19.2-18.56 30.72-.64 12.16 5.12 24.32 18.56 31.36l289.28 150.4C448.64 412.8 464 416 479.36 416c15.36 0 30.72-3.2 43.52-10.24l289.28-150.4z"})}),I$=({style:t,onClick:e})=>lt("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 1024 1024",style:nt({margin:2,flexShrink:0},t),onMouseDown:n=>n.stopPropagation(),onClick:n=>(n.stopPropagation(),e==null?void 0:e()),children:lt("path",{fill:"#fff",d:"M928.1 928.2H98v-830h830.1v830zm-104.8-415c0-24.6-19.9-44.5-44.5-44.5H556.5V246.4c0-24.6-19.9-44.5-44.5-44.5s-44.5 19.9-44.5 44.5v222.3H245.2c-24.6 0-44.5 19.9-44.5 44.5s19.9 44.5 44.5 44.5h222.3V780c0 24.6 19.9 44.5 44.5 44.5s44.5-19.9 44.5-44.5V557.7h222.3c24.6 0 44.5-20 44.5-44.5z"})}),L$=({style:t,onClick:e})=>lt("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 1024 1024",style:nt({margin:2,flexShrink:0},t),onMouseDown:n=>n.stopPropagation(),onClick:n=>(n.stopPropagation(),e==null?void 0:e()),children:lt("path",{fill:"#fff",d:"M752 240H144c-17.7 0-32 14.3-32 32v608c0 17.7 14.3 32 32 32h608c17.7 0 32-14.3 32-32V272c0-17.7-14.3-32-32-32zM596 606c0 4.4-3.6 8-8 8H308c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h280c4.4 0 8 3.6 8 8v48zm284-494H264c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h576v576c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V144c0-17.7-14.3-32-32-32z"})});var D$=()=>lt("path",{fill:"#fff",d:"M914.5 653.5c-5.5 0-11 1.1-16 3.3l-.2.1h-.2L510.2 822.2 122.2 657h-.2l-.2-.1c-5-2.1-10.3-3.3-16-3.3-23.1 0-41.8 19.3-41.8 43.1 0 18 10.7 33.3 25.8 39.8l403.9 172.1.4.1c10.2 4.4 21.8 4.4 32 0l.2-.1c.1 0 .1-.1.2-.1l403.9-172.1c15.1-6.5 25.8-21.8 25.8-39.8.1-23.8-18.6-43.1-41.7-43.1zm0-186.5c-7.9-.2-16 3.2-16 3.2L510.2 635.6 121.8 470.2s-10.3-3.2-16-3.2C82.7 467 64 486.2 64 510c0 17.9 10.7 33.3 25.8 39.7l403.9 172c.1 0 .1.1.2.1l.1.1c5 2.1 10.3 3.3 16 3.3 5.7 0 11.1-1.2 16-3.3l.2-.1c.1 0 .1 0 .2-.1l403.9-172c15.1-6.4 25.8-21.8 25.9-39.7.1-23.8-18.6-43-41.7-43zM89.8 363.2l403.9 172.1c.1 0 .1 0 .2.1l.1.1c5 2.1 10.3 3.2 16 3.2 5.5 0 10.9-1.1 16-3.2l.2-.1.2-.1 403.9-172c15.1-6.5 25.8-21.8 25.9-39.7 0-18-10.7-33.3-25.8-39.8L526.5 111.6c-.1 0-.1 0-.2-.1l-.2-.1c-10.2-4.4-21.8-4.4-32 0l-.1.1L89.8 283.7C74.7 290.1 64 305.5 64 323.5c0 17.9 10.7 33.2 25.8 39.7z"});const wRe=()=>lt("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 1024 1024",style:{margin:2,opacity:.25,flexShrink:0},children:lt(D$,{})});document.addEventListener("mouseup",()=>nk(!1));const F$=({appendable:t,object3d:e,level:n})=>{const r={opacity:e.children.length?.5:.05,cursor:"pointer"},[i,o]=ts(!1),[a]=O$(),{setClickEl:s,handleClick:l,handleDoubleClick:u}=B$(e,t),[c,h]=N$();Ju(()=>{!c||c.has(e)&&o(!0)},[c]);const f=U0(null),m=U0(null),y=a===e,x=dC(()=>{if(!y||!f.current||!m.current)return;const b=f.current.getBoundingClientRect();return m.current.getBoundingClientRect().right-b.left+4},[y,i]);return lt("div",{ref:s,onClick:l,onDblClick:u,onMouseDown:()=>nk(!0),style:{color:"rgba(255, 255, 255, 0.75)",marginLeft:8,borderLeft:"1px solid rgba(255, 255, 255, 0.05)"},children:[lt("div",{ref:f,style:{display:"flex",alignItems:"center",border:y?"1px solid rgba(255, 255, 255, 0.5)":void 0,width:x,minWidth:"100%",cursor:"default"},children:[i?lt(L$,{style:r,onClick:()=>(o(!1),h(void 0))}):lt(I$,{style:r,onClick:()=>o(!0)}),lt(wRe,{}),lt("div",{ref:m,children:e.name})]}),i&&e.children.map(b=>lt(F$,{object3d:b,appendable:t,level:n+1},b.uuid))]})},z$=({appendable:t,level:e})=>{const[n,r]=ts(),{loadedResolvable:i}=t;return Ju(()=>{r(void 0);const o=i.then(()=>r(t.loadedGroup.children[0]));return()=>{o.cancel()}},[i]),lt(ik,{appendable:t,level:e,children:n&&lt(F$,{appendable:t,level:e+1,object3d:n})})};var _Re=t=>{const[e,n]=ts(null);return Ju(()=>{if(!e)return;let r=0,i=0,o=0;const a=l=>{r=Date.now(),i=l.clientX,o=l.clientY},s=l=>{const u=Date.now(),c=u-r,h=Math.abs(l.clientX-i),f=Math.abs(l.clientY-o);r=u,i=l.clientX,o=l.clientY,c<300&&h<5&&f<5&&t(l)};return e.addEventListener("mousedown",a),e.addEventListener("mouseup",s),()=>{e.removeEventListener("mousedown",a),e.removeEventListener("mouseup",s)}},[e]),n};const B$=(t,e)=>({setClickEl:_Re(o=>{o.stopPropagation(),If(oi),Tm(e)&&Xo()!==e&&Go(e),t instanceof gr?queueMicrotask(()=>hC(t)):Go(t)}),handleClick:o=>o.stopPropagation(),handleDoubleClick:o=>{o.stopPropagation(),Tm(t)&&(lG(t),Go(t))}}),oa=[void 0],ik=({appendable:t,level:e,children:n})=>{const r=t.name||Rs.exports.upperFirst(t.constructor.componentName),i=t.children?[...t.children]:void 0,o={opacity:(i==null?void 0:i.length)||n?.5:.05,cursor:"pointer"},[a,s]=ts(!1),[l,u]=ts(!1),[c]=pC(),[h]=rk(),f=c===t||h.includes(t),{setClickEl:m,handleClick:y,handleDoubleClick:x}=B$(t),[b,w]=N$();Ju(()=>{!b||b.has(t.outerObject3d)&&u(!0)},[b]);const S=U0(null),C=U0(null),M=dC(()=>{if(!f||!S.current||!C.current)return;const R=S.current.getBoundingClientRect();return C.current.getBoundingClientRect().right-R.left+4},[f,l]),[T]=yRe();return lt("div",{ref:m,onClick:y,onDblClick:x,draggable:!T,onDragStart:R=>(R.stopPropagation(),oa[0]=t),onDragEnd:R=>(R.stopPropagation(),oa[0]=void 0),onDragOver:R=>{R.stopPropagation(),R.preventDefault(),!(!oa[0]||oa[0]===t)&&s(!0)},onDragEnter:R=>{R.stopPropagation(),R.preventDefault(),!(!oa[0]||oa[0]===t)&&s(!0)},onDragLeave:R=>{R.stopPropagation(),!(!oa[0]||oa[0]===t)&&s(!1)},onDrop:R=>{R.stopPropagation(),!(!oa[0]||oa[0]===t)&&(s(!1),t.attach(oa[0]))},style:{color:"rgba(255, 255, 255, 0.75)",marginLeft:8,borderLeft:"1px solid rgba(255, 255, 255, 0.05)",background:a?"rgba(255, 255, 255, 0.5)":"none"},children:[lt("div",{ref:S,style:{display:"flex",alignItems:"center",backgroundColor:f?"rgba(255, 255, 255, 0.1)":void 0,width:M,minWidth:"100%",cursor:"default"},children:[l?lt(L$,{style:o,onClick:()=>(u(!1),w(void 0))}):lt(I$,{style:o,onClick:()=>u(!0)}),lt(bRe,{}),lt("div",{ref:C,children:r})]}),l&&(i==null?void 0:i.map(R=>R instanceof dc?lt(z$,{appendable:R,level:e+1}):lt(ik,{appendable:R,level:e+1},R.uuid))),l&&n]})},SRe=()=>lt("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 1024 1024",children:lt("path",{fill:"#fff",d:"M640 384h224a32 32 0 0132 32v384h-96v96H416a32 32 0 01-32-32V640H160a32 32 0 01-32-32V224h96v-96h384a32 32 0 0132 32v224zm0 32v192a32 32 0 01-32 32H416v224h352v-96h96V416H640zM96 96h96v96H96V96zm736 0h96v96h-96V96zM96 832h96v96H96v-96zm736 0h96v96h-96v-96z"})}),CRe=()=>lt("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 1024 1024",children:lt("path",{fill:"#fff",d:"M630.09 151.91V62.16H361.84v89.74H93.6v134.62h89.41v673.11h625.93v-673.1h89.42V151.91H630.09zM361.84 869.89h-89.43V286.53h89.43v583.36zm178.84 0h-89.43V286.53h89.43v583.36zm178.84 0h-89.43V286.53h89.43v583.36z"})}),Z2=({children:t,onClick:e,active:n})=>lt("div",{onClick:n?e:void 0,style:{width:24,height:24,display:"flex",justifyContent:"center",alignItems:"center",marginRight:2,opacity:n?1:.1,cursor:n?"pointer":"default"},children:t}),ERe=()=>{const[t,e]=ts(!1);return lt("div",{onDragOver:n=>{n.stopPropagation(),n.preventDefault(),oa[0]&&e(!0)},onDragEnter:n=>{n.stopPropagation(),n.preventDefault(),oa[0]&&e(!0)},onDragLeave:n=>{n.stopPropagation(),oa[0]&&e(!1)},onDrop:n=>{var r,i;n.stopPropagation(),e(!1);const o=oa[0];!o||(Vg(),jo.add(o),en.attach(o.outerObject3d),(i=(r=o.parent)===null||r===void 0?void 0:r.children)===null||i===void 0||i.delete(o),o.parent=void 0)},style:{background:t?"rgba(255, 255, 255, 0.5)":"none",width:"100%",height:18}})},MRe=()=>lt("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 1024 1024",children:lt(D$,{})}),V$=(t,e)=>{var n,r,i;e.add(t);const o=(i=(r=(n=t.userData.manager)===null||n===void 0?void 0:n.parent)===null||r===void 0?void 0:r.outerObject3d)!==null&&i!==void 0?i:t.parent;o&&V$(o,e)},TRe=t=>{const e=Xo();if(!(e instanceof dc))return;const n=t.toLowerCase();let r;if(e.loadedGroup.traverse(o=>{r||o.name.toLowerCase().includes(n)&&(r=o)}),!r)return;const i=new Set;V$(r,i),A$(i),hC(r)},PRe=()=>{const[t,e]=ts(void 0),[n,r]=ts(!1);return Ju(()=>{let[i,o]=[0,0];const a=l=>[i,o]=[l.clientX,l.clientY];document.addEventListener("mousemove",a);const s=gy(({target:l,rightClick:u})=>{u&&l&&e({x:i,y:o,target:l})});return()=>{s.cancel(),document.removeEventListener("mousemove",a)}},[]),t?lt("div",{className:"lingo3d-ui",onMouseDown:()=>e(void 0),style:{zIndex:9999,position:"absolute",left:0,top:0,width:"100%",height:"100%",overflow:"hidden"},children:lt("div",{onMouseDown:i=>i.stopPropagation(),style:{position:"absolute",left:t.x,top:t.y,background:"rgb(40, 41, 46)",padding:6},children:n?lt("input",{ref:i=>i==null?void 0:i.focus(),style:{all:"unset",padding:6},onKeyDown:i=>{i.stopPropagation(),!(i.key!=="Enter"&&i.key!=="Escape")&&(i.key==="Enter"&&TRe(i.target.value),r(!1),e(void 0))}}):lt("div",{style:{padding:6,whiteSpace:"nowrap"},onClick:()=>r(!0),children:"Search children"})})}):null},ARe=()=>{const[t,e]=ts({});QN(()=>{const l=FS(()=>e({}));return()=>{l.cancel()}},[]);const n=dC(()=>[...jo].filter(l=>!nj.has(l)),[t]),[r]=rk(),[i]=pC(),[o]=O$(),[a]=R$(),s=()=>{(o==null?void 0:o.name)&&i instanceof ou&&setTimeout(()=>Go(i.find(o.name)))};return lt(ov,{children:[lt("div",{className:"lingo3d-ui",onClick:()=>Go(),style:{width:200,height:"100%",background:"rgb(40, 41, 46)",padding:4,paddingTop:0,display:"flex",flexDirection:"column",overflow:"hidden"},children:[lt("div",{style:{height:24,borderBottom:"1px solid rgb(255,255,255,0.1)",opacity:a===oi?.5:.25,display:"flex",alignItems:"center",paddingLeft:12},children:[lt("div",{children:"scenegraph"}),lt("div",{style:{flexGrow:1}}),lt(Z2,{active:!!o,onClick:s,children:lt(MRe,{})}),lt(Z2,{active:!!r.length,onClick:nAe,children:lt(SRe,{})}),lt(Z2,{active:!!i,onClick:k$,children:lt(CRe,{})})]}),lt("div",{style:{overflow:"scroll",opacity:a===oi?1:.5},className:"lingo3d-ui",children:[n.map(l=>l instanceof dc?lt(z$,{appendable:l,level:0}):lt(ik,{appendable:l,level:0},l.uuid)),lt(ERe,{})]})]}),lt(PRe,{})]})};fC(ARe,"lingo3d-scenegraph");const RRe=()=>lt("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 1024 1024",children:lt("path",{fill:"#fff",d:"M960 480L768 320v128H512V192h128L480 0 320 192h128v256H192V320L0 480l192 160V512h256v256H320l160 192 160-192H512V512h256v128l192-160z"})}),ORe=()=>lt("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 1024 1024",children:lt("path",{fill:"#fff",d:"M929 849a30 30 0 01-30-30v-83.137a447.514 447.514 0 01-70.921 92.209C722.935 933.225 578.442 975.008 442 953.482a444.917 444.917 0 01-241.139-120.591 30 30 0 1137.258-47.01l.231-.231A385.175 385.175 0 00442 892.625v-.006c120.855 22.123 250.206-13.519 343.656-106.975a386.646 386.646 0 0070.6-96.653h-87.247a30 30 0 010-60H929a30 30 0 0130 30V819a30 30 0 01-30 30zM512 392a120 120 0 11-120 120 120 120 0 01120-120zm293.005-147.025a29.87 29.87 0 01-19.117-6.882l-.232.231A386.5 386.5 0 00689.478 168h-.011c-145.646-75.182-329.021-51.747-451.117 70.35a386.615 386.615 0 00-70.6 96.65H255a30 30 0 010 60H95a30 30 0 01-30-30V205a30 30 0 0160 0v83.129a447.534 447.534 0 0170.923-92.206C317.981 73.866 493.048 37.2 647 85.836v-.045a444.883 444.883 0 01176.143 105.291 30 30 0 01-18.138 53.893z"})}),NRe=()=>lt("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 1024 1024",children:lt("path",{fill:"#fff",d:"M609.52 584.92a35.309 35.309 0 0124.98-10.36c9.37 0 18.36 3.73 24.98 10.36l189.29 189.22-.07-114.3.57-6.35c3.25-17.98 19.7-30.5 37.9-28.85 18.2 1.65 32.12 16.92 32.09 35.2v200.23c-.05 1.49-.19 2.97-.42 4.45l-.21 1.13c-.22 1.44-.55 2.85-.99 4.24l-.57 1.62-.56 1.41a34.163 34.163 0 01-7.62 11.36l2.12-2.4-.14.14-.92 1.06-1.06 1.2-.57.57-.56.57a36.378 36.378 0 01-16.23 8.39l-3.53.5-4.02.35h-199.6l-6.35-.63c-16.73-3.06-28.9-17.63-28.93-34.64l.56-6.35c3.07-16.76 17.67-28.93 34.71-28.92l114.29-.14-189.07-189.1-4.09-4.94c-9.71-14.01-8.01-32.95 4.02-45.02zm-162.06 0c12.06 12.05 13.78 30.99 4.09 45.01l-4.09 4.94-189.15 189.08 114.3.14c17.04-.01 31.65 12.17 34.71 28.92l.57 6.35c-.03 17.01-12.19 31.58-28.92 34.64l-6.35.63H173.09l-4.23-.42-3.39-.49a36.38 36.38 0 01-17.36-9.52l-1.06-1.13-.98-1.13.98 1.06-1.97-2.26.85 1.06-.42-.56a35.137 35.137 0 01-3.74-5.64l-1.13-2.68a34.71 34.71 0 01-2.11-7.33l-.28-1.13c-.21-1.47-.33-2.96-.36-4.45V659.78c-.03-18.28 13.89-33.55 32.09-35.2 18.2-1.65 34.65 10.87 37.9 28.85l.57 6.35-.07 114.36 189.29-189.22c13.77-13.77 36.11-13.77 49.88 0h-.09zm-74.71-471.71l6.35.57c16.76 3.06 28.93 17.67 28.92 34.71l-.63 6.35c-3.07 16.76-17.67 28.93-34.71 28.92l-114.3.14 189.15 189.08 4.09 4.94c10.26 15.02 7.42 35.37-6.55 47.01-13.98 11.63-34.51 10.74-47.42-2.07L208.29 233.71l.07 114.3-.57 6.35c-3.25 17.98-19.7 30.5-37.9 28.85-18.2-1.65-32.12-16.92-32.09-35.2V147.78c0-1.55.14-3.03.35-4.51l.21-1.13c.24-1.44.59-2.85 1.06-4.23a34.97 34.97 0 018.68-14.39l-2.12 2.4-.42.57 1.55-1.84-.99 1.06.92-.98 2.26-2.33c3.04-2.73 6.52-4.92 10.3-6.49l2.82-1.06c3.45-1.07 7.04-1.62 10.65-1.62l-3.6.14h.49l1.48-.14h201.31zm512.91 0l1.41.14h.42c2.43.29 4.84.79 7.19 1.48l2.82 1.06 2.61 1.2 3.04 1.76c2.09 1.33 4.03 2.89 5.78 4.66l1.13 1.2.78.98.21.14.49.64 2.33 3.17c2.35 3.83 3.98 8.07 4.8 12.49l.21 1.13c.21 1.48.35 2.96.35 4.44v200.37c-.16 18.13-14.03 33.19-32.08 34.83-18.06 1.64-34.42-10.67-37.83-28.48l-.57-6.35V233.65L659.54 422.87c-12.9 12.95-33.56 13.91-47.59 2.2-14.04-11.71-16.81-32.2-6.38-47.22l4.02-4.86 189.22-189.08-114.29-.14c-17.06.04-31.71-12.14-34.78-28.92l-.63-6.35c-.01-17.04 12.16-31.65 28.93-34.71l6.35-.57h201.27zm0 0"})}),kRe=()=>lt("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 1024 1024",children:[lt("path",{fill:"#fff",d:"M96 892.8V121.6c0-16 12.8-28.8 28.8-28.8h774.4c16 0 28.8 12.8 28.8 28.8v771.2c0 16-12.8 28.8-28.8 28.8H124.8c-16 3.2-28.8-9.6-28.8-28.8zm64-736v704h704v-704H160z"}),lt("path",{fill:"#fff",d:"M352 656V358.4c0-6.4 6.4-12.8 9.6-12.8h297.6c6.4 0 9.6 6.4 9.6 12.8V656c0 6.4-6.4 12.8-9.6 12.8H361.6c-3.2 0-9.6-6.4-9.6-12.8zm80-227.2v160h160v-160H432zm240 108.8v-48h192v48H672zm121.6-48H736v48h57.6v-48zm-633.6 48v-48h192v48H160zm124.8-48H224v48h57.6v-48z"}),lt("path",{fill:"#fff",d:"M489.6 156.8h48v192h-48v-192zm48 121.6v-57.6h-48v57.6h48zm-48 387.2h48v195.2h-48V665.6zm48 124.8v-57.6h-48v57.6h48z"})]}),IRe=()=>lt("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 1024 1024",children:lt("path",{fill:"#fff",d:"M185.6 489.6h-48c-3.2 0-9.6 3.2-9.6 9.6v384c0 3.2 3.2 9.6 9.6 9.6h48c3.2 0 9.6-3.2 9.6-9.6v-384c-3.2-6.4-6.4-9.6-9.6-9.6zm217.6 236.8c6.4 0 12.8-3.2 12.8-9.6v-48c0-3.2-6.4-9.6-12.8-9.6H140.8c-6.4 0-12.8 3.2-12.8 9.6v48c0 3.2 6.4 9.6 12.8 9.6h262.4zm512-547.2v-48c0-3.2-3.2-9.6-9.6-9.6h-384c-3.2 0-9.6 3.2-9.6 9.6v48c0 3.2 3.2 9.6 9.6 9.6h384c6.4 0 9.6-6.4 9.6-9.6zM678.4 377.6c0 6.4 3.2 9.6 9.6 9.6h48c3.2 0 9.6-3.2 9.6-9.6V134.4c0-6.4-3.2-9.6-9.6-9.6h-48c-3.2 0-9.6 3.2-9.6 9.6v243.2zm-195.2 89.6v416c0 9.6 6.4 16 16 16h400c9.6 0 16-6.4 16-16v-416c0-9.6-6.4-16-16-16h-400c-9.6 0-16 9.6-16 16zm361.6 57.6v304h-288v-304h288z"})}),kl=({children:t,onClick:e,active:n,disabled:r})=>lt("div",{style:{margin:6,padding:6,background:n?"rgba(255, 255, 255, 0.1)":void 0,borderRadius:4,opacity:r?.25:n?1:.75,cursor:"pointer"},onClick:r||n?void 0:e,children:t}),LRe=()=>lt("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 1024 1024",style:{left:-2},children:lt("path",{fill:"#fff",d:"M279.552 198.879a22.26 22.26 0 0135.217-20.347L933.265 628.47a22.26 22.26 0 01-11.799 40.248l-324.43 19.456a22.26 22.26 0 00-17.23 9.972l-179.11 271.227a22.26 22.26 0 01-40.738-9.929L279.597 198.88z"})}),J2=()=>lt("div",{style:{width:"60%",height:2,background:"rgba(255, 255, 255, 0.1)",margin:12}}),DRe=()=>lt("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 1024 1024",children:[lt("path",{fill:"#fff",d:"M808.192 246.528a320.16 320.16 0 00-592.352 0A238.592 238.592 0 0032 479.936c0 132.352 107.648 240 240 240h91.488a32 32 0 100-64H272a176.192 176.192 0 01-176-176 175.04 175.04 0 01148.48-173.888l19.04-2.976 6.24-18.24C305.248 181.408 402.592 111.936 512 111.936a256 256 0 01242.208 172.896l6.272 18.24 19.04 2.976A175.04 175.04 0 01928 479.936c0 97.024-78.976 176-176 176h-97.28a32 32 0 100 64H752c132.352 0 240-107.648 240-240a238.592 238.592 0 00-183.808-233.408z"}),lt("path",{fill:"#fff",d:"M649.792 789.888L544 876.48V447.936a32 32 0 00-64 0V876.48l-106.752-87.424a31.968 31.968 0 10-40.544 49.504l159.04 130.24a32 32 0 0040.576 0l158.048-129.44a32 32 0 10-40.576-49.472z"})]}),FRe=()=>lt("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 1024 1024",children:[lt("path",{fill:"#fff",d:"M870.4 342.4c-12.8 0-24-11.2-24-24V153.6c0-12.8 11.2-24 24-24s24 11.2 24 24v164.8c0 12.8-11.2 24-24 24z"}),lt("path",{fill:"#fff",d:"M870.4 177.6H705.6c-12.8 0-24-11.2-24-24s11.2-24 24-24h164.8c12.8 0 24 11.2 24 24s-11.2 24-24 24zm-96 716.8H249.6c-65.6 0-120-54.4-120-120V249.6c0-65.6 54.4-120 120-120H512c12.8 0 24 11.2 24 24s-11.2 24-24 24H249.6c-40 0-72 32-72 72v524.8c0 40 32 72 72 72h524.8c40 0 72-32 72-72V512c0-12.8 11.2-24 24-24s24 11.2 24 24v262.4c0 65.6-54.4 120-120 120z"}),lt("path",{fill:"#fff",d:"M526.4 521.6c-6.4 0-12.8-1.6-17.6-6.4-9.6-9.6-9.6-24 0-33.6l344-344c9.6-9.6 24-9.6 33.6 0 9.6 9.6 9.6 24 0 33.6l-344 344c-4.8 4.8-11.2 6.4-16 6.4z"})]}),ok=(()=>{if(typeof self=="undefined")return!1;if("top"in self&&self!==top)try{}catch{return!1}else if("showOpenFilePicker"in self)return"showOpenFilePicker";return!1})(),zRe=ok?Promise.resolve().then(function(){return HRe}):Promise.resolve().then(function(){return qRe});async function BRe(...t){return(await zRe).default(...t)}ok?Promise.resolve().then(function(){return jRe}):Promise.resolve().then(function(){return YRe});ok?Promise.resolve().then(function(){return $Re}):Promise.resolve().then(function(){return JRe});const VRe=async t=>{const e=await t.getFile();return e.handle=t,e};var URe=async(t=[{}])=>{Array.isArray(t)||(t=[t]);const e=[];t.forEach((i,o)=>{e[o]={description:i.description||"",accept:{}},i.mimeTypes?i.mimeTypes.map(a=>{e[o].accept[a]=i.extensions||[]}):e[o].accept["*/*"]=i.extensions||[]});const n=await window.showOpenFilePicker({id:t[0].id,startIn:t[0].startIn,types:e,multiple:t[0].multiple||!1,excludeAcceptAllOption:t[0].excludeAcceptAllOption||!1}),r=await Promise.all(n.map(VRe));return t[0].multiple?r:r[0]},HRe={__proto__:null,default:URe};function Uw(t){function e(n){if(Object(n)!==n)return Promise.reject(new TypeError(n+" is not an object."));var r=n.done;return Promise.resolve(n.value).then(function(i){return{value:i,done:r}})}return Uw=function(n){this.s=n,this.n=n.next},Uw.prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(n){var r=this.s.return;return r===void 0?Promise.resolve({value:n,done:!0}):e(r.apply(this.s,arguments))},throw:function(n){var r=this.s.return;return r===void 0?Promise.reject(n):e(r.apply(this.s,arguments))}},new Uw(t)}const U$=async(t,e,n=t.name,r)=>{const i=[],o=[];var a,s=!1,l=!1;try{for(var u,c=function(h){var f,m,y,x=2;for(typeof Symbol!="undefined"&&(m=Symbol.asyncIterator,y=Symbol.iterator);x--;){if(m&&(f=h[m])!=null)return f.call(h);if(y&&(f=h[y])!=null)return new Uw(f.call(h));m="@@asyncIterator",y="@@iterator"}throw new TypeError("Object is not async iterable")}(t.values());s=!(u=await c.next()).done;s=!1){const h=u.value,f=`${n}/${h.name}`;h.kind==="file"?o.push(h.getFile().then(m=>(m.directoryHandle=t,m.handle=h,Object.defineProperty(m,"webkitRelativePath",{configurable:!0,enumerable:!0,get:()=>f})))):h.kind!=="directory"||!e||r&&r(h)||i.push(U$(h,e,f,r))}}catch(h){l=!0,a=h}finally{try{s&&c.return!=null&&await c.return()}finally{if(l)throw a}}return[...(await Promise.all(i)).flat(),...await Promise.all(o)]};var WRe=async(t={})=>{t.recursive=t.recursive||!1;const e=await window.showDirectoryPicker({id:t.id,startIn:t.startIn});return U$(e,t.recursive,void 0,t.skipDirectory)},jRe={__proto__:null,default:WRe},GRe=async(t,e=[{}],n=null,r=!1,i=null)=>{Array.isArray(e)||(e=[e]),e[0].fileName=e[0].fileName||"Untitled";const o=[];let a=null;if(t instanceof Blob&&t.type?a=t.type:t.headers&&t.headers.get("content-type")&&(a=t.headers.get("content-type")),e.forEach((u,c)=>{o[c]={description:u.description||"",accept:{}},u.mimeTypes?(c===0&&a&&u.mimeTypes.push(a),u.mimeTypes.map(h=>{o[c].accept[h]=u.extensions||[]})):a&&(o[c].accept[a]=u.extensions||[])}),n)try{await n.getFile()}catch(u){if(n=null,r)throw u}const s=n||await window.showSaveFilePicker({suggestedName:e[0].fileName,id:e[0].id,startIn:e[0].startIn,types:o,excludeAcceptAllOption:e[0].excludeAcceptAllOption||!1});!n&&i&&i();const l=await s.createWritable();return"stream"in t?(await t.stream().pipeTo(l),s):"body"in t?(await t.body.pipeTo(l),s):(await l.write(await t),await l.close(),s)},$Re={__proto__:null,default:GRe},KRe=async(t=[{}])=>(Array.isArray(t)||(t=[t]),new Promise((e,n)=>{const r=document.createElement("input");r.type="file";const i=[...t.map(s=>s.mimeTypes||[]),...t.map(s=>s.extensions||[])].join();r.multiple=t[0].multiple||!1,r.accept=i||"";const o=s=>{typeof a=="function"&&a(),e(s)},a=t[0].legacySetup&&t[0].legacySetup(o,()=>a(n),r);r.addEventListener("change",()=>{o(r.multiple?Array.from(r.files):r.files[0])}),r.click()})),qRe={__proto__:null,default:KRe},XRe=async(t=[{}])=>(Array.isArray(t)||(t=[t]),t[0].recursive=t[0].recursive||!1,new Promise((e,n)=>{const r=document.createElement("input");r.type="file",r.webkitdirectory=!0;const i=a=>{typeof o=="function"&&o(),e(a)},o=t[0].legacySetup&&t[0].legacySetup(i,()=>o(n),r);r.addEventListener("change",()=>{let a=Array.from(r.files);t[0].recursive?t[0].recursive&&t[0].skipDirectory&&(a=a.filter(s=>s.webkitRelativePath.split("/").every(l=>!t[0].skipDirectory({name:l,kind:"directory"})))):a=a.filter(s=>s.webkitRelativePath.split("/").length===2),i(a)}),r.click()})),YRe={__proto__:null,default:XRe},ZRe=async(t,e={})=>{Array.isArray(e)&&(e=e[0]);const n=document.createElement("a");let r=t;"body"in t&&(r=await async function(a,s){const l=a.getReader(),u=new ReadableStream({start:f=>async function m(){return l.read().then(({done:y,value:x})=>{if(!y)return f.enqueue(x),m();f.close()})}()}),c=new Response(u),h=await c.blob();return l.releaseLock(),new Blob([h],{type:s})}(t.body,t.headers.get("content-type"))),n.download=e.fileName||"Untitled",n.href=URL.createObjectURL(await r);const i=()=>{typeof o=="function"&&o()},o=e.legacySetup&&e.legacySetup(i,()=>o(),n);return n.addEventListener("click",()=>{setTimeout(()=>URL.revokeObjectURL(n.href),3e4),i()}),n.click(),null},JRe={__proto__:null,default:ZRe};const QRe=()=>lt("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 1024 1024",children:lt("path",{fill:"#fff",d:"M836.8 353.6c-11.2-3.2-20.8-6.4-32-9.6 1.6-8 3.2-14.4 4.8-22.4 24-118.4 8-214.4-46.4-246.4C710.4 44.8 624 76.8 537.6 152c-8 8-17.6 14.4-25.6 22.4-4.8-4.8-11.2-9.6-16-16-91.2-81.6-182.4-115.2-236.8-83.2-52.8 30.4-68.8 120-46.4 233.6 1.6 11.2 4.8 22.4 8 33.6-12.8 3.2-25.6 8-36.8 11.2C76.8 392 0 451.2 0 510.4c0 62.4 81.6 124.8 192 163.2 9.6 3.2 17.6 6.4 27.2 8-3.2 12.8-6.4 24-8 36.8-20.8 110.4-4.8 198.4 48 228.8 54.4 32 145.6 0 233.6-78.4 6.4-6.4 14.4-12.8 20.8-19.2 8 8 17.6 16 27.2 24 84.8 73.6 169.6 104 222.4 73.6 54.4-32 72-126.4 48-241.6-1.6-8-3.2-17.6-6.4-27.2 6.4-1.6 12.8-3.2 19.2-6.4 116.8-35.2 200-97.6 200-161.6 0-59.2-78.4-118.4-187.2-156.8zM566.4 184c75.2-65.6 144-89.6 176-72 33.6 19.2 46.4 97.6 25.6 201.6-1.6 6.4-3.2 12.8-4.8 20.8-44.8-9.6-89.6-17.6-134.4-20.8C603.2 276.8 574.4 240 544 208c6.4-9.6 14.4-16 22.4-24zm-232 430.4c9.6 17.6 20.8 35.2 32 51.2-32-3.2-62.4-8-92.8-14.4 8-28.8 19.2-59.2 32-89.6 9.6 19.2 19.2 36.8 28.8 52.8zm-60.8-240c28.8-6.4 59.2-11.2 91.2-16-11.2 16-20.8 33.6-30.4 51.2-9.6 17.6-19.2 33.6-28.8 52.8-12.8-30.4-22.4-59.2-32-88zM328 512c12.8-27.2 27.2-54.4 43.2-81.6s32-52.8 48-78.4c30.4-1.6 60.8-3.2 91.2-3.2s62.4 1.6 91.2 3.2c17.6 25.6 33.6 51.2 48 76.8s30.4 52.8 43.2 81.6c-12.8 27.2-27.2 54.4-43.2 81.6-16 27.2-32 52.8-48 78.4-30.4 1.6-60.8 3.2-92.8 3.2s-62.4-1.6-91.2-3.2C400 644.8 384 619.2 368 592s-25.6-52.8-40-80zm361.6 102.4l28.8-52.8c12.8 28.8 24 59.2 33.6 88-30.4 6.4-62.4 12.8-94.4 16 11.2-16 22.4-33.6 32-51.2zm28.8-153.6L689.6 408c-9.6-17.6-20.8-33.6-30.4-49.6 32 4.8 62.4 9.6 91.2 16-8 30.4-19.2 59.2-32 86.4zM512 236.8c20.8 22.4 40 46.4 59.2 72-40-1.6-80-1.6-118.4 0 19.2-27.2 40-51.2 59.2-72zM280 113.6c33.6-19.2 108.8 8 187.2 78.4 4.8 4.8 9.6 9.6 16 14.4C452.8 240 424 275.2 396.8 312c-44.8 4.8-89.6 11.2-134.4 20.8-3.2-9.6-4.8-20.8-6.4-30.4-19.2-97.6-6.4-169.6 24-188.8zm-48 528c-8-3.2-16-4.8-25.6-8-43.2-12.8-91.2-35.2-126.4-62.4C59.2 556.8 46.4 536 41.6 512c0-36.8 64-83.2 155.2-115.2 11.2-4.8 22.4-8 35.2-11.2 14.4 43.2 30.4 86.4 49.6 128-19.2 40-36.8 83.2-49.6 128zm232 195.2c-33.6 30.4-72 54.4-113.6 70.4-22.4 11.2-48 11.2-70.4 3.2-32-19.2-44.8-89.6-27.2-184 1.6-11.2 4.8-22.4 8-33.6 44.8 9.6 89.6 16 136 19.2 25.6 36.8 56 73.6 86.4 107.2-6.4 6.4-12.8 12.8-19.2 17.6zm49.6-48c-20.8-22.4-40-46.4-60.8-72 19.2 0 38.4 1.6 59.2 1.6 20.8 0 41.6 0 60.8-1.6-19.2 24-38.4 48-59.2 72zM774.4 848c-1.6 24-14.4 48-33.6 62.4-32 19.2-99.2-4.8-172.8-68.8-8-8-16-14.4-25.6-22.4 30.4-33.6 59.2-68.8 84.8-107.2 46.4-3.2 91.2-11.2 136-20.8l4.8 24c11.2 43.2 12.8 89.6 6.4 132.8zm36.8-214.4c-4.8 1.6-11.2 3.2-17.6 4.8-14.4-43.2-32-86.4-51.2-128 19.2-40 35.2-83.2 49.6-126.4 11.2 3.2 20.8 6.4 30.4 9.6 92.8 32 158.4 80 158.4 116.8 0 40-68.8 89.6-169.6 123.2zM512 603.2c51.2 0 91.2-41.6 91.2-91.2s-41.6-91.2-91.2-91.2-91.2 41.6-91.2 91.2 40 91.2 91.2 91.2z"})}),e3e=()=>lt("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 1024 1024",children:lt("path",{fill:"#fff",d:"M777.8 128.6H624L512 305.8l-96-177.2H64L512 896l448-767.4H777.8zm-602.4 64H283L512 589l228.8-396.4h107.6L512 769 175.4 192.6z"})});var ak=(t,e)=>{const n=new Blob([e],{type:"text/plain"}),r=document.createElement("a"),i=r.href=URL.createObjectURL(n);r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(i)};const H$=t=>{let e="";for(const n of t){const r=Rs.exports.upperFirst(n.type);let i="";for(const[o,a]of Object.entries(n))o==="children"||o==="type"||!a||(typeof a=="string"?i+=` ${o}="${a}"`:a===!0?i+=` ${o}`:typeof a=="object"?i+=` ${o}={${JSON.stringify(a)}}`:i+=` ${o}={${a}}`);e+="children"in n&&n.children?`<${r}${i}>${H$(n.children)}</${r}>`:`<${r}${i} />`}return e};var t3e=async()=>{const t=(await Wi(()=>import("./standalone.278b56c6.js").then(function(r){return r.s}),[])).default,e=(await Wi(()=>import("./parser-babel.a4b08594.js").then(function(r){return r.p}),[])).default,n=t.format(`
        const App = () => {
            return (
                <World>
                    ${H$(lC())}
                </World>
            )
        }
    `,{parser:"babel",plugins:[e]});ak("App.jsx",n)};const W$=t=>{let e="";for(const n of t){const r=Rs.exports.upperFirst(n.type);let i="";for(let[o,a]of Object.entries(n))o==="children"||o==="type"||!a||(o=Rs.exports.kebabCase(o),typeof a=="string"?i+=` ${o}='${a}'`:a===!0?i+=` ${o}`:typeof a=="object"?i+=` :${o}='${JSON.stringify(a)}'`:i+=` :${o}='${a}'`);e+="children"in n&&n.children?`<${r}${i}>
${W$(n.children)}</${r}>
`:`<${r}${i} />
`}return e};var n3e=async()=>{const t=(await Wi(()=>import("./standalone.278b56c6.js").then(function(r){return r.s}),[])).default,e=(await Wi(()=>import("./parser-html.f8943251.js").then(function(r){return r.p}),[])).default,n=t.format(`
        <template>
            <World>
                ${W$(lC())}
            </World>
        </template>
    `,{parser:"vue",plugins:[e]});ak("App.vue",n)};const r3e=async()=>{const t=(await Wi(()=>import("./standalone.278b56c6.js").then(function(r){return r.s}),[])).default,e=(await Wi(()=>import("./parser-babel.a4b08594.js").then(function(r){return r.p}),[])).default,n=t.format(JSON.stringify(lC()),{parser:"json",plugins:[e]});ak("scene.json",n)},i3e=async()=>{const e=await(await BRe({extensions:[".json"]})).text();for(const n of jo)n.dispose();try{c$(JSON.parse(e))}catch{}},o3e=()=>{const[t,e]=pRe();let[n,r]=mRe();t==="scale"&&(n="local");const[i]=pC(),o=i&&!(i instanceof Yf);return QN(()=>{o&&(t==="rotate"||t==="scale")&&e("translate")},[o]),lt("div",{className:"lingo3d-ui",style:{width:50,height:"100%",background:"rgb(40, 41, 46)",borderRight:"1px solid rgba(255, 255, 255, 0.05)",overflow:"hidden"},children:lt("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",opacity:.75,paddingTop:12},children:[lt(kl,{active:t==="select",onClick:()=>e("select"),children:lt(LRe,{})}),lt(kl,{active:t==="translate",onClick:()=>e("translate"),children:lt(RRe,{})}),lt(kl,{active:t==="rotate",disabled:o,onClick:()=>e("rotate"),children:lt(ORe,{})}),lt(kl,{active:t==="scale",disabled:o,onClick:()=>e("scale"),children:lt(NRe,{})}),lt(J2,{}),lt(kl,{active:n==="world",onClick:()=>r("world"),disabled:t==="scale"||t==="select",children:lt(kRe,{})}),lt(kl,{active:n==="local",onClick:()=>r("local"),disabled:t==="select",children:lt(IRe,{})}),lt(J2,{}),lt(kl,{onClick:i3e,children:lt(FRe,{})}),lt(kl,{onClick:r3e,children:lt(DRe,{})}),lt(J2,{}),lt(kl,{onClick:t3e,children:lt(QRe,{})}),lt(kl,{onClick:n3e,children:lt(e3e,{})})]})})};fC(o3e,"lingo3d-toolbar");let p1;Jr.addEventListener("dragover",t=>t.preventDefault());Jr.addEventListener("dragenter",t=>t.preventDefault());Jr.addEventListener("drop",t=>{if(!p1||!F0())return;const e=l$(p1),{x:n,y:r,z:i}=zj(t,!0);e.outerObject3d.position.set(n,r,i),Go(e)});const Zz=({name:t,iconName:e=t})=>lt("div",{onDragStart:()=>p1=t,onDragEnd:()=>p1=void 0,style:{width:"50%",display:"flex",flexDirection:"column",alignItems:"center",paddingTop:20,paddingBottom:20},children:[lt("img",{style:{width:50},src:`https://unpkg.com/lingo3d-editor@1.0.1/assets/${e}.png`}),lt("div",{style:{marginTop:6,opacity:.75,overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},children:Rs.exports.upperFirst(t)})]}),Jz=t=>typeof t=="string"?t.endsWith("Camera")?"camera":t.endsWith("Light")?"light":t:Object.values(t)[0],Qz=t=>typeof t=="string"?t:Object.keys(t)[0],a3e=({names:t})=>{const e=[];let n=[],r=0;for(const i of t)r===0&&e.push(n=[]),n.push(i),++r===2&&(r=0);return lt(ov,{children:e.map(([i,o],a)=>lt("div",{style:{display:"flex"},children:[lt(Zz,{name:Qz(i),iconName:Jz(i)}),o&&lt(Zz,{name:Qz(o),iconName:Jz(o)})]},a))})},s3e=()=>lt("div",{className:"lingo3d-ui",style:{width:200,height:"100%",background:"rgb(40, 41, 46)",padding:10},children:lt(a3e,{names:["model","dummy","svgMesh","trigger","reflector","cube","sphere","cone","cylinder","octahedron","tetrahedron","torus","plane","circle","areaLight","boxLight","ambientLight","skyLight","directionalLight","pointLight","spotLight","camera","thirdPersonCamera","firstPersonCamera","orbitCamera"]})});fC(s3e,"lingo3d-library");const j$=document.createElement("style");document.head.appendChild(j$);j$.innerHTML=`.lingo3d-ui * {
    user-select: none;
    -webkit-user-select: none;
    position: relative;
    box-sizing: border-box;
    font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji" !important;
}
.lingo3d-ui {
    position: relative;
    box-sizing: border-box;
    overflow-x: hidden;
    overflow-y: scroll;
    float: left;
    color: white;
    font-size: 11px;
}

.lingo3d-ui::-webkit-scrollbar {
    display: none;
}

.tp-rotv {
    box-shadow: none !important;
    background-color: transparent !important;
}
.tp-brkv {
    border-left: none !important;
}
`;const l3e=({keyboard:t,mouse:e})=>ln.createElement("lingo3d-editor",{keyboard:t,mouse:e});var u3e=l3e;const c3e=()=>ln.createElement("lingo3d-scenegraph",null);var d3e=c3e;const f3e=()=>ln.createElement("lingo3d-toolbar",null);var h3e=f3e;const p3e=()=>ln.createElement("lingo3d-library",null);var m3e=p3e,G$=(t,e)=>{const n=v.exports.useRef({}),r=[],i=[];if(e)return[r,i];const o=n.current;for(const[a,s]of Object.entries(t)){if(a==="children")continue;const l=o[a];l!==s&&(s&&typeof s=="object"?JSON.stringify(s)!==JSON.stringify(l)&&r.push([a,s]):r.push([a,s]))}for(const a of Object.keys(o))!(a in t)&&i.push(a);return n.current=t,[r,i]};const Qf=ln.createContext(void 0),$$=new WeakMap,v3e=()=>new Map,K$=(t,e,n)=>{var r,i,o;const a=tu($$,t,v3e);for(const[s,l]of e){if((r=a.get(s))===null||r===void 0||r.cancel(),l instanceof Gr){a.set(s,l.get(u=>t[s]=u));continue}t[s]=l}for(const s of n)(i=a.get(s))===null||i===void 0||i.cancel(),t[s]=(o=t.constructor.defaults)===null||o===void 0?void 0:o[s]},Q2=new WeakSet;var sk=(t,e,n)=>{const u=t,{children:r}=u,i=Hh(u,["children"]),o=v.exports.useContext(Qf),a=f$(()=>{const c=new n;return o&&(o.append(c),Q2.add(c)),c},c=>{const h=$$.get(c);if(h)for(const f of h.values())f.cancel();c.dispose()});v.exports.useLayoutEffect(()=>{!o||Q2.has(a)||(o.append(a),Q2.add(a))},[o]);const[s,l]=G$(i);return K$(a,s,l),v.exports.useLayoutEffect(()=>{!e||(typeof e=="function"?e(a):e.current=a)},[e]),a};const g3e=ln.forwardRef((t,e)=>{const n=sk(t,e,Oy);return ln.createElement(Qf.Provider,{value:n})});var y3e=g3e;const x3e=ln.forwardRef((t,e)=>{const n=sk(t,e,dc);return ln.createElement(Qf.Provider,{value:n},t.children)});var q$=x3e;const b3e=ln.forwardRef((t,e)=>{const n=sk(t,e,XN);return ln.createElement(Qf.Provider,{value:n},t.children)});var w3e=b3e;let _3e=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");const S3e={position:"absolute",left:0,top:0,display:"none"},C3e=({el:t,manager:e})=>{const n=v.exports.useRef(null);return v.exports.useLayoutEffect(()=>{const r=n.current;if(!r)return;let i=!1;const o=e.loop(()=>{const{frustumVisible:a}=e;a!==i&&(r.style.display=a?"block":"none"),i=a,a&&(r.style.transform=`translateX(${e.clientX}px) translateY(${e.clientY}px)`)});return()=>{o.cancel()}},[]),Ut("div",{style:S3e,ref:n,children:t})};var E3e=C3e;const CR=[],M3e=new WeakMap,T3e=()=>ln.createElement(ln.Fragment,null,CR.map(([t,e])=>ln.createElement(E3e,{key:tu(M3e,e,_3e),el:t,manager:e})));var e8=()=>{_d.render(T3e(),ZN)};const P3e=({children:t})=>{const e=v.exports.useContext(Qf);return v.exports.useLayoutEffect(()=>{if(!e)return;const n=[t,e];return CR.push(n),e8(),()=>{Rs.exports.pull(CR,n),e8()}},[e]),null};var eT=P3e;const A3e=ln.forwardRef((i,r)=>{var o=i,{name:t,onLoad:e}=o,n=Hh(o,["name","onLoad"]);const a=v.exports.useContext(Qf),[s,l]=v.exports.useState();v.exports.useLayoutEffect(()=>{if(!(!a||!t)){if("loadedResolvable"in a){const h=a.loadedResolvable.then(()=>l(a.find(t)));return()=>{h.cancel()}}l(a.find(t))}},[a,t]);const[u,c]=G$(n,!s);return s&&K$(s,u,c),v.exports.useLayoutEffect(()=>{!r||!s||(typeof r=="function"?r(s):r.current=s)},[r,s]),v.exports.useLayoutEffect(()=>{s&&(e==null||e())},[s]),Ut(Qf.Provider,{value:s,children:n.children})});var tT=A3e,X$=(t,e=!0)=>{const n=d$(t);v.exports.useLayoutEffect(()=>{if(!e)return;const r=so(()=>n.current());return()=>{r.cancel()}},[e])},R3e=(t,e)=>{const[n,r]=v.exports.useState(0);return v.exports.useLayoutEffect(()=>{let i=!0;return BAe(t,e,o=>i&&r(o)).then(()=>i&&r(100)),()=>{i=!1}},[]),n},Gt={},ER={exports:{}};(function(t,e){(function(n,r){var i="1.0.2",o="",a="?",s="function",l="undefined",u="object",c="string",h="major",f="model",m="name",y="type",x="vendor",b="version",w="architecture",S="console",C="mobile",M="tablet",T="smarttv",R="wearable",I="embedded",A=255,N="Amazon",L="Apple",D="ASUS",W="BlackBerry",V="Browser",B="Chrome",K="Edge",j="Firefox",G="Google",H="Huawei",Y="LG",Z="Microsoft",oe="Motorola",re="Opera",se="Samsung",ce="Sony",ye="Xiaomi",fe="Zebra",De="Facebook",Oe=function(te,k){var $={};for(var U in te)k[U]&&k[U].length%2===0?$[U]=k[U].concat(te[U]):$[U]=te[U];return $},Fe=function(te){for(var k={},$=0;$<te.length;$++)k[te[$].toUpperCase()]=te[$];return k},Ee=function(te,k){return typeof te===c?Ye(k).indexOf(Ye(te))!==-1:!1},Ye=function(te){return te.toLowerCase()},be=function(te){return typeof te===c?te.replace(/[^\d\.]/g,o).split(".")[0]:r},Ce=function(te,k){if(typeof te===c)return te=te.replace(/^\s\s*/,o).replace(/\s\s*$/,o),typeof k===l?te:te.substring(0,A)},Me=function(te,k){for(var $=0,U,ne,ge,me,Q,_e;$<k.length&&!Q;){var ke=k[$],we=k[$+1];for(U=ne=0;U<ke.length&&!Q;)if(Q=ke[U++].exec(te),Q)for(ge=0;ge<we.length;ge++)_e=Q[++ne],me=we[ge],typeof me===u&&me.length>0?me.length===2?typeof me[1]==s?this[me[0]]=me[1].call(this,_e):this[me[0]]=me[1]:me.length===3?typeof me[1]===s&&!(me[1].exec&&me[1].test)?this[me[0]]=_e?me[1].call(this,_e,me[2]):r:this[me[0]]=_e?_e.replace(me[1],me[2]):r:me.length===4&&(this[me[0]]=_e?me[3].call(this,_e.replace(me[1],me[2])):r):this[me]=_e||r;$+=2}},ze=function(te,k){for(var $ in k)if(typeof k[$]===u&&k[$].length>0){for(var U=0;U<k[$].length;U++)if(Ee(k[$][U],te))return $===a?r:$}else if(Ee(k[$],te))return $===a?r:$;return te},Re={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},We={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Ue={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[b,[m,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[b,[m,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[m,b],[/opios[\/ ]+([\w\.]+)/i],[b,[m,re+" Mini"]],[/\bopr\/([\w\.]+)/i],[b,[m,re]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[m,b],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[b,[m,"UC"+V]],[/\bqbcore\/([\w\.]+)/i],[b,[m,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[b,[m,"WeChat"]],[/konqueror\/([\w\.]+)/i],[b,[m,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[b,[m,"IE"]],[/yabrowser\/([\w\.]+)/i],[b,[m,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[m,/(.+)/,"$1 Secure "+V],b],[/\bfocus\/([\w\.]+)/i],[b,[m,j+" Focus"]],[/\bopt\/([\w\.]+)/i],[b,[m,re+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[b,[m,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[b,[m,"Dolphin"]],[/coast\/([\w\.]+)/i],[b,[m,re+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[b,[m,"MIUI "+V]],[/fxios\/([-\w\.]+)/i],[b,[m,j]],[/\bqihu|(qi?ho?o?|360)browser/i],[[m,"360 "+V]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[m,/(.+)/,"$1 "+V],b],[/(comodo_dragon)\/([\w\.]+)/i],[[m,/_/g," "],b],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[m,b],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[m],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[m,De],b],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[m,b],[/\bgsa\/([\w\.]+) .*safari\//i],[b,[m,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[b,[m,B+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[m,B+" WebView"],b],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[b,[m,"Android "+V]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[m,b],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[b,[m,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[b,m],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[m,[b,ze,Re]],[/(webkit|khtml)\/([\w\.]+)/i],[m,b],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[m,"Netscape"],b],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[b,[m,j+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[m,b]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[w,"amd64"]],[/(ia32(?=;))/i],[[w,Ye]],[/((?:i[346]|x)86)[;\)]/i],[[w,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[w,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[w,"armhf"]],[/windows (ce|mobile); ppc;/i],[[w,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[w,/ower/,o,Ye]],[/(sun4\w)[;\)]/i],[[w,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[w,Ye]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[x,se],[y,M]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[f,[x,se],[y,C]],[/\((ip(?:hone|od)[\w ]*);/i],[f,[x,L],[y,C]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[x,L],[y,M]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[f,[x,H],[y,M]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[f,[x,H],[y,C]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[f,/_/g," "],[x,ye],[y,C]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[f,/_/g," "],[x,ye],[y,M]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[x,"OPPO"],[y,C]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[x,"Vivo"],[y,C]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[f,[x,"Realme"],[y,C]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[x,oe],[y,C]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[x,oe],[y,M]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[x,Y],[y,M]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[x,Y],[y,C]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[f,[x,"Lenovo"],[y,M]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[f,/_/g," "],[x,"Nokia"],[y,C]],[/(pixel c)\b/i],[f,[x,G],[y,M]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[x,G],[y,C]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[x,ce],[y,C]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[x,ce],[y,M]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[x,"OnePlus"],[y,C]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[x,N],[y,M]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[x,N],[y,C]],[/(playbook);[-\w\),; ]+(rim)/i],[f,x,[y,M]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[x,W],[y,C]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[x,D],[y,M]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[x,D],[y,C]],[/(nexus 9)/i],[f,[x,"HTC"],[y,M]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[x,[f,/_/g," "],[y,C]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[x,"Acer"],[y,M]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[x,"Meizu"],[y,C]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[x,"Sharp"],[y,C]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[x,f,[y,C]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[x,f,[y,M]],[/(surface duo)/i],[f,[x,Z],[y,M]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[x,"Fairphone"],[y,C]],[/(u304aa)/i],[f,[x,"AT&T"],[y,C]],[/\bsie-(\w*)/i],[f,[x,"Siemens"],[y,C]],[/\b(rct\w+) b/i],[f,[x,"RCA"],[y,M]],[/\b(venue[\d ]{2,7}) b/i],[f,[x,"Dell"],[y,M]],[/\b(q(?:mv|ta)\w+) b/i],[f,[x,"Verizon"],[y,M]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[x,"Barnes & Noble"],[y,M]],[/\b(tm\d{3}\w+) b/i],[f,[x,"NuVision"],[y,M]],[/\b(k88) b/i],[f,[x,"ZTE"],[y,M]],[/\b(nx\d{3}j) b/i],[f,[x,"ZTE"],[y,C]],[/\b(gen\d{3}) b.+49h/i],[f,[x,"Swiss"],[y,C]],[/\b(zur\d{3}) b/i],[f,[x,"Swiss"],[y,M]],[/\b((zeki)?tb.*\b) b/i],[f,[x,"Zeki"],[y,M]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[x,"Dragon Touch"],f,[y,M]],[/\b(ns-?\w{0,9}) b/i],[f,[x,"Insignia"],[y,M]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[x,"NextBook"],[y,M]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[x,"Voice"],f,[y,C]],[/\b(lvtel\-)?(v1[12]) b/i],[[x,"LvTel"],f,[y,C]],[/\b(ph-1) /i],[f,[x,"Essential"],[y,C]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[x,"Envizen"],[y,M]],[/\b(trio[-\w\. ]+) b/i],[f,[x,"MachSpeed"],[y,M]],[/\btu_(1491) b/i],[f,[x,"Rotor"],[y,M]],[/(shield[\w ]+) b/i],[f,[x,"Nvidia"],[y,M]],[/(sprint) (\w+)/i],[x,f,[y,C]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[x,Z],[y,C]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[x,fe],[y,M]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[x,fe],[y,C]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[x,f,[y,S]],[/droid.+; (shield) bui/i],[f,[x,"Nvidia"],[y,S]],[/(playstation [345portablevi]+)/i],[f,[x,ce],[y,S]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[x,Z],[y,S]],[/smart-tv.+(samsung)/i],[x,[y,T]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[x,se],[y,T]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[x,Y],[y,T]],[/(apple) ?tv/i],[x,[f,L+" TV"],[y,T]],[/crkey/i],[[f,B+"cast"],[x,G],[y,T]],[/droid.+aft(\w)( bui|\))/i],[f,[x,N],[y,T]],[/\(dtv[\);].+(aquos)/i],[f,[x,"Sharp"],[y,T]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[x,Ce],[f,Ce],[y,T]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[y,T]],[/((pebble))app/i],[x,f,[y,R]],[/droid.+; (glass) \d/i],[f,[x,G],[y,R]],[/droid.+; (wt63?0{2,3})\)/i],[f,[x,fe],[y,R]],[/(quest( 2)?)/i],[f,[x,De],[y,R]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[x,[y,I]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[f,[y,C]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[y,M]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[y,M]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[y,C]],[/(android[-\w\. ]{0,9});.+buil/i],[f,[x,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[b,[m,K+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[b,[m,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[m,b],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[b,m]],os:[[/microsoft (windows) (vista|xp)/i],[m,b],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[m,[b,ze,We]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[m,"Windows"],[b,ze,We]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[b,/_/g,"."],[m,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[m,"Mac OS"],[b,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[b,m],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[m,b],[/\(bb(10);/i],[b,[m,W]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[b,[m,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[b,[m,j+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[b,[m,"webOS"]],[/crkey\/([\d\.]+)/i],[b,[m,B+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[m,"Chromium OS"],b],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[m,b],[/(sunos) ?([\w\.\d]*)/i],[[m,"Solaris"],b],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[m,b]]},Ve=function(te,k){if(typeof te===u&&(k=te,te=r),!(this instanceof Ve))return new Ve(te,k).getResult();var $=te||(typeof n!==l&&n.navigator&&n.navigator.userAgent?n.navigator.userAgent:o),U=k?Oe(Ue,k):Ue;return this.getBrowser=function(){var ne={};return ne[m]=r,ne[b]=r,Me.call(ne,$,U.browser),ne.major=be(ne.version),ne},this.getCPU=function(){var ne={};return ne[w]=r,Me.call(ne,$,U.cpu),ne},this.getDevice=function(){var ne={};return ne[x]=r,ne[f]=r,ne[y]=r,Me.call(ne,$,U.device),ne},this.getEngine=function(){var ne={};return ne[m]=r,ne[b]=r,Me.call(ne,$,U.engine),ne},this.getOS=function(){var ne={};return ne[m]=r,ne[b]=r,Me.call(ne,$,U.os),ne},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return $},this.setUA=function(ne){return $=typeof ne===c&&ne.length>A?Ce(ne,A):ne,this},this.setUA($),this};Ve.VERSION=i,Ve.BROWSER=Fe([m,b,h]),Ve.CPU=Fe([w]),Ve.DEVICE=Fe([f,x,y,S,C,T,M,R,I]),Ve.ENGINE=Ve.OS=Fe([m,b]),t.exports&&(e=t.exports=Ve),e.UAParser=Ve;var Be=typeof n!==l&&(n.jQuery||n.Zepto);if(Be&&!Be.ua){var qe=new Ve;Be.ua=qe.getResult(),Be.ua.get=function(){return qe.getUA()},Be.ua.set=function(te){qe.setUA(te);var k=qe.getResult();for(var $ in k)Be.ua[$]=k[$]}}})(typeof window=="object"?window:Ca)})(ER,ER.exports);Object.defineProperty(Gt,"__esModule",{value:!0});function O3e(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var $o=v.exports,Qr=O3e($o),Y$=ER.exports,Nd=new Y$,Yo=Nd.getBrowser(),N3e=Nd.getCPU(),ls=Nd.getDevice(),lk=Nd.getEngine(),kd=Nd.getOS(),Ly=Nd.getUA(),Z$=function(e){return Nd.setUA(e)},Dy=function(e){if(!e){console.error("No userAgent string was provided");return}var n=new Y$(e);return{UA:n,browser:n.getBrowser(),cpu:n.getCPU(),device:n.getDevice(),engine:n.getEngine(),os:n.getOS(),ua:n.getUA(),setUserAgent:function(i){return n.setUA(i)}}},J$=Object.freeze({ClientUAInstance:Nd,browser:Yo,cpu:N3e,device:ls,engine:lk,os:kd,ua:Ly,setUa:Z$,parseUserAgent:Dy});function t8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function k3e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t8(Object(n),!0).forEach(function(r){D3e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qg(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qg=function(e){return typeof e}:qg=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qg(t)}function I3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function L3e(t,e,n){return e&&n8(t.prototype,e),n&&n8(t,n),t}function D3e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MR(){return MR=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},MR.apply(this,arguments)}function F3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&PR(t,e)}function TR(t){return TR=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},TR(t)}function PR(t,e){return PR=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},PR(t,e)}function z3e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Is(t,e){if(t==null)return{};var n=z3e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function Hw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B3e(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hw(t)}function V3e(t,e){return U3e(t)||H3e(t,e)||W3e(t,e)||j3e()}function U3e(t){if(Array.isArray(t))return t}function H3e(t,e){var n=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,a,s;try{for(n=n.call(t);!(i=(a=n.next()).done)&&(r.push(a.value),!(e&&r.length===e));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw s}}return r}}function W3e(t,e){if(!!t){if(typeof t=="string")return r8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r8(t,e)}}function r8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function j3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ho={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},Na={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},av={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},G3e={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},$3e=function(e){switch(e){case Ho.Mobile:return{isMobile:!0};case Ho.Tablet:return{isTablet:!0};case Ho.SmartTv:return{isSmartTV:!0};case Ho.Console:return{isConsole:!0};case Ho.Wearable:return{isWearable:!0};case Ho.Browser:return{isBrowser:!0};case Ho.Embedded:return{isEmbedded:!0};default:return G3e}},K3e=function(e){return Z$(e)},En=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none";return e||n},uk=function(){return typeof window!="undefined"&&(window.navigator||navigator)?window.navigator||navigator:!1},ck=function(e){var n=uk();return n&&n.platform&&(n.platform.indexOf(e)!==-1||n.platform==="MacIntel"&&n.maxTouchPoints>1&&!window.MSStream)},q3e=function(e,n,r,i,o){return{isBrowser:e,browserMajorVersion:En(n.major),browserFullVersion:En(n.version),browserName:En(n.name),engineName:En(r.name),engineVersion:En(r.version),osName:En(i.name),osVersion:En(i.version),userAgent:En(o)}},i8=function(e,n,r,i){return k3e({},e,{vendor:En(n.vendor),model:En(n.model),os:En(r.name),osVersion:En(r.version),ua:En(i)})},X3e=function(e,n,r,i){return{isSmartTV:e,engineName:En(n.name),engineVersion:En(n.version),osName:En(r.name),osVersion:En(r.version),userAgent:En(i)}},Y3e=function(e,n,r,i){return{isConsole:e,engineName:En(n.name),engineVersion:En(n.version),osName:En(r.name),osVersion:En(r.version),userAgent:En(i)}},Z3e=function(e,n,r,i){return{isWearable:e,engineName:En(n.name),engineVersion:En(n.version),osName:En(r.name),osVersion:En(r.version),userAgent:En(i)}},J3e=function(e,n,r,i,o){return{isEmbedded:e,vendor:En(n.vendor),model:En(n.model),engineName:En(r.name),engineVersion:En(r.version),osName:En(i.name),osVersion:En(i.version),userAgent:En(o)}};function Q3e(t){var e=t?Dy(t):J$,n=e.device,r=e.browser,i=e.engine,o=e.os,a=e.ua,s=$3e(n.type),l=s.isBrowser,u=s.isMobile,c=s.isTablet,h=s.isSmartTV,f=s.isConsole,m=s.isWearable,y=s.isEmbedded;if(l)return q3e(l,r,i,o,a);if(h)return X3e(h,i,o,a);if(f)return Y3e(f,i,o,a);if(u||c)return i8(s,n,o,a);if(m)return Z3e(m,i,o,a);if(y)return J3e(y,n,i,o,a)}var Q$=function(e){var n=e.type;return n===Ho.Mobile},eK=function(e){var n=e.type;return n===Ho.Tablet},tK=function(e){var n=e.type;return n===Ho.Mobile||n===Ho.Tablet},nK=function(e){var n=e.type;return n===Ho.SmartTv},m1=function(e){var n=e.type;return n===Ho.Browser},rK=function(e){var n=e.type;return n===Ho.Wearable},iK=function(e){var n=e.type;return n===Ho.Console},oK=function(e){var n=e.type;return n===Ho.Embedded},aK=function(e){var n=e.vendor;return En(n)},sK=function(e){var n=e.model;return En(n)},lK=function(e){var n=e.type;return En(n,"browser")},uK=function(e){var n=e.name;return n===av.Android},cK=function(e){var n=e.name;return n===av.Windows},dK=function(e){var n=e.name;return n===av.MAC_OS},fK=function(e){var n=e.name;return n===av.WindowsPhone},hK=function(e){var n=e.name;return n===av.IOS},pK=function(e){var n=e.version;return En(n)},mK=function(e){var n=e.name;return En(n)},vK=function(e){var n=e.name;return n===Na.Chrome},gK=function(e){var n=e.name;return n===Na.Firefox},yK=function(e){var n=e.name;return n===Na.Chromium},v1=function(e){var n=e.name;return n===Na.Edge},xK=function(e){var n=e.name;return n===Na.Yandex},bK=function(e){var n=e.name;return n===Na.Safari||n===Na.MobileSafari},wK=function(e){var n=e.name;return n===Na.MobileSafari},_K=function(e){var n=e.name;return n===Na.Opera},SK=function(e){var n=e.name;return n===Na.InternetExplorer||n===Na.Ie},CK=function(e){var n=e.name;return n===Na.MIUI},EK=function(e){var n=e.name;return n===Na.SamsungBrowser},MK=function(e){var n=e.version;return En(n)},TK=function(e){var n=e.major;return En(n)},PK=function(e){var n=e.name;return En(n)},AK=function(e){var n=e.name;return En(n)},RK=function(e){var n=e.version;return En(n)},OK=function(){var e=uk(),n=e&&e.userAgent&&e.userAgent.toLowerCase();return typeof n=="string"?/electron/.test(n):!1},rm=function(e){return typeof e=="string"&&e.indexOf("Edg/")!==-1},NK=function(){var e=uk();return e&&(/iPad|iPhone|iPod/.test(e.platform)||e.platform==="MacIntel"&&e.maxTouchPoints>1)&&!window.MSStream},zl=function(){return ck("iPad")},kK=function(){return ck("iPhone")},IK=function(){return ck("iPod")},LK=function(e){return En(e)};function DK(t){var e=t||J$,n=e.device,r=e.browser,i=e.os,o=e.engine,a=e.ua;return{isSmartTV:nK(n),isConsole:iK(n),isWearable:rK(n),isEmbedded:oK(n),isMobileSafari:wK(r)||zl(),isChromium:yK(r),isMobile:tK(n)||zl(),isMobileOnly:Q$(n),isTablet:eK(n)||zl(),isBrowser:m1(n),isDesktop:m1(n),isAndroid:uK(i),isWinPhone:fK(i),isIOS:hK(i)||zl(),isChrome:vK(r),isFirefox:gK(r),isSafari:bK(r),isOpera:_K(r),isIE:SK(r),osVersion:pK(i),osName:mK(i),fullBrowserVersion:MK(r),browserVersion:TK(r),browserName:PK(r),mobileVendor:aK(n),mobileModel:sK(n),engineName:AK(o),engineVersion:RK(o),getUA:LK(a),isEdge:v1(r)||rm(a),isYandex:xK(r),deviceType:lK(n),isIOS13:NK(),isIPad13:zl(),isIPhone13:kK(),isIPod13:IK(),isElectron:OK(),isEdgeChromium:rm(a),isLegacyEdge:v1(r)&&!rm(a),isWindows:cK(i),isMacOs:dK(i),isMIUI:CK(r),isSamsungBrowser:EK(r)}}var FK=nK(ls),zK=iK(ls),BK=rK(ls),eOe=oK(ls),tOe=wK(Yo)||zl(),nOe=yK(Yo),mC=tK(ls)||zl(),VK=Q$(ls),UK=eK(ls)||zl(),HK=m1(ls),rOe=m1(ls),WK=uK(kd),jK=fK(kd),GK=hK(kd)||zl(),iOe=vK(Yo),oOe=gK(Yo),aOe=bK(Yo),sOe=_K(Yo),$K=SK(Yo),lOe=pK(kd),uOe=mK(kd),cOe=MK(Yo),dOe=TK(Yo),fOe=PK(Yo),hOe=aK(ls),pOe=sK(ls),mOe=AK(lk),vOe=RK(lk),gOe=LK(Ly),yOe=v1(Yo)||rm(Ly),xOe=xK(Yo),bOe=lK(ls),wOe=NK(),_Oe=zl(),SOe=kK(),COe=IK(),EOe=OK(),MOe=rm(Ly),TOe=v1(Yo)&&!rm(Ly),POe=cK(kd),AOe=dK(kd),ROe=CK(Yo),OOe=EK(Yo),NOe=function(e){if(!e||typeof e!="string"){console.error("No valid user agent string was provided");return}var n=Dy(e),r=n.device,i=n.browser,o=n.os,a=n.engine,s=n.ua;return DK({device:r,browser:i,os:o,engine:a,ua:s})},kOe=function(e){var n=e.renderWithFragment,r=e.children,i=Is(e,["renderWithFragment","children"]);return WK?n?Qr.createElement($o.Fragment,null,r):Qr.createElement("div",i,r):null},IOe=function(e){var n=e.renderWithFragment,r=e.children,i=Is(e,["renderWithFragment","children"]);return HK?n?Qr.createElement($o.Fragment,null,r):Qr.createElement("div",i,r):null},LOe=function(e){var n=e.renderWithFragment,r=e.children,i=Is(e,["renderWithFragment","children"]);return $K?n?Qr.createElement($o.Fragment,null,r):Qr.createElement("div",i,r):null},DOe=function(e){var n=e.renderWithFragment,r=e.children,i=Is(e,["renderWithFragment","children"]);return GK?n?Qr.createElement($o.Fragment,null,r):Qr.createElement("div",i,r):null},FOe=function(e){var n=e.renderWithFragment,r=e.children,i=Is(e,["renderWithFragment","children"]);return mC?n?Qr.createElement($o.Fragment,null,r):Qr.createElement("div",i,r):null},zOe=function(e){var n=e.renderWithFragment,r=e.children,i=Is(e,["renderWithFragment","children"]);return UK?n?Qr.createElement($o.Fragment,null,r):Qr.createElement("div",i,r):null},BOe=function(e){var n=e.renderWithFragment,r=e.children,i=Is(e,["renderWithFragment","children"]);return jK?n?Qr.createElement($o.Fragment,null,r):Qr.createElement("div",i,r):null},VOe=function(e){var n=e.renderWithFragment,r=e.children;e.viewClassName,e.style;var i=Is(e,["renderWithFragment","children","viewClassName","style"]);return VK?n?Qr.createElement($o.Fragment,null,r):Qr.createElement("div",i,r):null},UOe=function(e){var n=e.renderWithFragment,r=e.children,i=Is(e,["renderWithFragment","children"]);return FK?n?Qr.createElement($o.Fragment,null,r):Qr.createElement("div",i,r):null},HOe=function(e){var n=e.renderWithFragment,r=e.children,i=Is(e,["renderWithFragment","children"]);return zK?n?Qr.createElement($o.Fragment,null,r):Qr.createElement("div",i,r):null},WOe=function(e){var n=e.renderWithFragment,r=e.children,i=Is(e,["renderWithFragment","children"]);return BK?n?Qr.createElement($o.Fragment,null,r):Qr.createElement("div",i,r):null},jOe=function(e){var n=e.renderWithFragment,r=e.children;e.viewClassName,e.style;var i=e.condition,o=Is(e,["renderWithFragment","children","viewClassName","style","condition"]);return i?n?Qr.createElement($o.Fragment,null,r):Qr.createElement("div",o,r):null};function GOe(t){return function(e){F3e(n,e);function n(r){var i;return I3e(this,n),i=B3e(this,TR(n).call(this,r)),i.isEventListenerAdded=!1,i.handleOrientationChange=i.handleOrientationChange.bind(Hw(i)),i.onOrientationChange=i.onOrientationChange.bind(Hw(i)),i.onPageLoad=i.onPageLoad.bind(Hw(i)),i.state={isLandscape:!1,isPortrait:!1},i}return L3e(n,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var i=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:i===0,isLandscape:i===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window=="undefined"?"undefined":qg(window))!==void 0&&mC&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return Qr.createElement(t,MR({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),n}(Qr.Component)}function $Oe(){var t=$o.useState(function(){var o=window.innerWidth>window.innerHeight?90:0;return{isPortrait:o===0,isLandscape:o===90,orientation:o===0?"portrait":"landscape"}}),e=V3e(t,2),n=e[0],r=e[1],i=$o.useCallback(function(){var o=window.innerWidth>window.innerHeight?90:0,a={isPortrait:o===0,isLandscape:o===90,orientation:o===0?"portrait":"landscape"};n.orientation!==a.orientation&&r(a)},[n.orientation]);return $o.useEffect(function(){return(typeof window=="undefined"?"undefined":qg(window))!==void 0&&mC&&(i(),window.addEventListener("load",i,!1),window.addEventListener("resize",i,!1)),function(){window.removeEventListener("resize",i,!1),window.removeEventListener("load",i,!1)}},[i]),n}function KK(t){var e=t||window.navigator.userAgent;return Dy(e)}function KOe(t){var e=t||window.navigator.userAgent,n=KK(e),r=DK(n);return[r,n]}Gt.AndroidView=kOe;Gt.BrowserTypes=Na;Gt.BrowserView=IOe;Gt.ConsoleView=HOe;Gt.CustomView=jOe;Gt.IEView=LOe;Gt.IOSView=DOe;Gt.MobileOnlyView=VOe;Gt.MobileView=FOe;Gt.OsTypes=av;Gt.SmartTVView=UOe;Gt.TabletView=zOe;Gt.WearableView=WOe;Gt.WinPhoneView=BOe;Gt.browserName=fOe;Gt.browserVersion=dOe;Gt.deviceDetect=Q3e;Gt.deviceType=bOe;Gt.engineName=mOe;Gt.engineVersion=vOe;Gt.fullBrowserVersion=cOe;Gt.getSelectorsByUserAgent=NOe;Gt.getUA=gOe;Gt.isAndroid=WK;Gt.isBrowser=HK;Gt.isChrome=iOe;Gt.isChromium=nOe;Gt.isConsole=zK;Gt.isDesktop=rOe;Gt.isEdge=yOe;Gt.isEdgeChromium=MOe;Gt.isElectron=EOe;Gt.isEmbedded=eOe;Gt.isFirefox=oOe;Gt.isIE=$K;Gt.isIOS=GK;Gt.isIOS13=wOe;Gt.isIPad13=_Oe;Gt.isIPhone13=SOe;Gt.isIPod13=COe;Gt.isLegacyEdge=TOe;Gt.isMIUI=ROe;Gt.isMacOs=AOe;var o8=Gt.isMobile=mC;Gt.isMobileOnly=VK;Gt.isMobileSafari=tOe;Gt.isOpera=sOe;Gt.isSafari=aOe;Gt.isSamsungBrowser=OOe;Gt.isSmartTV=FK;Gt.isTablet=UK;Gt.isWearable=BK;Gt.isWinPhone=jK;Gt.isWindows=POe;Gt.isYandex=xOe;Gt.mobileModel=pOe;Gt.mobileVendor=hOe;Gt.osName=uOe;Gt.osVersion=lOe;Gt.parseUserAgent=Dy;Gt.setUserAgent=K3e;Gt.useDeviceData=KK;Gt.useDeviceSelectors=KOe;Gt.useMobileOrientation=$Oe;Gt.withOrientationChange=GOe;const AR=100,nT=AR/2,qOe=t=>{const[e,n]=v.exports.useState(null);return v.exports.useEffect(()=>{if(!e)return;let r=!1;const i=()=>{const{left:h,right:f,top:m,bottom:y}=e.getBoundingClientRect();return{x:(h+f)/2,y:(m+y)/2}},o=h=>{r=!0;const{x:f,y:m}=i();t({deltaX:h.clientX-f,deltaY:h.clientY-m})},a=h=>{h.stopPropagation(),h.preventDefault(),r=!0;const{x:f,y:m}=i();t({deltaX:h.targetTouches[0].clientX-f,deltaY:h.targetTouches[0].clientY-m})},s=h=>{if(!r)return;const{x:f,y:m}=i();t({deltaX:h.clientX-f,deltaY:h.clientY-m})},l=h=>{if(h.stopPropagation(),!r)return;const{x:f,y:m}=i();t({deltaX:h.targetTouches[0].clientX-f,deltaY:h.targetTouches[0].clientY-m})},u=()=>{r=!1,t({deltaX:0,deltaY:0})},c=h=>{h.stopPropagation(),r=!1,t({deltaX:0,deltaY:0})};return o8?(e.addEventListener("touchstart",a),e.addEventListener("touchmove",l),e.addEventListener("touchend",c)):(e.addEventListener("mousedown",o),document.addEventListener("mousemove",s),document.addEventListener("mouseup",u)),()=>{o8?(e.removeEventListener("touchstart",a),e.removeEventListener("touchmove",l),e.removeEventListener("touchend",c)):(e.removeEventListener("mousedown",o),document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",u))}},[e]),n},a8=Ut("div",{style:{width:"100%",height:"100%",borderRadius:9999,backgroundColor:"currentColor",border:"1px solid white",opacity:.25}}),XOe=l=>{var u=l,{onMove:t,onMoveStart:e,onMoveEnd:n,position:r="bottom-left",style:i,outerElement:o,innerElement:a}=u,s=Hh(u,["onMove","onMoveStart","onMoveEnd","position","style","outerElement","innerElement"]);const[c,h]=v.exports.useState([0,0,0]),f=d$(c),m=c[0]!==0||c[1]!==0,y=KAe(m);v.exports.useLayoutEffect(()=>{if(!y)return;const S={x:0,y:0,angle:0};if(m?e==null||e(S):n==null||n(S),!m)return;let C;const M=()=>C=requestAnimationFrame(()=>{M();const[T,R,I]=f.current;t==null||t({x:T,y:R,angle:I})});return M(),()=>{cancelAnimationFrame(C)}},[m,y]);const x=qOe(({deltaX:S,deltaY:C})=>{const M=Math.atan2(C,S)*ro,T=Math.min(g2e(0,0,S,C),nT),{x:R,y:I}=Pj(0,0,M,T);h([R,I,M])}),[b,w]=r.split("-");return oo("div",Jt(nt({},s),{ref:x,style:nt({width:AR,height:AR,color:"#999999",display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",left:w==="left"?"0px":void 0,right:w==="right"?"0px":void 0,top:b==="top"?"0px":void 0,bottom:b==="bottom"?"0px":void 0,margin:"5%"},i),children:[Ut("div",{style:{position:"absolute",width:"100%",height:"100%"},children:o!=null?o:a8}),Ut("div",{style:{width:nT,height:nT,transform:`translate(${c[0]}px, ${c[1]}px)`},children:a!=null?a:a8})]}))};var YOe=XOe;const s8=a=>{var s=a,{children:t,pid:e,autoMove:n=!1,step:r=4,update:i}=s,o=Hh(s,["children","pid","autoMove","step","update"]);const l=v.exports.useRef();return X$(()=>{l.current&&(n&&r&&l.current.animation==="run"&&(l.current.moveForward(-1*r*Math.cos(Math.PI/180*(l.current.innerRotationY||0))),l.current.moveRight(r*Math.sin(Math.PI/180*(l.current.innerRotationY||0))),console.log(l.current)),i==null||i({x:l.current.x,y:l.current.y,z:l.current.z,rotationX:l.current.rotationX,rotationY:l.current.rotationY,rotationZ:l.current.rotationZ,innerRotationX:l.current.innerRotationX,innerRotationY:l.current.innerRotationY,innerRotationZ:l.current.innerRotationZ,animation:l.current.animation}))}),Ut(q$,Jt(nt({ref:l},o),{children:t}),e)};const ZOe=()=>{const[t,e]=v.exports.useState("login"),[n,r]=v.exports.useState(""),[i,o]=v.exports.useState([]),a=v.exports.useRef(),s=v.exports.useRef(),[l,u]=v.exports.useState([]),[c,h]=v.exports.useState(null),f=v.exports.useRef([]),m=v.exports.useRef(!1),[y,x]=v.exports.useState(null),[b,w]=v.exports.useState(!1),S=R3e(["hql.fbx","Standing.fbx","Running.fbx","club.glb","sky2.jpeg"],15),C=()=>{var G,H,Y;(G=a.current)==null||G.onMessage("rooms",Z=>{o(Z)}),(H=a.current)==null||H.onMessage("+",([Z,oe])=>{const re=i.findIndex(se=>se.roomId===Z);o(re!==-1?i.map((se,ce)=>ce===re?se=Z:se):[...i,oe])}),(Y=a.current)==null||Y.onMessage("-",Z=>{o(i.filter(oe=>oe.roomId!==Z))})},M=async()=>{n&&(a.current=await vM.joinOrCreate("lobby"),C(),e("home"))},T=()=>{s.current&&(s.current.state.players.onAdd=(G,H)=>{if(s.current&&s.current.sessionId===H){h(G);return}u(Y=>[...Y,G]),CP.success(`${G.uname}\u52A0\u5165\u4E86\u6E38\u620F`),G.onChange=Y=>{let Z={};Y.forEach(oe=>{Z[oe.field]=oe.value}),u(oe=>oe.map(re=>re.id===G.id?nt(nt({},re),Z):re))}},s.current.state.players.onRemove=(G,H)=>{CP.info(`\u73A9\u5BB6${G.uname}\u79BB\u5F00\u4E86\u6E38\u620F`),u(l.filter(Y=>Y.id!==H))})},R=async G=>{s.current=await vM.joinById(G,{uname:n}),T(),e("room")},I=async()=>{s.current=await vM.create("gameroom",{uname:n}),T(),e("room")},A=G=>{s.current&&s.current.send("update",G)},N=G=>{if(!c)return;let H=c||{};G.includes("w")&&!G.includes("s")&&!G.includes("a")&&!G.includes("d")&&(H=Jt(nt({},H),{innerRotationY:0,animation:"run"})),G.includes("s")&&!G.includes("w")&&!G.includes("a")&&!G.includes("d")&&(H=Jt(nt({},H),{innerRotationY:180,animation:"run"})),G.includes("a")&&!G.includes("w")&&!G.includes("s")&&!G.includes("d")&&(H=Jt(nt({},H),{innerRotationY:90,animation:"run"})),G.includes("d")&&!G.includes("w")&&!G.includes("s")&&!G.includes("a")&&(H=Jt(nt({},H),{innerRotationY:-90,animation:"run"})),G.length>=2&&G.includes("w")&&G.includes("a")&&(H=Jt(nt({},H),{innerRotationY:45,animation:"run"})),G.length>=2&&G.includes("w")&&G.includes("d")&&(H=Jt(nt({},H),{innerRotationY:-45,animation:"run"})),G.length>=2&&G.includes("s")&&G.includes("a")&&(H=Jt(nt({},H),{innerRotationY:135,animation:"run"})),G.length>=2&&G.includes("s")&&G.includes("d")&&(H=Jt(nt({},H),{innerRotationY:-135,animation:"run"})),G.includes("w")||G.includes("s")||G.includes("a")||G.includes("d")||(H=Jt(nt({},H),{animation:"idle"})),h(H)},L=G=>{f.current.includes(G)||(f.current.push(G),N(f.current)),G==="Insert"&&w(!b),(G==="ArrowUp"||G==="ArrowDown")&&y!==null&&(y.index===0?x(Jt(nt({},y),{index:1})):x(Jt(nt({},y),{index:0})))},D=G=>{f.current=f.current.filter(H=>H!==G),G!=="Space"&&N(f.current)},W=()=>{m.current=!0},V=()=>{var G;m.current=!1,(G=s.current)==null||G.send("update",{id:c.id,roomId:c.roomId,motion:"idle"})},B=G=>{var H;m.current&&m.current&&(G.x>8||G.x<-8||G.y>8||G.y<-8)&&((H=s.current)==null||H.send("update",{id:c.id,roomId:c.roomId,x:c.ref.current.x,y:c.ref.current.y,z:c.ref.current.z,ry:G.angle*-1-90,motion:"run"}))};X$(()=>{let G=null;l.forEach(H=>{const Y=(c.x-H.x)*(c.x-H.x)+(c.z-H.z)*(c.z-H.z);Y<1e4&&(G===null?G={id:H.id,s:Y,index:0}:G.s>Y&&(G={id:H.id,s:Y,index:0}))}),G===null?x(null):y!==null?G.id!==y.id&&x(nt({},G)):x(nt({},G))});const K=()=>y!==null?Ut(eT,{children:oo("div",{className:"menu",children:[Ut("b",{className:y.index===0?"active":"",children:"\u6253\u62DB\u547C"}),Ut("b",{className:y.index===1?"active":"",children:"\u9080\u8BF7\u8DF3\u821E"})]})},`${y.id}-${y.index}`):null,j=[{title:"\u623F\u95F4ID",dataIndex:"roomId"},{title:"\u4EBA\u6570\u4E0A\u9650",dataIndex:"maxClients",align:"center"},{title:"\u5F53\u524D\u4EBA\u6570",dataIndex:"clients",align:"center"},{title:"\u64CD\u4F5C",dataIndex:"roomId",align:"right",render:G=>Ut(Ku,{type:"primary",onClick:()=>R(G),children:"\u52A0\u5165"})}];return S<100?oo("div",{style:{width:"100vw",height:"100vh",left:0,top:0,backgroundColor:"black",color:"white",display:"flex",alignItems:"center",justifyContent:"center"},children:["loading ",Math.round(S),"%"]}):t==="login"?Ut("div",{className:"login",children:oo("div",{className:"login-box",children:[Ut("h2",{children:"\u8BF7\u7559\u4E0B\u4F60\u7684\u5927\u540D"}),Ut(W9,{style:{margin:"10px 0 20px 0"},value:n,onChange:G=>r(G.target.value)}),Ut(Ku,{type:"primary",onClick:M,children:"\u8FDB\u5165\u5927\u5385"})]})}):t==="home"?Ut(Cge,{title:"\u6E38\u620F\u5927\u5385",extra:Ut(tye,{children:Ut(Ku,{type:"primary",onClick:()=>I(),children:"\u65B0\u5EFA\u623F\u95F4"})}),children:Ut(Qxe,{columns:j,dataSource:i,rowKey:"roomId"})}):oo(x0,{children:[oo(JAe,{ambientOcclusion:!0,children:[c&&Ut(w3e,{active:!0,mouseControl:!0,lockTargetRotation:c.animation==="run",x:c.x,y:c.y,z:c.z,children:oo(s8,{pid:c.id,src:"hql.fbx",physics:"character",animations:{idle:"Standing.fbx",run:"Running.fbx"},animation:c.animation,x:c.x,y:c.y,z:c.z,autoMove:!0,step:6,rotationX:c.rotationX,rotationY:c.rotationY,rotationZ:c.rotationZ,innerRotationX:c.innerRotationX,innerRotationY:c.innerRotationY,innerRotationZ:c.innerRotationZ,update:A,children:[Ut(tT,{name:"Wolf3D_Head",children:Ut(eT,{children:Ut("div",{className:"name",children:c.uname})})}),Ut(tT,{name:"Wolf3D_Outfit_Top",children:K()})]})}),l.map(G=>Ut(s8,{pid:G.id,src:"hql.fbx",physics:"character",animations:{idle:"Standing.fbx",run:"Running.fbx"},animation:G.animation,x:G.x,y:G.y,z:G.z,autoMove:!0,step:6,rotationX:G.rotationX,rotationY:G.rotationY,rotationZ:G.rotationZ,innerRotationX:G.innerRotationX,innerRotationY:G.innerRotationY,innerRotationZ:G.innerRotationZ,children:Ut(tT,{name:"Wolf3D_Head",children:Ut(eT,{children:Ut("div",{className:"name",children:G.uname})})})},G.id)),Ut(q$,{src:"club.glb",physics:"map",scale:20}),b?oo(x0,{children:[Ut(h3e,{}),Ut(d3e,{}),Ut(u3e,{}),Ut(m3e,{})]}):null]}),Ut(y3e,{onKeyDown:L,onKeyUp:D}),Ut(YOe,{onMove:B,onMoveStart:W,onMoveEnd:V})]})};rT.createRoot(document.getElementById("root")).render(Ut(ZOe,{}));export{yr as $,Ybe as A,lh as B,PS as C,Sd as D,Od as E,Pn as F,Rd as G,Oi as H,Yu as I,Bu as J,bo as K,ml as L,Xt as M,Mr as N,gr as O,uy as P,uo as Q,fMe as R,NS as S,rN as T,Gf as U,pe as V,sr as W,CS as X,Nf as Y,$f as Z,ss as _,hl as a,tNe as a$,so as a0,aNe as a1,Mm as a2,sNe as a3,Xn as a4,Lf as a5,J_ as a6,Pm as a7,Lt as a8,IO as a9,aN as aA,h7 as aB,m7 as aC,W7 as aD,e7 as aE,PA as aF,$_ as aG,fy as aH,R0 as aI,VA as aJ,fl as aK,T7 as aL,ah as aM,Md as aN,WF as aO,Nbe as aP,jF as aQ,sy as aR,yA as aS,V_ as aT,B_ as aU,qEe as aV,cy as aW,M0 as aX,qO as aY,fo as aZ,eNe as a_,LO as aa,It as ab,KO as ac,Cs as ad,al as ae,qW as af,qa as ag,nr as ah,qb as ai,Vl as aj,Ca as ak,Os as al,$Ee as am,F7 as an,_0 as ao,Yi as ap,P7 as aq,A7 as ar,w0 as as,Xi as at,p7 as au,Cr as av,$m as aw,U7 as ax,s2 as ay,B7 as az,$n as b,Kf as b0,rEe as b1,iEe as b2,b0 as b3,ka as b4,Gm as b5,ll as b6,Qt as b7,lNe as b8,ua as b9,Jr as ba,en as bb,Qm as bc,eTe as bd,Lj as be,q7 as bf,Ki as bg,Ja as bh,ks as bi,vj as bj,KMe as bk,ez as bl,ch as bm,QOe as bn,ci as c,OS as d,wm as e,lc as f,I7 as g,Ri as h,et as i,Xu as j,hy as k,vd as l,j_ as m,nNe as n,tu as o,cj as p,K_ as q,fj as r,wS as s,_t as t,Ai as u,ni as v,Wn as w,cN as x,zr as y,GO as z};
